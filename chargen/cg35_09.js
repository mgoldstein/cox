var quasi_paladin_levels=0;
var paladin_mount_speed=0;
var animal_companion_grew_big_cannot_hide=0;
var animal_companion_HD=0;
var animal_companion_strength=0;
var animal_companion_constitution=0;
var animal_companion_dexterity=0;
var animal_companion_charisma=0;
var animal_companion_intelligence=0;
var animal_companion_wisdom=0;
var animal_companion_natural_armor=0;
var bonus_tricks=0;
var animal_companion_is_tiny=false;
var animal_companion_is_small=false;
var animal_companion_is_large=false;
var animal_companion_is_huge=false;
var animal_companion_is_gargantuan=false;
var animal_companion_is_colossal=false;
var animal_companion_is_medium=false;

var paladin_spellcaster_name="Paladin";
var sorcerer_spellcaster_name="Sorcerer";
var prestige_monitor=true;
var height_has_been_limited=0;
var weight_has_been_limited=0;
var lycanthrope_hit_points=0;
var lycanthrope_hit_dice=0;
var inherited_template_count=0;
var undead_template_count=0;
var lycanthrope_template_count=0;
var halfdragon_template=false;
var werebear_template=false;
var wereboar_template=false;
var wererat_template=false;
var weretiger_template=false;
var werewolf_template=false;
var vampire_template=false;
var deathless_template=false;
var saint_template=false;
var ghost_template=false;
var lich_template=false;
var mummy_template=false;
var spectral_template=false;
var umbral_template=false;
var wight_template=false;
var wraith_template=false;
var deathknight_template=false;
var halfair_template=false;
var halfearth_template=false;
var halffire_template=false;
var halfwater_template=false;
var halfcelestial_template=false;
var halffiend_template=false;
var celestial_template=false;
var fiendish_template=false;
var axiomatic_template=false;
var anarchic_template=false;
var rf_aberration=0;
var rf_animal=0;
var rf_construct=0;
var rf_dragon=0;
var rf_elemental=0;
var rf_fey=0;
var rf_giant=0;
var rf_aquatic=0;
var rf_dwarf=0;
var rf_elf=0;
var rf_goblinoid=0;
var rf_gnoll=0;
var rf_gnome=0;
var rf_halfling=0;
var rf_human=0;
var rf_orc=0;
var rf_reptilian=0;
var rf_magicalbeast=0;
var rf_monstroushumanoid=0;
var rf_ooze=0;
var rf_air=0;
var rf_chaotic=0;
var rf_earth=0;
var rf_evil=0;
var rf_fire=0;
var rf_good=0;
var rf_lawful=0;
var rf_native=0;
var rf_water=0;
var rf_plant=0;
var rf_undead=0;
var rf_vermin=0;

var ranger_foe_length=0;
var total_epic_feats=0;
var epic_feat_allowance=0;
var has_a_heritage_feat=false;
var dexterity_A_string="";
var dexterity_0_string="";
var wisdom_0_string="";
var available_bonus_languages=0;
var knows_all_standard_bonus_languages=false;

var damage_bonus="";
var twoh_damage_bonus="";
var offh_damage_bonus="";
var check_penalty=0;
var check_penalty_string="";
var check_penalty=0;
var check_penalty_string="";
var shortspear_handy=false;
var longspear_handy=false;
var quarterstaff_handy=false;
var dagger_handy=false;
var club_handy=false;
var spear_handy=false;
var heavycrossbow_handy=false;
var lightcrossbow_handy=false;
var javelin_handy=false;
var sling_handy=false;
var handaxe_handy=false;
var bolas_handy=false;
var lasso_handy=false;
var greataxe_handy=false;
var sap_handy=false;
var shortsword_handy=false;
var longsword_handy=false;
var greatsword_handy=false;
var throwingaxe_handy=false;
var rapier_handy=false;
var scimitar_handy=false;
var trident_handy=false;
var picks_handy=false;
var longbow_handy=false;
var compositelongbow_handy=false;
var shortbow_handy=false;
var battleaxe_handy=false;
var compositeshortbow_handy=false;
var kama_handy=false;
var nunchaku_handy=false;
var sai_handy=false;
var siangham_handy=false;
var dwarvenwaraxe_handy=false;
var whip_handy=false;
var orcdoubleaxe_handy=false;
var gnomehookedhammer_handy=false;
var dwarvenurgrosh_handy=false;
var handcrossbow_handy=false;
var net_handy=false;
var shuriken_handy=false;
var blowgun_handy=false;
var kusari_handy=false;

// languages
var aquan_nativespeaker=false;
var auran_nativespeaker=false;
var ignan_nativespeaker=false;
var terran_nativespeaker=false;
var undercommon_nativespeaker=false;
var draconic_nativespeaker=false;
var dwarven_nativespeaker=false;
var elven_nativespeaker=false;
var giant_nativespeaker=false;
var gith_nativespeaker=false;
var gnoll_nativespeaker=false;
var gnome_nativespeaker=false;
var goblin_nativespeaker=false;
var goliath_nativespeaker=false;
var halfling_nativespeaker=false;
var maenad_nativespeaker=false;
var infernal_nativespeaker=false;
var abyssal_nativespeaker=false;
var mongrelfolk_nativespeaker=false;
var orc_nativespeaker=false;
var sylvan_nativespeaker=false;
var thrikreen_nativespeaker=false;
var aarakocra_nativespeaker=false;
var buomman_nativespeaker=false;
var neraphim_nativespeaker=false;
var shadowswyft_nativespeaker=false;
var pterran_nativespeaker=false;
var raptoran_nativespeaker=false;
var catfolk_nativespeaker=false;
var xeph_nativespeaker=false;
var yuanti_nativespeaker=false;
var darkelfsilent_nativespeaker=false;
var illithid_nativespeaker=false;
var illumian_nativespeaker=false;
var tasloi_nativespeaker=false;
var sahuagin_nativespeaker=false;
var lupin_nativespeaker=false;
var every_language_friendly=false;
var abyssal_friendly=false;
var aquan_friendly=false;
var auran_friendly=false;
var celestial_friendly=false;
var celestial_nativespeaker=false;
var draconic_friendly=false;
var dwarven_friendly=false;
var elven_friendly=false;
var darkelfsilent_friendly=false;
var giant_friendly=false;
var gith_friendly=false;
var gnoll_friendly=false;
var gnome_friendly=false;
var goblin_friendly=false;
var goliath_friendly=false;
var halfling_friendly=false;
var ignan_friendly=false;
var infernal_friendly=false;
var maenad_friendly=false;
var mongrelfolk_friendly=false;
var orc_friendly=false;
var sylvan_friendly=false;
var terran_friendly=false;
var thrikreen_friendly=false;
var aarakocra_friendly=false;
var buomman_friendly=false;
var neraphim_friendly=false;
var shadowswyft_friendly=false;
var pterran_friendly=false;
var raptoran_friendly=false;
var catfolk_friendly=false;
var slaad_friendly=false;
var undercommon_friendly=false;
var xeph_friendly=false;
var yuanti_friendly=false;
var illithid_friendly=false;
var illumian_friendly=false;
var tasloi_friendly=false;
var sahuagin_friendly=false;
var lupin_friendly=false;
var hengeyokai_nativespeaker=false;
var hengeyokai_friendly=false;
var spiritfolk_nativespeaker=false;
var spiritfolk_friendly=false;
var ratling_nativespeaker=false;
var ratling_friendly=false;
var vanara_nativespeaker=false;
var vanara_friendly=false;
var grippli_nativespeaker=false;
var grippli_friendly=false;
var beholder_nativespeaker=false;
var beholder_friendly=false;
var kuotoa_nativespeaker=false;
var kuotoa_friendly=false;

 var my_character_is_done=false;
 var twenty_foot_mover_dwarf=false;
 var twenty_foot_mover_nondwarf=false;
 var sorcerous_monster_levels=0;
 var prestige_armor_entitlement=0;
 var epic_strength_increase=0;
 var epic_dexterity_increase=0;
 var epic_constitution_increase=0;
 var epic_intelligence_increase=0;
 var epic_wisdom_increase=0;
 var epic_charisma_increase=0;
 var barbarian_gestalt=false;
 var bard_gestalt=false;
 var cleric_gestalt=false;
 var druid_gestalt=false;
 var fighter_gestalt=false;
 var monk_gestalt=false;
 var paladin_gestalt=false;
 var ranger_gestalt=false;
 var rogue_gestalt=false;
 var sorcerer_gestalt=false;
 var wizard_gestalt=false;
 var psion_gestalt=false;
 var final_speed=0;
 var highest_class_level=0;
 var second_highest_class_level=0;
 var top_ability_score;
 var npcother_class_name="NPC-Other Class";
 var prestige_class_name="Prestige Class";
 var prestige_hit_point_dice=0;
 var prestige_attack_bonus_progress=0;
 var prestige_fortitude_save_bonus=0;
 var prestige_reflex_save_bonus=0;
 var prestige_will_save_bonus=0;
 var prestige_skill_points_per_level=0;
 var prestige_spellcasting_as=0;
 var prestige_any_spell_levels=0;
 var prestige_bard_spell_levels=0
 var prestige_cleric_spell_levels=0;
 var prestige_druid_spell_levels=0;
 var prestige_paladin_spell_levels=0;
 var prestige_ranger_spell_levels=0;
 var prestige_sorcerer_spell_levels=0;
 var prestige_wizard_spell_levels=0;
 var heft=0;
 var ideal_weight=0;
 var wt=0;
 var wizard_specialty_name="Wizard";
 var psion_specialty_name="Psion";
 var monkish_improved_grapple=false;
 var monkish_stunning_fist=false;
 var monkish_combat_reflexes=false;
 var monkish_deflect_arrows=false;
 var monkish_improved_disarm=false;
 var monkish_improved_trip=false;
 var npcother_hit_point_dice=0;
 var npcother_attack_bonus_progress=0;
 var npcother_fortitude_save_bonus=0;
 var npcother_reflex_save_bonus=0;
 var npcother_will_save_bonus=0;
 var npcother_skill_points_per_level=0;

 var skillbought_bonus_languages=0;
 var total_bonus_languages=0;
 var racial_bonus_language_entitlement=0;
 var skillbought_bonus_language_entitlement=0;
 var total_bonus_language_entitlement=0;
 var unarmored=false;

 var no_specialist=true;
 var abjuration_specialist=false;
 var conjuration_specialist=false;
 var divination_specialist=false;
 var enchantment_specialist=false;
 var evocation_specialist=false;
 var illusion_specialist=false;
 var necromancy_specialist=false;
 var transmutation_specialist=false;
 var egoist=false;
 var nomad=false;
 var kineticist=false;
 var shaper=false;
 var seer=false;
 var telepath=false;
 var gave_up_abjuration=false;
 var gave_up_conjuration=false;
 var gave_up_enchantment=false;
 var gave_up_evocation=false;
 var gave_up_illusion=false;
 var gave_up_necromancy=false;
 var gave_up_transmutation=false;

 var rangercombattrack=0;
 var can_read=false;
 var badger_hengeyokai=false;
 var carp_hengeyokai=false;
 var cat_hengeyokai=false;
 var crab_hengeyokai=false;
 var crane_hengeyokai=false;
 var dog_hengeyokai=false;
 var fox_hengeyokai=false;
 var hare_hengeyokai=false;
 var monkey_hengeyokai=false;
 var raccoondog_hengeyokai=false;
 var rat_hengeyokai=false;
 var sparrow_hengeyokai=false;
 var weasel_hengeyokai=false;
 var no_familiar=true;
 var bat_familiar=false;
 var cat_familiar=false;
 var hawk_familiar=false;
 var lizard_familiar=false;
 var owl_familiar=false;
 var rat_familiar=false;
 var raven_familiar=false;
 var snake_familiar=false;
 var toad_familiar=false;
 var weasel_familiar=false;
 var improved_familiar=false;
 var already_knows_simple_weapons=false;
 var already_knows_martial_weapons=false;
 var already_knows_light_armor=false;
 var already_knows_medium_armor=false;
 var already_knows_heavy_armor=false;
 var already_knows_shields=false;
 var already_knows_tower_shield=false;
 var FeatsAreLocked=false;
 var total_fighter_feats=0;
 var total_scout_feats=0;
 var total_psiwarrior_feats=0;
 var high_level_rogue_count=0;
 var skill_points_spent=0;
 var total_wizard_feats=0;
 var total_psion_feats=0;
 var WizardSpells0="";
 var WizardSpells1="";
 var WizardSpells2="";
 var WizardSpells3="";
 var WizardSpells4="";
 var WizardSpells5="";
 var WizardSpells6="";
 var WizardSpells7="";
 var WizardSpells8="";
 var WizardSpells9="";
 var DruidSpells0="";
 var DruidSpells1="";
 var DruidSpells2="";
 var DruidSpells3="";
 var DruidSpells4="";
 var DruidSpells5="";
 var DruidSpells6="";
 var DruidSpells7="";
 var DruidSpells8="";
 var DruidSpells9="";
 var ClericSpells0="";
 var ClericSpells1="";
 var ClericSpells2="";
 var ClericSpells3="";
 var ClericSpells4="";
 var ClericSpells5="";
 var ClericSpells6="";
 var ClericSpells7="";
 var ClericSpells8="";
 var ClericSpells9="";
 var AdeptSpells0="";
 var AdeptSpells1="";
 var AdeptSpells2="";
 var AdeptSpells3="";
 var AdeptSpells4="";
 var AdeptSpells5="";
 var ArtificerSpells1="";
 var ArtificerSpells2="";
 var ArtificerSpells3="";
 var ArtificerSpells4="";
 var ArtificerSpells5="";
 var ArtificerSpells6="";
 var SorcererSpells0="";
 var SorcererSpells1="";
 var SorcererSpells2="";
 var SorcererSpells3="";
 var SorcererSpells4="";
 var SorcererSpells5="";
 var SorcererSpells6="";
 var SorcererSpells7="";
 var SorcererSpells8="";
 var SorcererSpells9="";
 var ShamanSpells0="";
 var ShamanSpells1="";
 var ShamanSpells2="";
 var ShamanSpells3="";
 var ShamanSpells4="";
 var ShamanSpells5="";
 var ShamanSpells6="";
 var ShamanSpells7="";
 var ShamanSpells8="";
 var ShamanSpells9="";
 var FSSpells0="";
 var FSSpells1="";
 var FSSpells2="";
 var FSSpells3="";
 var FSSpells4="";
 var FSSpells5="";
 var FSSpells6="";
 var FSSpells7="";
 var FSSpells8="";
 var FSSpells9="";
 var PaladinSpells0="";
 var PaladinSpells1="";
 var PaladinSpells2="";
 var PaladinSpells3="";
 var PaladinSpells4="";
 var PaladinSpells5="";
 var PaladinSpells6="";
 var PaladinSpells7="";
 var PaladinSpells8="";
 var PaladinSpells9="";
 var SpellthiefSpells0="";
 var SpellthiefSpells1="";
 var SpellthiefSpells2="";
 var SpellthiefSpells3="";
 var SpellthiefSpells4="";
 var SpellthiefSpells5="";
 var SpellthiefSpells6="";
 var SpellthiefSpells7="";
 var SpellthiefSpells8="";
 var SpellthiefSpells9="";
 var ShairSpells0="";
 var ShairSpells1="";
 var ShairSpells2="";
 var ShairSpells3="";
 var ShairSpells4="";
 var ShairSpells5="";
 var ShairSpells6="";
 var ShairSpells7="";
 var ShairSpells8="";
 var ShairSpells9="";
 var RangerSpells0="";
 var RangerSpells1="";
 var RangerSpells2="";
 var RangerSpells3="";
 var RangerSpells4="";
 var RangerSpells5="";
 var RangerSpells6="";
 var RangerSpells7="";
 var RangerSpells8="";
 var RangerSpells9="";
 var BardSpells0="";
 var BardSpells1="";
 var BardSpells2="";
 var BardSpells3="";
 var BardSpells4="";
 var BardSpells5="";
 var BardSpells6="";
 var BardSpells7="";
 var BardSpells8="";
 var BardSpells9="";
var base_attack_bonus=0;
var base_fortitude_bonus=0;
var base_will_bonus=0;
var base_reflex_bonus=0;
var missile_attack_string_1="";
var grapple_attack_string_1="";
var handheld_attack_string_1="";
var unarmed_attack_string_1="";
var flurry_of_blows_string_1="";
var fortitude_string_1="";
var will_string_1="";
var reflex_string_1="";
var initiative_string_1="";
var missile_attack_string_2="";
var grapple_attack_string_2="";
var handheld_attack_string_2="";
var unarmed_attack_string_2="";
var fortitude_string_2="";
var will_string_2="";
var reflex_string_2="";
var initiative_string_2="";
var missile_attack=0;
var grapple_attack=0;
var handheld_attack=0;
var unarmed_attack=0;
var fortitude_save=0;
var reflex_save=0;
var will_save=0;
var initiative_modifier=0;

var small=false;
var large=false;
var has_uncanny_dodge=false;
var total_hit_points=0;
var total_armor_class=0;
var touch_armor_class=0;
var dexterity_bonus_in_this_armor=0;
var armor_string="";
var speed_string="";
var shield_string="";
var armor_class_string="";
var damage_reduction_string="";
var stringy="";
var class_string="";
var has_acrobatic=false;
var has_agile=false;
var has_alertness=false;
var has_animalaffinity=false;
var has_armorproficiencylight=false;
var has_armorproficiencymedium=false;
var has_armorproficiencyheavy=false;
var has_athletic=false;
var has_augmentsummoning=false;
var has_blindfight=false;
var has_combatcasting=false;
var has_combatexpertise=false;
var has_improveddisarm=false;
var has_improvedfeint=false;
var has_improvedtrip=false;
var has_whirlwindattack=false;
var has_combatreflexes=false;
var has_deceitful=false;
var has_defthands=false;
var has_diligent=false;
var has_dodge=false;
var has_mobility=false;
var has_springattack=false;
var has_endurance=false;
var has_diehard=false;
var has_eschewmaterials=false;
var has_exoticweaponproficiency=false;
var has_extraturning=0;
var has_personaltouchstone=0;
var has_planartouchstone=0;
var has_greatfortitude=false;
var has_improvedcounterspell=false;
var has_improvedcritical=0;
var has_improvedinitiative=false;
var has_improvedturning=false;
var has_improvedunarmedstrike=false;
var has_improvedgrapple=false;
var has_deflectarrows=false;
var has_snatcharrows=false;
var has_stunningfist=false;
var has_investigator=false;
var has_ironwill=false;
var has_leadership=false;
var has_lightningreflexes=false;
var has_magicalaptitude=false;
var has_martialweaponproficiency=false;
var has_mountedcombat=false;
var has_mountedarchery=false;
var has_ridebyattack=false;
var has_spiritedcharge=false;
var has_trample=false;
var has_naturalspell=false;
var has_negotiator=false;
var has_nimblefingers=false;
var has_persuasive=false;
var has_pointblankshot=false;
var has_farshot=false;
var has_preciseshot=false;
var has_rapidshot=false;
var has_manyshot=false;
var has_shotontherun=false;
var has_improvedpreciseshot=false;
var has_powerattack=false;
var has_cleave=false;
var has_greatcleave=false;
var has_improvedbullrush=false;
var has_improvedoverrun=false;
var has_improvedsunder=false;
var has_quickdraw=false;
var has_rapidreload=false;
var has_run=false;
var has_selfsufficient=false;
var has_shieldproficiency=false;
var has_improvedshieldbash=false;
var has_towershieldproficiency=false;
var has_simpleweaponproficiency=false;
var has_skillfocusappraise=false;
var has_skillfocusbalance=false;
var has_skillfocusbluff=false;
var has_skillfocusclimb=false;
var has_skillfocusconcentration=false;
var has_skillfocuscraft_1=false;
var has_skillfocuscraft_2=false;
var has_skillfocuscraft_3=false;
var has_skillfocusdecipherscript=false;
var has_skillfocusdiplomacy=false;
var has_skillfocusdisabledevice=false;
var has_skillfocusdisguise=false;
var has_skillfocusescapeartist=false;
var has_skillfocusforgery=false;
var has_skillfocusgatherinformation=false;
var has_skillfocushandleanimal=false;
var has_skillfocusheal=false;
var has_skillfocushide=false;
var has_skillfocusintimidate=false;
var has_skillfocusjump=false;
var has_skillfocusknowledgearcana=false;
var has_skillfocusknowledgearchitecture=false;
var has_skillfocusknowledgedungeoneering=false;
var has_skillfocusknowledgegeography=false;
var has_skillfocusknowledgehistory=false;
var has_skillfocusknowledgelocal=false;
var has_skillfocusknowledgenature=false;
var has_skillfocusknowledgenobility=false;
var has_skillfocusknowledgereligion=false;
var has_skillfocusknowledgeplanes=false;
var has_skillfocuslisten=false;
var has_skillfocusmovesilently=false;
var has_skillfocusopenlock=false;
var has_skillfocusperform_1=false;
var has_skillfocusperform_2=false;
var has_skillfocusperform_3=false;
var has_skillfocusperform_4=false;
var has_skillfocusperform_5=false;
var has_skillfocusprofession=false;
var has_skillfocusride=false;
var has_skillfocussearch=false;
var has_skillfocussensemotive=false;
var has_skillfocussleightofhand=false;
var has_skillfocusspellcraft=false;
var has_skillfocussurvival=false;
var has_skillfocusswim=false;
var has_skillfocustumble=false;
var has_skillfocususemagicdevice=false;
var has_skillfocususerope=false;
var has_skillfocusautohypnosis=false;
var has_skillfocusknowpsi=false;
var has_skillfocuspsicraft=false;
//var has_skillfocusremoteview=false;
//var has_skillfocusstabilizeself=false;
var has_skillfocususpsionicdevice=false;
var has_multiattack=false;
var has_multidexterity=false;
var has_multiweaponfighting=false;
var has_cripplingstrike=false;
var has_defensiveroll=false;
var has_improvedevasion=false;
var has_opportunist=false;
var has_skillmastery=false;
var has_slipperymind=false;
var has_roguewildernessstride=false;
var has_roguecamouflage=false;
var has_roguehideinplainsight=false;
var has_antipsionicmagic=false;
var has_autonomous=false;
var has_chaoticmind=false;
var has_cloakdance=false;
var has_closedmind=false;
var has_deadlyprecision=false;
var has_forceofwill=false;
var has_greatermanyshot=false;
var has_hostilemind=false;
var has_mentalresistance=false;
var has_mindoverbody=false;
var has_openminded=0;
var has_psionicaffinity=false;
var has_psionichole=false;
var has_rapidmetabolism=false;
var has_recklessoffense=false;
var has_sidestepcharge=false;
var has_standstill=false;
var has_wildtalent=false;
var has_alignedattack=false;
var has_boostconstruct=false;
var has_combatmanifestation=false;
var has_expandedknowledge=0;
var has_focusedsunder=false;
var has_ghostattack=false;
var has_inquisitor=false;
var has_mentalleap=false;
var has_metamorphictransfer=0;
var has_narrowmind=false;
var has_overchannel=false;
var has_talented=false;
var has_bodyfuel=false;
var has_powerpenetration=false;
var has_greaterpowerpenetration=false;
var has_powerspecialization=false;
var has_greaterpowerspecialization=false;
var has_psicrystalaffinity=false;
var has_improvedpsicrystal=false;
var has_psicrystalcontainment=false;
var has_psionicbody=false;
var has_psionicdodge=false;
var has_psionicendowment=false;
var has_greaterpsionicendowment=false;
var has_psionicfist=false;
var has_greaterpsionicfist=false;
var has_unavoidablestrike=false;
var has_psionicmeditation=false;
var has_psionicshot=false;
var has_greaterpsionicshot=false;
var has_fellshot=false;
var has_returnshot=false;
var has_psionictalent=0;
var has_familiarspell=0;
var has_greatsmiting=0;
var has_improvedfavoredenemy=0;
var has_improvedmetamagic=0;
var has_improvedsneakattack=0;
var has_improvedspellcapacity=0;
var has_improvedstunningfist=0;
var has_overwhelmingcritical=0;
var has_spellknowledge=0;
var has_epicexpandedknowledge=0;
var has_epicpsionicfocus=0;
var has_improvedmanifestation=0;
var has_improvedmetapsionics=0;
var has_powerknowledge=0;
var has_psicrystalpower=0;
var has_psionicweapon=false;
var has_greaterpsionicweapon=false;
var has_deepimpact=false;
var has_speedofthought=false;
var has_psioniccharge=false;
var has_upthewalls=false;
var has_woundingattack=false;
var has_burrowingpower=false;
var has_chainpower=false;
var has_delaypower=false;
var has_empowerpower=false;
var has_enlargepower=false;
var has_extendpower=false;
var has_maximizepower=false;
var has_opportunitypower=false;
var has_quickenpower=false;
var has_splitpsionicray=false;
var has_twinpower=false;
var has_unconditionalpower=false;
var has_widenpower=false;
var has_craftcognizancecrystal=false;
var has_craftdorje=false;
var has_craftpsicrown=false;
var has_craftpsionicarmsandarmor=false;
var has_craftpsionicconstruct=false;
var has_craftuniversalitem=false;
var has_imprintstone=false;
var has_scribetattoo=false;
var has_acheronflurry=false;
var has_celestialsummoningspecialist=false;
var has_elementalspellcastingair=false;
var has_elementalspellcastingearth=false;
var has_elementalspellcastingfire=false;
var has_elementalspellcastingwater=false;
var has_fiendishsummoningspecialist=false;
var has_neraphcharge=false;
var has_neraphthrow=false;
var has_nonverbalspell=false;
var has_planarfamiliar=false;
var has_stalwartplanarally=false;
var has_airheritage=false;
var has_anarchicheritage=false;
var has_axiomaticheritage=false;
var has_celestialheritage=false;
var has_earthheritage=false;
var has_fiendishheritage=false;
var has_fireheritage=false;
var has_improvedelementalheritage=false;
var has_improvedouterplanarheritage=false;
var has_naturalheavyweight=false;
var has_shadowheritage=false;
var has_waterheritage=false;
var has_cleverwrestling=false;
var has_cunningsidestep=false;
var has_closequartersfighting=false;
var has_overheadthrust=false;
var has_deftstrike=false;
var has_dragoncohort=false;
var has_dragonfamiliar=false;
var has_dragonhunter=false;
var has_dragonhunterbravery=false;
var has_dragonhunterdefense=false;
var has_dragonsteed=false;
var has_dragonwildshape=false;
var has_dragoncrafter=false;
var has_dragonfoe=false;
var has_dragonbane=false;
var has_dragondoom=false;
var has_subduingstrike=false;
var has_exaltedsmite=false;
var has_exaltedturning=false;
var has_exaltedwildshape=false;
var has_holysubdual=false;
var has_rangedsmiteevil=false;
var has_righteouswrath=false;
var has_sacredstrike=false;
var has_consecratespell=false;
var has_nonlethalsubstitution=false;
var has_purifyspell=false;
var has_improvedelementalwildshape=false;
var has_lastinginspiration=false;
var has_planarturning=false;
var has_terrifyingrage=false;
var has_brachiation=false;
var has_dangersense=false;
var has_heartheunseen=false;
var has_improvedswimming=false;
var has_quickreconnoiter=false;

var has_dragonfriend=false;
var has_dragonsong=false;
var has_dragonthrall=false;
var has_frightfulpresence=false;
var has_senseweakness=false;
var has_feeble=false;
var has_frail=false;
var has_improvedtoughness=false;
var has_spellcastingprodigyintelligence=false;
var has_spellcastingprodigywisdom=false;
var has_spellcastingprodigycharisma=false;
var has_zenarchery=false;
var has_suddenempower=false;
var has_suddenenlarge=false;
var has_suddenextend=false;
var has_suddenmaximize=false;
var has_suddensilent=false;
var has_suddenstill=false;
var has_suddenwiden=false;
var has_energysubstitutionacid=false;
var has_energysubstitutioncold=false;
var has_energysubstitutionelectricity=false;
var has_energysubstitutionfire=false;
var has_energysubstitutionsonic=false;
var has_subdualsubstitution=false;
var has_enduringlife=false;
var has_lastinglife=false;
var has_empowerturning=false;
var has_ghostscarred=false;
var has_heightenturning=false;
var has_quickenturning=false;
var has_requiem=false;
var has_vampirehunter=false;
var has_sacredvitality=false;
var has_spurndeathstouch=false;
var has_inattentive=false;
var has_meagerfortitude=false;
var has_weakwill=false;
var has_otherflaw1=false;
var has_otherflaw2=false;
var has_murkyeyed=false;
var has_noncombatant=false;
var has_poorreflexes=false;
var has_shaky=false;
var has_slowpoke=false;
var has_unreactive=false;
var has_vulnerable=false;
var has_spellfocusabjuration=false;
var has_spellfocusconjuration=false;
var has_spellfocusdivination=false;
var has_spellfocusevocation=false;
var has_spellfocusenchantment=false;
var has_spellfocusillusion=false;
var has_spellfocusnecromancy=false;
var has_spellfocustransmutation=false;
var has_greaterspellfocusabjuration=false;
var has_greaterspellfocusconjuration=false;
var has_greaterspellfocusdivination=false;
var has_greaterspellfocusevocation=false;
var has_greaterspellfocusenchantment=false;
var has_greaterspellfocusillusion=false;
var has_greaterspellfocusnecromancy=false;
var has_greaterspellfocustransmutation=false;
var has_spellmastery=0;
var has_spellpenetration=false;
var has_greaterspellpenetration=false;
var has_stealthy=false;
var has_toughness=0;
var has_track=false;
var has_twoweaponfighting=false;
var has_twoweapondefense=false;
var has_improvedtwoweaponfighting=false;
var has_greatertwoweaponfighting=false;
var has_weaponfinesse=false;
var has_urbantracking=false;
var has_otherfeat1=false;
var has_otherfeat2=false;
var has_otherfeat3=false;
var has_otherfeat4=false;
var has_otherfeat5=false;
var has_otherfeat6=false;
var has_otherfeat7=false;
var has_otherfeat8=false;
var has_otherfeat9=false;
var has_otherfeat10=false;
var has_weaponfocus=0;
var has_weaponspecialization=0;
var has_greaterweaponfocus=0;
var has_greaterweaponspecialization=0;
var has_necropotent=0;
var has_brewpotion=false;
var has_craftmaa=false;
var has_craftrod=false;
var has_craftstaff=false;
var has_craftwand=false;
var has_craftwondrousitem=false;
var has_craftconstruct=false;
var has_forgering=false;
var has_scribescroll=false;
var has_empowerspell=false;
var has_enlargespell=false;
var has_extendspell=false;
var has_heightenspell=false;
var has_maximizespell=false;
var has_quickenspell=false;
var has_silentspell=false;
var has_stillspell=false;
var has_widenspell=false;

var has_air_domain=false;
var has_animal_domain=false;
var has_chaos_domain=false;
var has_death_domain=false;
var has_destruction_domain=false;
var has_earth_domain=false;
var has_evil_domain=false;
var has_fire_domain=false;
var has_good_domain=false;
var has_healing_domain=false;
var has_knowledge_domain=false;
var has_law_domain=false;
var has_luck_domain=false;
var has_magic_domain=false;
var has_plant_domain=false;
var has_protection_domain=false;
var has_strength_domain=false;
var has_sun_domain=false;
var has_travel_domain=false;
var has_trickery_domain=false;
var has_war_domain=false;
var has_water_domain=false;
var has_other_domain_1=false;
var has_other_domain_2=false;
var channels_energy=0;

 var fighterfeatentitlement=0;
 var scoutfeatentitlement=0;
 var psiwarriorfeatentitlement=0;
 var wizardfeatentitlement=0;
 var psionfeatentitlement=0;
 var genericfeatentitlement=0;
 var epic_barbarian_levels=0;
 var epic_bard_levels=0;
 var epic_cleric_levels=0;
 var epic_druid_levels=0;
 var epic_fighter_levels=0;
 var epic_monk_levels=0;
 var epic_paladin_levels=0;
 var epic_ranger_levels=0;
 var epic_rogue_levels=0;
 var epic_sorcerer_levels=0;
 var epic_wizard_levels=0;
 var epic_psion_levels=0;
 var epic_psiwarrior_levels=0;
 var epic_soulknife_levels=0;
 var epic_artificer_levels=0;
 var epic_wilder_levels=0;
 var epic_total_levels=0;
 var barbarian_levels=0;
 var bard_levels=0;
 var cleric_levels=0;
 var druid_levels=0;
 var fighter_levels=0;
 var monk_levels=0;
 var paladin_levels=0;
 var ranger_levels=0;
 var rogue_levels=0;
 var sorcerer_levels=0;
 var wizard_levels=0;
 var psion_levels=0;
 var psiwarrior_levels=0;
 var soulknife_levels=0;
 var wilder_levels=0;
 var artificer_levels=0;
 var prestige_levels=0;
 var epic_prestige_levels=0;
 var epic_npcother_levels=0;
 var npcother_levels=0;
 var humanoid_levels=0;
 var total_skill_points=0;
 var skill_points_spent=0;
 var upitat04=0;
 var upitat08=0;
 var upitat12=0;
 var upitat16=0;
 var upitat20=0;
 var upitat24=0;
 var upitat28=0;
 var upitat32=0;
 var upitat36=0;
 var upitat40=0;
 var upitat44=0;
 var upitat48=0;
 var upitat52=0;
 var upitat56=0;
 var upitat60=0;
 var upitat64=0;
 var upitat68=0;
 var upitat72=0;
 var upitat76=0;
 var upitat80=0;
 var upitat84=0;
 var upitat88=0;
 var upitat92=0;
 var upitat96=0;
 var upitat100=0;

 var appraise=0;
 var balance=0;
 var bluff=0;
 var climb=0;
 var concentration=0;
 var craft_1=0;
 var craft_2=0;
 var craft_3=0;
 var decipherscript=0;
 var diplomacy=0;
 var disabledevice=0;
 var disguise=0;
 var escapeartist=0;
 var forgery=0;
 var gatherinformation=0;
 var handleanimal=0;
 var heal=0;
 var hide=0;
 var intimidate=0;
 var jump=0;
 var knowledgearcana=0;
 var knowledgearchitecture=0;
 var knowledgedungeoneering=0;
 var knowledgegeography=0;
 var knowledgehistory=0;
 var knowledgelocal=0;
 var knowledgenature=0;
 var knowledgenobility=0;
 var knowledgereligion=0;
 var knowledgeplanes=0;
 var listen=0;
 var about=0;
 var movesilently=0;
 var openlock=0;
 var perform_1=0;
 var perform_2=0;
 var perform_3=0;
 var perform_4=0;
 var perform_5=0;
 var profession=0;
 var ride=0;
 var search=0;
 var sensemotive=0;
 var sleightofhand=0;
 var speaklanguage=0;
 var spellcraft=0;
 var spot=0;
 var survival=0;
 var swim=0;
 var tumble=0;
 var usemagicdevice=0;
 var userope=0;
 var autohypnosis=0;
 var knowpsi=0;
 var psicraft=0;
 var usepsionicdevice=0;
 var otherskill1=0;
 var otherskill2=0;
 var otherskill3=0;

 var appraise_class=2;
 var balance_class=2;
 var bluff_class=2;
 var climb_class=2;
 var concentration_class=2;
 var craft_1_class=2;
 var craft_2_class=2;
 var craft_3_class=2;
 var decipherscript_class=2;
 var diplomacy_class=2;
 var disabledevice_class=2;
 var disguise_class=2;
 var escapeartist_class=2;
 var forgery_class=2;
 var gatherinformation_class=2;
 var handleanimal_class=2;
 var heal_class=2;
 var hide_class=2;
 var intimidate_class=2;
 var jump_class=2;
 var knowledgearcana_class=2;
 var knowledgearchitecture_class=2;
 var knowledgedungeoneering_class=2;
 var knowledgegeography_class=2;
 var knowledgehistory_class=2;
 var knowledgelocal_class=2;
 var knowledgenature_class=2;
 var knowledgenobility_class=2;
 var knowledgereligion_class=2;
 var knowledgeplanes_class=2;
 var listen_class=2;
 var movesilently_class=2;
 var openlock_class=2;
 var perform_1_class=2;
 var perform_2_class=2;
 var perform_3_class=2;
 var perform_4_class=2;
 var perform_5_class=2;
 var profession_class=2;
 var ride_class=2;
 var search_class=2;
 var sensemotive_class=2;
 var sleightofhand_class=2;
 var speaklanguage_class=2;
 var spellcraft_class=2;
 var spot_class=2;
 var survival_class=2;
 var swim_class=2;
 var tumble_class=2;
 var usemagicdevice_class=2;
 var userope_class=2;
 var autohypnosis_class=2;
 var knowpsi_class=2;
 var psicraft_class=2;
 var usepsionicdevice_class=2;
 var otherskill1_class=1;
 var otherskill2_class=1;
 var otherskill3_class=1;

 var alignment=0;
 var rayce=0;
 var gender=0;
 var total_levels=0;
 var stat1=0;
 var stat2=0;
 var stat3=0;
 var stat4=0;
 var stat5=0;
 var stat6=0;
 var class01=0;
 var class02=0;
 var class03=0;
 var class04=0;
 var class05=0;
 var class06=0;
 var class07=0;
 var class08=0;
 var class09=0;
 var class10=0;
 var class11=0;
 var class12=0;
 var class13=0;
 var class14=0;
 var class15=0;
 var class16=0;
 var class17=0;
 var class18=0;
 var class19=0;
 var class20=0;
 var class21=0;
 var class22=0;
 var class23=0;
 var class24=0;
 var class25=0;
 var class26=0;
 var class27=0;
 var class28=0;
 var class29=0;
 var class20=0;
 var class21=0;
 var class22=0;
 var class23=0;
 var class24=0;
 var class25=0;
 var class26=0;
 var class27=0;
 var class28=0;
 var class29=0;
 var class30=0;
 var class31=0;
 var class32=0;
 var class33=0;
 var class34=0;
 var class35=0;
 var class36=0;
 var class37=0;
 var class38=0;
 var class39=0;
 var class40=0;
 var class41=0;
 var class42=0;
 var class43=0;
 var class44=0;
 var class45=0;
 var class46=0;
 var class47=0;
 var class48=0;
 var class49=0;
 var class50=0;
 var class51=0;
 var class52=0;
 var class53=0;
 var class54=0;
 var class55=0;
 var class56=0;
 var class57=0;
 var class58=0;
 var class59=0;
 var class60=0;
 var class61=0;
 var class62=0;
 var class63=0;
 var class64=0;
 var class65=0;
 var class66=0;
 var class67=0;
 var class68=0;
 var class69=0;
 var class70=0;
 var class71=0;
 var class72=0;
 var class73=0;
 var class74=0;
 var class75=0;
 var class76=0;
 var class77=0;
 var class78=0;
 var class79=0;
 var class80=0;
 var class81=0;
 var class82=0;
 var class83=0;
 var class84=0;
 var class85=0;
 var class86=0;
 var class87=0;
 var class88=0;
 var class89=0;
 var class90=0;
 var class91=0;
 var class92=0;
 var class93=0;
 var class94=0;
 var class95=0;
 var class96=0;
 var class97=0;
 var class98=0;
 var class99=0;
 var class100=0;
 var newHP01=0;
 var newHP02=0;
 var newHP03=0;
 var newHP04=0;
 var newHP05=0;
 var newHP06=0;
 var newHP07=0;
 var newHP08=0;
 var newHP09=0;
 var newHP10=0;
 var newHP11=0;
 var newHP12=0;
 var newHP13=0;
 var newHP14=0;
 var newHP15=0;
 var newHP16=0;
 var newHP17=0;
 var newHP18=0;
 var newHP19=0;
 var newHP20=0;
 var newHP21=0;
 var newHP22=0;
 var newHP23=0;
 var newHP24=0;
 var newHP25=0;
 var newHP26=0;
 var newHP27=0;
 var newHP28=0;
 var newHP29=0;
 var newHP30=0;
 var newHP31=0;
 var newHP32=0;
 var newHP33=0;
 var newHP34=0;
 var newHP35=0;
 var newHP36=0;
 var newHP37=0;
 var newHP38=0;
 var newHP39=0;
 var newHP40=0;
 var newHP41=0;
 var newHP42=0;
 var newHP43=0;
 var newHP44=0;
 var newHP45=0;
 var newHP46=0;
 var newHP47=0;
 var newHP48=0;
 var newHP49=0;
 var newHP50=0;
 var newHP51=0;
 var newHP52=0;
 var newHP53=0;
 var newHP54=0;
 var newHP55=0;
 var newHP56=0;
 var newHP57=0;
 var newHP58=0;
 var newHP59=0;
 var newHP60=0;
 var newHP61=0;
 var newHP62=0;
 var newHP63=0;
 var newHP64=0;
 var newHP65=0;
 var newHP66=0;
 var newHP67=0;
 var newHP68=0;
 var newHP69=0;
 var newHP70=0;
 var newHP71=0;
 var newHP72=0;
 var newHP73=0;
 var newHP74=0;
 var newHP75=0;
 var newHP76=0;
 var newHP77=0;
 var newHP78=0;
 var newHP79=0;
 var newHP80=0;
 var newHP81=0;
 var newHP82=0;
 var newHP83=0;
 var newHP84=0;
 var newHP85=0;
 var newHP86=0;
 var newHP87=0;
 var newHP88=0;
 var newHP89=0;
 var newHP90=0;
 var newHP91=0;
 var newHP92=0;
 var newHP93=0;
 var newHP94=0;
 var newHP95=0;
 var newHP96=0;
 var newHP97=0;
 var newHP98=0;
 var newHP99=0;
 var newHP100=0;
 var intelligence01=0;
 var intelligence04=0;
 var intelligence08=0;
 var intelligence12=0;
 var intelligence16=0;
 var intelligence20=0;
 var intelligence24=0;
 var intelligence28=0;
 var intelligence32=0;
 var intelligence36=0;
 var intelligence40=0;
 var intelligence44=0;
 var intelligence48=0;
 var intelligence52=0;
 var intelligence56=0;
 var intelligence60=0;
 var intelligence64=0;
 var intelligence68=0;
 var intelligence72=0;
 var intelligence76=0;
 var intelligence80=0;
 var intelligence84=0;
 var intelligence88=0;
 var intelligence92=0;
 var intelligence96=0;
 var intelligence100=0;
 

 var SecondWindowDefinition="<html><head><title>Dungeons & Dragons Character Sheet</title></head><body>";
 var x=0;
 var q=0;
 var z=0;
 var d1=0;
 var d2=0;
 var d3=0;
 var d4=0;
 var d5=0;
 var strength=0;
 var intelligence=0;
 var wisdom=0;
 var constitution=0;
 var charisma=0;
 var dexterity=0;
 var statwentto=0;
 var secondstatwentto=0;
 var thirdstatwentto=0;
 var fourthstatwentto=0;
 var fifthstatwentto=0;
 var sixthstatwentto=0;
 var CharacterTypeHasBeenEstablished=false;
 var AbilitiesHaveBeenEstablished=false;
 var ClassesHaveBeenEstablished=false;
 var AbilitiesAreProperlyAssigned=false;
 var DiceHaveBeenRolled=false;
 var SkillPointsAreLocked=false;
 var AbilityIncreasesAreLocked=false;
 var FighterFeatsEtcFrozen=false;
 var barbarian_totem=0;
 var ranger_totem=0;
 var rogue_totem=0;
 var cleric_totem=0;
 var druid_totem=0;
 var monk_totem=0;
 var fighter_totem=0;
 var bard_totem=0;
 var sorcerer_totem=0;
 var epic_ability_points_gained=0;

function DistributeEpicClasses() {
 if (epic_total_levels>0)
  {
   x=0;y=0; z=0;while (x<=epic_total_levels)
    {
     x++;
     if (x<=epic_barbarian_levels) {y=1; } else
     if (x<=epic_barbarian_levels + epic_bard_levels) {y=2; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels) {y=3; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels) {y=4; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels) {y=5; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels) {y=6; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels + epic_paladin_levels) {y=7; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels + epic_paladin_levels + epic_ranger_levels) {y=8; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels + epic_paladin_levels + epic_ranger_levels + epic_rogue_levels) {y=9; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels + epic_paladin_levels + epic_ranger_levels + epic_rogue_levels + epic_sorcerer_levels) {y=10; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels + epic_paladin_levels + epic_ranger_levels + epic_rogue_levels + epic_sorcerer_levels + epic_wizard_levels) {y=11; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels + epic_paladin_levels + epic_ranger_levels + epic_rogue_levels + epic_sorcerer_levels + epic_wizard_levels + epic_psion_levels) {y=12; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels + epic_paladin_levels + epic_ranger_levels + epic_rogue_levels + epic_sorcerer_levels + epic_wizard_levels + epic_psion_levels + epic_psiwarrior_levels) {y=13; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels + epic_paladin_levels + epic_ranger_levels + epic_rogue_levels + epic_sorcerer_levels + epic_wizard_levels + epic_psion_levels + epic_psiwarrior_levels + epic_prestige_levels) {y=24; } else
     if (x<=epic_barbarian_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_fighter_levels + epic_monk_levels + epic_paladin_levels + epic_ranger_levels + epic_rogue_levels + epic_sorcerer_levels + epic_wizard_levels + epic_psion_levels + epic_psiwarrior_levels + epic_prestige_levels + epic_npcother_levels) {y=26; }
     if (x== 1) {class21=y; }
     if (x== 2) {class22=y; }
     if (x== 3) {class23=y; }
     if (x== 4) {class24=y; }
     if (x== 5) {class25=y; }
     if (x== 6) {class26=y; }
     if (x== 7) {class27=y; }
     if (x== 8) {class28=y; }
     if (x== 9) {class29=y; }
     if (x==10) {class30=y; }
     if (x==11) {class31=y; }
     if (x==12) {class32=y; }
     if (x==13) {class33=y; }
     if (x==14) {class34=y; }
     if (x==15) {class35=y; }
     if (x==16) {class36=y; }
     if (x==17) {class37=y; }
     if (x==18) {class38=y; }
     if (x==19) {class39=y; }
     if (x==20) {class40=y; }
     if (x==21) {class41=y; }
     if (x==22) {class42=y; }
     if (x==23) {class43=y; }
     if (x==24) {class44=y; }
     if (x==25) {class45=y; }
     if (x==26) {class46=y; }
     if (x==27) {class47=y; }
     if (x==28) {class48=y; }
     if (x==29) {class49=y; }
     if (x==30) {class50=y; }
     if (x==31) {class51=y; }
     if (x==32) {class52=y; }
     if (x==33) {class53=y; }
     if (x==34) {class54=y; }
     if (x==35) {class55=y; }
     if (x==36) {class56=y; }
     if (x==37) {class57=y; }
     if (x==38) {class58=y; }
     if (x==39) {class59=y; }
     if (x==40) {class60=y; }
     if (x==41) {class61=y; }
     if (x==42) {class62=y; }
     if (x==43) {class63=y; }
     if (x==44) {class64=y; }
     if (x==45) {class65=y; }
     if (x==46) {class66=y; }
     if (x==47) {class67=y; }
     if (x==48) {class68=y; }
     if (x==49) {class69=y; }
     if (x==50) {class70=y; }
     if (x==51) {class71=y; }
     if (x==52) {class72=y; }
     if (x==53) {class73=y; }
     if (x==54) {class74=y; }
     if (x==55) {class75=y; }
     if (x==56) {class76=y; }
     if (x==57) {class77=y; }
     if (x==58) {class78=y; }
     if (x==59) {class79=y; }
     if (x==60) {class80=y; }
     if (x==61) {class81=y; }
     if (x==62) {class82=y; }
     if (x==63) {class83=y; }
     if (x==64) {class84=y; }
     if (x==65) {class85=y; }
     if (x==66) {class86=y; }
     if (x==67) {class87=y; }
     if (x==68) {class88=y; }
     if (x==69) {class89=y; }
     if (x==70) {class90=y; }
     if (x==71) {class91=y; }
     if (x==72) {class92=y; }
     if (x==73) {class93=y; }
     if (x==74) {class94=y; }
     if (x==75) {class95=y; }
     if (x==76) {class96=y; }
     if (x==77) {class97=y; }
     if (x==78) {class98=y; }
     if (x==79) {class99=y; }
     if (x==80) {class100=y; }
    }
  }
 }

function EpicClassesA() {
 EpicClasses();
 ArrowShow();
 }

function EpicClasses() {
  if (ClassesHaveBeenEstablished==true)
   {
    document.form1.barbarian_epic_list.selectedIndex=epic_barbarian_levels;
    document.form1.bard_epic_list.selectedIndex=epic_bard_levels;
    document.form1.cleric_epic_list.selectedIndex=epic_cleric_levels;
    document.form1.druid_epic_list.selectedIndex=epic_druid_levels;
    document.form1.fighter_epic_list.selectedIndex=epic_fighter_levels;
    document.form1.monk_epic_list.selectedIndex=epic_monk_levels;
    document.form1.paladin_epic_list.selectedIndex=epic_paladin_levels;
    document.form1.ranger_epic_list.selectedIndex=epic_ranger_levels;
    document.form1.rogue_epic_list.selectedIndex=epic_rogue_levels;
    document.form1.sorcerer_epic_list.selectedIndex=epic_sorcerer_levels;
    document.form1.wizard_epic_list.selectedIndex=epic_wizard_levels;
    document.form1.psion_epic_list.selectedIndex=epic_psion_levels;
    document.form1.psiwarrior_epic_list.selectedIndex=epic_psiwarrior_levels;
    document.form1.artificer_epic_list.selectedIndex=epic_artificer_levels;
    document.form1.soulknife_epic_list.selectedIndex=epic_soulknife_levels;
    document.form1.wilder_epic_list.selectedIndex=epic_wilder_levels;
    document.form1.prestige_epic_list.selectedIndex=epic_prestige_levels;
    document.form1.npcother_epic_list.selectedIndex=epic_npcother_levels;
    return true;
   }
  else if ((CharacterTypeHasBeenEstablished==false) || (epic_total_levels==0))
  {
    document.form1.barbarian_epic_list.selectedIndex=0;
    document.form1.bard_epic_list.selectedIndex=0;
    document.form1.cleric_epic_list.selectedIndex=0;
    document.form1.druid_epic_list.selectedIndex=0;
    document.form1.fighter_epic_list.selectedIndex=0;
    document.form1.monk_epic_list.selectedIndex=0;
    document.form1.paladin_epic_list.selectedIndex=0;
    document.form1.ranger_epic_list.selectedIndex=0;
    document.form1.sorcerer_epic_list.selectedIndex=0;
    document.form1.wizard_epic_list.selectedIndex=0;
    document.form1.rogue_epic_list.selectedIndex=0;
    document.form1.psion_epic_list.selectedIndex=0;
    document.form1.psiwarrior_epic_list.selectedIndex=0;
    document.form1.artificer_epic_list.selectedIndex=0;
    document.form1.wilder_epic_list.selectedIndex=0;
    document.form1.soulknife_epic_list.selectedIndex=0;
    document.form1.prestige_epic_list.selectedIndex=0;
    document.form1.npcother_epic_list.selectedIndex=0;
    return true;
  }
  else
   {
    if (alignment>1)
     {
      document.form1.paladin_epic_list.selectedIndex=0;
     }
    if ((alignment==1) || (alignment==3) || (alignment==7) || (alignment==9))
     {
      document.form1.druid_epic_list.selectedIndex=0;
     }
    if ((alignment==2) || (alignment==3) || (alignment==5) || (alignment==6) || (alignment==8) || (alignment==9))
     {
      document.form1.monk_epic_list.selectedIndex=0;
     }
    else
     {
      document.form1.bard_epic_list.selectedIndex=0;
      document.form1.barbarian_epic_list.selectedIndex=0;
     }
    x=0;
    if (document.form1.barbarian_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.barbarian_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.barbarian_epic_list.selectedIndex;

    if (document.form1.bard_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.bard_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.bard_epic_list.selectedIndex;

    if (document.form1.cleric_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.cleric_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.cleric_epic_list.selectedIndex;

    if (document.form1.druid_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.druid_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.druid_epic_list.selectedIndex;

    if (document.form1.fighter_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.fighter_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.fighter_epic_list.selectedIndex;

    if (document.form1.monk_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.monk_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.monk_epic_list.selectedIndex;

    if (document.form1.paladin_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.paladin_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.paladin_epic_list.selectedIndex;

    if (document.form1.ranger_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.ranger_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.ranger_epic_list.selectedIndex;

    if (document.form1.rogue_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.rogue_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.rogue_epic_list.selectedIndex;

    if (document.form1.wizard_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.wizard_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.wizard_epic_list.selectedIndex;

    if (document.form1.sorcerer_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.sorcerer_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.sorcerer_epic_list.selectedIndex;

    if (document.form1.psion_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.psion_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.psion_epic_list.selectedIndex;

    if (document.form1.psiwarrior_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.psiwarrior_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.psiwarrior_epic_list.selectedIndex;

    if (document.form1.soulknife_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.soulknife_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.soulknife_epic_list.selectedIndex;

    if (document.form1.wilder_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.wilder_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.wilder_epic_list.selectedIndex;

    if (document.form1.artificer_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.artificer_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.artificer_epic_list.selectedIndex;

    if (document.form1.prestige_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.prestige_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.prestige_epic_list.selectedIndex;

    if (document.form1.npcother_epic_list.selectedIndex+x>epic_total_levels)
     { document.form1.npcother_epic_list.selectedIndex=epic_total_levels-x; }
    x+=document.form1.npcother_epic_list.selectedIndex;


    epic_barbarian_levels=document.form1.barbarian_epic_list.selectedIndex;
    epic_bard_levels=document.form1.bard_epic_list.selectedIndex;
    epic_cleric_levels=document.form1.cleric_epic_list.selectedIndex;
    epic_druid_levels=document.form1.druid_epic_list.selectedIndex;
    epic_fighter_levels=document.form1.fighter_epic_list.selectedIndex;
    epic_monk_levels=document.form1.monk_epic_list.selectedIndex;
    epic_paladin_levels=document.form1.paladin_epic_list.selectedIndex;
    epic_ranger_levels=document.form1.ranger_epic_list.selectedIndex;
    epic_rogue_levels=document.form1.rogue_epic_list.selectedIndex;
    epic_sorcerer_levels=document.form1.sorcerer_epic_list.selectedIndex;
    epic_wizard_levels=document.form1.wizard_epic_list.selectedIndex;
    epic_psion_levels=document.form1.psion_epic_list.selectedIndex;
    epic_psiwarrior_levels=document.form1.psiwarrior_epic_list.selectedIndex;
    epic_artificer_levels=document.form1.artificer_epic_list.selectedIndex;
    epic_soulknife_levels=document.form1.soulknife_epic_list.selectedIndex;
    epic_wilder_levels=document.form1.wilder_epic_list.selectedIndex;
    epic_prestige_levels=document.form1.prestige_epic_list.selectedIndex;
    epic_npcother_levels=document.form1.npcother_epic_list.selectedIndex;

		if (x==epic_total_levels) { return true; }
		else { return false; }
	}
}

function ControlShape() {
 if ((werebear_template==true) || (wereboar_template==true) || (wererat_template==true) || (weretiger_template==true) || (werewolf_template==true))
  {
   document.form1.otherskill1_name.value="Control Shape";
   document.form1.otherskill1_ability_list.selectedIndex=4;
  }
 }

function Templates() {
  if (CharacterTypeHasBeenEstablished==true)
   {
    document.form1.template_vampire.checked=vampire_template;
    document.form1.template_deathless.checked=deathless_template;
    document.form1.template_saint.checked=saint_template;
    document.form1.template_ghost.checked=ghost_template;
    document.form1.template_lich.checked=lich_template;
    document.form1.template_mummy.checked=mummy_template;
    document.form1.template_spectral.checked=spectral_template;
    document.form1.template_umbral.checked=umbral_template;
    document.form1.template_wight.checked=wight_template;
    document.form1.template_wraith.checked=wraith_template;
    document.form1.template_deathknight.checked=deathknight_template;
    document.form1.template_halfdragon.checked=halfdragon_template;
    document.form1.template_werebear.checked=werebear_template;
    document.form1.template_wereboar.checked=wereboar_template;
    document.form1.template_wererat.checked=wererat_template;
    document.form1.template_weretiger.checked=weretiger_template;
    document.form1.template_werewolf.checked=werewolf_template;
    document.form1.template_halfair.checked=halfair_template;
    document.form1.template_halfearth.checked=halfearth_template;
    document.form1.template_halffire.checked=halffire_template;
    document.form1.template_halfwater.checked=halfwater_template;
    document.form1.template_halfcelestial.checked=halfcelestial_template;
    document.form1.template_halffiend.checked=halffiend_template;
    document.form1.template_celestial.checked=celestial_template;
    document.form1.template_fiendish.checked=fiendish_template;
    document.form1.template_axiomatic.checked=axiomatic_template;
    document.form1.template_anarchic.checked=anarchic_template;
    return;
   }

  if (AbilitiesHaveBeenEstablished==false)
   {
    NegateTemplates();
    return;
   }
  lycanthrope_template_count=0;
  if (document.form1.template_werebear.checked==true) {lycanthrope_template_count++; }
  if (document.form1.template_wereboar.checked==true) {lycanthrope_template_count++; }
  if (document.form1.template_wererat.checked==true) {lycanthrope_template_count++; }
  if (document.form1.template_weretiger.checked==true) {lycanthrope_template_count++; }
  if (document.form1.template_werewolf.checked==true) {lycanthrope_template_count++; }
  undead_template_count=0;

  if (document.form1.template_vampire.checked==true) {undead_template_count++; }
  if (document.form1.template_deathless.checked==true) {undead_template_count++; }
  if (document.form1.template_ghost.checked==true) {undead_template_count++; }
  if (document.form1.template_lich.checked==true) {undead_template_count++; }
  if (document.form1.template_mummy.checked==true) {undead_template_count++; }
  if (document.form1.template_spectral.checked==true) {undead_template_count++; }
  if (document.form1.template_umbral.checked==true) {undead_template_count++; }
  if (document.form1.template_wight.checked==true) {undead_template_count++; }
  if (document.form1.template_wraith.checked==true) {undead_template_count++; }
  if (document.form1.template_deathknight.checked==true) {undead_template_count++; }
  if (document.form1.template_saint.checked==true) {undead_template_count++; }
  inherited_template_count=0;

  if (document.form1.template_halfdragon.checked==true) {inherited_template_count++; }
  if (document.form1.template_celestial.checked==true) {inherited_template_count++; }
  if (document.form1.template_fiendish.checked==true) {inherited_template_count++; }
  if (document.form1.template_axiomatic.checked==true) {inherited_template_count++; }
  if (document.form1.template_anarchic.checked==true) {inherited_template_count++; }
  if (document.form1.template_halfair.checked==true) {inherited_template_count++; }
  if (document.form1.template_halffire.checked==true) {inherited_template_count++; }
  if (document.form1.template_halfearth.checked==true) {inherited_template_count++; }
  if (document.form1.template_halfwater.checked==true) {inherited_template_count++; }
  if (document.form1.template_halfcelestial.checked==true) {inherited_template_count++; }
  if (document.form1.template_halffiend.checked==true) {inherited_template_count++; }

  if (inherited_template_count>1) { NegateInheritedTemplates(); }
  if (lycanthrope_template_count>1) { NegateLycanthropeTemplates(); }
  if (undead_template_count>1)
  {
   NegateUndeadTemplates();
   document.form1.saint_template.checked=false;
  }
  if ((undead_template_count==1) && (lycanthrope_template_count==1))
   {
   NegateLycanthropeTemplates();
   NegateUndeadTemplates();
   }

  if (document.form1.template_werebear.checked==true) { document.form1.alignments[0].checked=true; alignment=1; }
  if (document.form1.template_wereboar.checked==true) { document.form1.alignments[4].checked=true; alignment=5; }
  if (document.form1.template_wererat.checked==true) { document.form1.alignments[6].checked=true; alignment=7; }
  if (document.form1.template_weretiger.checked==true) { document.form1.alignments[4].checked=true; alignment=5; }
  if (document.form1.template_werewolf.checked==true) { document.form1.alignments[8].checked=true; alignment=9; }
  if (document.form1.template_wraith.checked==true) { document.form1.alignments[6].checked=true; alignment=7; }
  if (document.form1.template_wight.checked==true) { document.form1.alignments[6].checked=true; alignment=7; }
  if (document.form1.template_spectral.checked==true) { document.form1.alignments[6].checked=true; alignment=7; }
  if (document.form1.template_umbral.checked==true) { document.form1.alignments[8].checked=true; alignment=9; }
  if (document.form1.template_mummy.checked==true) { document.form1.alignments[6].checked=true; alignment=7; }
}

function NegateUndeadTemplates() {
   document.form1.template_vampire.checked=false;vampire_template=false;
   document.form1.template_deathless.checked=false;deathless_template=false;
   document.form1.template_ghost.checked=false;ghost_template=false;
   document.form1.template_lich.checked=false;lich_template=false;
   document.form1.template_mummy.checked=false;mummy_template=false;
   document.form1.template_spectral.checked=false;spectral_template=false;
   document.form1.template_umbral.checked=false;umbral_template=false;
   document.form1.template_wight.checked=false;wight_template=false;
   document.form1.template_wraith.checked=false;wraith_template=false;
   document.form1.template_deathknight.checked=false;deathknight_template=false;
 }

function NegateInheritedTemplates() {
   document.form1.template_halfdragon.checked=false;halfdragon_template=false;
   document.form1.template_celestial.checked=false;celestial_template=false;
   document.form1.template_fiendish.checked=false;fiendish_template=false;
   document.form1.template_anarchic.checked=false;anarchic_template=false;
   document.form1.template_axiomatic.checked=false;axiomatic_template=false;
   document.form1.template_halfair.checked=false;halfair_template=false;
   document.form1.template_halffire.checked=false;halffire_template=false;
   document.form1.template_halfearth.checked=false;halfearth_template=false;
   document.form1.template_halfwater.checked=false;halfwater_template=false;
   document.form1.template_halfcelestial.checked=false;halfcelestial_template=false;
   document.form1.template_halffiend.checked=false;halffiend_template=false;
 }

function NegateLycanthropeTemplates() {
   document.form1.template_werebear.checked=false;werebear_template=false;
   document.form1.template_wereboar.checked=false;wereboar_template=false;
   document.form1.template_wererat.checked=false;wererat_template=false;
   document.form1.template_weretiger.checked=false;weretiger_template=false;
   document.form1.template_werewolf.checked=false;werewolf_template=false;
  }

function RecordRangerFoes() {
  rf_aberration=document.form1.rf_aberration_list.selectedIndex;
  rf_animal=document.form1.rf_animal_list.selectedIndex;
  rf_construct=document.form1.rf_construct_list.selectedIndex;
  rf_dragon=document.form1.rf_dragon_list.selectedIndex;
  rf_elemental=document.form1.rf_elemental_list.selectedIndex;
  rf_fey=document.form1.rf_fey_list.selectedIndex;
  rf_giant=document.form1.rf_giant_list.selectedIndex;
  rf_aquatic=document.form1.rf_aquatic_list.selectedIndex;
  rf_dwarf=document.form1.rf_dwarf_list.selectedIndex;
  rf_elf=document.form1.rf_elf_list.selectedIndex;
  rf_goblinoid=document.form1.rf_goblinoid_list.selectedIndex;
  rf_gnoll=document.form1.rf_gnoll_list.selectedIndex;
  rf_gnome=document.form1.rf_gnome_list.selectedIndex;
  rf_halfling=document.form1.rf_halfling_list.selectedIndex;
  rf_human=document.form1.rf_human_list.selectedIndex;
  rf_orc=document.form1.rf_orc_list.selectedIndex;
  rf_reptilian=document.form1.rf_reptilian_list.selectedIndex;
  rf_magicalbeast=document.form1.rf_magicalbeast_list.selectedIndex;
  rf_monstroushumanoid=document.form1.rf_monstroushumanoid_list.selectedIndex;
  rf_ooze=document.form1.rf_ooze_list.selectedIndex;
  rf_air=document.form1.rf_air_list.selectedIndex;
  rf_chaotic=document.form1.rf_chaotic_list.selectedIndex;
  rf_earth=document.form1.rf_earth_list.selectedIndex;
  rf_evil=document.form1.rf_evil_list.selectedIndex;
  rf_fire=document.form1.rf_fire_list.selectedIndex;
  rf_good=document.form1.rf_good_list.selectedIndex;
  rf_lawful=document.form1.rf_lawful_list.selectedIndex;
  rf_native=document.form1.rf_native_list.selectedIndex;
  rf_water=document.form1.rf_water_list.selectedIndex;
  rf_plant=document.form1.rf_plant_list.selectedIndex;
  rf_undead=document.form1.rf_undead_list.selectedIndex;
  rf_vermin=document.form1.rf_vermin_list.selectedIndex;
 }

function RememberRangerFoes() {
  document.form1.rf_aberration_list.selectedIndex=rf_aberration;
  document.form1.rf_animal_list.selectedIndex=rf_animal;
  document.form1.rf_construct_list.selectedIndex=rf_construct;
  document.form1.rf_dragon_list.selectedIndex=rf_dragon;
  document.form1.rf_elemental_list.selectedIndex=rf_elemental;
  document.form1.rf_fey_list.selectedIndex=rf_fey;
  document.form1.rf_giant_list.selectedIndex=rf_giant;
  document.form1.rf_aquatic_list.selectedIndex=rf_aquatic;
  document.form1.rf_dwarf_list.selectedIndex=rf_dwarf;
  document.form1.rf_elf_list.selectedIndex=rf_elf;
  document.form1.rf_goblinoid_list.selectedIndex=rf_goblinoid;
  document.form1.rf_gnoll_list.selectedIndex=rf_gnoll;
  document.form1.rf_gnome_list.selectedIndex=rf_gnome;
  document.form1.rf_halfling_list.selectedIndex=rf_halfling;
  document.form1.rf_human_list.selectedIndex=rf_human;
  document.form1.rf_orc_list.selectedIndex=rf_orc;
  document.form1.rf_reptilian_list.selectedIndex=rf_reptilian;
  document.form1.rf_magicalbeast_list.selectedIndex=rf_magicalbeast;
  document.form1.rf_monstroushumanoid_list.selectedIndex=rf_monstroushumanoid;
  document.form1.rf_ooze_list.selectedIndex=rf_ooze;
  document.form1.rf_air_list.selectedIndex=rf_air;
  document.form1.rf_chaotic_list.selectedIndex=rf_chaotic;
  document.form1.rf_earth_list.selectedIndex=rf_earth;
  document.form1.rf_evil_list.selectedIndex=rf_evil;
  document.form1.rf_fire_list.selectedIndex=rf_fire;
  document.form1.rf_good_list.selectedIndex=rf_good;
  document.form1.rf_lawful_list.selectedIndex=rf_lawful;
  document.form1.rf_native_list.selectedIndex=rf_native;
  document.form1.rf_water_list.selectedIndex=rf_water;
  document.form1.rf_plant_list.selectedIndex=rf_plant;
  document.form1.rf_undead_list.selectedIndex=rf_undead;
  document.form1.rf_vermin_list.selectedIndex=rf_vermin;
 }

function NegateRangerFoes() {
  rf_aberration=0;
  rf_animal=0;
  rf_construct=0;
  rf_dragon=0;
  rf_elemental=0;
  rf_fey=0;
  rf_giant=0;
  rf_aquatic=0;
  rf_dwarf=0;
  rf_elf=0;
  rf_goblinoid=0;
  rf_gnoll=0;
  rf_gnome=0;
  rf_halfling=0;
  rf_human=0;
  rf_orc=0;
  rf_reptilian=0;
  rf_magicalbeast=0;
  rf_monstroushumanoid=0;
  rf_ooze=0;
  rf_air=0;
  rf_chaotic=0;
  rf_earth=0;
  rf_evil=0;
  rf_fire=0;
  rf_good=0;
  rf_lawful=0;
  rf_native=0;
  rf_water=0;
  rf_plant=0;
  rf_undead=0;
  rf_vermin=0;
 }

function RangerFoes() {
	if (ranger_levels + epic_ranger_levels==0) { return true; }
	ranger_foe_length=RangerFavoredEnemyCount();
	x=0;
	y=0;
	if (x==ranger_foe_length) { document.form1.rf_aberration_list[0].selected=true; }
	if (document.form1.rf_aberration_list.selectedIndex>0) { x++; }
	if (document.form1.rf_aberration_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_aberration_list[ranger_foe_length-1+x-y].selected=true; }
	y+=document.form1.rf_aberration_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_animal_list[0].selected=true; }
 if (document.form1.rf_animal_list.selectedIndex>0) { x++; }
 if (document.form1.rf_animal_list.selectedIndex> ranger_foe_length-1-y+x)
  { document.form1.rf_animal_list[ranger_foe_length-1-y+x].selected=true; }
 y+=document.form1.rf_animal_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_construct_list[0].selected=true; }
 if (document.form1.rf_construct_list.selectedIndex>0) { x++; }
 if (document.form1.rf_construct_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_construct_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_construct_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_dragon_list[0].selected=true; }
 if (document.form1.rf_dragon_list.selectedIndex>0) { x++; }
 if (document.form1.rf_dragon_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_dragon_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_dragon_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_elemental_list[0].selected=true; }
 if (document.form1.rf_elemental_list.selectedIndex>0) { x++; }
 if (document.form1.rf_elemental_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_elemental_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_elemental_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_fey_list[0].selected=true; }
 if (document.form1.rf_fey_list.selectedIndex>0) { x++; }
 if (document.form1.rf_fey_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_fey_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_fey_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_giant_list[0].selected=true; }
 if (document.form1.rf_giant_list.selectedIndex>0) { x++; }
 if (document.form1.rf_giant_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_giant_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_giant_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_aquatic_list[0].selected=true; }
 if (document.form1.rf_aquatic_list.selectedIndex>0) { x++; }
 if (document.form1.rf_aquatic_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_aquatic_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_aquatic_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_dwarf_list[0].selected=true; }
 if (document.form1.rf_dwarf_list.selectedIndex>0) { x++; }
 if (document.form1.rf_dwarf_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_dwarf_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_dwarf_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_elf_list[0].selected=true; }
 if (document.form1.rf_elf_list.selectedIndex>0) { x++; }
 if (document.form1.rf_elf_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_elf_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_elf_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_goblinoid_list[0].selected=true; }
 if (document.form1.rf_goblinoid_list.selectedIndex>0) { x++; }
 if (document.form1.rf_goblinoid_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_goblinoid_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_goblinoid_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_gnoll_list[0].selected=true; }
 if (document.form1.rf_gnoll_list.selectedIndex>0) { x++; }
 if (document.form1.rf_gnoll_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_gnoll_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_gnoll_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_gnome_list[0].selected=true; }
 if (document.form1.rf_gnome_list.selectedIndex>0) { x++; }
 if (document.form1.rf_gnome_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_gnome_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_gnome_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_halfling_list[0].selected=true; }
 if (document.form1.rf_halfling_list.selectedIndex>0) { x++; }
 if (document.form1.rf_halfling_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_halfling_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_halfling_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_human_list[0].selected=true; }
 if (document.form1.rf_human_list.selectedIndex>0) { x++; }
 if (document.form1.rf_human_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_human_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_human_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_orc_list[0].selected=true; }
 if (document.form1.rf_orc_list.selectedIndex>0) { x++; }
 if (document.form1.rf_orc_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_orc_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_orc_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_reptilian_list[0].selected=true; }
 if (document.form1.rf_reptilian_list.selectedIndex>0) { x++; }
 if (document.form1.rf_reptilian_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_reptilian_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_reptilian_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_magicalbeast_list[0].selected=true; }
 if (document.form1.rf_magicalbeast_list.selectedIndex>0) { x++; }
 if (document.form1.rf_magicalbeast_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_magicalbeast_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_magicalbeast_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_monstroushumanoid_list[0].selected=true; }
 if (document.form1.rf_monstroushumanoid_list.selectedIndex>0) { x++; }
 if (document.form1.rf_monstroushumanoid_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_monstroushumanoid_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_monstroushumanoid_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_ooze_list[0].selected=true; }
 if (document.form1.rf_ooze_list.selectedIndex>0) { x++; }
 if (document.form1.rf_ooze_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_ooze_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_ooze_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_air_list[0].selected=true; }
 if (document.form1.rf_air_list.selectedIndex>0) { x++; }
 if (document.form1.rf_air_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_air_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_air_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_chaotic_list[0].selected=true; }
 if (document.form1.rf_chaotic_list.selectedIndex>0) { x++; }
 if (document.form1.rf_chaotic_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_chaotic_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_chaotic_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_earth_list[0].selected=true; }
 if (document.form1.rf_earth_list.selectedIndex>0) { x++; }
 if (document.form1.rf_earth_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_earth_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_earth_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_evil_list[0].selected=true; }
 if (document.form1.rf_evil_list.selectedIndex>0) { x++; }
 if (document.form1.rf_evil_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_evil_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_evil_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_fire_list[0].selected=true; }
 if (document.form1.rf_fire_list.selectedIndex>0) { x++; }
 if (document.form1.rf_fire_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_fire_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_fire_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_good_list[0].selected=true; }
 if (document.form1.rf_good_list.selectedIndex>0) { x++; }
 if (document.form1.rf_good_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_good_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_good_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_lawful_list[0].selected=true; }
 if (document.form1.rf_lawful_list.selectedIndex>0) { x++; }
 if (document.form1.rf_lawful_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_lawful_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_lawful_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_native_list[0].selected=true; }
 if (document.form1.rf_native_list.selectedIndex>0) { x++; }
 if (document.form1.rf_native_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_native_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_native_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_water_list[0].selected=true; }
 if (document.form1.rf_water_list.selectedIndex>0) { x++; }
 if (document.form1.rf_water_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_water_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_water_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_plant_list[0].selected=true; }
 if (document.form1.rf_plant_list.selectedIndex>0) { x++; }
 if (document.form1.rf_plant_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_plant_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_plant_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_undead_list[0].selected=true; }
 if (document.form1.rf_undead_list.selectedIndex>0) { x++; }
 if (document.form1.rf_undead_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_undead_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_undead_list.selectedIndex;

 if (x==ranger_foe_length) { document.form1.rf_vermin_list[0].selected=true; }
 if (document.form1.rf_vermin_list.selectedIndex>0) { x++; }
 if (document.form1.rf_vermin_list.selectedIndex>ranger_foe_length-1+x-y)
  { document.form1.rf_vermin_list[ranger_foe_length-1+x-y].selected=true; }
 y+=document.form1.rf_vermin_list.selectedIndex;

 if (x!=ranger_foe_length) { return false; }
 if (y!=2*ranger_foe_length-1) { return false; }
 return true;
 }

function RangerFavoredEnemyCount() {
 if (ranger_levels + epic_ranger_levels==0) { return 0; }
 return (1+Math.floor((ranger_levels + epic_ranger_levels)/5));
 }

function AdjustEpicAbilityGains() {
 document.form1.epic_strength.length=0;
 document.form1.epic_dexterity.length=0;
 document.form1.epic_constitution.length=0;
 document.form1.epic_intelligence.length=0;
 document.form1.epic_wisdom.length=0;
 document.form1.epic_charisma.length=0;
 for (x=0; x<=Math.floor(epic_total_levels/4); x++) {
  stringy="+"+x; 
  if (x==0) { stringy="--"; }
  document.form1.epic_strength.options[x]=new Option(stringy);
  document.form1.epic_dexterity.options[x]=new Option(stringy);
  document.form1.epic_constitution.options[x]=new Option(stringy);
  document.form1.epic_intelligence.options[x]=new Option(stringy);
  document.form1.epic_wisdom.options[x]=new Option(stringy);
  document.form1.epic_charisma.options[x]=new Option(stringy);
  }
}

function AdjustEpicLevelLists() {
 document.form1.barbarian_epic_list.length=0;
 document.form1.bard_epic_list.length=0;
 document.form1.cleric_epic_list.length=0;
 document.form1.druid_epic_list.length=0;
 document.form1.fighter_epic_list.length=0;
 document.form1.monk_epic_list.length=0;
 document.form1.paladin_epic_list.length=0;
 document.form1.ranger_epic_list.length=0;
 document.form1.rogue_epic_list.length=0;
 document.form1.sorcerer_epic_list.length=0;
 document.form1.wizard_epic_list.length=0;
 document.form1.psion_epic_list.length=0;
 document.form1.psiwarrior_epic_list.length=0;
 document.form1.artificer_epic_list.length=0;
 document.form1.soulknife_epic_list.length=0;
 document.form1.wilder_epic_list.length=0;
 document.form1.prestige_epic_list.length=0;
 document.form1.npcother_epic_list.length=0;
 for (x=0; x<=epic_total_levels; x++) {
  stringy=x; 
  if (x==0) { stringy="--"; }
  document.form1.barbarian_epic_list.options[x]=new Option(stringy);
  document.form1.bard_epic_list.options[x]=new Option(stringy);
  document.form1.cleric_epic_list.options[x]=new Option(stringy);
  document.form1.druid_epic_list.options[x]=new Option(stringy);
  document.form1.monk_epic_list.options[x]=new Option(stringy);
  document.form1.fighter_epic_list.options[x]=new Option(stringy);
  document.form1.paladin_epic_list.options[x]=new Option(stringy);
  document.form1.ranger_epic_list.options[x]=new Option(stringy);
  document.form1.sorcerer_epic_list.options[x]=new Option(stringy);
  document.form1.rogue_epic_list.options[x]=new Option(stringy);
  document.form1.wizard_epic_list.options[x]=new Option(stringy);
  document.form1.psion_epic_list.options[x]=new Option(stringy);
  document.form1.psiwarrior_epic_list.options[x]=new Option(stringy);
  document.form1.wilder_epic_list.options[x]=new Option(stringy);
  document.form1.soulknife_epic_list.options[x]=new Option(stringy);
  document.form1.artificer_epic_list.options[x]=new Option(stringy);
  document.form1.prestige_epic_list.options[x]=new Option(stringy);
  document.form1.npcother_epic_list.options[x]=new Option(stringy);
  }
}

function AdjustRangerFoes() {
 ranger_foe_length=RangerFavoredEnemyCount();
 document.form1.rf_aberration_list.length=0;
 document.form1.rf_animal_list.length=0;
 document.form1.rf_construct_list.length=0;
 document.form1.rf_dragon_list.length=0;
 document.form1.rf_elemental_list.length=0;
 document.form1.rf_fey_list.length=0;
 document.form1.rf_giant_list.length=0;
 document.form1.rf_aquatic_list.length=0;
 document.form1.rf_dwarf_list.length=0;
 document.form1.rf_elf_list.length=0;
 document.form1.rf_goblinoid_list.length=0;
 document.form1.rf_gnoll_list.length=0;
 document.form1.rf_gnome_list.length=0;
 document.form1.rf_halfling_list.length=0;
 document.form1.rf_human_list.length=0;
 document.form1.rf_orc_list.length=0;
 document.form1.rf_reptilian_list.length=0;
 document.form1.rf_magicalbeast_list.length=0;
 document.form1.rf_monstroushumanoid_list.length=0;
 document.form1.rf_ooze_list.length=0;
 document.form1.rf_air_list.length=0;
 document.form1.rf_chaotic_list.length=0;
 document.form1.rf_earth_list.length=0;
 document.form1.rf_evil_list.length=0;
 document.form1.rf_fire_list.length=0;
 document.form1.rf_good_list.length=0;
 document.form1.rf_lawful_list.length=0;
 document.form1.rf_native_list.length=0;
 document.form1.rf_water_list.length=0;
 document.form1.rf_plant_list.length=0;
 document.form1.rf_undead_list.length=0;
 document.form1.rf_vermin_list.length=0;
 for (x=0; x<=ranger_foe_length; x++) {
  stringy="+"+(2*x); 
  if (x==0) { stringy="--"; }
  document.form1.rf_aberration_list.options[x]=new Option(stringy);
  document.form1.rf_animal_list.options[x]=new Option(stringy);
  document.form1.rf_construct_list.options[x]=new Option(stringy);
  document.form1.rf_dragon_list.options[x]=new Option(stringy);
  document.form1.rf_elemental_list.options[x]=new Option(stringy);
  document.form1.rf_fey_list.options[x]=new Option(stringy);
  document.form1.rf_giant_list.options[x]=new Option(stringy);
  document.form1.rf_aquatic_list.options[x]=new Option(stringy);
  document.form1.rf_dwarf_list.options[x]=new Option(stringy);
  document.form1.rf_elf_list.options[x]=new Option(stringy);
  document.form1.rf_goblinoid_list.options[x]=new Option(stringy);
  document.form1.rf_gnoll_list.options[x]=new Option(stringy);
  document.form1.rf_gnome_list.options[x]=new Option(stringy);
  document.form1.rf_halfling_list.options[x]=new Option(stringy);
  document.form1.rf_human_list.options[x]=new Option(stringy);
  document.form1.rf_orc_list.options[x]=new Option(stringy);
  document.form1.rf_reptilian_list.options[x]=new Option(stringy);
  document.form1.rf_magicalbeast_list.options[x]=new Option(stringy);
  document.form1.rf_monstroushumanoid_list.options[x]=new Option(stringy);
  document.form1.rf_ooze_list.options[x]=new Option(stringy);
  document.form1.rf_air_list.options[x]=new Option(stringy);
  document.form1.rf_chaotic_list.options[x]=new Option(stringy);
  document.form1.rf_earth_list.options[x]=new Option(stringy);
  document.form1.rf_evil_list.options[x]=new Option(stringy);
  document.form1.rf_fire_list.options[x]=new Option(stringy);
  document.form1.rf_good_list.options[x]=new Option(stringy);
  document.form1.rf_lawful_list.options[x]=new Option(stringy);
  document.form1.rf_native_list.options[x]=new Option(stringy);
  document.form1.rf_water_list.options[x]=new Option(stringy);
  document.form1.rf_plant_list.options[x]=new Option(stringy);
  document.form1.rf_undead_list.options[x]=new Option(stringy);
  document.form1.rf_vermin_list.options[x]=new Option(stringy);
  }
  document.form1.rf_aberration_list[0].selected=true;
  document.form1.rf_animal_list[0].selected=true;
  document.form1.rf_construct_list[0].selected=true;
  document.form1.rf_dragon_list[0].selected=true;
  document.form1.rf_elemental_list[0].selected=true;
  document.form1.rf_fey_list[0].selected=true;
  document.form1.rf_giant_list[0].selected=true;
  document.form1.rf_aquatic_list[0].selected=true;
  document.form1.rf_dwarf_list[0].selected=true;
  document.form1.rf_elf_list[0].selected=true;
  document.form1.rf_goblinoid_list[0].selected=true;
  document.form1.rf_gnoll_list[0].selected=true;
  document.form1.rf_gnome_list[0].selected=true;
  document.form1.rf_halfling_list[0].selected=true;
  document.form1.rf_human_list[0].selected=true;
  document.form1.rf_orc_list[0].selected=true;
  document.form1.rf_reptilian_list[0].selected=true;
  document.form1.rf_magicalbeast_list[0].selected=true;
  document.form1.rf_monstroushumanoid_list[0].selected=true;
  document.form1.rf_ooze_list[0].selected=true;
  document.form1.rf_air_list[0].selected=true;
  document.form1.rf_chaotic_list[0].selected=true;
  document.form1.rf_earth_list[0].selected=true;
  document.form1.rf_evil_list[0].selected=true;
  document.form1.rf_fire_list[0].selected=true;
  document.form1.rf_good_list[0].selected=true;
  document.form1.rf_lawful_list[0].selected=true;
  document.form1.rf_native_list[0].selected=true;
  document.form1.rf_water_list[0].selected=true;
  document.form1.rf_plant_list[0].selected=true;
  document.form1.rf_undead_list[0].selected=true;
  document.form1.rf_vermin_list[0].selected=true;
}

function NegateLanguageArrows() {
 document.form1.languagesarrow.src="dragonblank.gif";
 document.form1.speak_aarakocra_arrow.src="dragonblank.gif";
 document.form1.speak_abyssal_arrow.src="dragonblank.gif";
 document.form1.speak_aquan_arrow.src="dragonblank.gif";
 document.form1.speak_auran_arrow.src="dragonblank.gif";
 document.form1.speak_buomman_arrow.src="dragonblank.gif";
 document.form1.speak_celestial_arrow.src="dragonblank.gif";
 document.form1.speak_darkelfsilent_arrow.src="dragonblank.gif";
 document.form1.speak_draconic_arrow.src="dragonblank.gif";
 document.form1.speak_dwarven_arrow.src="dragonblank.gif";
 document.form1.speak_elven_arrow.src="dragonblank.gif";
 document.form1.speak_giant_arrow.src="dragonblank.gif";
 document.form1.speak_gith_arrow.src="dragonblank.gif";
 document.form1.speak_gnoll_arrow.src="dragonblank.gif";
 document.form1.speak_gnome_arrow.src="dragonblank.gif";
 document.form1.speak_goblin_arrow.src="dragonblank.gif";
 document.form1.speak_goliath_arrow.src="dragonblank.gif";
 document.form1.speak_halfling_arrow.src="dragonblank.gif";
 document.form1.speak_ignan_arrow.src="dragonblank.gif";
 document.form1.speak_infernal_arrow.src="dragonblank.gif";
 document.form1.speak_maenad_arrow.src="dragonblank.gif";
 document.form1.speak_mongrelfolk_arrow.src="dragonblank.gif";
 document.form1.speak_neraph_arrow.src="dragonblank.gif";
 document.form1.speak_orc_arrow.src="dragonblank.gif";
 document.form1.speak_pterran_arrow.src="dragonblank.gif";
 document.form1.speak_raptoran_arrow.src="dragonblank.gif";
 document.form1.speak_catfolk_arrow.src="dragonblank.gif";
 document.form1.speak_shadowswyft_arrow.src="dragonblank.gif";
 document.form1.speak_slaad_arrow.src="dragonblank.gif";
 document.form1.speak_sylvan_arrow.src="dragonblank.gif";
 document.form1.speak_terran_arrow.src="dragonblank.gif";
 document.form1.speak_thrikreen_arrow.src="dragonblank.gif";
 document.form1.speak_undercommon_arrow.src="dragonblank.gif";
 document.form1.speak_xeph_arrow.src="dragonblank.gif";
 document.form1.speak_yuanti_arrow.src="dragonblank.gif";
 document.form1.speak_illithid_arrow.src="dragonblank.gif";
 document.form1.speak_illumian_arrow.src="dragonblank.gif";
 document.form1.speak_tasloi_arrow.src="dragonblank.gif";
 document.form1.speak_sahuagin_arrow.src="dragonblank.gif";
 document.form1.speak_lupin_arrow.src="dragonblank.gif";
 document.form1.speak_hengeyokai_arrow.src="dragonblank.gif";
 document.form1.speak_spiritfolk_arrow.src="dragonblank.gif";
 document.form1.speak_ratling_arrow.src="dragonblank.gif";
 document.form1.speak_vanara_arrow.src="dragonblank.gif";
 document.form1.speak_grippli_arrow.src="dragonblank.gif";
 document.form1.speak_beholder_arrow.src="dragonblank.gif";
 document.form1.speak_kuotoa_arrow.src="dragonblank.gif";
 document.form1.speak_otherlanguage1_arrow.src="dragonblank.gif";
 document.form1.speak_otherlanguage2_arrow.src="dragonblank.gif";
 document.form1.speak_otherlanguage3_arrow.src="dragonblank.gif";
 document.form1.speak_otherlanguage4_arrow.src="dragonblank.gif";
 document.form1.speak_otherlanguage5_arrow.src="dragonblank.gif";
 document.form1.speak_otherlanguage6_arrow.src="dragonblank.gif";
}

function DoYourFeatEntitlements() {
   fighterfeatentitlement=0;
   if ((fighter_levels + epic_fighter_levels>0) && (fighter_totem!=1)) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>1) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>3) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>5) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>7) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>9) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>11) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>13) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>15) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>17) { fighterfeatentitlement++; }
   if (fighter_levels + epic_fighter_levels>19) { fighterfeatentitlement++; }

   scoutfeatentitlement=0;
   if (npcother_class_name=="Scout") {
   if (npcother_levels + epic_npcother_levels>4) { scoutfeatentitlement++; }
   if (npcother_levels + epic_npcother_levels>8) { scoutfeatentitlement++; }
   if (npcother_levels + epic_npcother_levels>12) { scoutfeatentitlement++; }
   if (npcother_levels + epic_npcother_levels>16) { scoutfeatentitlement++; }
   if (npcother_levels + epic_npcother_levels>20) { scoutfeatentitlement++; }
   }

   psiwarriorfeatentitlement=0;
   if (psiwarrior_levels + epic_psiwarrior_levels>0) { psiwarriorfeatentitlement++; }
   if (psiwarrior_levels + epic_psiwarrior_levels>1) { psiwarriorfeatentitlement++; }
   if (psiwarrior_levels + epic_psiwarrior_levels>4) { psiwarriorfeatentitlement++; }
   if (psiwarrior_levels + epic_psiwarrior_levels>5) { psiwarriorfeatentitlement++; }
   if (psiwarrior_levels + epic_psiwarrior_levels>7) { psiwarriorfeatentitlement++; }
   if (psiwarrior_levels + epic_psiwarrior_levels>10) { psiwarriorfeatentitlement++; }
   if (psiwarrior_levels + epic_psiwarrior_levels>13) { psiwarriorfeatentitlement++; }
   if (psiwarrior_levels + epic_psiwarrior_levels>16) { psiwarriorfeatentitlement++; }
   if (psiwarrior_levels + epic_psiwarrior_levels>19) { psiwarriorfeatentitlement++; }


   wizardfeatentitlement=0;
   if (wizard_levels + epic_wizard_levels>4) { wizardfeatentitlement++; }
   if (wizard_levels + epic_wizard_levels>9) { wizardfeatentitlement++; }
   if (wizard_levels + epic_wizard_levels>14) { wizardfeatentitlement++; }
   if (wizard_levels + epic_wizard_levels>19) { wizardfeatentitlement++; }

   psionfeatentitlement=0;
   if (psion_levels + epic_psion_levels>0) { psionfeatentitlement++; }
   if (psion_levels + epic_psion_levels>4) { psionfeatentitlement++; }
   if (psion_levels + epic_psion_levels>9) { psionfeatentitlement++; }
   if (psion_levels + epic_psion_levels>14) { psionfeatentitlement++; }
   if (psion_levels + epic_psion_levels>19) { psionfeatentitlement++; }

   genericfeatentitlement=1;
   if (has_war_domain) { genericfeatentitlement++; }
   if (total_levels + lycanthrope_hit_dice>2) { genericfeatentitlement++; }
   if (total_levels + lycanthrope_hit_dice>5) { genericfeatentitlement++; }
   if (total_levels + lycanthrope_hit_dice>8) { genericfeatentitlement++; }
   if (total_levels + lycanthrope_hit_dice>11) { genericfeatentitlement++; }
   if (total_levels + lycanthrope_hit_dice>14) { genericfeatentitlement++; }
   if (total_levels + lycanthrope_hit_dice>17) { genericfeatentitlement++; }

//racialstuff
	if ((rayce==1) || (rayce==167) || (rayce==44) || (rayce==61) || (rayce==64) || (rayce==86) || (rayce==87) || (rayce==132) || (rayce==144) || (rayce==148) || (rayce==149) || (rayce==154)) { genericfeatentitlement++; }
   if (npcother_class_name=="Sohei") { genericfeatentitlement++; }
   if (npcother_class_name=="Warmage")
    {
     if (npcother_levels + epic_npcother_levels>=7) { genericfeatentitlement++; }
     if (npcother_levels + epic_npcother_levels>=10) { genericfeatentitlement++; }
     if (npcother_levels + epic_npcother_levels>=15) { genericfeatentitlement++; }
     if (npcother_levels + epic_npcother_levels>=20) { genericfeatentitlement++; }
    }
   if (rogue_levels + epic_rogue_levels>=10) { genericfeatentitlement++; }
   if (rogue_levels + epic_rogue_levels>=13) { genericfeatentitlement++; }
   if (rogue_levels + epic_rogue_levels>=16) { genericfeatentitlement++; }
   if (rogue_levels + epic_rogue_levels>=19) { genericfeatentitlement++; }
   if (npcother_class_name=="Swashbuckler") { genericfeatentitlement++; }
   if (npcother_class_name=="Wu Jen") { genericfeatentitlement++; }
   if (vampire_template==true)
    {
     genericfeatentitlement+=4;
     if (dexterity>=13) { genericfeatentitlement++; }
    }
   if ((werebear_template==true) || (wereboar_template==true) || (wererat_template==true) || (weretiger_template==true) || (werewolf_template==true))
    {
     ControlShape();
     genericfeatentitlement++;      // iron will
    }
   if ((werebear_template==true) || (werewolf_template==true))
    {
     genericfeatentitlement++; // track
    }
   if ((wereboar_template==true) || (weretiger_template==true))
    {
     genericfeatentitlement++; // alertness
    }
   if ((wererat_template==true))
    {
     genericfeatentitlement++; // weapon finesse
    }
   epic_feat_allowance=0;
   if (epic_total_levels>0)
    {
     x=Math.floor((epic_total_levels +2)/3);
     genericfeatentitlement+=x;
     epic_feat_allowance+=x;
     x=0;
     x+=Math.floor(epic_barbarian_levels/4);
     x+=Math.floor(epic_bard_levels/3);
     x+=Math.floor(epic_cleric_levels/3);
     x+=Math.floor(epic_druid_levels/4);
     x+=Math.floor(epic_fighter_levels/2);
     x+=Math.floor(epic_monk_levels/5);
     x+=Math.floor(epic_paladin_levels/3);
     x+=Math.floor(epic_ranger_levels/3);
     x+=Math.floor(epic_rogue_levels/4);
     x+=Math.floor(epic_sorcerer_levels/3);
     x+=Math.floor(epic_wizard_levels/3);
     x+=Math.floor(epic_psion_levels/2);
     x+=Math.floor(epic_psiwarrior_levels/2);
     x+=Math.floor(epic_artificer_levels/4);
     x+=Math.floor(epic_soulknife_levels/4);
     x+=Math.floor(epic_wilder_levels/4);
     genericfeatentitlement+=x;
     epic_feat_allowance+=x;
    }
}

function LookForPrestigeClassName() {
	prestige_class_name=document.form1.prestige_name.value; 
	GenerateClassString();
}

function AllPerformanceClasses() {
	perform_1_class=1; 
	document.form1.perform_1_ics.checked=false;
	perform_2_class=1; 
	document.form1.perform_2_ics.checked=false;
	perform_3_class=1; 
	document.form1.perform_3_ics.checked=false;
	perform_4_class=1; 
	document.form1.perform_4_ics.checked=false;
	perform_5_class=1; 
	document.form1.perform_5_ics.checked=false;
 }

function AllKnowledgeClasses() {
	knowledgearcana_class=1; 
	document.form1.knowledgearcana_ics.checked=false;
	knowledgearchitecture_class=1; 
	document.form1.knowledgearchitecture_ics.checked=false;
	knowledgedungeoneering_class=1; 
	document.form1.knowledgedungeoneering_ics.checked=false;
	knowledgegeography_class=1; 
	document.form1.knowledgegeography_ics.checked=false;
	knowledgehistory_class=1; 
	document.form1.knowledgehistory_ics.checked=false;
	knowledgelocal_class=1; 
	document.form1.knowledgelocal_ics.checked=false;
	knowledgenature_class=1; 
	document.form1.knowledgenature_ics.checked=false;
	knowledgenobility_class=1; 
	document.form1.knowledgenobility_ics.checked=false;
	knowledgereligion_class=1; 
	document.form1.knowledgereligion_ics.checked=false;
	knowledgeplanes_class=1; 
	document.form1.knowledgeplanes_ics.checked=false;
	knowpsi_class=1; 
	document.form1.knowpsi_ics.checked=false;
 }

function ArrowShow() {
 if (psionfeatentitlement>0)
  {
   document.form1.psionfeat41.src="needpsionfeat.gif";
   document.form1.psionfeat42.src="needpsionfeat.gif";
   document.form1.psionfeat43.src="needpsionfeat.gif";
   document.form1.psionfeat44.src="needpsionfeat.gif";
   document.form1.psionfeat45.src="needpsionfeat.gif";
   document.form1.psionfeat46.src="needpsionfeat.gif";
   document.form1.psionfeat47.src="needpsionfeat.gif";
   document.form1.psionfeat48.src="needpsionfeat.gif";
   document.form1.psionfeat49.src="needpsionfeat.gif";
   document.form1.psionfeat50.src="needpsionfeat.gif";
   document.form1.psionfeat51.src="needpsionfeat.gif";
   document.form1.psionfeat52.src="needpsionfeat.gif";
   document.form1.psionfeat53.src="needpsionfeat.gif";
   document.form1.psionfeat54.src="needpsionfeat.gif";
   document.form1.psionfeat55.src="needpsionfeat.gif";
   document.form1.psionfeat56.src="needpsionfeat.gif";
   document.form1.psionfeat57.src="needpsionfeat.gif";
   document.form1.psionfeat58.src="needpsionfeat.gif";
   document.form1.psionfeat59.src="needpsionfeat.gif";
   document.form1.psionfeat60.src="needpsionfeat.gif";
   document.form1.psionfeat61.src="needpsionfeat.gif";
  }
  else
  {
   document.form1.psionfeat41.src="neednofeat.gif";
   document.form1.psionfeat42.src="neednofeat.gif";
   document.form1.psionfeat43.src="neednofeat.gif";
   document.form1.psionfeat44.src="neednofeat.gif";
   document.form1.psionfeat45.src="neednofeat.gif";
   document.form1.psionfeat46.src="neednofeat.gif";
   document.form1.psionfeat47.src="neednofeat.gif";
   document.form1.psionfeat48.src="neednofeat.gif";
   document.form1.psionfeat49.src="neednofeat.gif";
   document.form1.psionfeat50.src="neednofeat.gif";
   document.form1.psionfeat51.src="neednofeat.gif";
   document.form1.psionfeat52.src="neednofeat.gif";
   document.form1.psionfeat53.src="neednofeat.gif";
   document.form1.psionfeat54.src="neednofeat.gif";
   document.form1.psionfeat55.src="neednofeat.gif";
   document.form1.psionfeat56.src="neednofeat.gif";
   document.form1.psionfeat57.src="neednofeat.gif";
   document.form1.psionfeat58.src="neednofeat.gif";
   document.form1.psionfeat59.src="neednofeat.gif";
   document.form1.psionfeat60.src="neednofeat.gif";
   document.form1.psionfeat61.src="neednofeat.gif";
  }
 if (psionfeatentitlement+psiwarriorfeatentitlement>0)
  {
   document.form1.psionfeat01.src="needpsionfeat.gif";
   document.form1.psionfeat02.src="needpsionfeat.gif";
   document.form1.psionfeat03.src="needpsionfeat.gif";
   document.form1.psionfeat04.src="needpsionfeat.gif";
   document.form1.psionfeat05.src="needpsionfeat.gif";
   document.form1.psionfeat06.src="needpsionfeat.gif";
   document.form1.psionfeat07.src="needpsionfeat.gif";
   document.form1.psionfeat08.src="needpsionfeat.gif";
   document.form1.psionfeat09.src="needpsionfeat.gif";
   document.form1.psionfeat10.src="needpsionfeat.gif";
   document.form1.psionfeat11.src="needpsionfeat.gif";
   document.form1.psionfeat12.src="needpsionfeat.gif";
   document.form1.psionfeat13.src="needpsionfeat.gif";
   document.form1.psionfeat14.src="needpsionfeat.gif";
   document.form1.psionfeat15.src="needpsionfeat.gif";
   document.form1.psionfeat16.src="needpsionfeat.gif";
   document.form1.psionfeat17.src="needpsionfeat.gif";
   document.form1.psionfeat18.src="needpsionfeat.gif";
   document.form1.psionfeat19.src="needpsionfeat.gif";
   document.form1.psionfeat20.src="needpsionfeat.gif";
   document.form1.psionfeat21.src="needpsionfeat.gif";
   document.form1.psionfeat22.src="needpsionfeat.gif";
   document.form1.psionfeat23.src="needpsionfeat.gif";
   document.form1.psionfeat24.src="needpsionfeat.gif";
   document.form1.psionfeat25.src="needpsionfeat.gif";
   document.form1.psionfeat26.src="needpsionfeat.gif";
   document.form1.psionfeat27.src="needpsionfeat.gif";
   document.form1.psionfeat28.src="needpsionfeat.gif";
   document.form1.psionfeat29.src="needpsionfeat.gif";
   document.form1.psionfeat30.src="needpsionfeat.gif";
   document.form1.psionfeat31.src="needpsionfeat.gif";
   document.form1.psionfeat32.src="needpsionfeat.gif";
   document.form1.psionfeat33.src="needpsionfeat.gif";
   document.form1.psionfeat34.src="needpsionfeat.gif";
   document.form1.psionfeat35.src="needpsionfeat.gif";
   document.form1.psionfeat36.src="needpsionfeat.gif";
   document.form1.psionfeat37.src="needpsionfeat.gif";
   document.form1.psionfeat38.src="needpsionfeat.gif";
   document.form1.psionfeat39.src="needpsionfeat.gif";
   document.form1.psionfeat40.src="needpsionfeat.gif";
  }
   else
  {
   document.form1.psionfeat01.src="neednofeat.gif";
   document.form1.psionfeat02.src="neednofeat.gif";
   document.form1.psionfeat03.src="neednofeat.gif";
   document.form1.psionfeat04.src="neednofeat.gif";
   document.form1.psionfeat05.src="neednofeat.gif";
   document.form1.psionfeat06.src="neednofeat.gif";
   document.form1.psionfeat07.src="neednofeat.gif";
   document.form1.psionfeat08.src="neednofeat.gif";
   document.form1.psionfeat09.src="neednofeat.gif";
   document.form1.psionfeat10.src="neednofeat.gif";
   document.form1.psionfeat11.src="neednofeat.gif";
   document.form1.psionfeat12.src="neednofeat.gif";
   document.form1.psionfeat13.src="neednofeat.gif";
   document.form1.psionfeat14.src="neednofeat.gif";
   document.form1.psionfeat15.src="neednofeat.gif";
   document.form1.psionfeat16.src="neednofeat.gif";
   document.form1.psionfeat17.src="neednofeat.gif";
   document.form1.psionfeat18.src="neednofeat.gif";
   document.form1.psionfeat19.src="neednofeat.gif";
   document.form1.psionfeat20.src="neednofeat.gif";
   document.form1.psionfeat21.src="neednofeat.gif";
   document.form1.psionfeat22.src="neednofeat.gif";
   document.form1.psionfeat23.src="neednofeat.gif";
   document.form1.psionfeat24.src="neednofeat.gif";
   document.form1.psionfeat25.src="neednofeat.gif";
   document.form1.psionfeat26.src="neednofeat.gif";
   document.form1.psionfeat27.src="neednofeat.gif";
   document.form1.psionfeat28.src="neednofeat.gif";
   document.form1.psionfeat29.src="neednofeat.gif";
   document.form1.psionfeat30.src="neednofeat.gif";
   document.form1.psionfeat31.src="neednofeat.gif";
   document.form1.psionfeat32.src="neednofeat.gif";
   document.form1.psionfeat33.src="neednofeat.gif";
   document.form1.psionfeat34.src="neednofeat.gif";
   document.form1.psionfeat35.src="neednofeat.gif";
   document.form1.psionfeat36.src="neednofeat.gif";
   document.form1.psionfeat37.src="neednofeat.gif";
   document.form1.psionfeat38.src="neednofeat.gif";
   document.form1.psionfeat39.src="neednofeat.gif";
   document.form1.psionfeat40.src="neednofeat.gif";
  }
 if (wizardfeatentitlement>0)
  {
	document.form1.wizardfeat01.src="needwizardfeat.gif";
	document.form1.wizardfeat02.src="needwizardfeat.gif";
	document.form1.wizardfeat03.src="needwizardfeat.gif";
	document.form1.wizardfeat04.src="needwizardfeat.gif";
	document.form1.wizardfeat05.src="needwizardfeat.gif";
	document.form1.wizardfeat06.src="needwizardfeat.gif";
	document.form1.wizardfeat07.src="needwizardfeat.gif";
	document.form1.wizardfeat07a.src="needwizardfeat.gif";
	document.form1.wizardfeat08.src="needwizardfeat.gif";
	// document.form1.wizardfeat09.src="needwizardfeat.gif";
	document.form1.wizardfeat10.src="needwizardfeat.gif";
	document.form1.wizardfeat11.src="needwizardfeat.gif";
	document.form1.wizardfeat12.src="needwizardfeat.gif";
	document.form1.wizardfeat13.src="needwizardfeat.gif";
	document.form1.wizardfeat14.src="needwizardfeat.gif";
	document.form1.wizardfeat15.src="needwizardfeat.gif";
	document.form1.wizardfeat16.src="needwizardfeat.gif";
	document.form1.wizardfeat17.src="needwizardfeat.gif";
	document.form1.wizardfeat18.src="needwizardfeat.gif";
	document.form1.wizardfeat19.src="needwizardfeat.gif";
	document.form1.wizardfeat20.src="needwizardfeat.gif";
	document.form1.wizardfeat21.src="needwizardfeat.gif";
	document.form1.wizardfeat22.src="needwizardfeat.gif";
	document.form1.wizardfeat23.src="needwizardfeat.gif";
	document.form1.wizardfeat24.src="needwizardfeat.gif";
	document.form1.wizardfeat25.src="needwizardfeat.gif";
	document.form1.wizardfeat26.src="needwizardfeat.gif";
	document.form1.wizardfeat27.src="needwizardfeat.gif";
	document.form1.wizardfeat28.src="needwizardfeat.gif";
	document.form1.wizardfeat29.src="needwizardfeat.gif";
	document.form1.wizardfeat30.src="needwizardfeat.gif";
	document.form1.wizardfeat31.src="needwizardfeat.gif";
	document.form1.wizardfeat32.src="needwizardfeat.gif";
	document.form1.wizardfeat33.src="needwizardfeat.gif";
	document.form1.wizardfeat34.src="needwizardfeat.gif";
  }
  else
  {
   document.form1.wizardfeat01.src="neednofeat.gif";
   document.form1.wizardfeat02.src="neednofeat.gif";
   document.form1.wizardfeat03.src="neednofeat.gif";
   document.form1.wizardfeat04.src="neednofeat.gif";
   document.form1.wizardfeat05.src="neednofeat.gif";
   document.form1.wizardfeat06.src="neednofeat.gif";
   document.form1.wizardfeat07.src="neednofeat.gif";
   document.form1.wizardfeat07a.src="neednofeat.gif";
   document.form1.wizardfeat08.src="neednofeat.gif";
//   document.form1.wizardfeat09.src="neednofeat.gif";
   document.form1.wizardfeat10.src="neednofeat.gif";
   document.form1.wizardfeat11.src="neednofeat.gif";
   document.form1.wizardfeat12.src="neednofeat.gif";
   document.form1.wizardfeat13.src="neednofeat.gif";
   document.form1.wizardfeat14.src="neednofeat.gif";
   document.form1.wizardfeat15.src="neednofeat.gif";
   document.form1.wizardfeat16.src="neednofeat.gif";
   document.form1.wizardfeat17.src="neednofeat.gif";
   document.form1.wizardfeat18.src="neednofeat.gif";
   document.form1.wizardfeat19.src="neednofeat.gif";
   document.form1.wizardfeat20.src="neednofeat.gif";
   document.form1.wizardfeat21.src="neednofeat.gif";
   document.form1.wizardfeat22.src="neednofeat.gif";
   document.form1.wizardfeat23.src="neednofeat.gif";
   document.form1.wizardfeat24.src="neednofeat.gif";
   document.form1.wizardfeat25.src="neednofeat.gif";
   document.form1.wizardfeat26.src="neednofeat.gif";
   document.form1.wizardfeat27.src="neednofeat.gif";
   document.form1.wizardfeat28.src="neednofeat.gif";
   document.form1.wizardfeat29.src="neednofeat.gif";
   document.form1.wizardfeat30.src="neednofeat.gif";
   document.form1.wizardfeat31.src="neednofeat.gif";
   document.form1.wizardfeat32.src="neednofeat.gif";
   document.form1.wizardfeat33.src="neednofeat.gif";
   document.form1.wizardfeat34.src="neednofeat.gif";
  }

 if (scoutfeatentitlement>0)
  {
   document.form1.scoutfeat01.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat02.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat03.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat04.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat05.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat06.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat07.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat08.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat09.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat10.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat11.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat12.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat13.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat14.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat15.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat16.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat17.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat18.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat19.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat20.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat21.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat22.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat23.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat24.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat25.src="needweretouchedmasterfeat.gif";
   document.form1.scoutfeat26.src="needweretouchedmasterfeat.gif";
	}

 if (fighterfeatentitlement+psiwarriorfeatentitlement>0)
  {
   document.form1.fighterfeat01.src="needfighterfeat.gif";
   document.form1.fighterfeat02.src="needfighterfeat.gif";
   document.form1.fighterfeat03.src="needfighterfeat.gif";
   document.form1.fighterfeat04.src="needfighterfeat.gif";
   document.form1.fighterfeat05.src="needfighterfeat.gif";
   document.form1.fighterfeat06.src="needfighterfeat.gif";
   document.form1.fighterfeat07.src="needfighterfeat.gif";
//   document.form1.fighterfeat08.src="needfighterfeat.gif";
   document.form1.fighterfeat09.src="needfighterfeat.gif";
   document.form1.fighterfeat10.src="needfighterfeat.gif";
   document.form1.fighterfeat11.src="needfighterfeat.gif";
   document.form1.fighterfeat12.src="needfighterfeat.gif";
   document.form1.fighterfeat13.src="needfighterfeat.gif";
   document.form1.fighterfeat14.src="needfighterfeat.gif";
   document.form1.fighterfeat15.src="needfighterfeat.gif";
   document.form1.fighterfeat16.src="needfighterfeat.gif";
   document.form1.fighterfeat17.src="needfighterfeat.gif";
   document.form1.fighterfeat18.src="needfighterfeat.gif";
   document.form1.fighterfeat19.src="needfighterfeat.gif";
   document.form1.fighterfeat20.src="needfighterfeat.gif";
   document.form1.fighterfeat21.src="needfighterfeat.gif";
   document.form1.fighterfeat22.src="needfighterfeat.gif";
   document.form1.fighterfeat23.src="needfighterfeat.gif";
   document.form1.fighterfeat24.src="needfighterfeat.gif";
   document.form1.fighterfeat25.src="needfighterfeat.gif";
   document.form1.fighterfeat26.src="needfighterfeat.gif";
   document.form1.fighterfeat27.src="needfighterfeat.gif";
   document.form1.fighterfeat28.src="needfighterfeat.gif";
   document.form1.fighterfeat29.src="needfighterfeat.gif";
   document.form1.fighterfeat30.src="needfighterfeat.gif";
   document.form1.fighterfeat31.src="needfighterfeat.gif";
   document.form1.fighterfeat32.src="needfighterfeat.gif";
   document.form1.fighterfeat33.src="needfighterfeat.gif";
   document.form1.fighterfeat34.src="needfighterfeat.gif";
   document.form1.fighterfeat35.src="needfighterfeat.gif";
   document.form1.fighterfeat36.src="needfighterfeat.gif";
   document.form1.fighterfeat37.src="needfighterfeat.gif";
   document.form1.fighterfeat38.src="needfighterfeat.gif";
   document.form1.fighterfeat39.src="needfighterfeat.gif";
   document.form1.fighterfeat40.src="needfighterfeat.gif";
   document.form1.fighterfeat41.src="needfighterfeat.gif";
   document.form1.fighterfeat42.src="needfighterfeat.gif";
   document.form1.fighterfeat43.src="needfighterfeat.gif";
   document.form1.fighterfeat44.src="needfighterfeat.gif";
   document.form1.fighterfeat45.src="needfighterfeat.gif";
   document.form1.fighterfeat46.src="needfighterfeat.gif";
   document.form1.fighterfeat47.src="needfighterfeat.gif";
   document.form1.fighterfeat48.src="needfighterfeat.gif";
   document.form1.fighterfeat49.src="needfighterfeat.gif";
   document.form1.fighterfeat50.src="needfighterfeat.gif";
   document.form1.fighterfeat51.src="needfighterfeat.gif";
   document.form1.fighterfeat52.src="needfighterfeat.gif";
   document.form1.fighterfeat53.src="needfighterfeat.gif";
   document.form1.fighterfeat54.src="needfighterfeat.gif";
   document.form1.fighterfeat56.src="needfighterfeat.gif";
   document.form1.fighterfeat58.src="needfighterfeat.gif";
   document.form1.fighterfeat59.src="needfighterfeat.gif";
   document.form1.fighterfeat60.src="needfighterfeat.gif";
   document.form1.fighterfeat61.src="needfighterfeat.gif";
  }
  else
  {
   document.form1.fighterfeat02.src="neednofeat.gif";
   document.form1.fighterfeat03.src="neednofeat.gif";
   document.form1.fighterfeat04.src="neednofeat.gif";
   document.form1.fighterfeat05.src="neednofeat.gif";
   document.form1.fighterfeat06.src="neednofeat.gif";
   document.form1.fighterfeat07.src="neednofeat.gif";
   document.form1.fighterfeat08.src="neednofeat.gif";
   document.form1.fighterfeat09.src="neednofeat.gif";
   document.form1.fighterfeat10.src="neednofeat.gif";
   document.form1.fighterfeat11.src="neednofeat.gif";
   document.form1.fighterfeat12.src="neednofeat.gif";
   document.form1.fighterfeat13.src="neednofeat.gif";
   document.form1.fighterfeat14.src="neednofeat.gif";
   document.form1.fighterfeat15.src="neednofeat.gif";
   document.form1.fighterfeat16.src="neednofeat.gif";
   document.form1.fighterfeat17.src="neednofeat.gif";
   document.form1.fighterfeat18.src="neednofeat.gif";
   document.form1.fighterfeat19.src="neednofeat.gif";
   document.form1.fighterfeat20.src="neednofeat.gif";
   document.form1.fighterfeat21.src="neednofeat.gif";
   document.form1.fighterfeat22.src="neednofeat.gif";
   document.form1.fighterfeat23.src="neednofeat.gif";
   document.form1.fighterfeat24.src="neednofeat.gif";
   document.form1.fighterfeat25.src="neednofeat.gif";
   document.form1.fighterfeat26.src="neednofeat.gif";
   document.form1.fighterfeat27.src="neednofeat.gif";
   document.form1.fighterfeat28.src="neednofeat.gif";
   document.form1.fighterfeat29.src="neednofeat.gif";
   document.form1.fighterfeat30.src="neednofeat.gif";
   document.form1.fighterfeat31.src="neednofeat.gif";
   document.form1.fighterfeat32.src="neednofeat.gif";
   document.form1.fighterfeat33.src="neednofeat.gif";
   document.form1.fighterfeat34.src="neednofeat.gif";
   document.form1.fighterfeat35.src="neednofeat.gif";
   document.form1.fighterfeat36.src="neednofeat.gif";
   document.form1.fighterfeat37.src="neednofeat.gif";
   document.form1.fighterfeat38.src="neednofeat.gif";
   document.form1.fighterfeat39.src="neednofeat.gif";
   document.form1.fighterfeat40.src="neednofeat.gif";
   document.form1.fighterfeat41.src="neednofeat.gif";
   document.form1.fighterfeat42.src="neednofeat.gif";
   document.form1.fighterfeat43.src="neednofeat.gif";
   document.form1.fighterfeat44.src="neednofeat.gif";
   document.form1.fighterfeat45.src="neednofeat.gif";
   document.form1.fighterfeat46.src="neednofeat.gif";
   document.form1.fighterfeat47.src="neednofeat.gif";
   document.form1.fighterfeat48.src="neednofeat.gif";
   document.form1.fighterfeat49.src="neednofeat.gif";
   document.form1.fighterfeat50.src="neednofeat.gif";
   document.form1.fighterfeat51.src="neednofeat.gif";
   document.form1.fighterfeat52.src="neednofeat.gif";
   document.form1.fighterfeat53.src="neednofeat.gif";
   document.form1.fighterfeat54.src="neednofeat.gif";
   document.form1.fighterfeat55.src="neednofeat.gif";
   document.form1.fighterfeat56.src="neednofeat.gif";
   document.form1.fighterfeat57.src="neednofeat.gif";
   document.form1.fighterfeat58.src="neednofeat.gif";
   document.form1.fighterfeat59.src="neednofeat.gif";
   document.form1.fighterfeat60.src="neednofeat.gif";
   document.form1.fighterfeat61.src="neednofeat.gif";
   document.form1.fighterfeat62.src="neednofeat.gif";
  }

 if (fighter_levels + epic_fighter_levels>0)
  {
   document.form1.fighterfeat55.src="needfighterfeat.gif";
   document.form1.fighterfeat57.src="needfighterfeat.gif";
  }
  else
  {
   document.form1.fighterfeat55.src="neednofeat.gif";
   document.form1.fighterfeat57.src="neednofeat.gif";
  }

	if ( (stat1==0) || (my_character_is_done==true) )
  { document.form1.rollthedicearrow.src="dragonarrowleft.gif"; }
	else if (AbilitiesHaveBeenEstablished==false)
	{ document.form1.rollthedicearrow.src="dragongrayleft.gif"; }
	else 
	{ document.form1.rollthedicearrow.src="dragonblank.gif"; }

	if ((stat1==0) || (stat2==0) || (stat3==0) || (stat4==0) || (stat5==0) || (stat6==0) || (my_character_is_done==true))
	{
		if (strength==0)
		{
			if (AbilitiesAreProperlyAssigned==true) { document.form1.changemhere.src="adjustyourscoresgray.gif"; }
			else { document.form1.changemhere.src="adjustyourscoreshere.gif"; }
    }
		else { document.form1.changemhere.src="startoverred.gif"; }
	}
	else if (AbilitiesHaveBeenEstablished==false)
	{ document.form1.changemhere.src="adjustyourscoresgray.gif"; }
	else { document.form1.changemhere.src="startoverblack.gif"; }

 if ((stat1>0) && (AbilitiesHaveBeenEstablished==false)
     && (document.form1.firststat[0].checked==false)
     && (document.form1.firststat[1].checked==false)
     && (document.form1.firststat[2].checked==false)
     && (document.form1.firststat[3].checked==false)
     && (document.form1.firststat[4].checked==false)
     && (document.form1.firststat[5].checked==false)
     )
	{ document.form1.stat1arrow.src="dragonarrowright.gif"; }
	else if ((stat1>0) && (AbilitiesHaveBeenEstablished==false))
	{ document.form1.stat1arrow.src="dragongrayright.gif"; }
	else { document.form1.stat1arrow.src="dragonblank.gif"; }

 if ((stat2>0) && (AbilitiesHaveBeenEstablished==false)
     && (document.form1.secondstat[0].checked==false)
     && (document.form1.secondstat[1].checked==false)
     && (document.form1.secondstat[2].checked==false)
     && (document.form1.secondstat[3].checked==false)
     && (document.form1.secondstat[4].checked==false)
     && (document.form1.secondstat[5].checked==false)
     )
  { document.form1.stat2arrow.src="dragonarrowright.gif"; }
  else if ((stat2>0) && (AbilitiesHaveBeenEstablished==false))
   { document.form1.stat2arrow.src="dragongrayright.gif"; }
    else { document.form1.stat2arrow.src="dragonblank.gif"; }

 if ((stat3>0) && (AbilitiesHaveBeenEstablished==false)
     && (document.form1.thirdstat[0].checked==false)
     && (document.form1.thirdstat[1].checked==false)
     && (document.form1.thirdstat[2].checked==false)
     && (document.form1.thirdstat[3].checked==false)
     && (document.form1.thirdstat[4].checked==false)
     && (document.form1.thirdstat[5].checked==false)
     )
  { document.form1.stat3arrow.src="dragonarrowright.gif"; }
  else if ((stat3>0) && (AbilitiesHaveBeenEstablished==false))
   { document.form1.stat3arrow.src="dragongrayright.gif"; }
    else { document.form1.stat3arrow.src="dragonblank.gif"; }

 if ((stat4>0) && (AbilitiesHaveBeenEstablished==false)
     && (document.form1.fourthstat[0].checked==false)
     && (document.form1.fourthstat[1].checked==false)
     && (document.form1.fourthstat[2].checked==false)
     && (document.form1.fourthstat[3].checked==false)
     && (document.form1.fourthstat[4].checked==false)
     && (document.form1.fourthstat[5].checked==false)
     )
  { document.form1.stat4arrow.src="dragonarrowright.gif"; }
	else if ((stat4>0) && (AbilitiesHaveBeenEstablished==false))
	{ document.form1.stat4arrow.src="dragongrayright.gif"; }
	else { document.form1.stat4arrow.src="dragonblank.gif"; }

 if ((stat5>0) && (AbilitiesHaveBeenEstablished==false)
     && (document.form1.fifthstat[0].checked==false)
     && (document.form1.fifthstat[1].checked==false)
     && (document.form1.fifthstat[2].checked==false)
     && (document.form1.fifthstat[3].checked==false)
     && (document.form1.fifthstat[4].checked==false)
     && (document.form1.fifthstat[5].checked==false)
     )
  { document.form1.stat5arrow.src="dragonarrowright.gif"; }
	else if ((stat5>0) && (AbilitiesHaveBeenEstablished==false))
	{ document.form1.stat5arrow.src="dragongrayright.gif"; }
	else { document.form1.stat5arrow.src="dragonblank.gif"; }

 if ((stat6>0) && (AbilitiesHaveBeenEstablished==false)
     && (document.form1.sixthstat[0].checked==false)
     && (document.form1.sixthstat[1].checked==false)
     && (document.form1.sixthstat[2].checked==false)
     && (document.form1.sixthstat[3].checked==false)
     && (document.form1.sixthstat[4].checked==false)
     && (document.form1.sixthstat[5].checked==false)
     )
  { document.form1.stat6arrow.src="dragonarrowright.gif"; }
  else if ((stat6>0) && (AbilitiesHaveBeenEstablished==false))
   { document.form1.stat6arrow.src="dragongrayright.gif"; }
    else { document.form1.stat6arrow.src="dragonblank.gif"; }

 if (AbilitiesAreProperlyAssigned==true && AbilitiesHaveBeenEstablished==false)
  { document.form1.acceptscoresarrow.src="dragonarrowleft.gif"; }
    else { document.form1.acceptscoresarrow.src="dragonblank.gif"; }

 if (CharacterTypeHasBeenEstablished==false && AbilitiesHaveBeenEstablished==true)
	{
		if (rayce==0) { document.form1.racearrow.src="dragonarrowright.gif"; }
		else { document.form1.racearrow.src="dragongrayright.gif"; }
	}
	else { document.form1.racearrow.src="dragonblank.gif"; }

	if (CharacterTypeHasBeenEstablished==false && AbilitiesHaveBeenEstablished==true && rayce!=99 && rayce!=80)
	{
		if (gender==0) { document.form1.genderarrow.src="dragonarrowright.gif"; }
		else { document.form1.genderarrow.src="dragongrayright.gif"; }
	}
	else { document.form1.genderarrow.src="dragonblank.gif"; }

 if (CharacterTypeHasBeenEstablished==false && AbilitiesHaveBeenEstablished==true)
   {
   if (alignment==0) { document.form1.alignmentarrow.src="dragonarrowright.gif"; }
   else { document.form1.alignmentarrow.src="dragongrayright.gif"; }
   }
    else { document.form1.alignmentarrow.src="dragonblank.gif"; }

 if ((CharacterTypeHasBeenEstablished==false) && (AbilitiesHaveBeenEstablished==true))
   {
   if (total_levels==0) { document.form1.totallevelsarrow.src="dragonarrowright.gif"; }
   else { document.form1.totallevelsarrow.src="dragongrayright.gif"; }
   }
    else { document.form1.totallevelsarrow.src="dragonblank.gif"; }


 if (CharacterTypeHasBeenEstablished==false && rayce>0 && (gender>0 || rayce==80 || rayce==99) && alignment>0 && total_levels>0)
  { document.form1.acceptthispersonarrow.src="dragonarrowleft.gif"; }
    else { document.form1.acceptthispersonarrow.src="dragonblank.gif"; }

	if ((ClassesHaveBeenEstablished==false) && (CharacterTypeHasBeenEstablished==true))
	{
   if (class01==0) { document.form1.classesarrow.src="dragonarrowleft.gif"; }
   else { document.form1.classesarrow.src="dragongrayleft.gif"; }
   document.form1.totemarrow.src="dragongrayleft.gif";
	}
	else { document.form1.classesarrow.src="dragonblank.gif"; document.form1.totemarrow.src="dragonblank.gif"; }

 if ((ClassesHaveBeenEstablished==false) && (CharacterTypeHasBeenEstablished==true) && (epic_total_levels>0))
	{
		if (EpicClasses()==false) { document.form1.epicclassesarrow.src="dragonarrowright.gif"; }
		else { document.form1.epicclassesarrow.src="dragongrayright.gif"; }
		document.form1.totemarrow.src="dragongrayleft.gif";
  }
	else { document.form1.epicclassesarrow.src="dragonblank.gif"; document.form1.totemarrow.src="dragonblank.gif"; }

 if ((ClassesHaveBeenEstablished==false) && (class01!=0))
  { document.form1.acceptclassesarrow.src="dragonarrowleft.gif"; }
    else { document.form1.acceptclassesarrow.src="dragonblank.gif"; }

 if ((total_levels>=4) && (ClassesHaveBeenEstablished==true) && (AbilityIncreasesAreLocked==false))
  {
   if (upitat04==0) { document.form1.up04arrow.src="dragonarrowleft.gif"; }
   else { document.form1.up04arrow.src="dragongrayleft.gif"; }
  }
    else { document.form1.up04arrow.src="dragonblank.gif"; }

 if ((total_levels>=8) && (ClassesHaveBeenEstablished==true) && (AbilityIncreasesAreLocked==false))
  {
   if (upitat08==0) { document.form1.up08arrow.src="dragonarrowleft.gif"; }
   else { document.form1.up08arrow.src="dragongrayleft.gif"; }
  }
    else { document.form1.up08arrow.src="dragonblank.gif"; }

 if ((total_levels>=12) && (ClassesHaveBeenEstablished==true) && (AbilityIncreasesAreLocked==false))
  {
   if (upitat12==0) { document.form1.up12arrow.src="dragonarrowleft.gif"; }
   else { document.form1.up12arrow.src="dragongrayleft.gif"; }
  }
    else { document.form1.up12arrow.src="dragonblank.gif"; }

 if ((total_levels>=16) && (ClassesHaveBeenEstablished==true) && (AbilityIncreasesAreLocked==false))
  {
   if (upitat16==0) { document.form1.up16arrow.src="dragonarrowleft.gif"; }
   else { document.form1.up16arrow.src="dragongrayleft.gif"; }
  }
    else { document.form1.up16arrow.src="dragonblank.gif"; }

	if ((total_levels>=20) && (ClassesHaveBeenEstablished==true) && (AbilityIncreasesAreLocked==false))
  {
		if (upitat20==0) { document.form1.up20arrow.src="dragonarrowleft.gif"; }
		else { document.form1.up20arrow.src="dragongrayleft.gif"; }
	}
	else { document.form1.up20arrow.src="dragonblank.gif"; }

 if ((NaturallyIlliterate()==true) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
		if ((document.form1.reading_barbarian[0].checked==false) && (document.form1.reading_barbarian[1].checked==false))
		{ document.form1.readingbarbarianarrow.src="dragonarrowleft.gif"; }
		else { document.form1.readingbarbarianarrow.src="dragongrayleft.gif"; }
  }
	else { document.form1.readingbarbarianarrow.src="dragonblank.gif"; }

	if ((cleric_levels + epic_cleric_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
	{
   if (DomainCount()!=2) { document.form1.domainarrow.src="dragonarrowleft.gif"; }
   else { document.form1.domainarrow.src="dragongrayleft.gif"; }
	}
	else { document.form1.domainarrow.src="dragonblank.gif"; }

	if ((cleric_levels + epic_cleric_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
	{
   if ((document.form1.choose_energy[0].checked==false) && (document.form1.choose_energy[1].checked==false)) { document.form1.energyarrow.src="dragonarrowleft.gif"; }
   else { document.form1.energyarrow.src="dragongrayleft.gif"; }
	}
	else { document.form1.energyarrow.src="dragonblank.gif"; }

 if ((wizard_levels + epic_wizard_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  { document.form1.wizardspecialtyarrow.src="dragongrayright.gif"; }
    else { document.form1.wizardspecialtyarrow.src="dragonblank.gif"; }

 if ((wizard_levels + epic_wizard_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
   if (WizardSpecialty()==false) { document.form1.wizardgiveuparrow.src="dragonarrowright.gif"; }
   else if (no_specialist==true) { document.form1.wizardgiveuparrow.src="dragonblank.gif"; }
   else { document.form1.wizardgiveuparrow.src="dragongrayright.gif"; }
  }
	else { document.form1.wizardgiveuparrow.src="dragonblank.gif"; }

	if ((monk_totem==0) && (monk_levels + epic_monk_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
		if ((document.form1.monkish_1[0].checked==false) && (document.form1.monkish_1[1].checked==false))
    { document.form1.monk1arrow.src="dragonarrowleft.gif"; }
    else { document.form1.monk1arrow.src="dragongrayleft.gif"; }
  }
	else { document.form1.monk1arrow.src="dragonblank.gif"; }

	if ((monk_totem==0) && (monk_levels + epic_monk_levels>1) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
		if ((document.form1.monkish_2[0].checked==false) && (document.form1.monkish_2[1].checked==false))
		{ document.form1.monk2arrow.src="dragonarrowleft.gif"; }
		else { document.form1.monk2arrow.src="dragongrayleft.gif"; }
  }
	else { document.form1.monk2arrow.src="dragonblank.gif"; }

	if ((monk_totem==0) && (monk_levels + epic_monk_levels>5) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
		if ((document.form1.monkish_3[0].checked==false) && (document.form1.monkish_3[1].checked==false))
		{ document.form1.monk6arrow.src="dragonarrowleft.gif"; }
    else { document.form1.monk6arrow.src="dragongrayleft.gif"; }
  }
	else { document.form1.monk6arrow.src="dragonblank.gif"; }

 if ((ranger_levels + epic_ranger_levels>0) && (ranger_totem!=3) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
		if ((document.form1.ranger_combat_track[0].checked==false) && (document.form1.ranger_combat_track[1].checked==false) && (document.form1.ranger_combat_track[2].checked==false) && (document.form1.ranger_combat_track[3].checked==false))
		{ document.form1.rangerarrow.src="dragonarrowleft.gif"; }
		else { document.form1.rangerarrow.src="dragongrayleft.gif"; }
	}
	else { document.form1.rangerarrow.src="dragonblank.gif"; }

 if ((ranger_levels + epic_ranger_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
    if (RangerFoes()==false)
      { document.form1.favoredenemiesarrow.src="dragonarrowleft.gif"; }
    else { document.form1.favoredenemiesarrow.src="dragongrayleft.gif"; }
  }
    else { document.form1.favoredenemiesarrow.src="dragonblank.gif"; }

 if ((psion_levels + epic_psion_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
   if ((egoist==false) && (kineticist==false) && (telepath==false) && (nomad==false) && (seer==false) && (shaper==false)) { document.form1.psionarrow.src="dragonarrowleft.gif"; }
   else { document.form1.psionarrow.src="dragongrayleft.gif"; }
  }
    else { document.form1.psionarrow.src="dragonblank.gif"; }

 if ((wizard_levels + epic_wizard_levels + sorcerer_levels + epic_sorcerer_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
   { document.form1.familiararrow.src="dragongrayright.gif"; }
    else { document.form1.familiararrow.src="dragonblank.gif"; }

 if ((rayce==133) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
   {
    if
     (
      (badger_hengeyokai==false) &&
      (carp_hengeyokai==false) &&
      (cat_hengeyokai==false) &&
      (crab_hengeyokai==false) &&
      (crane_hengeyokai==false) &&
      (dog_hengeyokai==false) &&
      (fox_hengeyokai==false) &&
      (hare_hengeyokai==false) &&
      (monkey_hengeyokai==false) &&
      (raccoondog_hengeyokai==false) &&
      (rat_hengeyokai==false) &&
      (sparrow_hengeyokai==false) &&
      (weasel_hengeyokai==false)
     ) { document.form1.hengeyokaiarrow.src="dragonarrowright.gif"; }
    else { document.form1.hengeyokaiarrow.src="dragongrayright.gif"; }
   }
    else { document.form1.hengeyokaiarrow.src="dragonblank.gif"; }


 if ((prestige_levels + epic_prestige_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
   if (PrestigeClass()==false) { document.form1.prestigearrow.src="dragonarrowleft.gif"; }
   else { document.form1.prestigearrow.src="dragongrayleft.gif"; }
  }
    else { document.form1.prestigearrow.src="dragonblank.gif"; }

 if ((npcother_levels + epic_npcother_levels>0) && (FighterFeatsEtcFrozen==false) && (ClassesHaveBeenEstablished==true))
  {
   if (npcother_class_name=="NPC-Other Class") { document.form1.npcotherarrow.src="dragonarrowleft.gif"; }
   else { document.form1.npcotherarrow.src="dragongrayleft.gif"; }
  }
    else { document.form1.npcotherarrow.src="dragonblank.gif"; }


	if ( 
 	(FighterFeatsEtcFrozen==false) && (AbilitiesWellIncreased()==true) && ((NaturallyIlliterate()==false) || (document.form1.reading_barbarian[0].checked==true) || (document.form1.reading_barbarian[1].checked==true) )
	&& ( (monk_levels + epic_monk_levels==0) || (monk_totem>0) || (document.form1.monkish_1[0].checked==true) || (document.form1.monkish_1[1].checked==true) )
	&& ( (monk_levels + epic_monk_levels<2) || (monk_totem>0) || (document.form1.monkish_2[0].checked==true) || (document.form1.monkish_2[1].checked==true) )
	&& ((monk_levels + epic_monk_levels<6) || (monk_totem>0) || (document.form1.monkish_3[0].checked==true) || (document.form1.monkish_3[1].checked==true))
	&& (ClassesHaveBeenEstablished==true)
	&& ( (ranger_levels + epic_ranger_levels<=1) || (ranger_totem==3) || (document.form1.ranger_combat_track[0].checked==true) || (document.form1.ranger_combat_track[1].checked==true) || (document.form1.ranger_combat_track[2].checked==true) || (document.form1.ranger_combat_track[3].checked==true) )
	&& ((npcother_class_name!="Gestalt") || (countgestalts()==2))
	&& ( (cleric_levels + epic_cleric_levels==0) || (Domains()==true) )
	&& (ClassesHaveBeenEstablished==true)
	&& ( (cleric_levels + epic_cleric_levels==0) || (document.form1.choose_energy[0].checked==true) || (document.form1.choose_energy[1].checked==true) )
	&& ((psion_levels + epic_psion_levels==0) || (PsionSpecialty()==true))
	&& ((prestige_levels + epic_prestige_levels==0) || (PrestigeClass()==true))
	&& ((ranger_levels + epic_ranger_levels==0) || (RangerFoes()==true))
	&& ((wizard_levels + epic_wizard_levels==0) || (WizardSpecialty()==true))
	&& ((npcother_levels + epic_npcother_levels==0) || (NpcOtherClass()==true))
	&& (epic_ability_points_gained==Math.floor(epic_total_levels/4))
	&& ((rayce!=133) || (badger_hengeyokai==true) || (carp_hengeyokai==true) || (cat_hengeyokai==true) || (crab_hengeyokai==true) || (crane_hengeyokai==true) || (dog_hengeyokai==true) || (fox_hengeyokai==true) || (hare_hengeyokai==true) || (monkey_hengeyokai==true) || (rat_hengeyokai==true) || (raccoondog_hengeyokai==true) || (sparrow_hengeyokai==true) || (weasel_hengeyokai==true)) 
	)
  { document.form1.moveonarrow.src="dragonarrowleft.gif"; }
	else { document.form1.moveonarrow.src="dragonblank.gif"; }

 if ((FighterFeatsEtcFrozen==true) && (SkillPointsAreLocked==false))
  {
    if (skill_points_spent!=total_skill_points) { document.form1.skillsarrow.src="dragonarrowright.gif"; }
    else { document.form1.skillsarrow.src="dragongrayright.gif"; }
  }
	else { document.form1.skillsarrow.src="dragonblank.gif"; }

	if ((FighterFeatsEtcFrozen==true) && (SkillPointsAreLocked==false) && (skill_points_spent==total_skill_points))
	{ document.form1.acceptskillsarrow.src="dragonarrowleft.gif"; }
	else { document.form1.acceptskillsarrow.src="dragonblank.gif"; }

 if ((SkillPointsAreLocked==false) || (FeatsAreLocked==true))
     {
      document.form1.featsarrow.src="dragonblank.gif";
      document.form1.acceptfeatsarrow.src="dragonblank.gif";
      document.form1.flawsarrow.src="dragonblank.gif";
     }

 if (FeatsAreLocked==true)
	{ document.form1.doitarrow.src="dragonarrowright.gif"; }
	else { document.form1.doitarrow.src="dragonblank.gif"; }
}

function spcr(i) {
 if (i<10) { return "&nbsp; &nbsp; "; }
 if (i<100) { return "&nbsp; "; }
 return "";
}

function manifester_level() {
 if ((psion_levels + epic_psion_levels>=psiwarrior_levels + epic_psiwarrior_levels) && (psion_levels + epic_psion_levels>=wilder_levels + epic_wilder_levels)) { return psion_levels + epic_psion_levels; }
 if (psiwarrior_levels + epic_psiwarrior_levels>=wilder_levels) { return psiwarrior_levels + epic_psiwarrior_levels; }
 return (wilder_levels + epic_wilder_levels);
 }

function PsiPPDgood(i) {
 if (i==0) { return 0; }
 if (i==1) { return 2; }
 if (i==2) { return 6; }
 if (i==3) { return 11; }
 if (i==4) { return 17; }
 if (i==5) { return 25; }
 if (i==6) { return 35; }
 if (i==7) { return 46; }
 if (i==8) { return 58; }
 if (i==9) { return 72; }
 if (i==10) { return 88; }
 if (i==11) { return 106; }
 if (i==12) { return 126; }
 if (i==13) { return 147; }
 if (i==14) { return 170; }
 if (i==15) { return 195; }
 if (i==16) { return 221; }
 if (i==17) { return 250; }
 if (i==18) { return 280; }
 if (i==19) { return 311; }
 if (i==20) { return 343; }
 return 343;
}

function PsiPPDpoor(i) {
 if (i==0) { return 0; }
 if (i==1) { return 0; }
 if (i==2) { return 1; }
 if (i==3) { return 3; }
 if (i==4) { return 5; }
 if (i==5) { return 7; }
 if (i==6) { return 11; }
 if (i==7) { return 15; }
 if (i==8) { return 19; }
 if (i==9) { return 23; }
 if (i==10) { return 27; }
 if (i==11) { return 35; }
 if (i==12) { return 43; }
 if (i==13) { return 51; }
 if (i==14) { return 59; }
 if (i==15) { return 67; }
 if (i==16) { return 79; }
 if (i==17) { return 91; }
 if (i==18) { return 103; }
 if (i==19) { return 115; }
 if (i==20) { return 127; }
 return 343;
}

function PsionicTalentPoints() {
 return (has_psionictalent+((has_psionictalent*has_psionictalent + has_psionictalent)/2))
}

function RacialPsionicPoints() {
 if (rayce==99) { return 1; }
 if (rayce==15) { return 3; }
 if (rayce==100) { return 2; }
 if (rayce==83) { return 3; }
 if (rayce==84) { return 2; }
 if (rayce==102) { return 2; }
 if (rayce==103) { return 2; }
 if (rayce==34) { return 1; }
 if (rayce==104) { return 1; }
 if (rayce==105) { return 3; }
 if (rayce==106) { return 3; }
 if (rayce==110) { return 1; }
 return 0;
}

function ImprovedManifestationBonus() {
 if (has_improvedmanifestation==0) { return 0; }
 return (19*has_improvedmanifestation+(has_improvedmanifestation*(has_improvedmanifestation-1)));
}

function WildTalentPoints() {
 if (has_wildtalent==true) { return 2; }
 return 0;
 }

function PsionPoints() {
 z=psion_levels + epic_psion_levels;
 if (z>20) {z=20; }
 return PsiPPDgood(z);
 }

function PsiIntelligenceBonus() {
 if (intelligence<11) { return 0; }
 z=psion_levels + epic_psion_levels;
 if (z>20) {z=20; }
 return Math.floor((modifier_number(intelligence)*z)/2);
 }

function PsiWarriorPoints() {
 z=psiwarrior_levels + epic_psiwarrior_levels;
 if (z>20) {z=20; }
 return PsiPPDpoor(z);
 }

function PsiWisdomBonus() {
 if (wisdom<11) { return 0; }
 z=psiwarrior_levels + epic_psiwarrior_levels;
 if (z>20) {z=20; }
 return Math.floor((modifier_number(wisdom)*z)/2);
 }

function WilderPoints() {
 z=wilder_levels + epic_wilder_levels;
 if (z>20) {z=20; }
 return PsiPPDgood(z);
 }

function PsiCharismaBonus() {
 if (charisma<11) { return 0; }
 z=wilder_levels;
 if (z>20) {z=20; }
 return Math.floor((modifier_number(charisma)*z)/2);
 }

function TotalPsionicPoints() {
 return (RacialPsionicPoints()+PsionicTalentPoints()+WildTalentPoints()+PsionPoints()+PsiIntelligenceBonus()+PsiWarriorPoints()+PsiWisdomBonus()+WilderPoints()+PsiCharismaBonus());
 }

function howmanyclasses() {
 x=0;
 if (barbarian_levels>0) { x++; }
 if (cleric_levels>0) { x++; }
 if (druid_levels>0) { x++; }
 if (fighter_levels>0) { x++; }
 if (monk_levels>0) { x++; }
 if (paladin_levels>0) { x++; }
 if (ranger_levels>0) { x++; }
 if (rogue_levels>0) { x++; }
 if (sorcerer_levels>0) { x++; }
 if (wizard_levels>0) { x++; }
 if (bard_levels>0) { x++; }
 return x;
 }

function NegateHairType() {
 document.form1.hair_type[0].checked=true;
 document.form1.hair_type[0].checked=false;
 NegateBeardType();
 }

function NegateBeardType() {
 document.form1.beard_type[0].checked=true;
 document.form1.beard_type[0].checked=false;
 }

function totalknowledgebase() {
 return knowledgearcana + knowledgearchitecture + knowledgedungeoneering
  + knowledgegeography + knowledgehistory + knowledgelocal
  + knowledgenature + knowledgenobility + knowledgereligion
   + knowledgeplanes;
 }

function add_a_title() {
 z++;
 document.form1.title_list.options[z]=new Option(stringy);
 document.form1.title_list.options[z].value=stringy;
 document.form1.title_list.options[z].text=stringy;
 }

function enuff(i) {
 if (i==0) { return false; }
 if (i<(total_levels-prestige_levels-humanoid_levels)/2) { return false; }
 return true;
 }

function suggest_titles() {
  document.form1.title_list.length=0;

  if (document.form1.moniker.value=="")
   {
     document.form1.title_list.options[0]=new Option(stringy);
     document.form1.title_list.options[0].value="[you need a name]";
     document.form1.title_list.options[0].text="[you need a name]";
    return;
   }
  if (total_levels==0)
   {
     document.form1.title_list.options[0]=new Option(stringy);
     document.form1.title_list.options[0].value="[you need an identity]";
     document.form1.title_list.options[0].text="[you need an identity]";
    return;
   }

  document.form1.title_list.options[0]=new Option("--------------------");
  z=0;
  if (rayce==28) { stringy=" the Aasimar "; add_a_title(); }
  if (abjuration_specialist==true) { stringy=" the Abjurer "; add_a_title(); }
  if (has_acrobatic==true) { stringy=" the Acrobatic "; add_a_title(); }
  if (enuff(cleric_levels)==true) { stringy=" the Adept "; add_a_title(); }
  if (rayce==29) { stringy=" the Air Genasi "; add_a_title(); }
  if ((has_agile==true) || ((jump>=2) && (tumble>=2))) { stringy=" the Agile "; add_a_title(); }
  if ((rayce==168)) { stringy=" the Alaghi "; add_a_title(); }
  if (has_alertness==true) { stringy=" the Alert "; add_a_title(); }
  if (enuff(wizard_levels)==true) { stringy=" the Aloof "; add_a_title(); }
  if (alignment<4) { stringy=" the Altruistic "; add_a_title(); }
  if (alignment==5) { stringy=" the Amoral "; add_a_title(); }
  if (has_animalaffinity) { stringy=" the Animal Lover "; add_a_title(); }
  if ((ride>=2) && (handleanimal>=2)) { stringy=" the Animal Trainer "; add_a_title(); }
  if (handleanimal>=total_levels) { stringy=" the Animal Handler "; add_a_title(); }
  if (appraise>=total_levels) { stringy=" the Appraiser "; add_a_title(); }
  if (enuff(wizard_levels + sorcerer_levels)==true) { stringy=" the Arcane "; add_a_title(); }
  if (rangercombattrack==1) { stringy=" the Archer "; add_a_title(); }
  if (wisdom>14) { stringy=" the Astute "; add_a_title(); }
  if ((has_athletic==true) || ((climb>=2) && (swim>=2))) { stringy=" the Athletic "; add_a_title(); }
  if (dexterity<6) { stringy=" the Awkward "; add_a_title(); }
  if (alignment>5) { stringy=" the Bad-Tempered "; add_a_title(); }
  if (enuff(barbarian_levels)==true) { stringy=" the Barbarian "; add_a_title(); }
  if (enuff(bard_levels)==true) { stringy=" the Bard "; add_a_title(); }
  if (bat_familiar==true) { stringy=" the Bat "; add_a_title(); }
  if (alignment==3) { stringy=" the Beautific "; add_a_title(); }
  if ((charisma>14) && (gender==2)) { stringy=" the Beautiful "; add_a_title(); }
  if (alignment<4) { stringy=" the Blessed "; add_a_title(); }
  if (has_blindfight) { stringy=" the Blind-Fighter "; add_a_title(); }
  if (has_improvedunarmedstrike==true) { stringy=" the Boxer "; add_a_title(); }
  if (rangercombattrack==3) { stringy=" the Beast Wrestler "; add_a_title(); }
  if (strength>14) { stringy=" the Brawny "; add_a_title(); }
  if (intelligence>14) { stringy=" the Bright "; add_a_title(); }
  if (enuff(barbarian_levels)==true) { stringy=" the Brute "; add_a_title(); }
  if (rayce==23) { stringy=" the Bugbear "; add_a_title(); }
  if (enuff(rogue_levels)==true) { stringy=" the Burglar "; add_a_title(); }
  if (alignment==7) { stringy=" the Calculating "; add_a_title(); }
  if (alignment>6) { stringy=" the Callous "; add_a_title(); }
  if (enuff(cleric_levels)==true) { stringy=" the Canon "; add_a_title(); }
  if (total_levels>4) { stringy=" the Capable "; add_a_title(); }
  if ((alignment==6) || (alignment==9)) { stringy=" the Capricious "; add_a_title(); }
  if ((alignment==3) || (alignment==6) || (alignment==9)) { stringy=" the Carefree "; add_a_title(); }
  if (cat_familiar==true) { stringy=" the Cat "; add_a_title(); }
  if ((rayce==180)) { stringy=" the Catfolk "; add_a_title(); }
  if ((rayce==74)) { stringy=" the Centaur "; add_a_title(); }
  if (enuff(fighter_levels +paladin_levels)==true) { stringy=" the Champion "; add_a_title(); }
  if (rayce==35) { stringy=" the Chaonid "; add_a_title(); }
  if (rayce==129) { stringy=" the Chaos Gnome "; add_a_title(); }
  if ((alignment==3) || (alignment==6) || (alignment==9)) { stringy=" the Chaotic "; add_a_title(); }
  if (charisma>=14) { stringy=" the Charismatic "; add_a_title(); }
  if (alignment<4) { stringy=" the Cheerful "; add_a_title(); }
  if (enuff(cleric_levels)==true) { stringy=" the Cleric "; add_a_title(); }
  if (intelligence>14) { stringy=" the Clever "; add_a_title(); }
  if (dexterity<6) { stringy=" the Clumsy "; add_a_title(); }
  if (enuff(barbarian_levels)==true) { stringy=" the Coarse "; add_a_title(); }
  if (alignment<4) { stringy=" the Compassionate "; add_a_title(); }
  if (alignment==6) { stringy=" the Confusing "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Conscientious "; add_a_title(); }
  if ((alignment<4) && (paladin_levels +cleric_levels>0)) { stringy=" the Consecrated "; add_a_title(); }
  if (alignment<3) { stringy=" the Considerate "; add_a_title(); }
  if (conjuration_specialist==true) { stringy=" the Conjuror "; add_a_title(); }
  if (enuff(cleric_levels)==true) { stringy=" the Contemplative "; add_a_title(); }
  if (alignment>7) { stringy=" the Corrupt "; add_a_title(); }
  if (alignment<3) { stringy=" the Courteous "; add_a_title(); }
  if (intelligence>14) { stringy=" the Crafty "; add_a_title(); }
  if (enuff(barbarian_levels)==true) { stringy=" the Crude "; add_a_title(); }
  if (alignment>6) { stringy=" the Cruel "; add_a_title(); }
  if (enuff(cleric_levels)==true) { stringy=" the Curate "; add_a_title(); }
  if ((has_deceitful) && (alignment>4)) { stringy=" the Deceitful "; add_a_title(); }
  if (enuff(cleric_levels +paladin_levels)==true) { stringy=" the Dedicated "; add_a_title(); }
  if (wisdom>14) { stringy=" the Deep "; add_a_title(); }
  if (has_deceitful==true) { stringy=" the Deceitful "; add_a_title(); }
  if (enuff(paladin_levels)==true) { stringy=" the Defender "; add_a_title(); }
  if ((alignment>7) && (enuff(cleric_levels)==true)) { stringy=" the Defiled "; add_a_title(); }
  if (has_defthands==true) { stringy=" the Deft "; add_a_title(); }
  if (alignment==9) { stringy=" the Demonic "; add_a_title(); }
  if (intelligence<6) { stringy=" the Dense "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Dependable "; add_a_title(); }
  if ((rayce>=56) && (rayce<=64)) { stringy=" of the Desert "; add_a_title(); }
  if ((rayce==176)) { stringy=" the Desmodu "; add_a_title(); }
  if (alignment==9) { stringy=" the Destructive "; add_a_title(); }
  if (alignment==7) { stringy=" the Diabolic "; add_a_title(); }
  if (has_diligent==true) { stringy=" the Diligent "; add_a_title(); }
  if (intelligence<6) { stringy=" the Dim "; add_a_title(); }
  if (diplomacy>=total_levels) { stringy=" the Diplomatic "; add_a_title(); }
  if (wisdom>14) { stringy=" the Discerning "; add_a_title(); }
  if ((alignment==6) || (alignment==9)) { stringy=" the Discourteous "; add_a_title(); }
  if ((alignment==6)) { stringy=" the Disorderly "; add_a_title(); }
  if (divination_specialist==true) { stringy=" the Diviner "; add_a_title(); }
  if (rayce==130) { stringy=" the Dream Dwarf "; add_a_title(); }
  if (enuff(druid_levels)==true) { stringy=" the Druid "; add_a_title(); }
  if (intelligence<6) { stringy=" the Dumb "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Dutiful "; add_a_title(); }
  if ((rayce==4) || (rayce==162) || (rayce==91) || (rayce==14) || (rayce==15) || (rayce==38) || (rayce==48) || (rayce==56) || (rayce==65)) { stringy=" the Dwarf "; add_a_title(); }
  if (alignment==1) { stringy=" the Earnest "; add_a_title(); }
  if (rayce==30) { stringy=" the Earth Genasi "; add_a_title(); }
  if (alignment==3) { stringy=" the Easy-Going "; add_a_title(); }
  if (enuff(wizard_levels + bard_levels)==true) { stringy=" the Educated "; add_a_title(); }
  if (alignment>6) { stringy=" the Egotistical "; add_a_title(); }
  if ((rayce==3) || (rayce==158) || (rayce==159) || (rayce==9) || (rayce==10) || (rayce==11) || (rayce==12) || (rayce==13) || (rayce==48) || (rayce==57) || (rayce==66)) { stringy=" the Elf "; add_a_title(); }
  if ((enchantment_specialist==true) && (gender==1)) { stringy=" the Enchanter "; add_a_title(); }
  if ((enchantment_specialist==true) && (gender==1)) { stringy=" the Enchantress "; add_a_title(); }
  if (constitution>14) { stringy=" the Enduring "; add_a_title(); }
  if (enuff(wizard_levels + sorcerer_levels)) { stringy=" the Enigmatic "; add_a_title(); }
  if ((totalknowledgebase()>2*total_levels) || (enuff(wizard_levels)==true)) { stringy=" the Erudite "; add_a_title(); }
  if (enuff(wizard_levels)==true) { stringy=" the Esoteric "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Ethical "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Even-Handed "; add_a_title(); }
  if (has_evil_domain==true) { stringy=" the Evil "; add_a_title(); }
  if (evocation_specialist==true) { stringy=" the Evoker "; add_a_title(); }
  if (has_feeble==true) { stringy=" the Feeble "; add_a_title(); }
  if (rayce==131) { stringy=" the Feral Gargun "; add_a_title(); }
  if (rayce==31) { stringy=" the Fire Genasi "; add_a_title(); }
  if (constitution>14) { stringy=" the Fit "; add_a_title(); }
  if (strength>15) { stringy=" the Forceful "; add_a_title(); }
  if (forgery>=total_levels) { stringy=" the Forger "; add_a_title(); }
  if (constitution<6) { stringy=" the Fragile "; add_a_title(); }
  if (has_frail) { stringy=" the Frail "; add_a_title(); }
  if ((alignment==3) || (alignment==6)) { stringy=" the Free-Spirited "; add_a_title(); }
  if (alignment<4) { stringy=" the Friendly "; add_a_title(); }
  if (enuff(paladin_levels)==true) { stringy=" the Gallant "; add_a_title(); }
  if (alignment<4) { stringy=" the Generous "; add_a_title(); }
  if (alignment<4) { stringy=" the Gentle "; add_a_title(); }
  if (rayce==83) { stringy=" the Githyanki "; add_a_title(); }
  if (rayce==84) { stringy=" the Githzerai "; add_a_title(); }
  if (rayce==24) { stringy=" the Gnoll "; add_a_title(); }
  if ((rayce==5) || (rayce==16) || (rayce==17) || (rayce==37) || (rayce==39) || (rayce==49) || (rayce==58) || (rayce==67)) { stringy=" the Gnome "; add_a_title(); }
  if ((rayce==26) || (rayce==40) || (rayce==50) || (rayce==59) || (rayce==68)) { stringy=" the Goblin "; add_a_title(); }
  if (rayce==126) { stringy=" the Goliath "; add_a_title(); }
  if (alignment<4) { stringy=" the Good "; add_a_title(); }
  if (charisma>15) { stringy=" the Gorgeous "; add_a_title(); }
  if (alignment==1) { stringy=" the Gracious "; add_a_title(); }
  if (has_improvedgrapple==true) { stringy=" the Grappler "; add_a_title(); }
  if (rayce==127) { stringy=" the Gray Orc "; add_a_title(); }
  if (alignment>7) { stringy=" the Greedy "; add_a_title(); }
  if (enuff(paladin_levels)==true) { stringy=" the Guardian "; add_a_title(); }
  if (enuff(ranger_levels)==true) {
  	stringy=" the Guide "; 
  	add_a_title(); 
  }
  if ((gender==1) && (document.form1.beard_type[3].checked==true)) {
  	stringy=" the Hairy "; 
  	add_a_title(); 
  }
  if ((rayce==82) || (halfdragon_template==true)) { 
  	stringy=" the Half-Dragon "; 
  	add_a_title(); 
  }
  if ((rayce==2) || (rayce==160) || (rayce==161) || (rayce==41) || (rayce==50) || (rayce==60) || (rayce==69)) {
  	stringy=" the Half-Elf "; 
  	add_a_title(); 
  }
  if ((rayce==76) || (rayce==175)) { stringy=" the Half-Ogre "; add_a_title(); }
  if ((rayce==7)                        |(rayce==42) || (rayce==52) || (rayce==61) || (rayce==70)) { stringy=" the Half-Orc "; add_a_title(); }
  if ((rayce==6) || (rayce==17) || (rayce==18) || (rayce==43) || (rayce==53) || (rayce==62) || (rayce==71)) { stringy=" the Halfling "; add_a_title(); }
  if (alignment==1) { stringy=" the Hallowed "; add_a_title(); }
  if (
     (document.form1.lighthammer.checked==true) || (document.form1.warhammer.checked==true) || (document.form1.hammer.checked==true)
     ) { stringy=" the Hammer "; add_a_title(); }
  if ((gender==1) && (charisma>14)) { stringy=" the Handsome "; add_a_title(); }
  if (constitution>14) { stringy=" the Hardy "; add_a_title(); }
  if (hawk_familiar==true) { stringy=" the Hawk "; add_a_title(); }
  if ((heal>=total_levels) || (has_healing_domain==true)) { stringy=" the Healer "; add_a_title(); }
  if (constitution>14) { stringy=" the Healthy "; add_a_title(); }
  if (alignment>6) { stringy=" the Heartless "; add_a_title(); }
  if (alignment<4) { stringy=" the Helpful "; add_a_title(); }
  if (charisma<5) { stringy=" the Hideous "; add_a_title(); }
  if ((rayce==85)) { stringy=" the High Ogre "; add_a_title(); }
  if (rayce==21) { stringy=" the Hobgoblin "; add_a_title(); }
  if ((alignment<4) && (cleric_levels +paladin_levels>0)) { stringy=" the Holy "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Honest "; add_a_title(); }
  if ((alignment==1) || (alignment==4) || (alignment==7)) { stringy=" the Honorable "; add_a_title(); }
  if ((enuff(ranger_levels)==true) || (survival>=total_levels)) { stringy=" the Hunter "; add_a_title(); }
  if ((alignment<4)) { stringy=" the Humane "; add_a_title(); }
  if ((rayce==167)) { stringy=" the Hybsil "; add_a_title(); }
  if (document.form1.reading_barbarian[0].checked==true) { stringy=" the Illiterate "; add_a_title(); }
  if (illusion_specialist==true) { stringy=" the Illusionist "; add_a_title(); }
  if ((alignment==6) || (alignment==8) || (alignment==9)) { stringy=" the Immoral "; add_a_title(); }
  if ((alignment==4)) { stringy=" the Impartial "; add_a_title(); }
  if (wisdom<6) { stringy=" the Imprudent "; add_a_title(); }
  if (alignment==6) { stringy=" the Inconsistent "; add_a_title(); }
  if (alignment==9) { stringy=" the Indecent "; add_a_title(); }
  if ((alignment==3) || (alignment==6)) { stringy=" the Independent "; add_a_title(); }
  if ((alignment==5) || (alignment==6)) { stringy=" the Indifferent "; add_a_title(); }
  if ((has_investigator==true) || ((gatherinformation>=2) && (search>=2))) { stringy=" the Investigator "; add_a_title(); }
  if (alignment==4) { stringy=" the Judicious "; add_a_title(); }
  if ((rayce>=65) && (rayce<=73)) { stringy=" of the Jungle "; add_a_title(); }
  if (alignment==1) { stringy=" the Just "; add_a_title(); }
  if (enuff(paladin_levels)==true) { stringy=" the Keeper "; add_a_title(); }
  if ((rayce==81)) { stringy=" the Kender "; add_a_title(); }
  if ((rayce==181)) { stringy=" the Killoren "; add_a_title(); }
  if (alignment<3) { stringy=" the Kind-Hearted "; add_a_title(); }
  if ((alignment==6) || (alignment==8) || (alignment==9)) { stringy=" the Knave "; add_a_title(); }
  if ((rayce==25) || (rayce==45) || (rayce==54) || (rayce==63) || (rayce==72)) { stringy=" the Kobold "; add_a_title(); }
  if ((rayce==169)) { stringy=" the Kuo-Toa "; add_a_title(); }
  if ((enuff(rogue_levels)==true) && (alignment>4)) { stringy=" the Larcenous "; add_a_title(); }
  if (has_law_domain==true) { stringy=" the Lawful "; add_a_title(); }
  if ((totalknowledgebase()>2*total_levels) || (enuff(wizard_levels)==true)) { stringy=" the Learned "; add_a_title(); }
  if ((cleric_levels>0) && ((alignment==4) || (alignment==7))) { stringy=" the Legalistic "; add_a_title(); }
  if (lizard_familiar==true) { stringy=" the Lizard "; add_a_title(); }
  if ((rayce==20) && (gender==1)) { stringy=" the Lizard Man "; add_a_title(); }
  if ((rayce==20) && (gender==2)) { stringy=" the Lizard Lady "; add_a_title(); }
  if (enuff(bard_levels)==true) { stringy=" the Lorist "; add_a_title(); }
  if ((rayce==177)) { stringy=" the Loxo "; add_a_title(); }
  if (has_luck_domain==true) { stringy=" the Lucky "; add_a_title(); }
  if ((rayce==151)) { stringy=" the Lupin "; add_a_title(); }
  if (has_magic_domain==true) { stringy=" the Magical "; add_a_title(); }
  if (charisma>14) { stringy=" the Magnetic "; add_a_title(); }
  if (charisma>14) { stringy=" the Magnificent "; add_a_title(); }
  if (alignment>6) { stringy=" the Malevolent "; add_a_title(); }
  if (alignment>7) { stringy=" the Malicious "; add_a_title(); }
  if (enuff(monk_levels)==true) { stringy=" the Martial Artist "; add_a_title(); }
  if (alignment>6) { stringy=" the Mean "; add_a_title(); }
  if (alignment>6) { stringy=" the Mean-Spirited "; add_a_title(); }
  if (alignment<4) { stringy=" the Merciful "; add_a_title(); }
  if (alignment>6) { stringy=" the Merciless "; add_a_title(); }
  if ((rayce==79) && (gender==1)) { stringy=" the Merman "; add_a_title(); }
  if ((rayce==79) && (gender==2)) { stringy=" the Mermaid "; add_a_title(); }
  if (alignment==4) { stringy=" the Meticulous "; add_a_title(); }
  if (strength>14) { stringy=" the Mighty "; add_a_title(); }
  if (enuff(bard_levels)==true) { stringy=" the Minstrel "; add_a_title(); }
  if ((rayce==125) && (gender==1)) { stringy=" the Mongrel Man "; add_a_title(); }
  if ((rayce==125) && (gender==2)) { stringy=" the Mongrel Woman "; add_a_title(); }
  if (enuff(monk_levels)==true) { stringy=" the Monk "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Moral "; add_a_title(); }
  if (howmanyclasses()>2) { stringy=" the Multi-Talented "; add_a_title(); }
  if (strength>15) { stringy=" the Muscular "; add_a_title(); }
  if (enuff(bard_levels)==true) { stringy=" the Musician "; add_a_title(); }
  if (enuff(fighter_levels)==true) { stringy=" the Myrmidon "; add_a_title(); }
  if (enuff(wizard_levels)==true) { stringy=" the Mysterious "; add_a_title(); }
  if (enuff(wizard_levels +cleric_levels +druid_levels)) { stringy=" the Mystical "; add_a_title(); }
  if (alignment>6) { stringy=" the Nasty "; add_a_title(); }
  if (necromancy_specialist==true) { stringy=" the Necromancer "; add_a_title(); }
  if ((has_negotiator==true) || ((diplomacy>=2) && (sensemotive>=2))) { stringy=" the Negotiator "; add_a_title(); }
  if ((has_nimblefingers==true) || (dexterity>14)) { stringy=" the Nimble "; add_a_title(); }
  if (alignment<3) { stringy=" the Noble "; add_a_title(); }
  if ((rayce==75)) { stringy=" the Ogre "; add_a_title(); }
  if ((rayce==22) || (rayce==46) || (rayce==55) || (rayce==64) || (rayce==73)) { stringy=" the Orc "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Orderly "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Organized "; add_a_title(); }
  if (owl_familiar==true) { stringy=" the Owl "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Painstaking "; add_a_title(); }
  if (enuff(paladin_levels)==true) { stringy=" the Paladin "; add_a_title(); }
  if (enuff(cleric_levels)==true) { stringy=" the Parson "; add_a_title(); }
  if (enuff(cleric_levels)==true) { stringy=" the Pastor "; add_a_title(); }
  if (enuff(ranger_levels)==true) { stringy=" the Pathfinder "; add_a_title(); }
  if ((has_persuasive==true) || ((bluff>=2) && (intimidate>=2))) { stringy=" the Persuasive "; add_a_title(); }
  if (illusion_specialist==true) { stringy=" the Phantasmist "; add_a_title(); }
  if ((alignment<4) && (charisma>11)) { stringy=" the Pleasant "; add_a_title(); }
  if ((alignment==1) || (alignment==4) || (alignment==7)) { stringy=" the Polite "; add_a_title(); }
  if (enuff(cleric_levels)==true) { stringy=" the Prefect "; add_a_title(); }
  if ((enuff(paladin_levels)==true) || (has_protection_domain==true)) { stringy=" the Protector "; add_a_title(); }
  if (alignment>6) { stringy=" the Proud "; add_a_title(); }
  if (wisdom>14) { stringy=" the Prudent "; add_a_title(); }
  if (enuff(psion_levels)==true) { stringy=" the Psionicist "; add_a_title(); }
  if (alignment==1) { stringy=" the Pure "; add_a_title(); }
  if (dexterity>14) { stringy=" the Quick "; add_a_title(); }
  if (intelligence>14) { stringy=" the Quick-Thinking "; add_a_title(); }
  if (enuff(ranger_levels)==true) { stringy=" the Ranger "; add_a_title(); }
  if ((rayce==179)) { stringy=" the Raptoran "; add_a_title(); }
  if (alignment==6) { stringy=" the Rascal "; add_a_title(); }
  if (rat_familiar==true) { stringy=" the Rat "; add_a_title(); }
  if (raven_familiar==true) { stringy=" the Raven "; add_a_title(); }
  if ((alignment==1) || (alignment==7) || (alignment==4)) { stringy=" the Refined "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Reliable "; add_a_title(); }
  if (charisma<5) { stringy=" the Repugnant "; add_a_title(); }
  if (charisma<5) { stringy=" the Repulsive "; add_a_title(); }
  if (constitution>14) { stringy=" the Resiliant "; add_a_title(); }
  if ((alignment==1) || (alignment==4) || (alignment==2)) { stringy=" the Respectable "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Responsible "; add_a_title(); }
  if (rangercombattrack==4) { stringy=" the Rider "; add_a_title(); }
  if (alignment==4) { stringy=" the Rigid "; add_a_title(); }
  if ((enuff(rogue_levels)==true) && (alignment>2)) { stringy=" the Robber "; add_a_title(); }
  if (constitution>14) { stringy=" the Robust "; add_a_title(); }
  if (enuff(rogue_levels)==true) { stringy=" the Rogue "; add_a_title(); }
  if (has_run==true) { stringy=" the Runner "; add_a_title(); }
  if (wisdom>14) { stringy=" the Sagacious "; add_a_title(); }
  if ((cleric_levels +paladin_levels>0) && (alignment==1)) { stringy=" the Sanctified "; add_a_title(); }
  if (totalknowledgebase()>2*total_levels) { stringy=" the Scholar "; add_a_title(); }
  if (enuff(rogue_levels)) { stringy=" the Scoundrel "; add_a_title(); }
  if (constitution<6) { stringy=" the Scrawny "; add_a_title(); }
  if (enuff(ranger_levels)==true) { stringy=" the Scout "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Scrupulous "; add_a_title(); }
  if ((rayce>=38) && (rayce<=46)) { stringy=" of the Sea "; add_a_title(); }
  if (rayce==171) { stringy=" the Sea Kin "; add_a_title(); }
  if ((alignment==7) || (alignment==4)) { stringy=" the Severe "; add_a_title(); }
  if (has_shaky==true) { stringy=" the Shaky "; add_a_title(); }
  if (rayce==172) { stringy=" the Sharakim "; add_a_title(); }
  if (enuff(rogue_levels)==true) { stringy=" the Sharper "; add_a_title(); }
  if (intelligence<6) { stringy=" the Simple "; add_a_title(); }
  if (strength>14) { stringy=" the Sinewy "; add_a_title(); }
  if (rayce==173) { stringy=" the Skulk "; add_a_title(); }
  if (document.form1.slippery_trait.checked==true) { stringy=" the Slippery "; add_a_title(); }
  if (has_slowpoke) { stringy=" the Slow "; add_a_title(); }
  if (intelligence<6) { stringy=" the Slow-Witted "; add_a_title(); }
  if (has_slowpoke==true) { stringy=" the Slowpoke "; add_a_title(); }
  if (intelligence>14) { stringy=" the Sly "; add_a_title(); }
  if (intelligence>14) { stringy=" the Smart "; add_a_title(); }
  if (snake_familiar==true) { stringy=" the Snake "; add_a_title(); }
  if (enuff(fighter_levels)==true) { stringy=" the Soldier "; add_a_title(); }
  if ((enuff(sorcerer_levels)==true) && (gender==1)) { stringy=" the Sorcerer "; add_a_title(); }
  if ((enuff(sorcerer_levels)==true) && (gender==2)) { stringy=" the Sorceress "; add_a_title(); }
  if (spellcraft>=total_levels) { stringy=" the Spellcrafter "; add_a_title(); }
  if (illusion_specialist==true) { stringy=" the Spellbinder "; add_a_title(); }
  if (alignment>6) { stringy=" the Spiteful "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Steady "; add_a_title(); }
  if ((has_stealthy==true) || ((hide>=2) && (movesilently>=2))) { stringy=" the Stealthy "; add_a_title(); }
  if (rayce==132) { stringy=" the Stonechild "; add_a_title(); }
  if (enuff(ranger_levels)==true) { stringy=" the Strider "; add_a_title(); }
  if (strength>14) { stringy=" the Strong "; add_a_title(); }
  if ((gender==1) && (charisma>14)) { stringy=" the Studly "; add_a_title(); }
  if (intelligence<6) { stringy=" the Stupid "; add_a_title(); }
  if (constitution>14) { stringy=" the Sturdy "; add_a_title(); }
  if (intelligence>14) { stringy=" the Subtle "; add_a_title(); }
  if (has_sun_domain==true) { stringy=" the Sunny "; add_a_title(); }
  if (survival>=total_levels) { stringy=" the Survivalist "; add_a_title(); }
  if (enuff(fighter_levels)==true) { stringy=" the Swashbckler "; add_a_title(); }
  if (dexterity>14) { stringy=" the Swift "; add_a_title(); }
  if (swim>=total_levels) { stringy=" the Swimmer "; add_a_title(); }
  if ((enuff(fighter_levels)==true) && (gender==1)) { stringy=" the Swordsman "; add_a_title(); }
  if ((enuff(fighter_levels)==true) && (gender==2)) { stringy=" the Swordwoman "; add_a_title(); }
  if (intelligence>14) { stringy=" the Thinker "; add_a_title(); }
  if (rayce==34) { stringy=" the Thri-Kreen "; add_a_title(); }
  if (rayce==33) { stringy=" the Tiefling "; add_a_title(); }
  if (toad_familiar==true) { stringy=" the Toad "; add_a_title(); }
  if (has_improvedtoughness) { stringy=" the Too-Tough "; add_a_title(); }
  if (constitution>14) { stringy=" the Tough "; add_a_title(); }
  if (has_track==true) { stringy=" the Tracker "; add_a_title(); }
  if (transmutation_specialist==true) { stringy=" the Transmuter "; add_a_title(); }
  if (has_travel_domain==true) { stringy=" the Traveler "; add_a_title(); }
  if ((has_deceitful) || ((disguise>=2) && (forgery>=2))) { stringy=" the Tricky "; add_a_title(); }
  if (rayce==27) { stringy=" the Troglodyte "; add_a_title(); }
  if (enuff(fighter_levels)>0) { stringy=" the Trooper "; add_a_title(); }
  if (enuff(bard_levels)==true) { stringy=" the Troubadour "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Trustworthy "; add_a_title(); }
  if ((alignment==1) || (alignment==4)) { stringy=" the Truthful "; add_a_title(); }
  if (tumble>=total_levels) { stringy=" the Tumbler "; add_a_title(); }
  if (charisma<7) { stringy=" the Ugly "; add_a_title(); }
  if (alignment>4) { stringy=" the Uncaring "; add_a_title(); }
  if (rayce==174) { stringy=" the Underfolk "; add_a_title(); }
  if (alignment>6) { stringy=" the Unfeeling "; add_a_title(); }
  if (alignment==6) { stringy=" the Unpredictable "; add_a_title(); }
  if (alignment==6) { stringy=" the Unreliable "; add_a_title(); }
  if (wisdom<7) { stringy=" the Unwise "; add_a_title(); }
  if (alignment==1) { stringy=" the Upright "; add_a_title(); }
  if (alignment>6) { stringy=" the Vengeful "; add_a_title(); }
  if (alignment>7) { stringy=" the Vicious "; add_a_title(); }
  if (constitution>14) { stringy=" the Vigorous "; add_a_title(); }
  if (alignment>6) { stringy=" the Villain "; add_a_title(); }
  if (alignment>5) { stringy=" the Violent "; add_a_title(); }
  if (alignment<3) { stringy=" the Virtuous "; add_a_title(); }
  if (alignment==6) { stringy=" the Volatile "; add_a_title(); }
  if ((rayce==80)) { stringy=" the Warforged "; add_a_title(); }
  if (has_war_domain==true) { stringy=" the Warlike "; add_a_title(); }
  if (rayce==32) { stringy=" the Water Genasi "; add_a_title(); }
  if (weasel_familiar==true) { stringy=" the Weasel "; add_a_title(); }
  if ((charisma>14) || (enuff(bard_levels)==true)) { stringy=" the Well-Spoken "; add_a_title(); }
  if ((rayce==166)) { stringy=" the Wemic "; add_a_title(); }
  if (rayce==128) { stringy=" the Whisper Gnome "; add_a_title(); }
  if (wisdom>14) { stringy=" the Wise "; add_a_title(); }
  if (wisdom<6) { stringy=" the Witless "; add_a_title(); }
  if (enuff(wizard_levels)==true) { stringy=" the Wizard "; add_a_title(); }
  if (has_improvedgrapple) { stringy=" the Wrestler "; add_a_title(); }
  if ((alignment==1) || (alignment==3)) { stringy=" the Zealous "; add_a_title(); }
  if (rayce==36) { stringy=" the Zenythr "; add_a_title(); }

  y=1+Math.ceil((z-1)*Math.random());
  document.form1.title_list.options[y].selected=true;
 }

function DefenseBonusA(i) {
 if (i>=18) { return 8; }
 if (i>=15) { return 7; }
 if (i>=12) { return 6; }
 if (i>= 9) { return 5; }
 if (i>= 6) { return 4; }
 if (i>= 3) { return 3; }
 if (i>= 1) { return 2; }
}

function DefenseBonusB(i) {
 if (i>=18) { return 9; }
 if (i>=15) { return 8; }
 if (i>=12) { return 7; }
 if (i>= 9) { return 6; }
 if (i>= 6) { return 5; }
 if (i>= 3) { return 4; }
 if (i>= 1) { return 3; }
}

function DefenseBonusC(i) {
 if (i>=18) { return 10; }
 if (i>=15) { return 9; }
 if (i>=12) { return 8; }
 if (i>= 9) { return 7; }
 if (i>= 6) { return 6; }
 if (i>= 3) { return 5; }
 if (i>= 1) { return 4; }
}

function DefenseBonusD(i) {
 if (i>=18) { return 12; }
 if (i>=15) { return 11; }
 if (i>=12) { return 10; }
 if (i>= 9) { return 9; }
 if (i>= 6) { return 8; }
 if (i>= 3) { return 7; }
 if (i>= 1) { return 6; }
}

function ClassDefenseBonusOption() {
 if ((cleric_levels>0) || (fighter_levels>0) || (soulknife_levels>0) || (paladin_levels>0) || (prestige_armor_entitlement==3) || (npcother_class_name=="Aristocrat") || (npcother_class_name=="Paladin of Freedom") || (npcother_class_name=="Sohei") || (npcother_class_name=="Warrior")) { return DefenseBonusD(total_levels); }
 if ((npcother_class_name=="Favored Soul") || (barbarian_levels>0) || (druid_levels>0) || (npcother_class_name=="Samurai") || (psiwarrior_levels>0) || (prestige_armor_entitlement==2)) { return DefenseBonusC(total_levels); }
 if ((bard_levels>0) || (npcother_class_name=="Spirit Shaman") || (npcother_class_name=="Swashbuckler") || (npcother_class_name=="Spellthief") || (ranger_levels + epic_ranger_levels>0) || (npcother_class_name=="Scout") || (rogue_levels>0) || (prestige_armor_entitlement==1) || (npcother_class_name=="Warmage") || (npcother_class_name=="Warlock") || (npcother_class_name=="Expert")) { return DefenseBonusB(total_levels); }
 if ((monk_levels>0) || (npcother_class_name=="Shugenja") || (sorcerer_levels>0) || (psion_levels>0) || (wilder_levels>0) || (artificer_levels>0) || (wizard_levels>0) || (prestige_armor_entitlement==0) || (npcother_class_name=="Ninja") || (npcother_class_name=="Chaos Mage") || (npcother_class_name=="Sha_ir") || (npcother_class_name=="Wu Jen") || (npcother_class_name=="Adept")) { return DefenseBonusA(total_levels); }
 return 0;
 }

function lifetime_action_points() {
 y=total_levels + epic_total_levels;
 z=(y*(y+1)/2);
 x=5*y + Math.floor(z);
 return x;
 }

function EpicUpitats(i) {
 if (epic_intelligence_increase>=i) { return 4; }
 if (epic_intelligence_increase + epic_wisdom_increase>=i) { return 5; }
 if (epic_intelligence_increase + epic_wisdom_increase + epic_charisma_increase>=i) { return 6; }
 if (epic_intelligence_increase + epic_wisdom_increase + epic_charisma_increase + epic_strength_increase>=i) { return 1; }
 if (epic_intelligence_increase + epic_wisdom_increase + epic_charisma_increase + epic_strength_increase + epic_dexterity_increase>=i) { return 2; }
 if (epic_intelligence_increase + epic_wisdom_increase + epic_charisma_increase + epic_strength_increase + epic_dexterity_increase + epic_constitution_increase>=i) { return 3; }
 return 0;
 }

function epic_abilities() {
 if ((AbilityIncreasesAreLocked==true) || (FighterFeatsEtcFrozen==true))
   {RememberWhichAbilitiesYouRaised(); return; }

 x=Math.floor(epic_total_levels/4);
 z=x
   -document.form1.epic_strength.selectedIndex
   -document.form1.epic_dexterity.selectedIndex
   -document.form1.epic_constitution.selectedIndex
   -document.form1.epic_intelligence.selectedIndex
   -document.form1.epic_wisdom.selectedIndex
   if (z<0) { z=0; }
   if (document.form1.epic_charisma.selectedIndex>z) { document.form1.epic_charisma.selectedIndex=z; }

 z=x
   -document.form1.epic_strength.selectedIndex
   -document.form1.epic_dexterity.selectedIndex
   -document.form1.epic_constitution.selectedIndex
   -document.form1.epic_intelligence.selectedIndex
   -document.form1.epic_charisma.selectedIndex
   if (z<0) {z=0; }
   if (document.form1.epic_wisdom.selectedIndex>z) { document.form1.epic_wisdom.selectedIndex=z; }

 z=x
   -document.form1.epic_strength.selectedIndex
   -document.form1.epic_dexterity.selectedIndex
   -document.form1.epic_constitution.selectedIndex
   -document.form1.epic_wisdom.selectedIndex
   -document.form1.epic_charisma.selectedIndex
   if (z<0) {z=0; }
   if (document.form1.epic_intelligence.selectedIndex>z) { document.form1.epic_intelligence.selectedIndex=z; }

 z=x
   -document.form1.epic_strength.selectedIndex
   -document.form1.epic_dexterity.selectedIndex
   -document.form1.epic_intelligence.selectedIndex
   -document.form1.epic_wisdom.selectedIndex
   -document.form1.epic_charisma.selectedIndex
   if (z<0) {z=0; }
   if (document.form1.epic_constitution.selectedIndex>z) { document.form1.epic_constitution.selectedIndex=z; }

 z=x
   -document.form1.epic_strength.selectedIndex
   -document.form1.epic_constitution.selectedIndex
   -document.form1.epic_intelligence.selectedIndex
   -document.form1.epic_wisdom.selectedIndex
   -document.form1.epic_charisma.selectedIndex
   if (z<0) {z=0; }
   if (document.form1.epic_dexterity.selectedIndex>z) { document.form1.epic_dexterity.selectedIndex=z; }

 z=x
   -document.form1.epic_dexterity.selectedIndex
   -document.form1.epic_constitution.selectedIndex
   -document.form1.epic_intelligence.selectedIndex
   -document.form1.epic_wisdom.selectedIndex
   -document.form1.epic_charisma.selectedIndex
   if (z<0) {z=0; }
   if (document.form1.epic_strength.selectedIndex>z) { document.form1.epic_strength.selectedIndex=z; }

 epic_ability_points_gained=
   document.form1.epic_strength.selectedIndex
 +document.form1.epic_dexterity.selectedIndex
 +document.form1.epic_constitution.selectedIndex
 +document.form1.epic_intelligence.selectedIndex
 +document.form1.epic_wisdom.selectedIndex
 +document.form1.epic_charisma.selectedIndex;
 }

function epic_abilitiesA() {
 epic_abilities();
 ArrowShow();
 }

// Accept Race, Sex, Alignment, Total levels.
function ThisTakesAMoment() {
 if (CharacterTypeHasBeenEstablished==true) { return; }
 if (AbilitiesHaveBeenEstablished==false) { return; }
 if (rayce==0) { return; }
 if (gender==0 && rayce!=99 && rayce!=80) { return; }
 if (rayce==99 || rayce===80) { ClearGender(); }
 if (alignment==0) { return; }
 if (total_levels==0) { return; }
 if (document.form1.totallevels[20].checked==true) { document.form1.second_comment_box.value="Epic characters take a little longer."; return; }

 document.form1.second_comment_box.value="You chose a ";
   if (alignment==1) { document.form1.second_comment_box.value+="Lawful Good"; }
   if (alignment==2) { document.form1.second_comment_box.value+="Neutral Good"; }
   if (alignment==3) { document.form1.second_comment_box.value+="Chaotic Good"; }
   if (alignment==4) { document.form1.second_comment_box.value+="Lawful Neutral"; }
   if (alignment==5) { document.form1.second_comment_box.value+="True Neutral"; }
   if (alignment==6) { document.form1.second_comment_box.value+="Chaotic Neutral"; }
   if (alignment==7) { document.form1.second_comment_box.value+="Lawful Evil"; }
   if (alignment==8) { document.form1.second_comment_box.value+="Neutral Evil"; }
   if (alignment==9) { document.form1.second_comment_box.value+="Chaotic Evil"; }
   
   document.form1.second_comment_box.value+=", Level "+total_levels +" ";
	if (epic_total_levels>0) {
		document.form1.second_comment_box.value+="+ " + epic_total_levels +" ";
  }

   if (gender==1) { document.form1.second_comment_box.value+="Male "; }
   if (gender==2) { document.form1.second_comment_box.value+="Female "; }

   if (rayce==1) { document.form1.second_comment_box.value+="Human."; }
   if (rayce==2) { document.form1.second_comment_box.value+="Half-Elf."; }
   if (rayce==3) { document.form1.second_comment_box.value+="Elf."; }
   if (rayce==4) { document.form1.second_comment_box.value+="Dwarf."; }
   if (rayce==5) { document.form1.second_comment_box.value+="Gnome."; }
   if (rayce==6) { document.form1.second_comment_box.value+="Halfling."; }
   if (rayce==7) { document.form1.second_comment_box.value+="Half-Orc."; }
   if (rayce==8) { document.form1.second_comment_box.value+=document.form1.otherrace_name.value; }
   if (rayce==9) { document.form1.second_comment_box.value+="Gray Elf."; }
   if (rayce==10) { document.form1.second_comment_box.value+="Wild Elf."; }
   if (rayce==11) { document.form1.second_comment_box.value+="Wood Elf."; }
   if (rayce==12) { document.form1.second_comment_box.value+="Dark Elf."; }
   if (rayce==13) { document.form1.second_comment_box.value+="Sea Elf."; }
   if (rayce==14) { document.form1.second_comment_box.value+="Mountain Dwarf."; }
   if (rayce==15) { document.form1.second_comment_box.value+="Gray Dwarf."; }
   if (rayce==16) { document.form1.second_comment_box.value+="Deep Gnome."; }
   if (rayce==17) { document.form1.second_comment_box.value+="Tallfellow Halfling."; }
   if (rayce==18) { document.form1.second_comment_box.value+="Deep Halfling."; }
   if (rayce==19) { document.form1.second_comment_box.value+="Wild Gnome."; }
   if (rayce==20) { document.form1.second_comment_box.value+="Lizard Folk."; }
   if (rayce==21) { document.form1.second_comment_box.value+="Hobgoblin."; }
   if (rayce==22) { document.form1.second_comment_box.value+="Orc."; }
   if (rayce==23) { document.form1.second_comment_box.value+="Bugbear."; }
   if (rayce==24) { document.form1.second_comment_box.value+="Gnoll."; }
   if (rayce==25) { document.form1.second_comment_box.value+="Kobold."; }
   if (rayce==26) { document.form1.second_comment_box.value+="Goblin."; }
   if (rayce==27) { document.form1.second_comment_box.value+="Troglodyte."; }
   if (rayce==28) { document.form1.second_comment_box.value+="Aasimar."; }
   if (rayce==29) { document.form1.second_comment_box.value+="Air Genasi."; }
   if (rayce==30) { document.form1.second_comment_box.value+="Earth Genasi."; }
   if (rayce==31) { document.form1.second_comment_box.value+="Fire Genasi."; }
   if (rayce==32) { document.form1.second_comment_box.value+="Water Genasi."; }
   if (rayce==33) { document.form1.second_comment_box.value+="Tiefling."; }
   if (rayce==34) { document.form1.second_comment_box.value+="Thri-Kreen."; }
   if (rayce==35) { document.form1.second_comment_box.value+="Chaonid."; }
   if (rayce==36) { document.form1.second_comment_box.value+="Zenythr."; }
   if (rayce==37) { document.form1.second_comment_box.value+="Forest Gnome."; }
   if (rayce==38) { document.form1.second_comment_box.value+="Aquatic Dwarf."; }
   if (rayce==39) { document.form1.second_comment_box.value+="Aquatic Gnome."; }
   if (rayce==40) { document.form1.second_comment_box.value+="Aquatic Goblin."; }
   if (rayce==41) { document.form1.second_comment_box.value+="Aquatic Half-Elf."; }
   if (rayce==42) { document.form1.second_comment_box.value+="Aquatic Half-Orc."; }
   if (rayce==43) { document.form1.second_comment_box.value+="Aquatic Halfling."; }
   if (rayce==44) { document.form1.second_comment_box.value+="Aquatic Human."; }
   if (rayce==45) { document.form1.second_comment_box.value+="Aquatic Kobold."; }
   if (rayce==46) { document.form1.second_comment_box.value+="Aquatic Orc."; }
   if (rayce==47) { document.form1.second_comment_box.value+="Arctic Dwarf."; }
   if (rayce==48) { document.form1.second_comment_box.value+="Arctic Elf."; }
   if (rayce==49) { document.form1.second_comment_box.value+="Arctic Gnome."; }
   if (rayce==50) { document.form1.second_comment_box.value+="Arctic Goblin."; }
   if (rayce==51) { document.form1.second_comment_box.value+="Arctic Half-Elf."; }
   if (rayce==52) { document.form1.second_comment_box.value+="Arctic Half-Orc."; }
   if (rayce==53) { document.form1.second_comment_box.value+="Arctic Halfling."; }
   if (rayce==54) { document.form1.second_comment_box.value+="Arctic Kobold."; }
   if (rayce==55) { document.form1.second_comment_box.value+="Arctic Orc."; }
   if (rayce==56) { document.form1.second_comment_box.value+="Desert Dwarf."; }
   if (rayce==57) { document.form1.second_comment_box.value+="Desert Elf."; }
   if (rayce==58) { document.form1.second_comment_box.value+="Desert Gnome."; }
   if (rayce==59) { document.form1.second_comment_box.value+="Desert Goblin."; }
   if (rayce==60) { document.form1.second_comment_box.value+="Desert Half-Elf."; }
   if (rayce==61) { document.form1.second_comment_box.value+="Desert Half-Orc."; }
   if (rayce==62) { document.form1.second_comment_box.value+="Desert Halfling."; }
   if (rayce==63) { document.form1.second_comment_box.value+="Desert Kobold."; }
   if (rayce==64) { document.form1.second_comment_box.value+="Desert Orc."; }
   if (rayce==65) { document.form1.second_comment_box.value+="Jungle Dwarf."; }
   if (rayce==66) { document.form1.second_comment_box.value+="Jungle Elf."; }
   if (rayce==67) { document.form1.second_comment_box.value+="Jungle Gnome."; }
   if (rayce==68) { document.form1.second_comment_box.value+="Jungle Goblin."; }
   if (rayce==69) { document.form1.second_comment_box.value+="Jungle Half-Elf."; }
   if (rayce==70) { document.form1.second_comment_box.value+="Jungle Half-Orc."; }
   if (rayce==71) { document.form1.second_comment_box.value+="Jungle Halfling."; }
   if (rayce==72) { document.form1.second_comment_box.value+="Jungle Kobold."; }
   if (rayce==73) { document.form1.second_comment_box.value+="Jungle Orc."; }
   if (rayce==74) { document.form1.second_comment_box.value+="Centaur."; }
   if (rayce==75) { document.form1.second_comment_box.value+="Ogre."; }
   if (rayce==76) { document.form1.second_comment_box.value+="Half-Ogre."; }
   if (rayce==77) { document.form1.second_comment_box.value+="Minotaur."; }
   if (rayce==78) { document.form1.second_comment_box.value+="Bariaur."; }
   if ((rayce==79) && (gender==1)) { document.form1.second_comment_box.value+="Merman."; }
   if ((rayce==79) && (gender==2)) { document.form1.second_comment_box.value+="Mermaid."; }
   if (rayce==80) { document.form1.second_comment_box.value+="Warforged."; }
   if (rayce==81) { document.form1.second_comment_box.value+="Kender."; }
   if (rayce==82) { document.form1.second_comment_box.value+="Half-Dragon."; }
   if (rayce==83) { document.form1.second_comment_box.value+="Githyanki."; }
   if (rayce==84) { document.form1.second_comment_box.value+="Githzerai."; }
   if (rayce==85) { document.form1.second_comment_box.value+="High Ogre."; }
   if (rayce==86) { document.form1.second_comment_box.value+="Baaz Draconian."; }
   if (rayce==87) { document.form1.second_comment_box.value+="Kapak Draconian."; }
   if (rayce==88) { document.form1.second_comment_box.value+="Aurak Draconian."; }
   if (rayce==89) { document.form1.second_comment_box.value+="Bozak Draconian."; }
   if (rayce==90) { document.form1.second_comment_box.value+="Sivak Draconian."; }
   if (rayce==91) { document.form1.second_comment_box.value+="Dark Dwarf."; }
   if (rayce==92) { document.form1.second_comment_box.value+="Gully Dwarf."; }
   if (rayce==93) { document.form1.second_comment_box.value+="Kagonesti Elf."; }
   if (rayce==94) { document.form1.second_comment_box.value+="Qualinesti Elf."; }
   if (rayce==95) { document.form1.second_comment_box.value+="Silvanesti Elf."; }
   if (rayce==96) { document.form1.second_comment_box.value+="Dargonesti Elf."; }
   if (rayce==97) { document.form1.second_comment_box.value+="Dimernesti Elf."; }
   if (rayce==98) { document.form1.second_comment_box.value+="Tinker Gnome."; }
   if (rayce==99) { document.form1.second_comment_box.value+="Dromite."; }
   if (rayce==100) { document.form1.second_comment_box.value+="Elan."; }
   if (rayce==101) { document.form1.second_comment_box.value+="Aarakocra."; }
   if (rayce==102) { document.form1.second_comment_box.value+="Half-Giant."; }
   if (rayce==103) { document.form1.second_comment_box.value+="Maenad."; }
   if (rayce==104) { document.form1.second_comment_box.value+="Xeph."; }
   if (rayce==105) { document.form1.second_comment_box.value+="Mul."; }
   if (rayce==106) { document.form1.second_comment_box.value+="Pterran."; }
   if (rayce==107) { document.form1.second_comment_box.value+="Locathah."; }
   if (rayce==108) { document.form1.second_comment_box.value+="Sahuagin."; }
   if (rayce==109) { document.form1.second_comment_box.value+="Changeling."; }
   if (rayce==110) { document.form1.second_comment_box.value+="Kalashtar."; }
   if (rayce==111) { document.form1.second_comment_box.value+="Shifter."; }
   if (rayce==112) { document.form1.second_comment_box.value+="Buomman."; }
   if (rayce==113) { document.form1.second_comment_box.value+="Air Mephling."; }
   if (rayce==114) { document.form1.second_comment_box.value+="Earth Mephling."; }
   if (rayce==115) { document.form1.second_comment_box.value+="Fire Mephling."; }
   if (rayce==116) { document.form1.second_comment_box.value+="Water Mephling."; }
   if (rayce==117) { document.form1.second_comment_box.value+="Neraph."; }
   if (rayce==118) { document.form1.second_comment_box.value+="Shadowswyft."; }
   if (rayce==119) { document.form1.second_comment_box.value+="Spiker."; }
   if (rayce==120) { document.form1.second_comment_box.value+="Wildren."; }
   if (rayce==121) { document.form1.second_comment_box.value+="Bladeback."; }
   if (rayce==122) { document.form1.second_comment_box.value+="Finhead."; }
   if (rayce==123) { document.form1.second_comment_box.value+="Flyer."; }
   if (rayce==124) { document.form1.second_comment_box.value+="Hornhead."; }
   if (rayce==125) { document.form1.second_comment_box.value+="Mongrelfolk."; }
   if (rayce==126) { document.form1.second_comment_box.value+="Goliath."; }
   if (rayce==127) { document.form1.second_comment_box.value+="Gray Orc."; }
   if (rayce==128) { document.form1.second_comment_box.value+="Whisper Gnome."; }
   if (rayce==129) { document.form1.second_comment_box.value+="Chaos Gnome."; }
   if (rayce==130) { document.form1.second_comment_box.value+="Dream Dwarf."; }
   if (rayce==131) { document.form1.second_comment_box.value+="Feral Gargun."; }
   if (rayce==132) { document.form1.second_comment_box.value+="Stonechild."; }
   if (rayce==133) { document.form1.second_comment_box.value+="Hengeyokai."; }
   if (rayce==134) { document.form1.second_comment_box.value+="Korobokuru."; }
   if (rayce==135) { document.form1.second_comment_box.value+="Ratling."; }
   if (rayce==136) { document.form1.second_comment_box.value+="Bamboo Spiritfolk."; }
   if (rayce==137) { document.form1.second_comment_box.value+="River Spiritfolk."; }
   if (rayce==138) { document.form1.second_comment_box.value+="Sea Spiritfolk."; }
   if (rayce==139) { document.form1.second_comment_box.value+="Vanara."; }
   if (rayce==140) { document.form1.second_comment_box.value+="Grippli."; }
   if (rayce==141) { document.form1.second_comment_box.value+="Doppelganger."; }
   if (rayce==142) { document.form1.second_comment_box.value+="Gargoyle."; }
   if (rayce==143) { document.form1.second_comment_box.value+="Grimlock."; }
   if (rayce==144) { document.form1.second_comment_box.value+="YuanTi Pureblood."; }
   if (rayce==145) { document.form1.second_comment_box.value+="Mind Flayer."; }
   if (rayce==146) { document.form1.second_comment_box.value+="Ogre Mage."; }
   if (rayce==147) { document.form1.second_comment_box.value+="Troll."; }
   if (rayce==148) { document.form1.second_comment_box.value+="Pixie."; }
   if (rayce==149) { document.form1.second_comment_box.value+="Satyr."; }
   if (rayce==150) { document.form1.second_comment_box.value+="Tasloi."; }
   if (rayce==151) { document.form1.second_comment_box.value+="Lupin."; }
   if (rayce==152) { document.form1.second_comment_box.value+="Rakshasa."; }
   if (rayce==153) { document.form1.second_comment_box.value+="Hound Archon."; }
   if (rayce==154) { document.form1.second_comment_box.value+="Jann."; }
   if (rayce==155) { document.form1.second_comment_box.value+="Arctic Dwarf."; }
   if (rayce==156) { document.form1.second_comment_box.value+="Urdunnir Dwarf."; }
   if (rayce==157) { document.form1.second_comment_box.value+="Wild Dwarf."; }
   if (rayce==158) { document.form1.second_comment_box.value+="Aquatic Elf."; }
   if (rayce==159) { document.form1.second_comment_box.value+="Winged Elf."; }
   if (rayce==160) { document.form1.second_comment_box.value+="Half Aquatic Elf."; }
   if (rayce==161) { document.form1.second_comment_box.value+="Half-Drow."; }
   if (rayce==162) { document.form1.second_comment_box.value+="Gold Dwarf."; }
   if (rayce==163) { document.form1.second_comment_box.value+="Orog."; }
   if (rayce==164) { document.form1.second_comment_box.value+="Fey'ri."; }
   if (rayce==165) { document.form1.second_comment_box.value+="Tanarukk."; }
   if (rayce==166) { document.form1.second_comment_box.value+="Wemic."; }
   if (rayce==167) { document.form1.second_comment_box.value+="Hybsil."; }
   if (rayce==168) { document.form1.second_comment_box.value+="Alaghi."; }
   if (rayce==169) { document.form1.second_comment_box.value+="Kuo-Toa."; }
   if (rayce==170) { document.form1.second_comment_box.value+="Illumian."; }
   if (rayce==171) { document.form1.second_comment_box.value+="Sea Kin."; }
   if (rayce==172) { document.form1.second_comment_box.value+="Sharakim."; }
   if (rayce==173) { document.form1.second_comment_box.value+="Skulk."; }
   if (rayce==174) { document.form1.second_comment_box.value+="Underfolk."; }
   if (rayce==175) { document.form1.second_comment_box.value+="Half-Ogre."; }
   if (rayce==176) { document.form1.second_comment_box.value+="Desmodu."; }
   if (rayce==177) { document.form1.second_comment_box.value+="Loxo."; }
   if (rayce==178) { document.form1.second_comment_box.value+="Astral Deva."; }
   if (rayce==179) { document.form1.second_comment_box.value+="Raptoran."; }
   if (rayce==180) { document.form1.second_comment_box.value+="Catfolk."; }
   if (rayce==181) { document.form1.second_comment_box.value+="Killoren."; }
   document.form1.second_comment_box.value+="\rClick to lock these choices.\r";
}

function countgestalts() {
 x=0;
 if (document.form1.barbariangestalt.checked==true) { x++; }
 if (document.form1.bardgestalt.checked==true) { x++; }
 if (document.form1.clericgestalt.checked==true) { x++; }
 if (document.form1.druidgestalt.checked==true) { x++; }
 if (document.form1.fightergestalt.checked==true) { x++; }
 if (document.form1.monkgestalt.checked==true) { x++; }
 if (document.form1.paladingestalt.checked==true) { x++; }
 if (document.form1.rangergestalt.checked==true) { x++; }
 if (document.form1.roguegestalt.checked==true) { x++; }
 if (document.form1.sorcerergestalt.checked==true) { x++; }
 if (document.form1.wizardgestalt.checked==true) { x++; }
 if (document.form1.psiongestalt.checked==true) { x++; }
 return x;
 }

function NegateAllGestalts() {
   document.form1.barbariangestalt.checked=false;
   document.form1.bardgestalt.checked=false;
   document.form1.clericgestalt.checked=false;
   document.form1.druidgestalt.checked=false;
   document.form1.fightergestalt.checked=false;
   document.form1.monkgestalt.checked=false;
   document.form1.paladingestalt.checked=false;
   document.form1.rangergestalt.checked=false;
   document.form1.roguegestalt.checked=false;
   document.form1.sorcerergestalt.checked=false;
   document.form1.wizardgestalt.checked=false;
   document.form1.psiongestalt.checked=false;
 }

function gestalt_character() {
 if ((ClassesHaveBeenEstablished==false) || (npcother_levels + epic_npcother_levels==0)) {NegateAllGestalts(); return; }
 if (FighterFeatsEtcFrozen==true) {RememberGestalts(); }
 if (alignment==0) {NegateAllGestalts(); }
 document.form1.choose_npcother_class[15].checked=true;
 if ((alignment==1) || (alignment==4) || (alignment==7))
  {
   document.form1.barbariangestalt.checked=false;
   document.form1.bardgestalt.checked=false;
  }
  else
  {
   document.form1.monkgestalt.checked=false;
  }
 if (alignment!=1)
  { document.form1.paladingestalt.checked=false; }
 if ((alignment==1) || (alignment==3) || (alignment==5) || (alignment==9))
  { document.form1.druidgestalt.checked=false; }
 NegateNonEpicClassLevels();
 AddUpTheClasses();
 if (epic_total_levels>0) {EpicClasses(); }
 FigureClassSkillsAndTotalSkillPoints();
 }

function NoBarbarianTotem() {
 document.form1.choosebarbariantotem[0].checked=true;
 document.form1.choosebarbariantotem[0].checked=false;
 barbarian_totem=0;
 }

function NoRogueTotem() {
 document.form1.chooseroguetotem[0].checked=true;
 document.form1.chooseroguetotem[0].checked=false;
 rogue_totem=0;
 }

function NoSorcererTotem() {
 document.form1.choosesorcerertotem[0].checked=true;
 document.form1.choosesorcerertotem[0].checked=false;
 barbarian_totem=0;
 }
function NoRangerTotem() {
 document.form1.chooserangertotem[0].checked=true;
 document.form1.chooserangertotem[0].checked=false;
 ranger_totem=0;
 }

function NoBardTotem() {
 document.form1.choosebardtotem[0].checked=true;
 document.form1.choosebardtotem[0].checked=false;
 bard_totem=0;
 }

function NoFighterTotem() {
 document.form1.choosefightertotem[0].checked=true;
 document.form1.choosefightertotem[0].checked=false;
 fighter_totem=0;
 }

function NoClericTotem() {
 document.form1.chooseclerictotem[0].checked=true;
 document.form1.chooseclerictotem[0].checked=false;
 cleric_totem=0;
 }

function NoDruidTotem() {
 document.form1.choosedruidtotem[0].checked=true;
 document.form1.choosedruidtotem[0].checked=false;
 druid_totem=0;
 }

function NoMonkTotem() {
 document.form1.choosemonktotem[0].checked=true;
 document.form1.choosemonktotem[0].checked=false;
 monk_totem=0;
 }

function GenericTotems() {
 document.form1.choosebarbariantotem[0].checked=true;
 document.form1.chooseclerictotem[0].checked=true;
 document.form1.choosedruidtotem[0].checked=true;
 document.form1.choosemonktotem[0].checked=true;
 document.form1.choosefightertotem[0].checked=true;
 document.form1.choosebardtotem[0].checked=true;
 document.form1.chooserangertotem[0].checked=true;
 document.form1.chooseroguetotem[0].checked=true;
 document.form1.choosesorcerertotem[0].checked=true;
 UncheckForbiddenClassTotems();
 }

function UncheckForbiddenClassTotems() {
 if ((alignment==1) || (alignment==4) || (alignment==7)) {NoBarbarianTotem(); NoBardTotem(); }
  else {NoMonkTotem(); }
 if (ClassesHaveBeenEstablished==true)
  {
   if (barbarian_levels + epic_barbarian_levels==0) {NoBarbarianTotem(); }
   if (cleric_levels + epic_cleric_levels==0) {NoClericTotem(); }
   if (druid_levels + epic_druid_levels==0) {NoDruidTotem(); }
   if (monk_levels + epic_monk_levels==0) {NoMonkTotem(); }
   if (fighter_levels + epic_fighter_levels==0) {NoFighterTotem(); }
   if (bard_levels + epic_bard_levels==0) {NoBardTotem(); }
   if (ranger_levels + epic_ranger_levels==0) {NoRangerTotem(); }
   if (rogue_levels + epic_rogue_levels==0) {NoRogueTotem(); }
   if (sorcerer_levels + epic_sorcerer_levels==0) {NoSorcererTotem(); }
  }
 }

function totems() {
 if (ClassesHaveBeenEstablished==true)
  {
   document.form1.choosebarbariantotem[barbarian_totem].checked=true;
   document.form1.chooseclerictotem[cleric_totem].checked=true;
   document.form1.choosedruidtotem[druid_totem].checked=true;
   document.form1.choosemonktotem[monk_totem].checked=true;
   document.form1.choosefightertotem[fighter_totem].checked=true;
   document.form1.choosebardtotem[bard_totem].checked=true;
   document.form1.chooserangertotem[ranger_totem].checked=true;
   document.form1.choosesorcerertotem[sorcerer_totem].checked=true;
   document.form1.chooseroguetotem[rogue_totem].checked=true;
   UncheckForbiddenClassTotems();
   return;
  }
 UncheckForbiddenClassTotems();
 if (document.form1.choosebarbariantotem[0].checked==true) { barbarian_totem=0; }
 if (document.form1.choosebarbariantotem[1].checked==true) { barbarian_totem=1; }
 if (document.form1.choosebarbariantotem[2].checked==true) { barbarian_totem=2; }
 if (document.form1.choosebarbariantotem[3].checked==true) { barbarian_totem=3; }
 if (document.form1.choosebarbariantotem[4].checked==true) { barbarian_totem=4; }
 if (document.form1.choosebarbariantotem[5].checked==true) { barbarian_totem=5; }
 if (document.form1.choosebarbariantotem[6].checked==true) { barbarian_totem=6; }
 if (document.form1.choosebarbariantotem[7].checked==true) { barbarian_totem=7; }
 if (document.form1.choosebarbariantotem[8].checked==true) { barbarian_totem=8; }
 if (document.form1.choosebarbariantotem[9].checked==true) { barbarian_totem=9; }
 if (document.form1.choosebarbariantotem[10].checked==true) { barbarian_totem=10; }
 if (document.form1.chooseclerictotem[0].checked==true) { cleric_totem=0; }
 if (document.form1.chooseclerictotem[1].checked==true) { cleric_totem=1; }
 if (document.form1.choosedruidtotem[0].checked==true) { druid_totem=0; }
 if (document.form1.choosedruidtotem[1].checked==true) { druid_totem=1; }
	if (monk_levels>0) { 
	 	if ( (intelligence<4) || (intelligence<6 && rayce!=1) ) { 
	 	document.form1.choosemonktotem[0].checked=true; 
	 	} 
	}
 if (document.form1.choosemonktotem[0].checked==true) { monk_totem=0; }
 if (document.form1.choosemonktotem[1].checked==true) { monk_totem=1; }
 if (document.form1.choosemonktotem[2].checked==true) { monk_totem=2; }
 if (document.form1.choosemonktotem[3].checked==true) { monk_totem=3; }
 if (document.form1.choosemonktotem[4].checked==true) { monk_totem=4; }
 if (document.form1.choosemonktotem[5].checked==true) { monk_totem=5; }
 if (document.form1.choosemonktotem[6].checked==true) { monk_totem=6; }
 if (document.form1.choosemonktotem[7].checked==true) { monk_totem=7; }
 if (document.form1.choosemonktotem[8].checked==true) { monk_totem=8; }
 if (document.form1.choosefightertotem[0].checked==true) { fighter_totem=0; }
 if (document.form1.choosefightertotem[1].checked==true) { fighter_totem=1; }
 if (document.form1.choosebardtotem[0].checked==true) { bard_totem=0; }
	if (document.form1.choosebardtotem[1].checked==true) {
		if (((alignment==2) || (alignment==5) || (alignment==8)) && (intelligence>=12)) { bard_totem=1; }
		else { 
		document.form1.choosebardtotem[0].checked=true; 
		bard_totem=0; 
		}
	}
	if (document.form1.choosebardtotem[2].checked==true) {
		if (wisdom>=12) { bard_totem=2; }
		else { 
		document.form1.choosebardtotem[0].checked=true; 
		bard_totem=0; 
		}
	}
	if (document.form1.choosebardtotem[3].checked==true) {
 		if ((alignment==3) || (alignment==6) || (alignment==9)) { bard_totem=3; }
		else { 
		document.form1.choosebardtotem[0].checked=true; 
		bard_totem=0; 
		}
	}
 if (document.form1.chooserangertotem[0].checked==true) { ranger_totem=0; }
 if (document.form1.chooserangertotem[1].checked==true) { ranger_totem=1; }
 if (document.form1.chooserangertotem[2].checked==true) { ranger_totem=2; }
 if (document.form1.chooserangertotem[3].checked==true) { ranger_totem=3; }
 if (document.form1.choosesorcerertotem[0].checked==true) { sorcerer_totem=0; }
 if (document.form1.choosesorcerertotem[1].checked==true) { sorcerer_totem=1; }
 if (document.form1.chooseroguetotem[0].checked==true) { rogue_totem=0; }
 if (document.form1.chooseroguetotem[1].checked==true) { rogue_totem=1; }
 }

function traits() {
 x=0;
 if (document.form1.abrasive_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.abrasive_trait.checked=false; }
  }
 if (document.form1.absentminded_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.absentminded_trait.checked=false; }
  }
 if (document.form1.aggressive_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.aggressive_trait.checked=false; }
  }
 if (document.form1.brawler_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (has_improvedunarmedstrike) || (monk_levels>0))
    { x--; document.form1.brawler_trait.checked=false; }
  }
 if (document.form1.cautious_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (paladin_levels>2))
    { x--; document.form1.cautious_trait.checked=false; }
  }
 if (document.form1.detached_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.detached_trait.checked=false; }
  }
 if (document.form1.dishonest_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (alignment==1) || (alignment==4) || (alignment==7))
    { x--; document.form1.dishonest_trait.checked=false; }
  }
 if (document.form1.easygoing_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (document.form1.abrasive_trait.checked==true))
    { x--; document.form1.easygoing_trait.checked=false; }
  }
 if (document.form1.farsighted_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.farsighted_trait.checked=false; }
  }
 if (document.form1.focused_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.focused_trait.checked=false; }
  }
 if (document.form1.hardofhearing_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (document.form1.focused_trait.checked==true))
    { x--; document.form1.hardofhearing_trait.checked=false; }
  }
 if (document.form1.hardy_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (has_meagerfortitude==true))
    { x--; document.form1.hardy_trait.checked=false; }
  }
 if (document.form1.honest_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (alignment==9))
    { x--; document.form1.honest_trait.checked=false; }
  }
 if (document.form1.musclebound_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (has_feeble==true))
    { x--; document.form1.musclebound_trait.checked=false; }
  }
 if (document.form1.nearsighted_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (document.form1.hardofhearing_trait.checked==true) || (document.form1.farsighted_trait.checked==true))
    { x--; document.form1.nearsighted_trait.checked=false; }
  }
 if (document.form1.nightsighted_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || ((rayce!=0) && (rayce!=4) && (rayce!=91) && (rayce!=38) && (rayce!=47) && (rayce!=56) && (rayce!=65) && (rayce!=14) && (rayce!=15) && (rayce!=12) && (rayce!=16) && (rayce!=7) && (rayce!=42) && (rayce!=52) && (rayce!=61) && (rayce!=70) && (rayce!=23) && (rayce!=21) && (rayce!=22) && (rayce!=46) && (rayce!=55) && (rayce!=64) && (rayce!=73) && (rayce!=23) && (rayce!=24) && (rayce!=25) && (rayce!=45) && (rayce!=54) && (rayce!=63) && (rayce!=72) && (rayce!=26) && (rayce!=40) && (rayce!=50) && (rayce!=59) && (rayce!=68) && (rayce!=27) && (rayce!=28) && (rayce!=29) && (rayce!=30) && (rayce!=18) && (rayce!=31) && (rayce!=32) && (rayce!=33) && ((rayce!=35) && (rayce!=98)) && (rayce!=36) && (rayce!=8)))
    { x--; document.form1.nightsighted_trait.checked=false; }
  }

 if (document.form1.passionate_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (has_meagerfortitude==true) || (document.form1.detached_trait.checked==true))
    { x--; document.form1.passionate_trait.checked=false; }
  }
 if (document.form1.plucky_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (has_weakwill==true) || (document.form1.passionate_trait.checked==true))
    { x--; document.form1.plucky_trait.checked=false; }
  }
 if (document.form1.polite_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (document.form1.abrasive_trait.checked==true) || (document.form1.dishonest_trait.checked==true))
    { x--; document.form1.polite_trait.checked=false; }
  }
 if (document.form1.quick_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (has_frail==true) || (constitution==3) || (constitution==2) || (constitution==1))
    { x--; document.form1.quick_trait.checked=false; }
  }
 if (document.form1.reckless_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.reckless_trait.checked=false; }
  }
 if (document.form1.relentless_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.relentless_trait.checked=false; }
  }
 if (document.form1.saddleborn_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.saddleborn_trait.checked=false; }
  }
 if (document.form1.skinny_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)) || (document.form1.musclebound_trait.checked==true))
    { x--; document.form1.skinny_trait.checked=false; }
  }
 if (document.form1.slippery_trait.checked==true)
  { x++;
   if ((x>2+traitmax(total_levels)))
    { x--; document.form1.slippery_trait.checked=false; }
  }
 if (document.form1.slow_trait.checked==true)
  { x++;
   if (x>2+traitmax(total_levels) || has_frail==true || has_slowpoke==true || document.form1.quick_trait.checked==true)
    { x--; document.form1.slow_trait.checked=false; }
  }
 if (document.form1.stout_trait.checked==true)
  { x++;
   if (x>2+traitmax(total_levels) || document.form1.skinny_trait.checked==true)
    { x--; document.form1.stout_trait.checked=false; }
  }
 if (document.form1.suspicious_trait.checked==true)
  { x++;
   if (x>2+traitmax(total_levels) || document.form1.abrasive_trait.checked==true || document.form1.dishonest_trait.checked==true || document.form1.honest_trait.checked==true || document.form1.polite_trait.checked==true)
    { x--; document.form1.suspicious_trait.checked=false; }
  }
 if (document.form1.torpid_trait.checked==true)
  { x++;
   if (x>2+traitmax(total_levels) || document.form1.aggressive_trait.checked==true)
    { x--; document.form1.torpid_trait.checked=false; }
  }
 if (document.form1.uncivilized_trait.checked==true)
  { x++;
   if (x>2+traitmax(total_levels) || document.form1.dishonest_trait.checked==true || document.form1.polite_trait.checked==true || document.form1.honest_trait.checked==true || document.form1.saddleborn_trait.checked==true || document.form1.easygoing_trait.checked==true)
    { x--; document.form1.uncivilized_trait.checked=false; }
  }
 }

function traitmax() {
 return Math.floor(total_levels/5);
 }

function ArmorAndWeaponsForNPCClasses() {
 if (npcother_class_name=="Adept")
  {
     already_knows_simple_weapons=true;
  }
 if (npcother_class_name=="Aristocrat")
  {
     already_knows_simple_weapons=true;
     already_knows_martial_weapons=true;
     already_knows_light_armor=true;
     already_knows_medium_armor=true;
     already_knows_heavy_armor=true;
     already_knows_shields=true;
     already_knows_tower_shield=true;
  }
 if (npcother_class_name=="Commoner")
  {
     already_knows_simple_weapons=true;
  }
 if (npcother_class_name=="Expert")
  {
     already_knows_simple_weapons=true;
     already_knows_light_armor=true;
  }
 if (npcother_class_name=="Warrior")
  {
     already_knows_simple_weapons=true;
     already_knows_martial_weapons=true;
     already_knows_light_armor=true;
     already_knows_medium_armor=true;
     already_knows_heavy_armor=true;
     already_knows_shields=true;
     already_knows_tower_shield=true;
  }
 if (npcother_class_name=="Chaos Mage")
  {
     already_knows_simple_weapons=true;
  }
 if (npcother_class_name=="Favored Soul")
  {
     already_knows_simple_weapons=true;
     already_knows_light_armor=true;
     already_knows_medium_armor=true;
     already_knows_shields=true;
  }
 if (npcother_class_name=="Shugenja")
  {
     already_knows_simple_weapons=true;
  }
 if (npcother_class_name=="Spirit Shaman")
  {
     already_knows_simple_weapons=true;
     already_knows_light_armor=true;
     already_knows_shields=true;
  }
 if (npcother_class_name=="Samurai")
  {
     already_knows_simple_weapons=true;
     already_knows_martial_weapons=true;
     already_knows_light_armor=true;
     already_knows_medium_armor=true;
     already_knows_heavy_armor=true;
  }
 if (npcother_class_name=="Swashbuckler")
  {
     already_knows_simple_weapons=true;
     already_knows_martial_weapons=true;
     already_knows_light_armor=true;
  }
 if (npcother_class_name=="Sohei")
  {
     already_knows_simple_weapons=true;
     already_knows_martial_weapons=true;
     already_knows_light_armor=true;
     already_knows_medium_armor=true;
     already_knows_heavy_armor=true;
  }
 if (npcother_class_name=="Warlock")
  {
     already_knows_simple_weapons=true;
     already_knows_light_armor=true;
  }
 if (npcother_class_name=="Warmage")
  {
     already_knows_simple_weapons=true;
     already_knows_light_armor=true;
     already_knows_shields=true;
     if (npcother_levels + epic_npcother_levels>=8) {already_knows_medium_armor=true; }
  }
 if (npcother_class_name=="Wu Jen")
  {
     already_knows_simple_weapons=true;
  }
 if (npcother_class_name=="Spellthief")
  {
     already_knows_simple_weapons=true;
     already_knows_light_armor=true;
  }
 if (npcother_class_name=="Ninja")
  {
     already_knows_simple_weapons=true;
  }
 if (npcother_class_name=="Scout")
  {
     already_knows_simple_weapons=true;
     already_knows_light_armor=true;
  }
 if (npcother_class_name=="Paladin of Freedom")
  {
     already_knows_simple_weapons=true;
     already_knows_martial_weapons=true;
     already_knows_light_armor=true;
     already_knows_medium_armor=true;
     already_knows_heavy_armor=true;
     already_knows_shields=true;
  }
 if (npcother_class_name=="Sha_ir")
  {
     already_knows_simple_weapons=true;
  }
 if (has_war_domain)
  {
     already_knows_martial_weapons=true;
  }
}

function RememberNPCOtherClass() {
  NegateNPCOtherClass();
  if (npcother_class_name=="Adept") { document.form1.choose_npcother_class[0].checked=true; }
  if (npcother_class_name=="Aristocrat") { document.form1.choose_npcother_class[1].checked=true; }
  if (npcother_class_name=="Commoner") { document.form1.choose_npcother_class[2].checked=true; }
  if (npcother_class_name=="Expert") { document.form1.choose_npcother_class[3].checked=true; }
  if (npcother_class_name=="Warrior") { document.form1.choose_npcother_class[4].checked=true; }
  if (npcother_class_name=="Chaos Mage") { document.form1.choose_npcother_class[5].checked=true; }
  if (npcother_class_name=="Favored Soul") { document.form1.choose_npcother_class[6].checked=true; }
  if (npcother_class_name=="Shugenja") { document.form1.choose_npcother_class[7].checked=true; }
  if (npcother_class_name=="Spirit Shaman") { document.form1.choose_npcother_class[8].checked=true; }
  if (npcother_class_name=="Samurai") { document.form1.choose_npcother_class[9].checked=true; }
  if (npcother_class_name=="Swashbuckler") { document.form1.choose_npcother_class[10].checked=true; }
  if (npcother_class_name=="Sohei") { document.form1.choose_npcother_class[11].checked=true; }
  if (npcother_class_name=="Warlock") { document.form1.choose_npcother_class[12].checked=true; }
  if (npcother_class_name=="Warmage") { document.form1.choose_npcother_class[13].checked=true; }
  if (npcother_class_name=="Wu Jen") { document.form1.choose_npcother_class[14].checked=true; }
  if (npcother_class_name=="Spellthief") { document.form1.choose_npcother_class[15].checked=true; }
  if (npcother_class_name=="Paladin of Freedom") { document.form1.choose_npcother_class[16].checked=true; }
  if (npcother_class_name=="Sha_ir") { document.form1.choose_npcother_class[17].checked=true; }
  if (npcother_class_name=="Ninja") { document.form1.choose_npcother_class[18].checked=true; }
  if (npcother_class_name=="Scout") { document.form1.choose_npcother_class[19].checked=true; }
  if (npcother_class_name=="Gestalt") { document.form1.choose_npcother_class[20].checked=true; }
  RememberGestalts();
 }

function RememberGestalts() {
  document.form1.barbariangestalt.checked=barbarian_gestalt;
  document.form1.bardgestalt.checked=bard_gestalt;
  document.form1.clericgestalt.checked=cleric_gestalt;
  document.form1.druidgestalt.checked=druid_gestalt;
  document.form1.monkgestalt.checked=monk_gestalt;
  document.form1.fightergestalt.checked=fighter_gestalt;
  document.form1.paladingestalt.checked=paladin_gestalt;
  document.form1.rangergestalt.checked=ranger_gestalt;
  document.form1.roguegestalt.checked=rogue_gestalt;
  document.form1.sorcerergestalt.checked=sorcerer_gestalt;
  document.form1.wizardgestalt.checked=wizard_gestalt;
  document.form1.psiongestalt.checked=psion_gestalt;
 }

function NegateNPCOtherClass() {
 document.form1.choose_npcother_class[0].checked=true;
 document.form1.choose_npcother_class[0].checked=false;
 NegateAllGestalts();
 }

function NpcOtherClass() {
 if (npcother_levels + epic_npcother_levels==0) { 
 	NegateNPCOtherClass(); 
 	return true; 
 }

 if (FighterFeatsEtcFrozen==true) { 
 RememberNPCOtherClass(); 
 return true; 
 }

 if (document.form1.choose_npcother_class[0].checked==true) {
   if (wisdom<13) {
   	NegateNPCOtherClass();
   	return; }
   npcother_class_name="Adept";
   npcother_hit_point_dice=6;
   npcother_attack_bonus_progress=1;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();
   GenerateClassString();
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[1].checked==true) {
   if (class01!=26) {alert("You must be born an aristocrat.");NegateNPCOtherClass(); return; }
   npcother_class_name="Aristocrat";
   npcother_hit_point_dice=8;
   npcother_attack_bonus_progress=2;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=4;
   DoHPAndOtherClassStuff();  
   GenerateClassString();  
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[2].checked==true) {
   npcother_class_name="Commoner";
   npcother_hit_point_dice=4;
   npcother_attack_bonus_progress=1;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=1;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString();  
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[3].checked==true) {
   if (intelligence<10) {NegateNPCOtherClass(); return; }
   npcother_class_name="Expert";
   npcother_hit_point_dice=6;
   npcother_attack_bonus_progress=2;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=6;
   DoHPAndOtherClassStuff();  
   GenerateClassString();  
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[4].checked==true) {
   if ((strength<12) && (dexterity<12) && (constitution<12)) { NegateNPCOtherClass(); return; }
   npcother_class_name="Warrior";
   npcother_hit_point_dice=8;
   npcother_attack_bonus_progress=3;
   npcother_fortitude_save_bonus=2;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=1;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString();  
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[5].checked==true) {
   if ((wizard_levels>0) || (bard_levels>0) || (sorcerer_levels>0) || 
       (epic_wizard_levels>0) || (epic_bard_levels>0) || (epic_sorcerer_levels>0) || (alignment==1) || (alignment==2) || (alignment==4) || (alignment==5) || (alignment==7) || (alignment==8)) { NegateNPCOtherClass(); return; }
   npcother_class_name="Chaos Mage";
   npcother_hit_point_dice=4;
   npcother_attack_bonus_progress=1;
   npcother_fortitude_save_bonus=2;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString();  
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[6].checked==true) {
   if ((charisma<13) || (cleric_levels>0) || (druid_levels>0)) { NegateNPCOtherClass(); return; }
   npcother_class_name="Favored Soul";
   npcother_hit_point_dice=8;
   npcother_attack_bonus_progress=2;
   npcother_fortitude_save_bonus=2;
   npcother_reflex_save_bonus=2;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[7].checked==true) {
   if ((charisma<13) || (cleric_levels>0) || (druid_levels>0)) { NegateNPCOtherClass(); return; }
   npcother_class_name="Shugenja";
   npcother_hit_point_dice=6;
   npcother_attack_bonus_progress=1;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=4;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[8].checked==true) {
   if ((wisdom<13) || (cleric_levels>0) || (druid_levels>0)) { NegateNPCOtherClass(); return; }
   npcother_class_name="Spirit Shaman";
   npcother_hit_point_dice=8;
   npcother_attack_bonus_progress=2;
   npcother_fortitude_save_bonus=2;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=4;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[9].checked==true) {
   if ((fighter_levels>0) || (ranger_levels + epic_ranger_levels>0) || (paladin_levels>0) || (alignment==2) || (alignment==3) || (alignment==5) || (alignment==6) || (alignment==8) || (alignment==9)) { NegateNPCOtherClass(); return; }
   npcother_class_name="Samurai";
   npcother_hit_point_dice=10;
   npcother_attack_bonus_progress=3;
   npcother_fortitude_save_bonus=2;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=1;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[10].checked==true) {
   if ((fighter_levels>0) || (ranger_levels + epic_ranger_levels>0) || (paladin_levels>0)) {NegateNPCOtherClass(); return; }
   npcother_class_name="Swashbuckler";
   npcother_hit_point_dice=10;
   npcother_attack_bonus_progress=3;
   npcother_fortitude_save_bonus=2;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=1;
   npcother_skill_points_per_level=4;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[11].checked==true) {
   if ((paladin_levels>0) || (alignment==2) || (alignment==3) || (alignment==5) || (alignment==6) || (alignment==8) || (alignment==9)) {NegateNPCOtherClass(); return; }
   npcother_class_name="Sohei";
   npcother_hit_point_dice=10;
   npcother_attack_bonus_progress=2;
   npcother_fortitude_save_bonus=2;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[12].checked==true) {
   if ((alignment==1) || (alignment==2) || (alignment==4) || (alignment==5)) {NegateNPCOtherClass(); return; }
   npcother_class_name="Warlock";
   npcother_hit_point_dice=6;
   npcother_attack_bonus_progress=2;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[13].checked==true) {
   if ((sorcerer_levels>0) || (charisma<13)) { NegateNPCOtherClass(); return; }
   npcother_class_name="Warmage";
   npcother_hit_point_dice=6;
   npcother_attack_bonus_progress=1;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[14].checked==true) {
   if ((wizard_levels>0) || (intelligence<13) || (alignment==1) || (alignment==4) || (alignment==7)) {NegateNPCOtherClass(); return; }
   npcother_class_name="Wu Jen";
   npcother_hit_point_dice=4;
   npcother_attack_bonus_progress=1;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[15].checked==true) {
   npcother_class_name="Spellthief";
   npcother_hit_point_dice=6;
   npcother_attack_bonus_progress=2;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=2;
   npcother_skill_points_per_level=6;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[16].checked==true) {
   if (alignment!=3) {NegateNPCOtherClass(); return; }
   npcother_class_name="Paladin of Freedom";
   npcother_hit_point_dice=10;
   npcother_attack_bonus_progress=3;
   npcother_fortitude_save_bonus=2;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=1;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[17].checked==true) {
   npcother_class_name="Sha_ir";
   npcother_hit_point_dice=4;
   npcother_attack_bonus_progress=1;
   npcother_fortitude_save_bonus=2;
   npcother_reflex_save_bonus=1;
   npcother_will_save_bonus=1;
   npcother_skill_points_per_level=2;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[18].checked==true) {
   npcother_class_name="Ninja";
   npcother_hit_point_dice=6;
   npcother_attack_bonus_progress=2;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=2;
   npcother_will_save_bonus=1;
   npcother_skill_points_per_level=6;
   DoHPAndOtherClassStuff();
   GenerateClassString();
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[19].checked==true) {
   npcother_class_name="Scout";
   npcother_hit_point_dice=8;
   npcother_attack_bonus_progress=2;
   npcother_fortitude_save_bonus=1;
   npcother_reflex_save_bonus=2;
   npcother_will_save_bonus=1;
   npcother_skill_points_per_level=8;
   DoHPAndOtherClassStuff();  
   GenerateClassString(); 
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
 if (document.form1.choose_npcother_class[20].checked==true) {
   npcother_class_name="Gestalt";
   npcother_hit_point_dice=4;
    if (document.form1.roguegestalt.checked==true) {npcother_hit_point_dice=6; }
    if (document.form1.bardgestalt.checked==true) {npcother_hit_point_dice=6; }
    if (document.form1.clericgestalt.checked==true) {npcother_hit_point_dice=8; }
    if (document.form1.rangergestalt.checked==true) {npcother_hit_point_dice=8; }
    if (document.form1.monkgestalt.checked==true) {npcother_hit_point_dice=8; }
    if (document.form1.paladingestalt.checked==true) {npcother_hit_point_dice=10; }
    if (document.form1.fightergestalt.checked==true) {npcother_hit_point_dice=10; }
    if (document.form1.barbariangestalt.checked==true) {npcother_hit_point_dice=12; }
   npcother_attack_bonus_progress=1;
    if (document.form1.bardgestalt.checked==true) {npcother_attack_bonus_progress=2; }
    if (document.form1.clericgestalt.checked==true) {npcother_attack_bonus_progress=2; }
    if (document.form1.druidgestalt.checked==true) {npcother_attack_bonus_progress=2; }
    if (document.form1.monkgestalt.checked==true) {npcother_attack_bonus_progress=2; }
    if (document.form1.roguegestalt.checked==true) {npcother_attack_bonus_progress=2; }
    if (document.form1.barbariangestalt.checked==true) {npcother_attack_bonus_progress=3; }
    if (document.form1.fightergestalt.checked==true) {npcother_attack_bonus_progress=3; }
    if (document.form1.paladingestalt.checked==true) {npcother_attack_bonus_progress=3; }
   npcother_fortitude_save_bonus=1;
    if (document.form1.barbariangestalt.checked==true) {npcother_fortitude_save_bonus=2; }
    if (document.form1.druidgestalt.checked==true) {npcother_fortitude_save_bonus=2; }
    if (document.form1.clericgestalt.checked==true) {npcother_fortitude_save_bonus=2; }
    if (document.form1.fightergestalt.checked==true) {npcother_fortitude_save_bonus=2; }
    if (document.form1.monkgestalt.checked==true) {npcother_fortitude_save_bonus=2; }
    if (document.form1.paladingestalt.checked==true) {npcother_fortitude_save_bonus=2; }
    if (document.form1.rangergestalt.checked==true) {npcother_fortitude_save_bonus=2; }
   npcother_reflex_save_bonus=1;
    if (document.form1.bardgestalt.checked==true) {npcother_reflex_save_bonus=2; }
    if (document.form1.monkgestalt.checked==true) {npcother_reflex_save_bonus=2; }
    if (document.form1.rangergestalt.checked==true) {npcother_reflex_save_bonus=2; }
    if (document.form1.roguegestalt.checked==true) {npcother_reflex_save_bonus=2; }
   npcother_will_save_bonus=1;
    if (document.form1.bardgestalt.checked==true) {npcother_will_save_bonus=2; }
    if (document.form1.clericgestalt.checked==true) {npcother_will_save_bonus=2; }
    if (document.form1.druidgestalt.checked==true) {npcother_will_save_bonus=2; }
    if (document.form1.monkgestalt.checked==true) {npcother_will_save_bonus=2; }
    if (document.form1.sorcerergestalt.checked==true) {npcother_will_save_bonus=2; }
    if (document.form1.wizardgestalt.checked==true) {npcother_will_save_bonus=2; }
    if (document.form1.psiongestalt.checked==true) {npcother_will_save_bonus=2; }
   npcother_skill_points_per_level=2;
    if (document.form1.barbariangestalt.checked==true) {npcother_skill_points_per_level=4; }
    if (document.form1.druidgestalt.checked==true) {npcother_skill_points_per_level=4; }
    if (document.form1.monkgestalt.checked==true) {npcother_skill_points_per_level=4; }
    if (document.form1.bardgestalt.checked==true) {npcother_skill_points_per_level=6; }
    if (document.form1.rangergestalt.checked==true) {npcother_skill_points_per_level=6; }
    if (document.form1.roguegestalt.checked==true) {npcother_skill_points_per_level=8; }

   RecordGestaltClasses();
   DoHPAndOtherClassStuff();  
   GenerateClassString();  
   AddUpTheClasses();
   FigureClassSkillsAndTotalSkillPoints();
   return true;
  }
  return false;
}

function BasicEyeColor() {
 if ((rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==12) || (rayce==25) || (rayce==54) || ((rayce==26) || (rayce==50)) || (rayce==68))
  { document.form1.eye_color[0].checked=true; return; }
 if ((rayce==2) || (rayce==3) || (rayce==48) || (rayce==66) || (rayce==10) || (rayce==11) || (rayce==13) || (rayce==23))
  { document.form1.eye_color[1].checked=true; return; }
 if ((rayce==5) || (rayce==49) || (rayce==98) || (rayce==67) || (rayce==19) || (rayce==37) || (rayce==94) || (rayce==96) || (rayce==97))
  { document.form1.eye_color[2].checked=true; return; }
 if ((rayce==14) || (rayce==93) || (rayce==95))
  { document.form1.eye_color[3].checked=true; return; }
 if (((rayce==7) || (rayce==52) || (rayce==52)) || (rayce==70))
  { document.form1.eye_color[4].checked=true; return; }
 if (((rayce>=56) && (rayce<=64)) || (rayce==4) || (rayce==65))
  { document.form1.eye_color[5].checked=true; return; }
 if ((rayce==15) || (rayce==16) || (rayce==27))
  { document.form1.eye_color[6].checked=true; return; }
 if ((rayce==9) || (rayce==21))
  { document.form1.eye_color[8].checked=true; return; }
 if (rayce==85)
  { document.form1.eye_color[10].checked=true; return; }
 document.form1.eye_color[0].checked=true;
 document.form1.eye_color[0].checked=false;

 }

function BasicHairColor() {
 if ((rayce==135) || (rayce==139)) {
 NegateHairType();
 return; 
 }
 if (((gender==1) && (rayce==16)) || (rayce==117) || (rayce==99) || (rayce==80) || (rayce==105) || (rayce==106) || (rayce==107) || (rayce==108) || (rayce==101) || (rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==20) || (rayce==25) || (rayce==54) || (rayce==27) || (rayce==34) || ((gender==2) && (rayce==112)))
  { 
  document.form1.hair_color[11].checked=true; 
  NegateHairType(); 
  return; 
  }
 if ((rayce==12) || (rayce==159))
  { document.form1.hair_color[0].checked=true; return; }
 if ((rayce==14) || (rayce==17) || (rayce==95))
  { document.form1.hair_color[1].checked=true; return; }
 if ((rayce==11) || (rayce==21))
  { document.form1.hair_color[2].checked=true; return; }
 if ((rayce==2) || ((rayce==5) || (rayce==49)) || (rayce==67) || (rayce==23) || (rayce==94))
  { document.form1.hair_color[3].checked=true; return; }
 if ((rayce==19) || (rayce==37) || ((rayce>=56) && (rayce<=63)) || (rayce==3) || (rayce==93))
  { document.form1.hair_color[4].checked=true; return; }
 if ((rayce==4) || (rayce==46) || (rayce==66) || (rayce==10) || (rayce==18) || (rayce==85) || (rayce==163))
  { document.form1.hair_color[5].checked=true; return; }
 if ((rayce==15) || (rayce==65) || ((gender==2) && (rayce==16)) || (rayce==24))
  { document.form1.hair_color[6].checked=true; return; }
 if ((rayce==9) || (rayce==97))
  { document.form1.hair_color[7].checked=true; return; }
 if ((rayce==28) || (rayce==96))
  { document.form1.hair_color[8].checked=true; return; }
 if ((rayce==13) || ((rayce>=38) && (rayce<=46)))
  { document.form1.hair_color[9].checked=true; return; }
 document.form1.hair_color[0].checked=true;
 document.form1.hair_color[0].checked=false;
 }

function BasicSkinColor() {
 if ((rayce==3) || (rayce==95) || (rayce==66) || (rayce==9) || (rayce==11) || (rayce==14) || ((rayce>=47) && (rayce<=55))
  |(rayce==17) || (rayce==18))
  { document.form1.skin_color[0].checked=true; return; }
 if ((rayce==6) || (rayce==94) || (rayce==71))
  { document.form1.skin_color[1].checked=true; return; }
 if ((rayce==26) || (rayce==68) || (rayce==23) || (rayce==26) || (rayce==34))
  { document.form1.skin_color[2].checked=true; return; }
 if ((rayce==4) || (rayce==65) || (rayce==5) || (rayce==67) || (rayce==10))
  { document.form1.skin_color[3].checked=true; return; }
 if ((rayce==93) || (rayce==25) || (rayce==72) || (rayce==16) || (rayce==21) || (rayce==25) || ((rayce>=56) && (rayce<=64)))
  { document.form1.skin_color[4].checked=true; return; }
 if ((rayce==12))
  { document.form1.skin_color[5].checked=true; return; }
 if ((rayce==13) || (rayce==80))
  { document.form1.skin_color[6].checked=true; return; }
 if ((rayce==7) || (rayce==52) || (rayce==70) || (rayce==15) || (rayce==19) || (rayce==22)
   |(rayce==24) || (rayce==37) || (rayce==126))
  { document.form1.skin_color[7].checked=true; return; }
 if ((rayce==20) || ((rayce>=37) && (rayce<=46)))
  { document.form1.skin_color[8].checked=true; return; }
 if ((rayce==85) || (rayce==96) || (rayce==97))
  { document.form1.skin_color[9].checked=true; return; }
 document.form1.skin_color[0].checked=true;
 document.form1.skin_color[0].checked=false;
 }

// THIS IS FOR THE CANNOT BE'S OR ABSOLUTES
function pigmentation() {
//racialstuff
 if ((rayce==80) || (rayce==86) || (rayce==87)) {BasicHairColor(); BasicEyeColor(); BasicSkinColor(); return; }
 if ((rayce==179) || (rayce==3) || (rayce==9) || (rayce==10) || (rayce==11) || (rayce==12) || (rayce==13) || (rayce==48) || (rayce==57) || (rayce==66) || (rayce==170)) { document.form1.beard_type[0].checked=true; }
 if ((rayce==4) || (rayce==91) || (rayce==14) || (rayce==15) || (rayce==38) || (rayce==47) || (rayce==56) || (rayce==65)) {if (document.form1.beard_type[0].checked==true) { document.form1.beard_type[1].checked=true; }}
// if ((rayce==7) || (rayce==21) || (rayce==22) || (rayce==23) || (rayce==24) || (rayce==46) || (rayce==55) || (rayce==64) || (rayce==73) || (rayce==77)) { document.form1.beard_type[3].checked=true; }
 if (
   (document.form1.hair_color[0].checked==false)
   && (document.form1.hair_color[1].checked==false)
   && (document.form1.hair_color[2].checked==false)
   && (document.form1.hair_color[3].checked==false)
   && (document.form1.hair_color[4].checked==false)
   && (document.form1.hair_color[5].checked==false)
   && (document.form1.hair_color[6].checked==false)
   && (document.form1.hair_color[7].checked==false)
   && (document.form1.hair_color[8].checked==false)
   && (document.form1.hair_color[9].checked==false)
   && (document.form1.hair_color[10].checked==false))
   {NegateHairType(); }

 if (gender==2) {NegateBeardType(); }
 if ((rayce==16) && (gender==1)) { document.form1.hair_color[11].checked=true; NegateHairType(); }
 if ((rayce==112) && (gender==2)) { document.form1.hair_color[11].checked=true; NegateHairType(); }
 if ((rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==121) || (rayce==122) || (rayce==123) || (rayce==124)) { document.form1.hair_color[11].checked=true; NegateHairType(); }
 if ((rayce==1) || (rayce==2) || (rayce==4) || (rayce==5) || (rayce==6) || (rayce==17)
     |(rayce==167) || (rayce==168) || (rayce==18) || (rayce==151) || (rayce==74) || (rayce==75) || (rayce==76) || (rayce==77) || (rayce==78) || (rayce==175))
  {
   if (document.form1.eye_color[8].checked==true) {BasicEyeColor(); }
   if (document.form1.eye_color[9].checked==true) {BasicEyeColor(); }
   if (document.form1.eye_color[10].checked==true) {BasicEyeColor(); }
   if (document.form1.hair_color[7].checked==true) {BasicHairColor(); }
   if (document.form1.hair_color[8].checked==true) {BasicHairColor(); }
   if (document.form1.hair_color[9].checked==true) {BasicHairColor(); }
   if (document.form1.hair_color[10].checked==true) {BasicHairColor(); }
   if (document.form1.skin_color[6].checked==true) {BasicSkinColor(); }
   if (document.form1.skin_color[7].checked==true) {BasicSkinColor(); }
   if (document.form1.skin_color[8].checked==true) {BasicSkinColor(); }
   if (document.form1.skin_color[9].checked==true) {BasicSkinColor(); }
  }
 if (rayce==129)
  {
   if ((document.form1.skin_color[3].checked==false)) { document.form1.skin_color[1].checked=true; }
   if ((document.form1.hair_color[4].checked==false)) { document.form1.hair_color[5].checked=true; }
   if ((document.form1.eye_color[0].checked==false) && (document.form1.eye_color[9].checked==false) && (document.form1.eye_color[1].checked==false)) { document.form1.eye_color[2].checked=true; }
  }
 if (rayce==170)
  {
   document.form1.skin_color[0].checked=true;
   if ((document.form1.hair_color[1].checked==false) && (document.form1.hair_color[2].checked==false)) { document.form1.hair_color[11].checked=true; }
  }
 if (rayce==130)
  {
   if ((document.form1.skin_color[4].checked==false)) { document.form1.skin_color[3].checked=true; }
   if ((document.form1.hair_color[2].checked==false) && (document.form1.hair_color[4].checked==false) && (document.form1.hair_color[5].checked==false)) { document.form1.hair_color[7].checked=true; }
  }
 if (rayce==150)
  {
   document.form1.skin_color[8].checked=true;
   document.form1.hair_color[5].checked=true;
  }
 if (rayce==131)
  {
   if ((document.form1.skin_color[4].checked==false)) { document.form1.skin_color[3].checked=true; }
   if ((document.form1.hair_color[2].checked==false)) { document.form1.hair_color[1].checked=true; }
  }
 if (rayce==171)
  {
   document.form1.eye_color[6].checked=true;
   if ((document.form1.hair_color[7].checked==false) && (document.form1.hair_color[8].checked==false) && (document.form1.hair_color[2].checked==false)) { document.form1.hair_color[5].checked=true; }
  }
 if (rayce==172)
  {
   if ((document.form1.skin_color[5].checked==false)) { document.form1.skin_color[7].checked=true; }
   document.form1.hair_color[5].checked=true;
   if ((document.form1.eye_color[1].checked==false) && (document.form1.eye_color[2].checked==false) && (document.form1.eye_color[7].checked==false)) { document.form1.eye_color[6].checked=true; }
  }
 if (rayce==173)
  {
   document.form1.skin_color[7].checked=true;
   document.form1.eye_color[2].checked=true;
   document.form1.hair_color[11].checked=true;
  }
 if (rayce==174)
  {
   if (gender==1) { document.form1.beard_type[3].checked=true; }
  }
 if (rayce==145)
  {
   document.form1.hair_color[11].checked=true;
  }
 if (rayce==143)
  {
   document.form1.skin_color[7].checked=true;
   document.form1.eye_color[0].checked=true;
   document.form1.eye_color[0].checked=false;
  }
 if (rayce==147)
  {
   if ((document.form1.skin_color[7].checked==false)) { document.form1.skin_color[8].checked=true; }
   if ((document.form1.hair_color[5].checked==false)) { document.form1.hair_color[9].checked=true; }
  }
 if (rayce==146)
  {
   if ((document.form1.skin_color[8].checked==false)) { document.form1.skin_color[9].checked=true; }
  }
 if (rayce==132)
  {
   document.form1.hair_color[11].checked=true;
   document.form1.skin_color[7].checked=true;
  }
 if (rayce==128)
  {
   if ((document.form1.skin_color[8].checked==false)) { document.form1.skin_color[7].checked=true; }
   if ((document.form1.eye_color[7].checked==false)) { document.form1.eye_color[2].checked=true; }
  }
 if (rayce==9)
  {
   if ((document.form1.eye_color[8].checked==false) && (document.form1.eye_color[9].checked==false)) { document.form1.eye_color[8].checked=true; }
   if ((document.form1.hair_color[7].checked==false) && (document.form1.hair_color[8].checked==false)) { document.form1.hair_color[7].checked=true; }
   document.form1.skin_color[1].checked=true;
  }
 if (rayce==11)
  {
   if ((document.form1.hair_color[1].checked==false) && (document.form1.hair_color[2].checked==false)) { document.form1.hair_color[1].checked=true; }
   if ((document.form1.skin_color[1].checked==false) && (document.form1.skin_color[3].checked==false)) { document.form1.skin_color[1].checked=true; }  }
 if (rayce==10)
  {
   if ((document.form1.eye_color[5].checked==false) && (document.form1.eye_color[6].checked==false) && (document.form1.eye_color[7].checked==false)) { document.form1.eye_color[6].checked=true; }
   if ((document.form1.hair_color[1].checked==false) && (document.form1.hair_color[4].checked==false) && (document.form1.hair_color[5].checked==false) && (document.form1.hair_color[6].checked==false)) { document.form1.hair_color[5].checked=true; }
   if ((document.form1.skin_color[3].checked==false) && (document.form1.skin_color[4].checked==false)) { document.form1.skin_color[4].checked=true; }
  }
 if (rayce==12)
  {
   if ((document.form1.eye_color[0].checked==false) && (document.form1.eye_color[8].checked==false) && (document.form1.eye_color[9].checked==false)) { document.form1.eye_color[0].checked=true; }
   if ((document.form1.hair_color[0].checked==false) && (document.form1.hair_color[7].checked==false) && (document.form1.hair_color[5].checked==false) && (document.form1.hair_color[6].checked==false)) { document.form1.hair_color[0].checked=true; }
   document.form1.skin_color[5].checked=true;
  }
 if (rayce==13)
  {
   if ((document.form1.eye_color[2].checked==false) && (document.form1.eye_color[3].checked==false) && (document.form1.eye_color[1].checked==false)) { document.form1.eye_color[2].checked=true; }
   if ((document.form1.hair_color[10].checked==false) && (document.form1.hair_color[9].checked==false) && (document.form1.hair_color[5].checked==false) && (document.form1.hair_color[6].checked==false)) { document.form1.hair_color[10].checked=true; }
   document.form1.skin_color[6].checked=true;
  }
 if (rayce==14)
  {
   if ((document.form1.skin_color[1].checked==false) && (document.form1.skin_color[3].checked==false) && (document.form1.skin_color[1].checked==false)) { document.form1.skin_color[1].checked=true; }
   if ((document.form1.hair_color[1].checked==false) && (document.form1.hair_color[2].checked==false) && (document.form1.hair_color[5].checked==false) && (document.form1.hair_color[6].checked==false)) { document.form1.hair_color[1].checked=true; }
   document.form1.eye_color[2].checked=true;
  }
 if (rayce==15)
  {
   document.form1.skin_color[7].checked=true;
   document.form1.hair_color[6].checked=true;
  }
 if (rayce==16)
  {
   document.form1.eye_color[7].checked=true;
   if (gender==1) { document.form1.hair_color[11].checked=true; NegateHairType(); }
   if (gender==2) { document.form1.hair_color[6].checked=true; }
   if ((document.form1.skin_color[3].checked==false) && (document.form1.skin_color[7].checked==false)) { document.form1.skin_color[3].checked=true; }
  }

 if ((rayce==17))
  {
   if ((document.form1.eye_color[1].checked==false)
      && (document.form1.eye_color[2].checked==false)
      && (document.form1.eye_color[3].checked==false)
      && (document.form1.eye_color[4].checked==false)) {BasicEyeColor(); }
   if ((document.form1.hair_color[1].checked==false)
      && (document.form1.hair_color[3].checked==false)
      && (document.form1.hair_color[11].checked==false)) {BasicHairColor(); }
   if ((document.form1.skin_color[0].checked==false)
      && (document.form1.skin_color[1].checked==false)) {BasicSkinColor(); }
  }

 if ((rayce==18))
  {
   if ((document.form1.eye_color[1].checked==false)
      && (document.form1.eye_color[2].checked==false)
      && (document.form1.eye_color[3].checked==false)
      && (document.form1.eye_color[4].checked==false)
      && (document.form1.eye_color[5].checked==false)
      && (document.form1.eye_color[6].checked==false)
      && (document.form1.eye_color[7].checked==false)) {BasicEyeColor(); }
   if ((document.form1.hair_color[1].checked==false)
      && (document.form1.hair_color[3].checked==false)
      && (document.form1.hair_color[4].checked==false)
      && (document.form1.hair_color[11].checked==false)) {BasicHairColor(); }
   if ((document.form1.skin_color[0].checked==false)
      && (document.form1.skin_color[1].checked==false)
      && (document.form1.skin_color[2].checked==false)
      && (document.form1.skin_color[3].checked==false)
      && (document.form1.skin_color[4].checked==false)
      && (document.form1.skin_color[5].checked==false)) {BasicSkinColor(); }
  }

 if ((rayce==19) || (rayce==37))
  {
   if ((document.form1.eye_color[2].checked==false)
      && (document.form1.eye_color[3].checked==false)
      && (document.form1.eye_color[4].checked==false)
      && (document.form1.eye_color[5].checked==false)) {BasicEyeColor(); }
   if ((document.form1.hair_color[4].checked==false)
      && (document.form1.hair_color[5].checked==false)
      && (document.form1.hair_color[11].checked==false)) {BasicHairColor(); }
   if ((document.form1.skin_color[4].checked==false)
      && (document.form1.skin_color[7].checked==false)) {BasicSkinColor(); }
  }

 if ((rayce==20))
  {
   if ((document.form1.skin_color[8].checked==false) && (document.form1.skin_color[7].checked==false)
      && (document.form1.skin_color[9].checked==false)) {BasicSkinColor(); }
  }

 if ((rayce==99) || (rayce==80) || (rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==20) || (rayce==27) || ((rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45)) || (rayce==34))
  {
   document.form1.hair_color[11].checked=true; NegateHairType();
  }
 if (rayce==21)
  {
   if ((document.form1.skin_color[3].checked==false) && (document.form1.skin_color[4].checked==false)) { document.form1.skin_color[3].checked=true; }
   if ((document.form1.eye_color[5].checked==false) && (document.form1.eye_color[8].checked==false)) { document.form1.eye_color[5].checked=true; }
   if ((document.form1.hair_color[5].checked==false) && (document.form1.hair_color[8].checked==false)) {BasicHairColor(); }
  }
 if ((rayce==22) || (rayce==73) || (rayce==64) || (rayce==55) || (rayce==46))
  {
   if ((document.form1.skin_color[7].checked==false) && (document.form1.skin_color[8].checked==false) && (document.form1.skin_color[9].checked==false)) {BasicSkinColor(); }
  }

 if ((rayce==23))
  {
   document.form1.eye_color[1].checked=true;
   if ((document.form1.hair_color[1].checked==false)
      && (document.form1.hair_color[3].checked==false)
      && (document.form1.hair_color[4].checked==false)) {BasicHairColor(); }
   if ((document.form1.skin_color[2].checked==false) && (document.form1.skin_color[3].checked==false)
      && (document.form1.skin_color[4].checked==false)) {BasicSkinColor(); }
  }

 if ((rayce==19) || (rayce==37))
  {
   if ((document.form1.hair_color[1].checked==false)
      && (document.form1.hair_color[6].checked==false)
      && (document.form1.hair_color[2].checked==false)) {BasicHairColor(); }
   if ((document.form1.skin_color[8].checked==false)
      && (document.form1.skin_color[7].checked==false) && (document.form1.skin_color[9].checked==false)) {BasicSkinColor(); }
  }

 if ((rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45))
  {
   if ((document.form1.skin_color[4].checked==false) && (document.form1.skin_color[5].checked==false)) { document.form1.skin_color[4].checked=true; }
   document.form1.eye_color[0].checked=true;
  }
 if ((rayce==26) || (rayce==68) || (rayce==59) || (rayce==50) || (rayce==40))
  {
   if ((document.form1.eye_color[0].checked==false) && (document.form1.skin_color[0].checked==false)) { document.form1.eye_color[0].checked=true; }
  }

 if ((rayce==121) || (rayce==122) || (rayce==123) || (rayce==124))
  {
   if (document.form1.skin_color[0].checked==false) { document.form1.skin_color[8].checked=true; }
  }

 if (rayce==181)
  {
   if (document.form1.skin_color[3].checked==false) { document.form1.skin_color[8].checked=true; }
  }

 if ((rayce==126))
  {
   document.form1.skin_color[7].checked=true;
   if (gender==1) { document.form1.beard_type[0].checked=true; }
   if (document.form1.hair_color[4].checked==false) { document.form1.hair_color[5].checked=true; }
   if (document.form1.eye_color[1].checked==false) { document.form1.eye_color[2].checked=true; }
  }

 if (rayce==27) {
   document.form1.eye_color[6].checked=true;
  }

 if ((rayce>=56) && (rayce<=64))
  {
   if ((document.form1.eye_color[4].checked==false) && (document.form1.eye_color[6].checked==false))
    { document.form1.eye_color[5].checked=true; }
   if ((document.form1.hair_color[3].checked==false) && (document.form1.hair_color[4].checked==false))
    { document.form1.hair_color[5].checked=true; }
   if ((document.form1.skin_color[3].checked==false) && (document.form1.skin_color[5].checked==false))
    { document.form1.skin_color[4].checked=true; }
  }


 if (rayce==83)
  {
   document.form1.hair_color[5].checked=true;
   document.form1.skin_color[2].checked=true;
  }
 if ((rayce>38) && (rayce<=46))
  {
   if ((document.form1.skin_color[8].checked==false) && (document.form1.skin_color[9]==false)) {BasicSkinColor(); }
   if ((document.form1.eye_color[9].checked==false) && (document.form1.eye_color[10].checked==false)
      && (document.form1.eye_color[5].checked==false)) {BasicEyeColor(); }
  }
 if ((rayce>=47) && (rayce<=55))
  {
   if ((document.form1.skin_color[0].checked==false) && (document.form1.skin_color[8]==false) && (document.form1.skin_color[9]==false)) {BasicSkinColor(); }
  }
 if (rayce==84)
  {
   if (document.form1.eye_color[7].checked==false)
    { document.form1.eye_color[8].checked=true; }
  }
 if (rayce==80)
  {
   document.form1.hair_color[11].checked=true;
   document.form1.skin_color[6].checked=true;
  }
 if (rayce==85)
  {
   if ((document.form1.skin_color[8].checked==false) && (document.form1.skin_color[9].checked==false)) {BasicSkinColor(); }
   if ((document.form1.eye_color[10].checked==false) && (document.form1.eye_color[1].checked==false) && (document.form1.eye_color[2].checked==false)) {BasicEyeColor(); }
   if ((document.form1.hair_color[0].checked==false) && (document.form1.hair_color[5].checked==false) && (document.form1.hair_color[7].checked==false)) {BasicHairColor(); }
  }
 if ((rayce==88) || (rayce==89) || (rayce==90))
  {
   BasicSkinColor();
   document.form1.hair_color[11].checked=true; NegateHairType();
   if ((rayce!=90) && (document.form1.eye_color[1].checked==false) && (document.form1.eye_color[6].checked==false)) {BasicEyeColor(); }
  }
 if (rayce==93)
  {
   if ((document.form1.skin_color[3].checked==false) && (document.form1.skin_color[4].checked==false)) {BasicSkinColor(); }
   if ((document.form1.eye_color[2].checked==false) && (document.form1.eye_color[3].checked==false) && (document.form1.eye_color[4].checked==false)) {BasicEyeColor(); }
   if ((document.form1.hair_color[3].checked==false) && (document.form1.hair_color[4].checked==false) && (document.form1.hair_color[5].checked==false)) {BasicHairColor(); }
  }
 if (rayce==94)
  {
   if ((document.form1.skin_color[0].checked==false) && (document.form1.skin_color[1].checked==false) && (document.form1.skin_color[3].checked==false)) {BasicSkinColor(); }
   if ((document.form1.eye_color[2].checked==false) && (document.form1.eye_color[3].checked==false) && (document.form1.eye_color[4].checked==false)) {BasicEyeColor(); }
   if ((document.form1.hair_color[3].checked==false) && (document.form1.hair_color[4].checked==false) && (document.form1.hair_color[5].checked==false)) {BasicHairColor(); }
  }
 if (rayce==95)
  {
   if ((document.form1.skin_color[0].checked==false) && (document.form1.skin_color[1].checked==false)) {BasicSkinColor(); }
   if ((document.form1.eye_color[2].checked==false) && (document.form1.eye_color[3].checked==false) && (document.form1.eye_color[4].checked==false)) {BasicEyeColor(); }
   if ((document.form1.hair_color[1].checked==false) && (document.form1.hair_color[2].checked==false) && (document.form1.hair_color[4].checked==false)) {BasicHairColor(); }
  }
 if (rayce==96)
  {
   document.form1.skin_color[9].checked=true;
   if ((document.form1.eye_color[1].checked==false) && (document.form1.eye_color[2].checked==false) && (document.form1.eye_color[6].checked==false) && (document.form1.eye_color[8].checked==false)) {BasicEyeColor(); }
   if ((document.form1.hair_color[8].checked==false) && (document.form1.hair_color[9].checked==false)) {BasicHairColor(); }
  }
 if (rayce==97)
  {
   document.form1.skin_color[9].checked=true;
   if ((document.form1.eye_color[1].checked==false) && (document.form1.eye_color[2].checked==false) && (document.form1.eye_color[6].checked==false) && (document.form1.eye_color[8].checked==false)) {BasicEyeColor(); }
   document.form1.hair_color[7].checked=true;
  }
 if (rayce==98)
  {
   document.form1.skin_color[4].checked=true;
   if ((document.form1.eye_color[2].checked==false) && (document.form1.eye_color[9].checked==false)) {BasicEyeColor(); }
   document.form1.hair_color[0].checked=true;
   document.form1.hair_type[2].checked=true;
  }
  if (rayce==117) { document.form1.skin_color[0].checked=true; document.form1.skin_color[0].checked=false; }
  if (rayce==118)
   {
    document.form1.eye_color[6].checked=true;
    if (document.form1.skin_color[4].checked==false) { document.form1.skin_color[5].checked=true; }
   }
  if (rayce==120)
   {
    document.form1.skin_color[5].checked=true;
    document.form1.hair_color[5].checked=true;
    document.form1.hair_type[0].checked=true;
    document.form1.beard_type[0].checked=true;
    document.form1.beard_type[0].checked=false;
   }
  if (rayce==127)
   {
    document.form1.skin_color[7].checked=true;
    if (gender==1) { document.form1.beard_type[3].checked=true; }
    if (document.form1.hair_color[5].checked==false) { document.form1.hair_color[6].checked=true; }
    if (document.form1.eye_color[8].checked==false) { document.form1.eye_color[0].checked=true; }
   }
  if (rayce==113) { document.form1.skin_color[0].checked=true; document.form1.hair_color[0].checked=true; }
  if (rayce==115) { document.form1.skin_color[3].checked=true; }
  if ((rayce==114) || (rayce==116)) { document.form1.hair_color[11].checked=true; }

  if (rayce==155)
   {
    if (document.form1.skin_color[9].checked==false) { document.form1.skin_color[0].checked=true; }
    document.form1.hair_color[0].checked=true;
    document.form1.hair_type[2].checked=true;
    document.form1.eye_color[2].checked=true;
   }
  if (rayce==156)
   {
    document.form1.skin_color[7].checked=true;
    if ((document.form1.hair_color[5].checked==false) && (document.form1.hair_color[7].checked==false)) { document.form1.hair_color[6].checked=true; }
    document.form1.eye_color[10].checked=true;
   }
  if (rayce==157)
   {
    if ((document.form1.skin_color[3].checked==false) && (document.form1.skin_color[5].checked==false)) { document.form1.skin_color[4].checked=true; }
    document.form1.eye_color[5].checked=true;
    document.form1.hair_color[4].checked=true;
   }
  if (rayce==158)
   {
    if (document.form1.skin_color[9].checked==false) { document.form1.skin_color[8].checked=true; }
    if (document.form1.eye_color[10].checked==false) { document.form1.eye_color[9].checked=true; }
   }
  if (rayce==159)
   {
    if ((document.form1.skin_color[9].checked==false) && (document.form1.skin_color[6].checked==false)) { document.form1.skin_color[0].checked=true; }
    if ((document.form1.eye_color[1].checked==false) && (document.form1.eye_color[9].checked==false)) { document.form1.eye_color[2].checked=true; }
    if (gender==1) { document.form1.beard_type[0].checked=true; }
   }
  if (rayce==36)
   {
    document.form1.skin_color[4].checked=true;
    if ((document.form1.hair_color[4].checked==false) && (document.form1.hair_color[0].checked==false)) { document.form1.hair_color[3].checked=true; }
    if ((document.form1.eye_color[3].checked==false) || (document.form1.eye_color[4].checked==false) || (document.form1.eye_color[5].checked==false)) { document.form1.eye_color[2].checked=true; }
   }
  if (rayce==160)
   {
    if (document.form1.skin_color[0].checked==false) { document.form1.skin_color[8].checked=true; }
   }
  if (rayce==161)
   {
    if ((document.form1.skin_color[5].checked==false) && (document.form1.skin_color[6].checked==false)) { document.form1.skin_color[7].checked=true; }
    if (document.form1.hair_color[0].checked==false) { document.form1.hair_color[7].checked=true; }
   }
  if (rayce==163)
   {
    document.form1.skin_color[7].checked=true;
    document.form1.hair_color[5].checked=true;
    document.form1.eye_color[0].checked=true;
   }
  if (rayce==164)
   {
    document.form1.skin_color[3].checked=true;
    if ((document.form1.hair_color[5].checked==false) && (document.form1.hair_color[2].checked==false)) { document.form1.hair_color[1].checked=true; }
    if (document.form1.eye_color[8].checked==false) { document.form1.eye_color[1].checked=true; }
   }
  if (rayce==165)
   {
    if (document.form1.skin_color[4].checked==false) { document.form1.skin_color[7].checked=true; }
    document.form1.eye_color[1].checked=true;
    if (gender==1) { document.form1.beard_type[3].checked=true; }
   }
  if (rayce==166)
   {
    document.form1.skin_color[3].checked=true;
    document.form1.hair_color[1].checked=true;
    document.form1.eye_color[8].checked=true;
   }
  if (rayce==169)
   {
    document.form1.hair_color[11].checked=true;
    if (document.form1.eye_color[10].checked==false) { document.form1.eye_color[6].checked=true; }
   }
  if (rayce==177)
   {
    document.form1.skin_color[7].checked=true;
    document.form1.beard_type[0].checked=true;
   }
  if (rayce==176)
   {
    if ((document.form1.skin_color[3].checked==false) && (document.form1.skin_color[4].checked==false) && (document.form1.skin_color[5].checked==false)) { document.form1.skin_color[2].checked=true; }
    document.form1.beard_type[0].checked=true;document.form1.beard_type[0].checked=false;
   }
}

function xp_penalty() {
 stringy="";
 highest_class_level=0;
 second_highest_class_level=0;
 
//racialstuff
if ((barbarian_levels>highest_class_level) && (rayce!=175) && (rayce!=166) && (rayce!=165) && (rayce!=157) && (rayce!=143) && (rayce!=134) && (rayce!=131) && (rayce!=120) && (rayce!=126) && (rayce!=106) && (rayce!=97) && (rayce!=107) && (rayce!=68) && (rayce!=75) && (rayce!=73) && (rayce!=70) && (rayce!=71) && (rayce!=52) && (rayce!=64) && (rayce!=61) && (rayce!=55) && (rayce!=46) && (rayce!=42) && (rayce!=7) && (rayce!=42) && (rayce!=52) && (rayce!=61) && (rayce!=70) && (rayce!=75) && (rayce!=22) && (rayce!=46) && (rayce!=55) && (rayce!=64) && (rayce!=73) && ((class01!=1) || ((rayce!=35) && (rayce!=98)))) {
	second_highest_class_level=highest_class_level; 
 	highest_class_level=barbarian_levels; 
 	}
 if ((bard_levels>highest_class_level) && (rayce!=149) && (rayce!=113) && (rayce!=67) && (rayce!=79) && (rayce!=5) && (rayce!=39) && (rayce!=49) && (rayce!=58) && (rayce!=67) && (rayce!=58) && (rayce!=49) && (rayce!=39) && (rayce!=37) && (rayce!=79) && (rayce!=16) && ((class01!=2) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=bard_levels; }
 if ((cleric_levels>highest_class_level) && (rayce!=179) && (rayce!=159) && (rayce!=139) && (rayce!=127) && ((rayce!=108) || (gender!=2)) && (rayce!=27) && ((rayce!=12) || (gender!=2)) && ((class01!=3) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=cleric_levels; }
 if ((druid_levels>highest_class_level) && (rayce!=181) && (rayce!=171) && (rayce!=167) && (rayce!=168) && (rayce!=114) && (rayce!=130) && (rayce!=19) && (rayce!=20) && ((class01!=4) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=druid_levels; }
 if ((fighter_levels>highest_class_level) && (rayce!=176) && (rayce!=162) && (rayce!=163) && (rayce!=158) && (rayce!=147) && (rayce!=142) && (rayce!=132) && (rayce!=119) && (rayce!=105) && (rayce!=96) && (rayce!=86) && (rayce!=83) && (rayce!=80) && (rayce!=76) && (rayce!=77) && (rayce!=56) && (rayce!=47) && (rayce!=38) && (rayce!=76) && (rayce!=77) && (rayce!=4) && (rayce!=21) && (rayce!=15) && (rayce!=14) && (rayce!=13) && (rayce!=29) && (rayce!=30) && (rayce!=31) && (rayce!=32) && ((class01!=5) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=fighter_levels; }
 if ((monk_levels>highest_class_level) && (rayce!=116) && (rayce!=112) && (rayce!=84) && (rayce!=69) && ((class01!=6) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=monk_levels; }
 if ((paladin_levels>highest_class_level) && (rayce!=28) && ((class01!=7) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=paladin_levels; }
 if ((ranger_levels>highest_class_level) && (rayce!=180) && (rayce!=177) && (rayce!=155) && (rayce!=153) && (rayce!=144) && (rayce!=140) && (rayce!=117) && (rayce!=101) && (rayce!=111) && ((rayce!=108) || (gender!=1)) && (rayce!=93) && (rayce!=78) && (rayce!=74) && (rayce!=151) && (rayce!=65) && (rayce!=53) && (rayce!=74) && (rayce!=151) && (rayce!=78) && (rayce!=11) && (rayce!=24) && (rayce!=34) && ((class01!=8) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=ranger_levels; }
 if ((rogue_levels>highest_class_level) && (rayce!=173) && (rayce!=169) && (rayce!=154) && (rayce!=150) && (rayce!=141) && (rayce!=135) && (rayce!=128) && (rayce!=118) && (rayce!=92) && (rayce!=109) && (rayce!=91) && (rayce!=87) && (rayce!=81) && (rayce!=63) && (rayce!=62) && (rayce!=59) && (rayce!=50) && (rayce!=43) && (rayce!=6) && (rayce!=43) && (rayce!=62) && (rayce!=40) && (rayce!=23) && (rayce!=26) && (rayce!=40) && (rayce!=50) && (rayce!=59) && (rayce!=33) && ((class01!=9) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=rogue_levels; }
 if ((sorcerer_levels>highest_class_level) && (rayce!=152) && (rayce!=148) && (rayce!=146) && (rayce!=129) && (rayce!=115) && (rayce!=88) && (rayce!=72) && (rayce!=54) && (rayce!=45) && (rayce!=10) && (rayce!=25) && (rayce!=45) && (rayce!=54) && (rayce!=72) && ((class01!=10) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=sorcerer_levels; }
 if ((wizard_levels>highest_class_level) && (rayce!=172) && (rayce!=145) && (rayce!=133) && (rayce!=95) && (rayce!=94) && (rayce!=85) && (rayce!=66) && (rayce!=57) && (rayce!=48) && (rayce!=3) && (rayce!=48) && (rayce!=57) && (rayce!=66) && (rayce!=9) && ((rayce!=12) || (gender!=1)) && ((class01!=11) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=wizard_levels; }
 if ((psion_levels>highest_class_level) && (rayce!=100) && (rayce!=110) && (rayce!=69) && ((class01!=12) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=psion_levels; }
 if ((psiwarrior_levels>highest_class_level) && (rayce!=102) && (rayce!=69) && ((class01!=13) || ((rayce!=35) && (rayce!=98)))) {second_highest_class_level=highest_class_level; highest_class_level=psiwarrior_levels; }
 if ((soulknife_levels>highest_class_level) && (rayce!=104)) {second_highest_class_level=highest_class_level; highest_class_level=soulknife_levels; }
 if ((wilder_levels>highest_class_level) && (rayce!=103) && (rayce!=99)) {second_highest_class_level=highest_class_level; highest_class_level=wilder_levels; }
 if ((npcother_levels>highest_class_level) && (rayce!=156)) {second_highest_class_level=highest_class_level; highest_class_level=npcother_levels; }
 if ((rayce==1) || (rayce==170) || (rayce==164) || (rayce==161) || (rayce==160) || (rayce==136) || (rayce==137) || (rayce==138) || (rayce==2) || (rayce==69) || (rayce==51) || (rayce==82) || (rayce==41) || (rayce==44) || (rayce==60) || (rayce==125)) {highest_class_level=second_highest_class_level; }
//racialstuff
 if ((barbarian_levels<highest_class_level-1) && (rayce!=175) && (rayce!=166) && (rayce!=165) && (rayce!=157) && (rayce!=143) && (rayce!=134) && (barbarian_levels>0) && (rayce!=131) && (rayce!=126) && (rayce!=120) && (rayce!=106) && (rayce!=107) && (rayce!=97) && (rayce!=71) && (rayce!=7) && (rayce!=42) && (rayce!=52) && (rayce!=61) && (rayce!=70) && (rayce!=22) && (rayce!=46) && (rayce!=55) && (rayce!=64) && (rayce!=68) && (rayce!=73) && ((class01!=1) || ((rayce!=35) && (rayce!=98)))) { stringy+="Barbarian "; }
 if ((bard_levels<highest_class_level-1) && (bard_levels>0) && (rayce!=149) && (rayce!=113) && (rayce!=5) && (rayce!=39) && (rayce!=49) && (rayce!=58) && (rayce!=67) && (rayce!=37) && (rayce!=16) && ((class01!=2) || ((rayce!=35) && (rayce!=98)))) { stringy+="Bard "; }
 if ((cleric_levels<highest_class_level-1) && (rayce!=179) && (rayce!=159) && (rayce!=139) && (rayce!=127) && (cleric_levels>0) && ((rayce!=108) || (gender!=2)) && (rayce!=27) && ((rayce!=12) || (gender!=2)) && ((class01!=3) || ((rayce!=35) && (rayce!=98)))) { stringy+="Cleric "; }
 if ((druid_levels<highest_class_level-1) && (rayce!=181) && (rayce!=171) && (rayce!=167) && (rayce!=168) && (rayce!=130) && (druid_levels>0) && (rayce!=114) && (rayce!=19) && (rayce!=20) && ((class01!=4) || ((rayce!=35) && (rayce!=98)))) { stringy+="Druid "; }
 if ((fighter_levels<highest_class_level-1) && (rayce!=176) && (rayce!=162) && (rayce!=163) && (rayce!=158) && (rayce!=147) && (rayce!=142) && (rayce!=132) && (fighter_levels>0) && (rayce!=119) && (rayce!=105) && (rayce!=96) && (rayce!=86) && (rayce!=83) && (rayce!=80) && (rayce!=21) && (rayce!=4) && (rayce!=38) && (rayce!=47) && (rayce!=56) && (rayce!=15) && (rayce!=14) && (rayce!=13) && (rayce!=29) && (rayce!=30) && (rayce!=31) && (rayce!=32) && ((class01!=5) || ((rayce!=35) && (rayce!=98)))) { stringy+="Fighter "; }
 if ((monk_levels<highest_class_level-1) && (monk_levels>0) && (rayce!=116) && (rayce!=112) && (rayce!=84) && (rayce!=69) && ((class01!=6) || ((rayce!=35) && (rayce!=98)))) { stringy+="Monk "; }
 if ((paladin_levels<highest_class_level-1) && (paladin_levels>0) && (rayce!=28) && ((class01!=7) || ((rayce!=35) && (rayce!=98)))) { stringy+="Paladin "; }
 if ((ranger_levels<highest_class_level-1) && (rayce!=180) && (rayce!=177) && (rayce!=155) && (rayce!=153) && (rayce!=144) && (rayce!=140) && (rayce!=117) && (ranger_levels>0) && ((rayce!=108) || (gender!=1)) && (rayce!=101) && (rayce!=93) && (rayce!=53) && (rayce!=11) && (rayce!=24) && (rayce!=65) && (rayce!=34) && ((class01!=8) || ((rayce!=35) && (rayce!=98)))) { stringy+="Ranger "; }
 if ((rogue_levels<highest_class_level-1) && (rayce!=173) && (rayce!=169) && (rayce!=154) && (rogue_levels>0) && (rayce!=150) && (rayce!=141) && (rayce!=128) && (rayce!=118) && (rayce!=111) && (rayce!=109) && (rayce!=92) && (rayce!=91) && (rayce!=87) && (rayce!=81) && (rayce!=6) && (rayce!=43) && (rayce!=62) && (rayce!=23) && (rayce!=26) && (rayce!=40) && (rayce!=50) && (rayce!=63) && (rayce!=59) && (rayce!=33) && ((class01!=9) || ((rayce!=35) && (rayce!=98)))) { stringy+="Rogue "; }
 if ((sorcerer_levels<highest_class_level-1) && (sorcerer_levels>0) && (rayce!=152) && (rayce!=148) && (rayce!=146) && (rayce!=129) && (rayce!=115) && (rayce!=88) && (rayce!=10) && (rayce!=25) && (rayce!=45) && (rayce!=54) && (rayce!=72) && ((class01!=10) || ((rayce!=35) && (rayce!=98)))) { stringy+="Sorcerer "; }
 if ((wizard_levels<highest_class_level-1) && (rayce!=172) && (rayce!=145) && (rayce!=133) && (wizard_levels>0) && (rayce!=95) && (rayce!=94) && (rayce!=85) && (rayce!=3) && (rayce!=48) && (rayce!=57) && (rayce!=66) && (rayce!=9) && ((rayce!=12) || (gender!=1)) && ((class01!=11) || ((rayce!=35) && (rayce!=98)))) { stringy+="Wizard "; }
 if ((psion_levels<highest_class_level-1) && (psion_levels>0) && (rayce!=110) && (rayce!=100) && (rayce!=69) && ((class01!=12) || ((rayce!=35) && (rayce!=98)))) { stringy+="Psion "; }
 if ((psiwarrior_levels<highest_class_level-1) && (psiwarrior_levels>0) && (rayce!=102) && (rayce!=69) && ((class01!=13) || ((rayce!=35) && (rayce!=98)))) { stringy+="PsiWarrior "; }
 if ((soulknife_levels<highest_class_level-1) && (soulknife_levels>0) && (rayce!=104)) { stringy+="Soulknife "; }
 if ((wilder_levels<highest_class_level-1) && (wilder_levels>0) && (rayce!=103) && (rayce!=99)) { stringy+="Wilder "; }
 if ((npcother_levels<highest_class_level-1) && (npcother_levels>0) && (rayce!=156)) { stringy+="Expert "; }
 if (stringy!="") { stringy="XP penalty for multiclass as: " + stringy}
 }

function ics() {
 FigureClassSkillsAndTotalSkillPoints()
 if (document.form1.appraise_ics.checked==true) {appraise_class=1; }
 if (document.form1.balance_ics.checked==true) {balance_class=1; }
 if (document.form1.bluff_ics.checked==true) {bluff_class=1; }
 if (document.form1.climb_ics.checked==true) {climb_class=1; }
 if (document.form1.concentration_ics.checked==true) {concentration_class=1; }
 if (document.form1.craft_1_ics.checked==true) {craft_1_class=1; }
 if (document.form1.craft_2_ics.checked==true) {craft_2_class=1; }
 if (document.form1.craft_3_ics.checked==true) {craft_3_class=1; }
 if (document.form1.decipherscript_ics.checked==true) {decipherscript_class=1; }
 if (document.form1.diplomacy_ics.checked==true) {diplomacy_class=1; }
 if (document.form1.disabledevice_ics.checked==true) {disabledevice_class=1; }
 if (document.form1.disguise_ics.checked==true) {disguise_class=1; }
 if (document.form1.escapeartist_ics.checked==true) {escapeartist_class=1; }
 if (document.form1.forgery_ics.checked==true) {forgery_class=1; }
 if (document.form1.gatherinformation_ics.checked==true) {gatherinformation_class=1; }
 if (document.form1.handleanimal_ics.checked==true) {handleanimal_class=1; }
 if (document.form1.heal_ics.checked==true) {heal_class=1; }
 if (document.form1.hide_ics.checked==true) {hide_class=1; }
 if (document.form1.intimidate_ics.checked==true) {intimidate_class=1; }
 if (document.form1.jump_ics.checked==true) {jump_class=1; }
 if (document.form1.knowledgearcana_ics.checked==true) {knowledgearcana_class=1; }
 if (document.form1.knowledgearchitecture_ics.checked==true) {knowledgearchitecture_class=1; }
 if (document.form1.knowledgedungeoneering_ics.checked==true) {knowledgedungeoneering_class=1; }
 if (document.form1.knowledgegeography_ics.checked==true) {knowledgegeography_class=1; }
 if (document.form1.knowledgehistory_ics.checked==true) {knowledgehistory_class=1; }
 if (document.form1.knowledgelocal_ics.checked==true) {knowledgelocal_class=1; }
 if (document.form1.knowledgenobility_ics.checked==true) {knowledgenobility_class=1; }
 if (document.form1.knowledgereligion_ics.checked==true) {knowledgereligion_class=1; }
 if (document.form1.knowledgeplanes_ics.checked==true) {knowledgeplanes_class=1; }
 if (document.form1.listen_ics.checked==true) {listen_class=1; }
 if (document.form1.movesilently_ics.checked==true) {movesilently_class=1; }
 if (document.form1.openlock_ics.checked==true) {openlock_class=1; }
 if (document.form1.perform_1_ics.checked==true) {perform_1_class=1; }
 if (document.form1.perform_2_ics.checked==true) {perform_2_class=1; }
 if (document.form1.perform_3_ics.checked==true) {perform_3_class=1; }
 if (document.form1.perform_4_ics.checked==true) {perform_4_class=1; }
 if (document.form1.perform_5_ics.checked==true) {perform_5_class=1; }
 if (document.form1.profession_ics.checked==true) {profession_class=1; }
 if (document.form1.ride_ics.checked==true) {ride_class=1; }
 if (document.form1.search_ics.checked==true) {search_class=1; }
 if (document.form1.sensemotive_ics.checked==true) {sensemotive_class=1; }
 if (document.form1.sleightofhand_ics.checked==true) {sleightofhand_class=1; }
 if (document.form1.speaklanguage_ics.checked==true) {speaklanguage_class=1; }
 if (document.form1.spellcraft_ics.checked==true) {spellcraft_class=1; }
 if (document.form1.spot_ics.checked==true) {spot_class=1; }
 if (document.form1.survival_ics.checked==true) {survival_class=1; }
 if (document.form1.swim_ics.checked==true) {swim_class=1; }
 if (document.form1.tumble_ics.checked==true) {tumble_class=1; }
 if (document.form1.usemagicdevice_ics.checked==true) {usemagicdevice_class=1; }
 if (document.form1.userope_ics.checked==true) {userope_class=1; }
 if (document.form1.autohypnosis_ics.checked==true) {autohypnosis_class=1; }
 if (document.form1.knowpsi_ics.checked==true) {knowpsi_class=1; }
 if (document.form1.psicraft_ics.checked==true) {psicraft_class=1; }
// if (document.form1.remoteview_ics.checked==true) {remoteview_class=1; }
// if (document.form1.stabilizeself_ics.checked==true) {stabilizeself_class=1; }
 if (document.form1.usepsionicdevice_ics.checked==true) {usepsionicdevice_class=1; }
 }

function InitializeIntelligences() {
     intelligence01=intelligence;
     intelligence04=intelligence;
     intelligence08=intelligence;
     intelligence12=intelligence;
     intelligence16=intelligence;
     intelligence20=intelligence;
     intelligence24=intelligence;
     intelligence28=intelligence;
     intelligence32=intelligence;
     intelligence36=intelligence;
     intelligence40=intelligence;
     intelligence44=intelligence;
     intelligence48=intelligence;
     intelligence52=intelligence;
     intelligence56=intelligence;
     intelligence60=intelligence;
     intelligence64=intelligence;
     intelligence68=intelligence;
     intelligence72=intelligence;
     intelligence76=intelligence;
     intelligence80=intelligence;
     intelligence84=intelligence;
     intelligence88=intelligence;
     intelligence92=intelligence;
     intelligence96=intelligence;
     intelligence100=intelligence;
}


function EmptyPrestigeClassOptions() {
z=0; 
while (z<16) {
 if (z<5) { document.form1.prestige_hit_dice[z].checked=false; }
 if (z<3) { document.form1.prestige_attack_progress[z].checked=false; }
 if (z<2) { document.form1.prestige_fortitude_progress[z].checked=false; }
 if (z<2) { document.form1.prestige_reflex_progress[z].checked=false; }
 if (z<2) { document.form1.prestige_will_progress[z].checked=false; }
 if (z<4) { document.form1.prestige_skill_progress[z].checked=false; }
 if (z<4) { document.form1.prestige_armor[z].checked=false; }
 if (z<8) { document.form1.prestige_spell_type[z].checked=false; }
 if (z<16) { document.form1.count_prestige_spell_levels[z].checked=false; }
 z++; }
}

function RememberPrestigeClassOptions() {

 EmptyPrestigeClassOptions();
 document.form1.prestige_name.value=prestige_class_name;
 if (prestige_hit_point_dice==4) { document.form1.prestige_hit_dice[0].checked=true; }
 if (prestige_hit_point_dice==6) { document.form1.prestige_hit_dice[1].checked=true; }
 if (prestige_hit_point_dice==8) { document.form1.prestige_hit_dice[2].checked=true; }
 if (prestige_hit_point_dice==10) { document.form1.prestige_hit_dice[3].checked=true; }
 if (prestige_hit_point_dice==12) { document.form1.prestige_hit_dice[4].checked=true; }
 if (prestige_attack_bonus_progress==1) { document.form1.prestige_attack_progress[0].checked=true; }
 if (prestige_attack_bonus_progress==2) { document.form1.prestige_attack_progress[1].checked=true; }
 if (prestige_attack_bonus_progress==3) { document.form1.prestige_attack_progress[2].checked=true; }
 if (prestige_fortitude_save_bonus==1) { document.form1.prestige_fortitude_progress[0].checked=true; }
 if (prestige_fortitude_save_bonus==2) { document.form1.prestige_fortitude_progress[1].checked=true; }
 if (prestige_reflex_save_bonus==1) { document.form1.prestige_reflex_progress[0].checked=true; }
 if (prestige_reflex_save_bonus==2) { document.form1.prestige_reflex_progress[1].checked=true; }
 if (prestige_will_save_bonus==1) { document.form1.prestige_will_progress[0].checked=true; }
 if (prestige_will_save_bonus==2) { document.form1.prestige_will_progress[1].checked=true; }
 if (prestige_skill_points_per_level==2) { document.form1.prestige_skill_progress[0].checked=true; }
 if (prestige_skill_points_per_level==4) { document.form1.prestige_skill_progress[1].checked=true; }
 if (prestige_skill_points_per_level==6) { document.form1.prestige_skill_progress[2].checked=true; }
 if (prestige_skill_points_per_level==8) { document.form1.prestige_skill_progress[3].checked=true; }
 document.form1.prestige_armor[prestige_armor_entitlement].checked=true;
 if (prestige_bard_spell_levels>0) { document.form1.prestige_spell_type[1].checked=true; }
 if (prestige_cleric_spell_levels>0) { document.form1.prestige_spell_type[2].checked=true; }
 if (prestige_druid_spell_levels>0) { document.form1.prestige_spell_type[3].checked=true; }
 if (prestige_paladin_spell_levels>0) { document.form1.prestige_spell_type[4].checked=true; }
 if (prestige_ranger_spell_levels>0) { document.form1.prestige_spell_type[5].checked=true; }
 if (prestige_sorcerer_spell_levels>0) { document.form1.prestige_spell_type[6].checked=true; }
 if (prestige_wizard_spell_levels>0) { document.form1.prestige_spell_type[7].checked=true; }
 document.form1.count_prestige_spell_levels[prestige_any_spell_levels].checked=true;
 }

function PrestigeClass() {
prestige_monitor=true;
if (FighterFeatsEtcFrozen==true)
  {RememberPrestigeClassOptions(); return true; }

 if (prestige_levels + epic_prestige_levels==0) {RememberPrestigeClassOptions(); return true; }
 prestige_any_spell_levels=0;
 prestige_bard_spell_levels=0;
 prestige_cleric_spell_levels=0;
 prestige_druid_spell_levels=0;
 prestige_paladin_spell_levels=0;
 prestige_ranger_spell_levels=0;
 prestige_sorcerer_spell_levels=0;
 prestige_wizard_spell_levels=0;
 document.form1.fourth_comment_box.value="";
 if (document.form1.prestige_name.value=="") { document.form1.prestige_name.value="Prestige Class"; }
 prestige_class_name=document.form1.prestige_name.value;
 prestige_hit_point_dice=0;
 if (document.form1.prestige_hit_dice[0].checked==true) {prestige_hit_point_dice=4; }
 if (document.form1.prestige_hit_dice[1].checked==true) {prestige_hit_point_dice=6; }
 if (document.form1.prestige_hit_dice[2].checked==true) {prestige_hit_point_dice=8; }
 if (document.form1.prestige_hit_dice[3].checked==true) {prestige_hit_point_dice=10; }
 if (document.form1.prestige_hit_dice[4].checked==true) {prestige_hit_point_dice=12; }
 if (prestige_hit_point_dice==0) { document.form1.fourth_comment_box.value="Hit point dice for the prestige class?"; prestige_monitor=false; }
 prestige_attack_bonus_progress=0;
 if (document.form1.prestige_attack_progress[0].checked==true) {prestige_attack_bonus_progress=1; }
 if (document.form1.prestige_attack_progress[1].checked==true) {prestige_attack_bonus_progress=2; }
 if (document.form1.prestige_attack_progress[2].checked==true) {prestige_attack_bonus_progress=3; }
 if (prestige_attack_bonus_progress==0) { document.form1.fourth_comment_box.value="Attack bonus progress for the prestige class?"; prestige_monitor=false; }
 prestige_fortitude_save_bonus=0;
 if (document.form1.prestige_fortitude_progress[0].checked==true) {prestige_fortitude_save_bonus=1; }
 if (document.form1.prestige_fortitude_progress[1].checked==true) {prestige_fortitude_save_bonus=2; }
 if (prestige_fortitude_save_bonus==0) { document.form1.fourth_comment_box.value="Fortitude save progress for the prestige class?"; prestige_monitor=false; }
 prestige_reflex_save_bonus=0;
 if (document.form1.prestige_reflex_progress[0].checked==true) {prestige_reflex_save_bonus=1; }
 if (document.form1.prestige_reflex_progress[1].checked==true) {prestige_reflex_save_bonus=2; }
 if (prestige_reflex_save_bonus==0) { document.form1.fourth_comment_box.value="Reflex save progress for the prestige class?"; prestige_monitor=false; }
 prestige_will_save_bonus=0;
 if (document.form1.prestige_will_progress[0].checked==true) {prestige_will_save_bonus=1; }
 if (document.form1.prestige_will_progress[1].checked==true) {prestige_will_save_bonus=2; }
 if (prestige_will_save_bonus==0) { document.form1.fourth_comment_box.value="Will save progress for the prestige class?"; prestige_monitor=false; }
 prestige_skill_points_per_level=0;
 if (document.form1.prestige_skill_progress[0].checked==true) {prestige_skill_points_per_level=2; }
 if (document.form1.prestige_skill_progress[1].checked==true) {prestige_skill_points_per_level=4; }
 if (document.form1.prestige_skill_progress[2].checked==true) {prestige_skill_points_per_level=6; }
 if (document.form1.prestige_skill_progress[3].checked==true) {prestige_skill_points_per_level=8; }
 prestige_armor_entitlement=0;
 if (document.form1.prestige_armor[0].checked==true) {prestige_armor_entitlement=0; }
 if (document.form1.prestige_armor[1].checked==true) {prestige_armor_entitlement=1; }
 if (document.form1.prestige_armor[2].checked==true) {prestige_armor_entitlement=2; }
 if (document.form1.prestige_armor[3].checked==true) {prestige_armor_entitlement=3; }
 if (document.form1.prestige_spell_type[0].checked==true)
  { document.form1.count_prestige_spell_levels[0].checked=true; }
 prestige_any_spell_levels=0;
 z=0; while (z<16) {if (document.form1.count_prestige_spell_levels[z].checked==true) {prestige_any_spell_levels=z; }z++; }
 if (prestige_any_spell_levels>prestige_levels + epic_prestige_levels) {prestige_any_spell_levels=prestige_levels + epic_prestige_levels; document.form1.count_prestige_spell_levels[prestige_any_spell_levels].checked=true; }
 x=0;
 if (bard_levels>0) { x++; }
 if (cleric_levels>0) { x++; }
 if (druid_levels>0) { x++; }
 if (ranger_levels>0) { x++; }
 if (paladin_levels>0) { x++; }
 if (sorcerer_levels>0) { x++; }
 if (wizard_levels>0) { x++; }
 if (x==1)
  {
   if (bard_levels>0) { document.form1.prestige_spell_type[1].checked=true}
   if (cleric_levels>0) { document.form1.prestige_spell_type[2].checked=true}
   if (druid_levels>0) { document.form1.prestige_spell_type[3].checked=true}
   if (paladin_levels>0) { document.form1.prestige_spell_type[4].checked=true}
   if (ranger_levels>0) { document.form1.prestige_spell_type[5].checked=true}
   if (sorcerer_levels>0) { document.form1.prestige_spell_type[6].checked=true}
   if (wizard_levels>0) { document.form1.prestige_spell_type[7].checked=true}
  }
  if (prestige_any_spell_levels==0) { document.form1.count_prestige_spell_levels[0].checked=true; }
 if (document.form1.prestige_spell_type[1].checked==true)
  {
   if (bard_levels==0)
     { document.form1.fourth_comment_box.value="You have no bard levels to continue in your prestige class."; document.form1.prestige_spell_type[0].checked=true; prestige_monitor=false; }
    else
     {
      prestige_bard_spell_levels=prestige_any_spell_levels;
     }
  }
 if (document.form1.prestige_spell_type[2].checked==true)
  {
   if (cleric_levels==0)
     { document.form1.fourth_comment_box.value="You have no cleric levels to continue in your prestige class."; document.form1.prestige_spell_type[0].checked=true; prestige_monitor=false; }
    else
     {
      prestige_cleric_spell_levels=prestige_any_spell_levels;
     }
  }
 if (document.form1.prestige_spell_type[3].checked==true)
  {
   if (druid_levels==0)
     { document.form1.fourth_comment_box.value="You have no druid levels to continue in your prestige class."; document.form1.prestige_spell_type[0].checked=true; prestige_monitor=false; }
    else
     {
      prestige_druid_spell_levels=prestige_any_spell_levels;
     }
  }
 if (document.form1.prestige_spell_type[4].checked==true)
  {
   if ((paladin_levels==0) && (npcother_class_name!="Paladin of Freedom"))
     { document.form1.fourth_comment_box.value="You have no paladin levels to continue in your prestige class."; document.form1.prestige_spell_type[0].checked=true; prestige_monitor=false; }
    else
     {
      prestige_paladin_spell_levels=prestige_any_spell_levels;
     }
  }
 if (document.form1.prestige_spell_type[5].checked==true)
  {
   if (ranger_levels==0)
     { document.form1.fourth_comment_box.value="You have no ranger levels to continue in your prestige class."; document.form1.prestige_spell_type[0].checked=true; prestige_monitor=false; }
    else
     {
      prestige_ranger_spell_levels=prestige_any_spell_levels;
     }
  }
 if (document.form1.prestige_spell_type[6].checked==true)
  {
   if (sorcerer_levels==0)
     { document.form1.fourth_comment_box.value="You have no sorcerer levels to continue in your prestige class."; document.form1.prestige_spell_type[0].checked=true; prestige_monitor=false; }
    else
     {
      prestige_sorcerer_spell_levels=prestige_any_spell_levels;
     }
  }
 if (document.form1.prestige_spell_type[7].checked==true)
  {
   if (wizard_levels==0)
     { document.form1.fourth_comment_box.value="You have no wizard levels to continue in your prestige class."; document.form1.prestige_spell_type[0].checked=true; prestige_monitor=false; }
    else
     {
      prestige_wizard_spell_levels=prestige_any_spell_levels;
     }
  }
 if ((prestige_any_spell_levels>0) && (document.form1.prestige_spell_type[0].checked==true))
  { document.form1.fourth_comment_box.value="Prestige spellcasting as...?"; prestige_monitor=false; }
 document.form1.fourth_comment_box.value="Your prestige class is okay.";
  DoHPAndOtherClassStuff();
 GenerateClassString();
 AddUpTheClasses();
  return prestige_monitor;
 }

function SumOfModifiers() {
  return (modifier_number(stat1)+modifier_number(stat2)+modifier_number(stat3)+modifier_number(stat4)+modifier_number(stat5)+modifier_number(stat6))
  }

 function AdjustIfTooLow4() {
 if ((stat1<13) && (stat2<13) && (stat3<13) && (stat4<13) && (stat5<13) && (stat6<13))
  {stat6=13; }
 if (SumOfModifiers()<1)
   {
    do
     {
      RaiseARandomStatistic();
     }
     while (SumOfModifiers()<1);
   }
 }

function RaiseARandomStatistic() {
      x=Math.floor (6*Math.random())
      switch (x) {
       case 0:{if (stat1<18) {stat1++; }break; }
       case 1:{if (stat2<18) {stat2++; }break; }
       case 2:{if (stat3<18) {stat3++; }break; }
       case 3:{if (stat4<18) {stat4++; }break; }
       case 4:{if (stat5<18) {stat5++; }break; }
       case 5:{if (stat6<18) {stat6++; }break; }
       }
 }

 function AdjustIfTooLow5() {
 if ((stat1<15) && (stat2<15) && (stat3<15) && (stat4<15) && (stat5<15) && (stat6<15))
  {stat6=15; }
 if (SumOfModifiers()<2)
   {
    do
     {
      RaiseARandomStatistic();
     }
     while (SumOfModifiers()<2);
   }
 }


 function AdjustIfTooLow3() {
 if ((stat1<12) && (stat2<12) && (stat3<12) && (stat4<12) && (stat5<12) && (stat6<12))
  {stat6=12; }
 if (SumOfModifiers()<0)
   {
    do
     {
      RaiseARandomStatistic();
     }
     while (SumOfModifiers()<0);
   }
 }

function IndexForWeight(lbs) {
 if (lbs<31) { return 1; } else
 if (lbs<32) { return 2; } else
 if (lbs<33) { return 3; } else
 if (lbs<34) { return 4; } else
 if (lbs<35) { return 5; } else
 if (lbs<36) { return 6; } else
 if (lbs<37) { return 7; } else
 if (lbs<38) { return 8; } else
 if (lbs<39) { return 9; } else
 if (lbs<40) { return 10; } else
 if (lbs<41) { return 11; } else
 if (lbs<42) { return 12; } else
 if (lbs<43) { return 13; } else
 if (lbs<44) { return 14; } else
 if (lbs<45) { return 15; } else
 if (lbs<46) { return 16; } else
 if (lbs<47) { return 17; } else
 if (lbs<48) { return 18; } else
 if (lbs<49) { return 19; } else
 if (lbs<50) { return 20; } else
 if (lbs<55) { return 21; } else
 if (lbs<60) { return 22; } else
 if (lbs<65) { return 23; } else
 if (lbs<70) { return 24; } else
 if (lbs<75) { return 25; } else
 if (lbs<80) { return 26; } else
 if (lbs<85) { return 27; } else
 if (lbs<90) { return 28; } else
 if (lbs<95) { return 29; } else
 if (lbs<100) { return 30; } else
 if (lbs<105) { return 31; } else
 if (lbs<110) { return 32; } else
 if (lbs<115) { return 33; } else
 if (lbs<120) { return 34; } else
 if (lbs<125) { return 35; } else
 if (lbs<130) { return 36; } else
 if (lbs<135) { return 37; } else
 if (lbs<140) { return 38; } else
 if (lbs<145) { return 39; } else
 if (lbs<150) { return 40; } else
 if (lbs<155) { return 41; } else
 if (lbs<160) { return 42; } else
 if (lbs<165) { return 43; } else
 if (lbs<170) { return 44; } else
 if (lbs<175) { return 45; } else
 if (lbs<180) { return 46; } else
 if (lbs<185) { return 47; } else
 if (lbs<190) { return 48; } else
 if (lbs<195) { return 49; } else
 if (lbs<200) { return 50; } else
 if (lbs<210) { return 51; } else
 if (lbs<220) { return 52; } else
 if (lbs<230) { return 53; } else
 if (lbs<240) { return 54; } else
 if (lbs<250) { return 55; } else
 if (lbs<260) { return 56; } else
 if (lbs<270) { return 57; } else
 if (lbs<280) { return 58; } else
 if (lbs<290) { return 59; } else
 if (lbs<300) { return 60; } else
 if (lbs<310) { return 61; } else
 if (lbs<320) { return 62; } else
 if (lbs<330) { return 63; } else
 if (lbs<340) { return 64; } else
 if (lbs<350) { return 65; } else
 if (lbs<360) { return 66; } else
 if (lbs<370) { return 67; } else
 if (lbs<380) { return 68; } else
 if (lbs<390) { return 69; } else
 if (lbs<400) { return 70; } else
 if (lbs<410) { return 71; } else
 if (lbs<420) { return 72; } else
 if (lbs<430) { return 73; } else
 if (lbs<440) { return 74; } else
 if (lbs<450) { return 75; } else
 if (lbs<460) { return 76; } else
 if (lbs<470) { return 77; } else
 if (lbs<480) { return 78; } else
 if (lbs<490) { return 79; } else
 if (lbs<500) { return 80; } else
 if (lbs<510) { return 81; } else
 { return 82; }
 }

function x_and_heft() {
//racialstuff
  if ((rayce==148) || (rayce==150) || (rayce==5) || (rayce==98) || (rayce==81) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==129) || (rayce==26) || (rayce==68) || (rayce==59) || (rayce==50) || (rayce==40) || (rayce==19) || (rayce==16) || ((rayce==6) || (rayce==92) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43)) || ((rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45)) || (rayce==17) || (rayce==18) || (rayce==99) || (rayce==113) || (rayce==114) || (rayce==115) || (rayce==116) || (rayce==123) || (rayce==128) || (rayce==134) || (rayce==140) || (rayce==155) || (rayce==157) || (rayce==167)) {small=true; } else if ((rayce!=8) && (rayce!=125)) {small=false; }
  if ((rayce==146) || (rayce==147) || (rayce==166) || (rayce==74) || (rayce==75) || (rayce==78) || (rayce==124) || (rayce==175) || (rayce==176) || (rayce==177)) {large=true; } else {if (rayce!=8) {large=false; }}
  if (strength== 1) { x=3; }
  if (strength== 2) { x=6; }
  if (strength== 3) { x=10; }
  if (strength== 4) { x=13; }
  if (strength== 5) { x=16; }
  if (strength== 6) { x=20; }
  if (strength== 7) { x=23; }
  if (strength== 8) { x=26; }
  if (strength== 9) { x=30; }
  if (strength==10) { x=33; }
  if (strength==11) { x=38; }
  if (strength==12) { x=43; }
  if (strength==13) { x=50; }
  if (strength==14) { x=58; }
  if (strength==15) { x=66; }
  if (strength==16) { x=76; }
  if (strength==17) { x=86; }
  if (strength==18) { x=100; }
  if (strength==19) { x=116; }
  if (strength==20) { x=133; }
  if (strength==21) { x=153; }
  if (strength==22) { x=173; }
  if (strength==23) { x=200; }
  if (strength==24) { x=233; }
  if (strength==25) { x=266; }
  if (strength==26) { x=306; }
  if (strength==27) { x=346; }
  if (strength==28) { x=400; }
  if (strength==29) { x=466; }
  if (strength==30) { x=133*4; }
  if (strength==31) { x=153*4; }
  if (strength==32) { x=173*4; }
  if (strength==33) { x=200*4; }
  if (strength==34) { x=233*4; }
  if (strength==35) { x=266*4; }
  if (strength==36) { x=306*4; }
  if (strength==37) { x=346*4; }
  if (strength==38) { x=400*4; }
  if (strength==39) { x=466*4; }
  if (strength==40) { x=133*4*4; }
  if (strength==41) { x=153*4*4; }
  if (strength==42) { x=173*4*4; }
  if (strength==43) { x=200*4*4; }
  if (strength==44) { x=233*4*4; }
  if (strength==45) { x=266*4*4; }
  if (strength==46) { x=306*4*4; }
  if (strength==47) { x=346*4*4; }
  if (strength==48) { x=400*4*4; }
  if (strength==49) { x=466*4*4; }
  if (strength==50) { x=133*4*4*4; }
  if (strength==51) { x=153*4*4*4; }
  if (strength==52) { x=173*4*4*4; }
  if (strength==53) { x=200*4*4*4; }
  if (strength==54) { x=233*4*4*4; }
  if (strength==55) { x=266*4*4*4; }
  if (strength==56) { x=306*4*4*4; }
  if (strength==57) { x=346*4*4*4; }
  if (strength==58) { x=400*4*4*4; }
  if (strength==59) { x=466*4*4*4; }
  if (strength==60) { x=133*4*4*4*4; }
  if (strength==61) { x=153*4*4*4*4; }
  if (strength==62) { x=173*4*4*4*4; }
  if (strength==63) { x=200*4*4*4*4; }
  if (strength==64) { x=233*4*4*4*4; }
  if (strength==65) { x=266*4*4*4*4; }
  if (strength==66) { x=306*4*4*4*4; }
  if (strength==67) { x=346*4*4*4*4; }
  if (strength==68) { x=400*4*4*4*4; }
  if (strength==69) { x=466*4*4*4*4; }
  heft=x;
  if (small==true) {heft=Math.round(x*3/4)}
  if (large==true) {heft=x*2}
  if (has_naturalheavyweight==true) {heft=heft*2; }
 }

function LimitWeight(lightman, heavyman, lightwoman, heavywoman) {
 weight_has_been_limited++;
 if ((gender!=2) && (document.form1.how_heavy.selectedIndex<IndexForWeight(lightman))) { document.form1.how_heavy.selectedIndex=IndexForWeight(lightman); }
 if ((gender!=2) && (document.form1.how_heavy.selectedIndex>IndexForWeight(heavyman))) { document.form1.how_heavy.selectedIndex=IndexForWeight(heavyman); }
 if ((gender==2) && (document.form1.how_heavy.selectedIndex<IndexForWeight(lightwoman))) { document.form1.how_heavy.selectedIndex=IndexForWeight(lightwoman); }
 if ((gender==2) && (document.form1.how_heavy.selectedIndex>IndexForWeight(heavywoman))) { document.form1.how_heavy.selectedIndex=IndexForWeight(heavywoman); }
 }

function AdjustWeight() {

//racialstuff

if (rayce==180) {LimitWeight(124,280,89,245); }
if (rayce==181) {LimitWeight(104,196,94,186); }
if (rayce==179) {LimitWeight(120,180,120,180); }
if (rayce==76) {LimitWeight(315,425,315,425); }
if (rayce==79) {LimitWeight(350,450,350,450); }
if (rayce==36) {LimitWeight(22,34,21,30); }
if (rayce==77) {LimitWeight(0,0,0,0); }
if (rayce==125) {LimitWeight(150,300,100,250); }
if (rayce==78) {LimitWeight(244,368,204,328); }
if (rayce==112) {LimitWeight(134,210,94,170); }
if ((rayce==113) || (rayce==114) || (rayce==115) || (rayce==116)) {LimitWeight(27,33,32,38); }
if (rayce==118) {LimitWeight(123,192,83,152); }
if (rayce==119) {LimitWeight(144,380,104,340); }
if (rayce==120) {LimitWeight(124,200,94,170); }
if (rayce==129) {LimitWeight(32,38,27,33); }
if (rayce==130) {LimitWeight(104,196,84,176); }
if (rayce==131) {LimitWeight(224,508,224,508); }
if (rayce==132) {LimitWeight(204,488,184,468); }
if (rayce==134) {LimitWeight(104,164,74,132); }
if (rayce==135) {LimitWeight(142,188,107,153); }
if (rayce==139) {LimitWeight(91,138,85,138); }
if (rayce==163) {LimitWeight(164,400,129,365); }
if ((rayce==22) || (rayce==165)) {LimitWeight(154,390,119,355); }
if ((rayce==155) || (rayce==157)) {LimitWeight(52,82,42,72); }
if (rayce==156) {LimitWeight(184,308,154,278); }
if (rayce==158) {LimitWeight(104,260,84,240); }
if (rayce==159) {LimitWeight(72,166,67,161); }
 if (rayce==126) {LimitWeight(59,65,59,65); }
if ((rayce==75) || (rayce==146))
 {LimitWeight(0,0,0,0); document.form1.how_tall.selectedIndex=0; return; }
if ((rayce==175) || (rayce==176) || (rayce==177)) {LimitWeight(250,500,250,500); }
if ((rayce==74) || (rayce==77) || (rayce==166)) {LimitWeight(0,0,0,0);return; }

if (rayce==80)
 {
  document.form1.how_heavy.selectedIndex=IndexForWeight(4*(document.form1.how_tall.selectedIndex+31)-10);
 }
if ((rayce==1) || (rayce==171) || (rayce==172) || (rayce==173) || (rayce==170) || (rayce==117) || (rayce==160) || (rayce==143) || (rayce==154) || (rayce==153) || (rayce==152) || (rayce==151) || (rayce==141) || (rayce==142) || (rayce==142) || (rayce==144) || (rayce==145) || (rayce==133) || (rayce==136) || (rayce==137) || (rayce==138) || (rayce==121) || (rayce==122) || (rayce==123) || (rayce==124) || (rayce==108) || (rayce==100) || (rayce==86) || (rayce==44) || (rayce==35) || (rayce==28) || (rayce==29) || (rayce==30) || (rayce==31) || (rayce==32) || (rayce==33) || ((rayce==8) && (small==false)))
 {LimitWeight(120,280,85,240); }


 if (rayce==109) {LimitWeight(119,179,119,179); }
 if (rayce==110) {LimitWeight(137,207,107,177); }
 if (rayce==111) {LimitWeight(104,228,89,213); }
 if (rayce==164) {LimitWeight(94,250,74,230); }

 if ((rayce==2) || (rayce==169) || (rayce==161) || (rayce==69) || (rayce==60) || (rayce==51) || (rayce==41))
  {LimitWeight(100,228,80,208); }
 if ((rayce==3) || (rayce==174) || (rayce==107) || (rayce==93) || (rayce==94) || (rayce==95) || (rayce==66) || (rayce==57) || (rayce==48) || (rayce==27) || (rayce==13) || (rayce==12) || (rayce==11) || (rayce==9) || (rayce==10))
  {LimitWeight(85,157,80,152); }
 if ((rayce==4) || (rayce==162) || (rayce==149) || (rayce==91) || (rayce==65) || (rayce==56) || (rayce==47) || (rayce==38) || (rayce==17) || (rayce==15) || (rayce==14))
  {LimitWeight(130,226,100,196); }
 if ((rayce==5) || (rayce==128) || (rayce==98) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==26) || (rayce==68) || (rayce==59) || (rayce==50) || (rayce==40) || (rayce==19) || (rayce==16) || ((rayce==8) && (small==true)))
  {LimitWeight(40,48,35,43); }
 if (rayce==167) {LimitWeight(60,68,55,63); }
 if (rayce==168) {LimitWeight(300,400,280,380); }
 if ((rayce==99) || (rayce==6) || (rayce==148) || (rayce==150) || (rayce==140) || (rayce==92) || (rayce==81) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43) || (rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45) || (rayce==18))
  {LimitWeight(30,38,25,33); }
 if ((rayce==7) || (rayce==146) || (rayce==147) || (rayce==127) || (rayce==96) || (rayce==97) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==85) || (rayce==82) || (rayce==70) || (rayce==61) || (rayce==74) || (rayce==78) || (rayce==52) || (rayce==42) || (rayce==23) || (rayce==73) || (rayce==64) || (rayce==55) || (rayce==46) || (rayce==21) || (rayce==20))
  {LimitWeight(150,438,110,398); }
 if ((rayce==83) || (rayce==84))
  {LimitWeight(120,265,85,240); }

 if (rayce==24) {LimitWeight(204,340,184,324); }
 if (rayce==106) {LimitWeight(144,300,119,275); }
 if (rayce==105) {LimitWeight(204,360,189,349); }
 if (rayce==101) {LimitWeight(54,150,72,230); }
 if (rayce==102) {LimitWeight(224,508,184,488); }
 if (rayce==103) {LimitWeight(154,310,124,280); }
 if (rayce==34) {LimitWeight(139,375,104,340); }
 if (rayce==104) {LimitWeight(104,250,79,235); }
}

function LimitHeight(shortman, tallman, shortwoman, tallwoman) {
 height_has_been_limited++;
 if ((gender!=2) && (document.form1.how_tall.selectedIndex<=shortman-31)) { document.form1.how_tall.selectedIndex=shortman-31; }
 if ((gender!=2) && (document.form1.how_tall.selectedIndex>=tallman-31)) { document.form1.how_tall.selectedIndex=tallman-31; }
 if ((gender==2) && (document.form1.how_tall.selectedIndex<=shortwoman-31)) { document.form1.how_tall.selectedIndex=shortwoman-31; }
 if ((gender==2) && (document.form1.how_tall.selectedIndex>=tallwoman-31)) { document.form1.how_tall.selectedIndex=tallwoman-31; }
}

function AdjustHeight() {

//racialstuf
if (rayce==180) {LimitHeight(60,78,55,73); }
if (rayce==181) {LimitHeight(62,72,62,72); }
if ((rayce==179)) {LimitHeight(68,76,68,76); }
if ((rayce==176)) {LimitHeight(96,102,96,102); }
if ((rayce==175) || (rayce==177)) {LimitHeight(96,102,96,102); }
if ((rayce==75) || (rayce==146)) {LimitHeight(0,0,0,0); }
if (rayce==78) {LimitHeight(68,82,64,78); }
if (rayce==112) {LimitHeight(58,76,54,72); }
if ((rayce==113) || (rayce==114) || (rayce==115) || (rayce==116)) {LimitHeight(33,39,35,41); }
if (rayce==118) {LimitHeight(67,82,63,78); }
if (rayce==120) {LimitHeight(46,64,44,62); }
if (rayce==129) {LimitHeight(34,40,32,38); }
if (rayce==130) {LimitHeight(44,50,42,48); }
if (rayce==131) {LimitHeight(74,96,74,96); }
if (rayce==132) {LimitHeight(66,88,64,86); }
if (rayce==134) {LimitHeight(47,53,45,52); }
if (rayce==135) {LimitHeight(64,70,59,65); }
if (rayce==139) {LimitHeight(54,61,51,58); }
if (rayce==164) {LimitHeight(60,78,55,73); }

if ((rayce==155) || (rayce==157)) {LimitHeight(34,40,30,36); }
if (rayce==156) {LimitHeight(52,58,50,56); }
if (rayce==158) {LimitHeight(60,78,55,73); }
if (rayce==159) {LimitHeight(62,76,58,72); }
if ((rayce==22) || (rayce==165)) {LimitHeight(70,88,62,80); }
if ((rayce==163)) {LimitHeight(72,90,64,82); }
if ((rayce==75) || (rayce==146)) { document.form1.how_heavy.selectedIndex=0; document.form1.how_tall.selectedIndex=0; return; }
 if (rayce==0) { document.form1.how_tall.selectedIndex=0; return; }
 if (rayce==8 || rayce==125)
  {
   if (document.form1.how_tall.selectedIndex<14) {small=true; }
     else {small=false; }
  }
 if (rayce==80) {LimitHeight(72,82,72,82); }
 if (rayce==76) {LimitHeight(315,425,315,425); }
 if (rayce==36) {LimitHeight(25,34,25,30); }
 if (rayce==109) {LimitHeight(64,64,69,69); }
 if (rayce==126) {LimitHeight(53+31,65+31,53+31,65+31); }
 if (rayce==110) {LimitHeight(66+31,76+31,64+31,74+31); }
 if (rayce==111) {LimitHeight(57+31,71+31,55+31,69+31); }
 if (rayce==79) {LimitHeight(88,104,84,100); }
 if ((rayce==1) || (rayce==171) || (rayce==172) || (rayce==173) || (rayce==170) || (rayce==119) || (rayce==160) || (rayce==143) || (rayce==117) || (rayce==154) || (rayce==153) || (rayce==152) || (rayce==151) || (rayce==141) || (rayce==142) || (rayce==142) || (rayce==144) || (rayce==145) || (rayce==133) || (rayce==136) || (rayce==137) || (rayce==138) || (rayce==121) || (rayce==122) || (rayce==100) || (rayce==86) || (rayce==44) || (rayce==35) || (rayce==28) || (rayce==29) || (rayce==30) || (rayce==31) || (rayce==32) || (rayce==33))
  {LimitHeight(60,80,55,72); }
 if ((rayce==2) || (rayce==161) || (rayce==69) || (rayce==60) || (rayce==51) || (rayce==41))
  {LimitHeight(57,71,55,69); }
 if (rayce==104) {LimitHeight(56,70,56,70); } // xeph, is one maenad
 if (rayce==104) {LimitHeight(58,76,54,72); } // xeph, is it correct

 if ((rayce==3) || (rayce==174) || (rayce==169) || (rayce==107) || (rayce==93) || (rayce==94) || (rayce==95) || (rayce==66) || (rayce==57) || (rayce==48) || (rayce==27) || (rayce==13) || (rayce==12) || (rayce==11) || (rayce==9) || (rayce==10))
  {LimitHeight(55,67,55,67); }
 if ((rayce==4) || (rayce==162) || (rayce==149) || (rayce==91) || (rayce==65) || (rayce==56) || (rayce==47) || (rayce==38) || (rayce==15) || (rayce==14) || (rayce==17))
  {LimitHeight(47,53,45,51); }
 if ((rayce==5) || (rayce==128) || (rayce==98) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==26) || (rayce==68) || (rayce==59) || (rayce==50) || (rayce==40) || (rayce==16) || (rayce==19))
  {LimitHeight(38,44,36,42); }
 if ((rayce==6) || (rayce==148) || (rayce==167) || (rayce==150) || (rayce==140) || (rayce==123) || (rayce==99) || (rayce==92) || (rayce==81) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43) || (rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45) || (rayce==18))
  {LimitHeight(34,40,32,38); }
 if (rayce==168) {LimitHeight(70,76,68,74); }
 if (rayce==125) {LimitHeight(0,82,0,82); }
if (rayce==166) {LimitHeight(72,88,68,84); }
if ((rayce==7) || (rayce==108) || (rayce==146) || (rayce==147) || (rayce==127) || (rayce==124) || (rayce==96) || (rayce==97) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==85) || (rayce==84) || (rayce==82) || (rayce==70) || (rayce==61) || (rayce==77) || (rayce==74) || (rayce==52) || (rayce==42) || (rayce==23) || (rayce==165) || (rayce==73) || (rayce==64) || (rayce==55) || (rayce==46) || (rayce==21) || (rayce==20))
  {LimitHeight(60,84,56,79); }

if (rayce==24) {LimitHeight(66,88,64,86); }
if (rayce==83) {LimitHeight(66,84,61,79); }
if (rayce==102) {LimitHeight(78,100,75,97); }
if (rayce==34) {LimitHeight(64,82,56,74); }
if (rayce==101) {LimitHeight(54,68,72,90); }
if (rayce==105) {LimitHeight(64,82,62,80); }
if (rayce==106) {LimitHeight(72,90,70,88); }

  GetIdealWeight()
 }

function GetIdealWeight() {
  ideal_weight=0;
  x_and_heft();
//racialstuff
  if (rayce==80) {ideal_weight=4*(document.form1.how_tall.selectedIndex+31)-10; }
  if  (((rayce==1) || (rayce==180) || (rayce==181) || (rayce==171) || (rayce==172) || (rayce==173) || (rayce==170) || (rayce==154) || (rayce==153) || (rayce==152) || (rayce==151) || (rayce==141) || (rayce==142) || (rayce==143) || (rayce==144) || (rayce==145) || (rayce==133) || (rayce==135) || (rayce==136) || (rayce==137) || (rayce==138) || (rayce==126) || (rayce==125) || (rayce==121) || (rayce==122) || (rayce==109) || (rayce==110) || (rayce==108) || (rayce==103) || (rayce==100) || (rayce==86) || (rayce==79) || (rayce==44) || (rayce==35) || (rayce==36) || (rayce==34) || (rayce==28) || (rayce==29) || (rayce==30) || (rayce==31) || (rayce==32) || (rayce==33) || (rayce==112) || (rayce==118)
       |((rayce==8) && (small==false))) && (gender==1)) {ideal_weight=2*(document.form1.how_tall.selectedIndex+31)+1.334*(heft-10); }

  if (((rayce==1) || (rayce==179) || (rayce==171) || (rayce==172) || (rayce==173) || (rayce==170) || (rayce==154) || (rayce==153) || (rayce==152) || (rayce==151) || (rayce==141) || (rayce==142) || (rayce==144) || (rayce==145) || (rayce==133) || (rayce==135) || (rayce==136) || (rayce==137) || (rayce==138) || (rayce==126) || (rayce==125) || (rayce==121) || (rayce==122) || (rayce==109) || (rayce==110) || (rayce==108) || (rayce==103) || (rayce==100) || (rayce==86) || (rayce==79) || (rayce==44) || (rayce==35) || (rayce==36) || (rayce==34) || (rayce==28) || (rayce==29) || (rayce==30) || (rayce==31) || (rayce==32) || (rayce==33) || (rayce==112) || (rayce==118) || ((rayce==8) && (small==false))) && (gender==2)) {ideal_weight=1.546*(document.form1.how_tall.selectedIndex+31)+1.379*(heft-10); }
  if (((rayce==2) || (rayce==169) || (rayce==181) || (rayce==160) || (rayce==161) || (rayce==104) || (rayce==69) || (rayce==60) || (rayce==51) || (rayce==41)) && (gender==1)) {ideal_weight=1.755*(document.form1.how_tall.selectedIndex+31)+1.150*(heft-10); }
  if (((rayce==2) || (rayce==169) || (rayce==181) || (rayce==160) || (rayce==161) || (rayce==104) || (rayce==69) || (rayce==60) || (rayce==51) || (rayce==41)) && (gender==2)) {ideal_weight=1.455*(document.form1.how_tall.selectedIndex+31)+1.196*(heft-10); }
  if (((rayce==3) || (rayce==174) || (rayce==139) || (rayce==107) || (rayce==111) || (rayce==101) || (rayce==96) || (rayce==97) || (rayce==93) || (rayce==94) || (rayce==95) || (rayce==66) || (rayce==57) || (rayce==48) || (rayce==27) || (rayce==13) || (rayce==12) || (rayce==11) || (rayce==9) || (rayce==10) || (rayce==117) || (rayce==119)) && (gender==1)) {ideal_weight=1.546*(document.form1.how_tall.selectedIndex+31)+0.594*(heft-10); }
  if (((rayce==3) || (rayce==174) || (rayce==139) || (rayce==107) || (rayce==111) || (rayce==101) || (rayce==96) || (rayce==97) || (rayce==93) || (rayce==94) || (rayce==95) || (rayce==66) || (rayce==57) || (rayce==48) || (rayce==27) || (rayce==13) || (rayce==12) || (rayce==11) || (rayce==9) || (rayce==10) || (rayce==117) || (rayce==119)) && (gender==2)) {ideal_weight=1.455*(document.form1.how_tall.selectedIndex+31)+0.607*(heft-10); }
  if (((rayce==4) || (rayce==162) || (rayce==149) || (rayce==134) || (rayce==130) || (rayce==120) || (rayce==91) || (rayce==65) || (rayce==56) || (rayce==47) || (rayce==38) || (rayce==17) || (rayce==15) || (rayce==14)) && (gender==1)) {ideal_weight=2.766*(document.form1.how_tall.selectedIndex+31)+0.883*(heft-10); }
  if (((rayce==4) || (rayce==162) || (rayce==149) || (rayce==134) || (rayce==130) || (rayce==120) || (rayce==91) || (rayce==65) || (rayce==56) || (rayce==47) || (rayce==38) || (rayce==17) || (rayce==15) || (rayce==14)) && (gender==2)) {ideal_weight=2.223*(document.form1.how_tall.selectedIndex+31)+0.919*(heft-10); }
  if (((rayce==5) || (rayce==129) || (rayce==128) || (rayce==98) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==26) || (rayce==68) || (rayce==59) || (rayce==50) || (rayce==40) || (rayce==19) || (rayce==16) || ((rayce==8) && (small==true))) && (gender==1)) {ideal_weight=1.053*(document.form1.how_tall.selectedIndex+31)+0.036*(heft-10); }
  if (((rayce==5) || (rayce==129) || (rayce==128) || (rayce==98) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==26) || (rayce==68) || (rayce==59) || (rayce==50) || (rayce==40) || (rayce==19) || (rayce==16) || ((rayce==8) && (small==true))) && (gender==2)) {ideal_weight=1.053*(document.form1.how_tall.selectedIndex+31)+0.047*(heft-10); }
  if (rayce==99) {ideal_weight=0.883*(document.form1.how_tall.selectedIndex+31)+0.171*(heft-10); }
  if (((rayce==6) || (rayce==148) || (rayce==150) || (rayce==140) || (rayce==113) || (rayce==114) || (rayce==115) || (rayce==116) || (rayce==92) || (rayce==81) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43) || (rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45) || (rayce==18)) && (gender==1)) {ideal_weight=0.883*(document.form1.how_tall.selectedIndex+31)+0.171*(heft-10); }
  if (((rayce==6) || (rayce==148) || (rayce==150) || (rayce==140) || (rayce==123) || (rayce==113) || (rayce==114) || (rayce==115) || (rayce==116) || (rayce==92) || (rayce==81) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43) || (rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45) || (rayce==18)) && (gender==2)) {ideal_weight=0.782*(document.form1.how_tall.selectedIndex+31)+0.171*(heft-10); }
  if ((((rayce==7) || (rayce==175) || (rayce==176) || (rayce==177) || (rayce==168) || (rayce==166) || (rayce==146) || (rayce==147) || (rayce==131) || (rayce==132) || (rayce==127) || (rayce==124) || (rayce==105) || (rayce==106) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==85) || (rayce==82) || (rayce==70) || (rayce==61) || (rayce==75) || (rayce==76) || (rayce==77) || (rayce==74) || (rayce==78) || (rayce==52) || (rayce==42)) || (rayce==24) || (rayce==23) || ((rayce==163) || (rayce==164) || (rayce==165) || (rayce==73) || (rayce==64) || (rayce==55) || (rayce==46)) || (rayce==21) || (rayce==20)) && (gender==1)) {ideal_weight=2.5*(document.form1.how_tall.selectedIndex+31)+2.342*(heft-10); }
  if ((((rayce==7) || (rayce==175) || (rayce==176) || (rayce==177) || (rayce==168) || (rayce==166) || (rayce==146) || (rayce==147) || (rayce==131) || (rayce==132) || (rayce==127) || (rayce==124) || (rayce==105) || (rayce==106) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==85) || (rayce==82) || (rayce==70) || (rayce==61) || (rayce==75) || (rayce==76) || (rayce==77) || (rayce==74) || (rayce==78) || (rayce==52) || (rayce==42)) || (rayce==24) || (rayce==23) || ((rayce==163) || (rayce==164) || (rayce==165) || (rayce==73) || (rayce==64) || (rayce==55) || (rayce==46)) || (rayce==21) || (rayce==20)) && (gender==2)) {ideal_weight=2*(document.form1.how_tall.selectedIndex+31)+2.342*(heft-10); }
  if (rayce==167) {ideal_weight= 20+0.883*(document.form1.how_tall.selectedIndex+31)+0.171*(heft-10); }
  if ((rayce==83) || (rayce==84)) {ideal_weight=document.form1.how_tall.selectedIndex+31+2.342*(heft-10); }
  if (rayce==102) {ideal_weight=2.5*(document.form1.how_tall.selectedIndex+31)+2.5*(heft-10); }
  if ((document.form1.skinny_trait.checked==true) || (rayce==83) || (rayce==84)) {ideal_weight=ideal_weight*4/5; }
  if (document.form1.stout_trait.checked==true) {ideal_weight=ideal_weight*5/4; }
  document.form1.how_heavy.selectedIndex=IndexForWeight(ideal_weight);
  AdjustWeight();
 }

function RandomHeight() {
  document.form1.how_tall.selectedIndex=10;
 if (rayce==0) { document.form1.how_tall.selectedIndex=0; }
//racialstuff
if (rayce==179) { document.form1.how_tall.selectedIndex=41; }
if (rayce==126)
 {
   document.form1.how_tall.selectedIndex=53+Math.floor (6*Math.random())+Math.floor (6*Math.random());
 }

if (rayce==128)
 {
   document.form1.how_tall.selectedIndex=9+Math.floor (4*Math.random())+Math.floor (4*Math.random());
 }

if (rayce==80)
  {
   document.form1.how_tall.selectedIndex=72-31+Math.floor (6*Math.random())+Math.floor (6*Math.random());
  }
 if (((rayce==1) || (rayce==171) || (rayce==172) || (rayce==173) || (rayce==170) || (rayce==154) || (rayce==153) || (rayce==152) || (rayce==151) || (rayce==141) || (rayce==142) || (rayce==142) || (rayce==144) || (rayce==145) || (rayce==133) || (rayce==135) || (rayce==136) || (rayce==137) || (rayce==138) || (rayce==125) || (rayce==121) || (rayce==122) || (rayce==112) || (rayce==118) || (rayce==109) || (rayce==110) || (rayce==108) || (rayce==100) || (rayce==86) || (rayce==79) || (rayce==44)) || (rayce==35) || (rayce==36) || (rayce==34) || (rayce==28) || (rayce==29) || (rayce==30) || (rayce==31) || (rayce==32) || (rayce==33) || (rayce==8))
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=29+Math.floor (10*Math.random())+Math.floor (10*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=24+Math.floor (10*Math.random())+Math.floor (10*Math.random()); }
  }
 if ((rayce==2) || (rayce==180) || (rayce==181) || (rayce==169) || (rayce==160) || (rayce==161) || (rayce==117) || (rayce==119) || (rayce==69) || (rayce==60) || (rayce==51) || (rayce==41))
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=26+Math.floor ( 8*Math.random())+Math.floor ( 8*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=24+Math.floor ( 8*Math.random())+Math.floor ( 8*Math.random()); }
  }
 if ((rayce==3) || (rayce==174) || (rayce==139) || (rayce==107) || (rayce==93) || (rayce==111) || (rayce==94) || (rayce==95) || (rayce==66) || (rayce==57) || (rayce==48) || (rayce==27) || (rayce==13) || (rayce==12) || (rayce==11) || (rayce==9) || (rayce==10))
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=24+Math.floor ( 6*Math.random())+Math.floor ( 6*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=24+Math.floor ( 6*Math.random())+Math.floor ( 6*Math.random()); }
  }
 if (((rayce==4) || (rayce==162) || (rayce==149) || (rayce==134) || (rayce==120) || (rayce==91) || (rayce==65) || (rayce==56) || (rayce==47)) || (rayce==38) || (rayce==17) || (rayce==15) || (rayce==14))
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=16+Math.floor ( 4*Math.random())+Math.floor ( 4*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=14+Math.floor ( 4*Math.random())+Math.floor ( 4*Math.random()); }
  }
 if ((rayce==5) || (rayce==98) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==26) || (rayce==68) || (rayce==59) || (rayce==50) || (rayce==40) || (rayce==16) || (rayce==19))
  {
   if (gender==1) { document.form1.how_tall.selectedIndex= 7+Math.floor ( 4*Math.random())+Math.floor ( 4*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex= 5+Math.floor ( 4*Math.random())+Math.floor ( 4*Math.random()); }
  }
 if (((rayce==6) || (rayce==167) || (rayce==148) || (rayce==150) || (rayce==140) || (rayce==123) || (rayce==113) || (rayce==114) || (rayce==115) || (rayce==116) || (rayce==99) || (rayce==92) || (rayce==81) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43)) || ((rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45)) || (rayce==18))
  {
   if ((gender==1) || (rayce==99)) { document.form1.how_tall.selectedIndex= 3+Math.floor ( 4*Math.random())+Math.floor ( 4*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex= 1+Math.floor ( 4*Math.random())+Math.floor ( 4*Math.random()); }
  }
 if ((rayce==7) || (rayce==175) || (rayce==176) || (rayce==177) || (rayce==168) || (rayce==146) || (rayce==147) || (rayce==127) || (rayce==96) || (rayce==97) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==85) || (rayce==82) || (rayce==70) || (rayce==61) || (rayce==75) || (rayce==76) || (rayce==77) || (rayce==74) || (rayce==78) || (rayce==52) || (rayce==42) || (rayce==23) || (rayce==163) || (rayce==164) || (rayce==165) || (rayce==73) || (rayce==64) || (rayce==55) || (rayce==46) || (rayce==21) || (rayce==20) || (rayce==166))
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=29+Math.floor (12*Math.random())+Math.floor (12*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=22+Math.floor (12*Math.random())+Math.floor (12*Math.random()); }
  }
 if (rayce==24)
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=64-31+Math.floor (12*Math.random())+Math.floor (12*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=62-31+Math.floor (12*Math.random())+Math.floor (12*Math.random()); }
  }

 if (rayce==99)
  {
   document.form1.how_tall.selectedIndex=32-31+Math.floor(4*Math.random())+Math.floor(4*Math.random());
  }


 if (rayce==101)
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=52-31+Math.floor(8*Math.random())+Math.floor(8*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=70-31+Math.floor(10*Math.random())+Math.floor(10*Math.random()); }
  }

 if (rayce==102)
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=76-31+Math.floor(12*Math.random())+Math.floor(12*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=73-31+Math.floor(12*Math.random())+Math.floor(12*Math.random()); }
  }

 if (rayce==103)
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=64-31+Math.floor(10*Math.random())+Math.floor(10*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=63-31+Math.floor(10*Math.random())+Math.floor(10*Math.random()); }
  }

 if (rayce==104)
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=56-31+Math.floor(10*Math.random())+Math.floor(10*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=52-31+Math.floor(10*Math.random())+Math.floor(10*Math.random()); }
  }

 if (rayce==105)
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=62-31+Math.floor(10*Math.random())+Math.floor(10*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=60-31+Math.floor(10*Math.random())+Math.floor(10*Math.random()); }
  }

 if (rayce==106)
  {
   if (gender==1) { document.form1.how_tall.selectedIndex=70-31+Math.floor(10*Math.random())+Math.floor(10*Math.random()); }
   if (gender==2) { document.form1.how_tall.selectedIndex=68-31+Math.floor(10*Math.random())+Math.floor(10*Math.random()); }
  }
 AdjustHeight();
 GetIdealWeight();
 }

function ClassNeeds() {

 if ((wizard_levels + epic_wizard_levels>0) && (document.form1.spellbook.selectedIndex==0))
  { document.form1.spellbook.selectedIndex=1}
 if (druid_levels + epic_druid_levels>0)
  { document.form1.hollyandmistletoe.checked=true; }
 if ((rogue_levels + epic_rogue_levels>0) || (openlock>0) || (disabledevice>0))
   { document.form1.thievestools.checked=true}
 if (bard_levels + epic_bard_levels>0)
   { document.form1.musicalinstrument.checked=true}

 if (((bard_levels + epic_bard_levels>0) || (cleric_levels + epic_cleric_levels>0)
   |(druid_levels + epic_druid_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0)
   |(paladin_levels + epic_paladin_levels>=6)
   |(ranger_levels + epic_ranger_levels>=6))
   && (has_eschewmaterials==false))
    { document.form1.spellcomponentpouch.checked=true; }
 }

function RollSomeDice(numbur) {
// alert("Apple");
// document.form1.rollthedicearrow.src="dragonblank.gif";
 my_character_is_done=false;
 if ((stat1!=0) || (stat2!=0) || (stat3!=0) || (stat4!=0) || (stat5!=0) || (stat6!=0))
  {if (rayce!=0) {startup();}}
 AbilitiesHaveBeenEstablished=false;
 ClearAllAbilityAssignments();
 strength=0;
 intelligence=0;
 wisdom=0;
 constitution=0;
 dexterity=0;
 charisma=0;
 RollTheDice();
 if (document.form1.methods_list.selectedIndex==7)
  { document.form1.first_comment_box.value="Randomize for a low-power campaign.  "; do {RollTheDice(); EightsMinimum(); } while ((TotalPointBuy()>21) || (TotalPointBuy<15)); DisplayTrueStatistics(); }
 if (document.form1.methods_list.selectedIndex==8)
  { document.form1.first_comment_box.value="Randomize for an easy campaign.  "; do {RollTheDice(); EightsMinimum(); } while ((TotalPointBuy()<22) || (TotalPointBuy()>24)); DisplayTrueStatistics(); }
 if (document.form1.methods_list.selectedIndex==9)
  { document.form1.first_comment_box.value="Randomize for a standard campaign.  "; do {RollTheDice(); EightsMinimum(); } while ((TotalPointBuy()<25) || (TotalPointBuy()>27)); DisplayTrueStatistics(); }
 if (document.form1.methods_list.selectedIndex==10)
  { document.form1.first_comment_box.value="Randomize for a tougher campaign.  "; do {RollTheDice(); EightsMinimum(); } while ((TotalPointBuy()<28) || (TotalPointBuy()>31)); DisplayTrueStatistics(); }
 if (document.form1.methods_list.selectedIndex==11)
  { document.form1.first_comment_box.value="Randomize for a high-power campaign.  "; do {RollTheDice(); EightsMinimum(); } while (TotalPointBuy()<32); DisplayTrueStatistics(); }

 if (document.form1.methods_list.selectedIndex==3)
  {
   stat1=8;
   stat2=8;
   stat3=8;
   stat4=8;
   stat5=8;
   stat6=8;
   document.form1.stat1_list.selectedIndex=5;
   document.form1.stat2_list.selectedIndex=5;
   document.form1.stat3_list.selectedIndex=5;
   document.form1.stat4_list.selectedIndex=5;
   document.form1.stat5_list.selectedIndex=5;
   document.form1.stat6_list.selectedIndex=5;
   DiceHaveBeenRolled=true;
  }
 if (document.form1.methods_list.selectedIndex==6)
  {
   stat1=3;
   stat2=3;
   stat3=3;
   stat4=3;
   stat5=3;
   stat6=3;
   document.form1.stat1_list.selectedIndex=0;
   document.form1.stat2_list.selectedIndex=0;
   document.form1.stat3_list.selectedIndex=0;
   document.form1.stat4_list.selectedIndex=0;
   document.form1.stat5_list.selectedIndex=0;
   document.form1.stat6_list.selectedIndex=0;
   DiceHaveBeenRolled=true;
  }
 DisplayTrueStatistics()
 DiceHaveBeenRolled=true;
 if ((document.form1.methods_list.selectedIndex!=3) && (document.form1.methods_list.selectedIndex!=6)) { document.form1.first_comment_box.value="Now assign your abilities."; }
 TellAboutPointBuy();
  ArrowShow();

 }

function EightsMinimum() {
 if (stat1<8) {stat1=8; }
 if (stat2<8) {stat2=8; }
 if (stat3<8) {stat3=8; }
 if (stat4<8) {stat4=8; }
 if (stat5<8) {stat5=8; }
 if (stat6<8) {stat6=8; }
 }


function NegateNonEpicClassLevels() {
 barbarian_levels=0;
 bard_levels=0;
 cleric_levels=0;
 druid_levels=0;
 fighter_levels=0;
 monk_levels=0;
 paladin_levels=0;
 ranger_levels=0;
 rogue_levels=0;
 sorcerer_levels=0;
 wizard_levels=0;
 humanoid_levels=0;
 psion_levels=0;
 psiwarrior_levels=0;
 soulknife_levels=0;
 wilder_levels=0;
 artificer_levels=0;
 prestige_levels=0;
 npcother_levels=0;
 }


function NegateEpicClassLevels() {
 epic_barbarian_levels=0;
 epic_bard_levels=0;
 epic_cleric_levels=0;
 epic_druid_levels=0;
 epic_fighter_levels=0;
 epic_monk_levels=0;
 epic_paladin_levels=0;
 epic_ranger_levels=0;
 epic_rogue_levels=0;
 epic_sorcerer_levels=0;
 epic_wizard_levels=0;
 epic_psion_levels=0;
 epic_psiwarrior_levels=0;
 epic_artificer_levels=0;
 epic_wilder_levels=0;
 epic_soulknife_levels=0;
 epic_prestige_levels=0;
 epic_npcother_levels=0;
 }

function WipeMonkishFeats(numbur) {
 if (numbur<1)
  {
   monkish_improved_grapple=false;
   monkish_stunning_fist=false;
   document.form1.monkish_1[0].checked=false;
   document.form1.monkish_1[1].checked=false;
  }
 if (numbur<2)
  {
   monkish_combat_reflexes=false;
   monkish_deflect_arrows=false;
   document.form1.monkish_2[0].checked=false;
   document.form1.monkish_2[1].checked=false;
  }
 if (numbur<6)
  {
   monkish_improved_disarm=false;
   monkish_improved_trip=false;
   document.form1.monkish_3[0].checked=false;
   document.form1.monkish_3[1].checked=false;
  }
 }


function monkish_featsA() {
 monkish_feats();
 ArrowShow();
 }

function monkish_feats() {
 WipeMonkishFeats(monk_levels + epic_monk_levels);
 if (monk_totem>0) {WipeMonkishFeats(0); }
 if ((monk_levels + epic_monk_levels==0) || (monk_totem>0)) { return true; } else
 if (FighterFeatsEtcFrozen==true)
  {
   RememberFighterFeatsEtc();
   return true;
  }
 else
 if (ClassesHaveBeenEstablished==false) {
 WipeMonkishFeats(0); 
 ArrowShow(); 
 return true; 
 }
 else
  {
   ArrowShow();
   return true;
  }
 ArrowShow();
 }

function uncheck_feat_boxes() {
 document.form1.acrobatic.checked=false;
 document.form1.agile.checked=false;
 document.form1.alertness.checked=false;
 document.form1.animalaffinity.checked=false;
 document.form1.armorproficiencylight.checked=false;
 document.form1.armorproficiencymedium.checked=false;
 document.form1.armorproficiencyheavy.checked=false;
 document.form1.athletic.checked=false;
 document.form1.augmentsummoning.checked=false;
 document.form1.blindfight.checked=false;
 document.form1.combatcasting.checked=false;
 document.form1.combatexpertise.checked=false;
 document.form1.improveddisarm.checked=false;
 document.form1.improvedfeint.checked=false;
 document.form1.improvedtrip.checked=false;
 document.form1.whirlwindattack.checked=false;
 document.form1.combatreflexes.checked=false;
 document.form1.deceitful.checked=false;
 document.form1.defthands.checked=false;
 document.form1.diligent.checked=false;
 document.form1.dodge.checked=false;
 document.form1.mobility.checked=false;
 document.form1.springattack.checked=false;
 document.form1.endurance.checked=false;
 document.form1.diehard.checked=false;
 document.form1.eschewmaterials.checked=false;
 document.form1.exoticweaponproficiency.checked=false;
  has_toughness=0; 
  document.form1.toughness_list.selectedIndex=0;
  has_extraturning=0; 
  document.form1.extraturning_list.selectedIndex=0;
  has_personaltouchstone=0; 
  document.form1.personaltouchstone_list.selectedIndex=0;
  has_planartouchstone=0; 
  document.form1.planartouchstone_list.selectedIndex=0;
  has_spellmastery=0; 
  document.form1.spellmastery_list.selectedIndex=0;
 document.form1.greatfortitude.checked=false;
 document.form1.improvedcounterspell.checked=false;
 has_improvedcritical=0; 
 document.form1.improvedcritical_list.selectedIndex=0;
 document.form1.improvedinitiative.checked=false;
 document.form1.improvedturning.checked=false;
 document.form1.improvedunarmedstrike.checked=false;
 document.form1.improvedgrapple.checked=false;
 document.form1.deflectarrows.checked=false;
 document.form1.snatcharrows.checked=false;
 document.form1.stunningfist.checked=false;
 document.form1.investigator.checked=false;
 document.form1.ironwill.checked=false;
 document.form1.leadership.checked=false;
 document.form1.lightningreflexes.checked=false;
 document.form1.magicalaptitude.checked=false;
 document.form1.martialweaponproficiency.checked=false;
 document.form1.mountedcombat.checked=false;
 document.form1.mountedarchery.checked=false;
 document.form1.ridebyattack.checked=false;
 document.form1.spiritedcharge.checked=false;
 document.form1.trample.checked=false;
 document.form1.naturalspell.checked=false;
 document.form1.negotiator.checked=false;
 document.form1.nimblefingers.checked=false;
 document.form1.persuasive.checked=false;
 document.form1.pointblankshot.checked=false;
 document.form1.farshot.checked=false;
 document.form1.preciseshot.checked=false;
 document.form1.rapidshot.checked=false;
 document.form1.manyshot.checked=false;
 document.form1.shotontherun.checked=false;
 document.form1.improvedpreciseshot.checked=false;
 document.form1.powerattack.checked=false;
 document.form1.cleave.checked=false;
 document.form1.greatcleave.checked=false;
 document.form1.improvedbullrush.checked=false;
 document.form1.improvedoverrun.checked=false;
 document.form1.improvedsunder.checked=false;
 document.form1.quickdraw.checked=false;
 document.form1.rapidreload.checked=false;
 document.form1.run.checked=false;
 document.form1.selfsufficient.checked=false;
 document.form1.shieldproficiency.checked=false;
 document.form1.improvedshieldbash.checked=false;
 document.form1.towershieldproficiency.checked=false;
 document.form1.simpleweaponproficiency.checked=false;
 document.form1.skillfocusappraise.checked=false;
 document.form1.skillfocusbalance.checked=false;
 document.form1.skillfocusbluff.checked=false;
 document.form1.skillfocusclimb.checked=false;
 document.form1.skillfocusconcentration.checked=false;
 document.form1.skillfocuscraft_1.checked=false;
 document.form1.skillfocuscraft_2.checked=false;
 document.form1.skillfocuscraft_3.checked=false;
 document.form1.skillfocusdecipherscript.checked=false;
 document.form1.skillfocusdiplomacy.checked=false;
 document.form1.skillfocusdisabledevice.checked=false;
 document.form1.skillfocusdisguise.checked=false;
 document.form1.skillfocusescapeartist.checked=false;
 document.form1.skillfocusforgery.checked=false;
 document.form1.skillfocusgatherinformation.checked=false;
 document.form1.skillfocushandleanimal.checked=false;
 document.form1.skillfocusheal.checked=false;
 document.form1.skillfocushide.checked=false;
 document.form1.skillfocusintimidate.checked=false;
 document.form1.skillfocusjump.checked=false;
 document.form1.skillfocusknowledgearcana.checked=false;
 document.form1.skillfocusknowledgearchitecture.checked=false;
 document.form1.skillfocusknowledgedungeoneering.checked=false;
 document.form1.skillfocusknowledgegeography.checked=false;
 document.form1.skillfocusknowledgehistory.checked=false;
 document.form1.skillfocusknowledgelocal.checked=false;
 document.form1.skillfocusknowledgenature.checked=false;
 document.form1.skillfocusknowledgenobility.checked=false;
 document.form1.skillfocusknowledgereligion.checked=false;
 document.form1.skillfocusknowledgeplanes.checked=false;
 document.form1.skillfocuslisten.checked=false;
 document.form1.skillfocusmovesilently.checked=false;
 document.form1.skillfocusopenlock.checked=false;
 document.form1.skillfocusperform_1.checked=false;
 document.form1.skillfocusperform_2.checked=false;
 document.form1.skillfocusperform_3.checked=false;
 document.form1.skillfocusperform_4.checked=false;
 document.form1.skillfocusperform_5.checked=false;
 document.form1.skillfocusprofession.checked=false;
 document.form1.skillfocusride.checked=false;
 document.form1.skillfocussearch.checked=false;
 document.form1.skillfocussensemotive.checked=false;
 document.form1.skillfocussleightofhand.checked=false;
 document.form1.skillfocusspellcraft.checked=false;
 document.form1.skillfocusspot.checked=false;
 document.form1.skillfocussurvival.checked=false;
 document.form1.skillfocusswim.checked=false;
 document.form1.skillfocustumble.checked=false;
 document.form1.skillfocususemagicdevice.checked=false;
 document.form1.skillfocususerope.checked=false;
 document.form1.skillfocusautohypnosis.checked=false;
 document.form1.skillfocusknowpsi.checked=false;
 document.form1.skillfocuspsicraft.checked=false;
// document.form1.skillfocusremoteview.checked=false;
// document.form1.skillfocusstabilizeself.checked=false;
 document.form1.skillfocususepsionicdevice.checked=false;
 document.form1.multiattack.checked=false;
 document.form1.multidexterity.checked=false;
 document.form1.multiweaponfighting.checked=false;
 document.form1.cripplingstrike.checked=false;
 document.form1.defensiveroll.checked=false;
 document.form1.improvedevasion.checked=false;
 document.form1.opportunist.checked=false;
 document.form1.skillmastery.checked=false;
 document.form1.slipperymind.checked=false;
 document.form1.roguewildernessstride.checked=false;
 document.form1.roguecamouflage.checked=false;
 document.form1.roguehideinplainsight.checked=false;
 document.form1.antipsionicmagic.checked=false;
 document.form1.autonomous.checked=false;
 document.form1.chaoticmind.checked=false;
 document.form1.cloakdance.checked=false;
 document.form1.closedmind.checked=false;
 document.form1.deadlyprecision.checked=false;
 document.form1.forceofwill.checked=false;
 document.form1.greatermanyshot.checked=false;
 document.form1.hostilemind.checked=false;
 document.form1.mentalresistance.checked=false;
 document.form1.mindoverbody.checked=false;
  has_openminded=0; document.form1.openminded_list.selectedIndex=0;
 document.form1.psionicaffinity.checked=false;
 document.form1.psionichole.checked=false;
 document.form1.rapidmetabolism.checked=false;
 document.form1.recklessoffense.checked=false;
 document.form1.sidestepcharge.checked=false;
 document.form1.standstill.checked=false;
 document.form1.wildtalent.checked=false;
 document.form1.alignedattack.checked=false;
 document.form1.boostconstruct.checked=false;
 document.form1.combatmanifestation.checked=false;
  has_expandedknowledge=0; document.form1.expandedknowledge_list.selectedIndex=0;
 document.form1.focusedsunder.checked=false;
 document.form1.ghostattack.checked=false;
 document.form1.inquisitor.checked=false;
 document.form1.mentalleap.checked=false;
  has_metamorphictransfer=0; document.form1.metamorphictransfer_list.selectedIndex=0;

 document.form1.narrowmind.checked=false;
 document.form1.overchannel.checked=false;
 document.form1.talented.checked=false;
 document.form1.bodyfuel.checked=false;
 document.form1.powerpenetration.checked=false;
 document.form1.greaterpowerpenetration.checked=false;
 document.form1.powerspecialization.checked=false;
 document.form1.greaterpowerspecialization.checked=false;
 document.form1.psicrystalaffinity.checked=false;
 document.form1.improvedpsicrystal.checked=false;
 document.form1.psicrystalcontainment.checked=false;
 document.form1.psionicbody.checked=false;
 document.form1.psionicdodge.checked=false;
 document.form1.psionicendowment.checked=false;
 document.form1.greaterpsionicendowment.checked=false;
 document.form1.psionicfist.checked=false;
 document.form1.greaterpsionicfist.checked=false;
 document.form1.unavoidablestrike.checked=false;
 document.form1.psionicmeditation.checked=false;
 document.form1.psionicshot.checked=false;
 document.form1.greaterpsionicshot.checked=false;
 document.form1.fellshot.checked=false;
 document.form1.returnshot.checked=false;
 document.form1.psionictalent_list.selectedIndex=0;
 document.form1.familiarspell_list.selectedIndex=0;
 document.form1.greatsmiting_list.selectedIndex=0;
 document.form1.improvedfavoredenemy_list.selectedIndex=0;
 document.form1.improvedmetamagic_list.selectedIndex=0;
 document.form1.improvedsneakattack_list.selectedIndex=0;
 document.form1.improvedspellcapacity_list.selectedIndex=0;
 document.form1.improvedstunningfist_list.selectedIndex=0;
 document.form1.overwhelmingcritical_list.selectedIndex=0;
 document.form1.spellknowledge_list.selectedIndex=0;
 document.form1.epicexpandedknowledge_list.selectedIndex=0;
 document.form1.epicpsionicfocus_list.selectedIndex=0;
 document.form1.improvedmanifestation_list.selectedIndex=0;
 document.form1.improvedmetapsionics_list.selectedIndex=0;
 document.form1.powerknowledge_list.selectedIndex=0;
 document.form1.psicrystalpower_list.selectedIndex=0;
 document.form1.psionicweapon.checked=false;
 document.form1.greaterpsionicweapon.checked=false;
 document.form1.deepimpact.checked=false;
 document.form1.speedofthought.checked=false;
 document.form1.psioniccharge.checked=false;
 document.form1.upthewalls.checked=false;
 document.form1.woundingattack.checked=false;
 document.form1.burrowingpower.checked=false;
 document.form1.chainpower.checked=false;
 document.form1.delaypower.checked=false;
 document.form1.empowerpower.checked=false;
 document.form1.enlargepower.checked=false;
 document.form1.extendpower.checked=false;
 document.form1.maximizepower.checked=false;
 document.form1.opportunitypower.checked=false;
 document.form1.quickenpower.checked=false;
 document.form1.splitpsionicray.checked=false;
 document.form1.twinpower.checked=false;
 document.form1.unconditionalpower.checked=false;
 document.form1.widenpower.checked=false;
 document.form1.craftcognizancecrystal.checked=false;
 document.form1.craftdorje.checked=false;
 document.form1.craftpsicrown.checked=false;
 document.form1.craftpsionicarmsandarmor.checked=false;
 document.form1.craftpsionicconstruct.checked=false;
 document.form1.craftuniversalitem.checked=false;
 document.form1.imprintstone.checked=false;
 document.form1.scribetattoo.checked=false;
 document.form1.acheronflurry.checked=false;
 document.form1.celestialsummoningspecialist.checked=false;
 document.form1.elementalspellcastingair.checked=false;
 document.form1.elementalspellcastingearth.checked=false;
 document.form1.elementalspellcastingfire.checked=false;
 document.form1.elementalspellcastingwater.checked=false;
 document.form1.fiendishsummoningspecialist.checked=false;
 document.form1.neraphcharge.checked=false;
 document.form1.neraphthrow.checked=false;
 document.form1.nonverbalspell.checked=false;
 document.form1.planarfamiliar.checked=false;
 document.form1.stalwartplanarally.checked=false;
 document.form1.airheritage.checked=false;
 document.form1.anarchicheritage.checked=false;
 document.form1.axiomaticheritage.checked=false;
 document.form1.celestialheritage.checked=false;
 document.form1.earthheritage.checked=false;
 document.form1.fiendishheritage.checked=false;
 document.form1.fireheritage.checked=false;
 document.form1.improvedelementalheritage.checked=false;
 document.form1.improvedouterplanarheritage.checked=false;
 document.form1.naturalheavyweight.checked=false;
 document.form1.shadowheritage.checked=false;
 document.form1.waterheritage.checked=false;
document.form1.cleverwrestling.checked=false;
document.form1.cunningsidestep.checked=false;
document.form1.closequartersfighting.checked=false;
document.form1.overheadthrust.checked=false;
document.form1.deftstrike.checked=false;
document.form1.dragoncohort.checked=false;
document.form1.dragonfamiliar.checked=false;
document.form1.dragonhunter.checked=false;
document.form1.dragonhunterbravery.checked=false;
document.form1.dragonhunterdefense.checked=false;
document.form1.dragonsteed.checked=false;
document.form1.dragonwildshape.checked=false;
document.form1.dragoncrafter.checked=false;
document.form1.dragonfoe.checked=false;
document.form1.dragonbane.checked=false;
document.form1.dragondoom.checked=false;
document.form1.subduingstrike.checked=false;
document.form1.exaltedsmite.checked=false;
document.form1.exaltedturning.checked=false;
document.form1.exaltedwildshape.checked=false;
document.form1.holysubdual.checked=false;
document.form1.rangedsmiteevil.checked=false;
document.form1.righteouswrath.checked=false;
document.form1.sacredstrike.checked=false;
document.form1.consecratespell.checked=false;
document.form1.nonlethalsubstitution.checked=false;
document.form1.purifyspell.checked=false;
document.form1.improvedelementalwildshape.checked=false;
document.form1.lastinginspiration.checked=false;
document.form1.planarturning.checked=false;
document.form1.terrifyingrage.checked=false;
document.form1.brachiation.checked=false;
document.form1.dangersense.checked=false;
document.form1.heartheunseen.checked=false;
document.form1.improvedswimming.checked=false;
document.form1.quickreconnoiter.checked=false;
document.form1.dragonfriend.checked=false;
document.form1.dragonsong.checked=false;
document.form1.dragonthrall.checked=false;
document.form1.frightfulpresence.checked=false;
document.form1.senseweakness.checked=false;

 document.form1.feeble.checked=false;
 document.form1.frail.checked=false;
 document.form1.improvedtoughness.checked=false;
 document.form1.spellcastingprodigyintelligence.checked=false;
 document.form1.spellcastingprodigywisdom.checked=false;
 document.form1.spellcastingprodigycharisma.checked=false;
 document.form1.zenarchery.checked=false;
 document.form1.suddenempower.checked=false;
 document.form1.suddenenlarge.checked=false;
 document.form1.suddenextend.checked=false;
 document.form1.suddenmaximize.checked=false;
 document.form1.suddensilent.checked=false;
 document.form1.suddenstill.checked=false;
 document.form1.suddenwiden.checked=false;
 document.form1.energysubstitutionacid.checked=false;
 document.form1.energysubstitutioncold.checked=false;
 document.form1.energysubstitutionelectricity.checked=false;
 document.form1.energysubstitutionfire.checked=false;
 document.form1.energysubstitutionsonic.checked=false;
 document.form1.subdualsubstitution.checked=false;
 document.form1.enduringlife.checked=false;
 document.form1.lastinglife.checked=false;
 document.form1.empowerturning.checked=false;
 document.form1.ghostscarred.checked=false;
 document.form1.heightenturning.checked=false;
 document.form1.quickenturning.checked=false;
 document.form1.requiem.checked=false;
 document.form1.vampirehunter.checked=false;
 document.form1.sacredvitality.checked=false;
 document.form1.spurndeathstouch.checked=false;
 document.form1.inattentive.checked=false;
 document.form1.meagerfortitude.checked=false;
 document.form1.weakwill.checked=false;
 document.form1.otherflaw1.checked=false;
 document.form1.otherflaw2.checked=false;
 document.form1.murkyeyed.checked=false;
 document.form1.noncombatant.checked=false;
 document.form1.poorreflexes.checked=false;
 document.form1.shaky.checked=false;
 document.form1.slowpoke.checked=false;
 document.form1.unreactive.checked=false;
 document.form1.vulnerable.checked=false;
 document.form1.spellfocusabjuration.checked=false;
 document.form1.spellfocusconjuration.checked=false;
 document.form1.spellfocusdivination.checked=false;
 document.form1.spellfocusenchantment.checked=false;
 document.form1.spellfocusevocation.checked=false;
 document.form1.spellfocusillusion.checked=false;
 document.form1.spellfocusnecromancy.checked=false;
 document.form1.spellfocustransmutation.checked=false;
 document.form1.greaterspellfocusabjuration.checked=false;
 document.form1.greaterspellfocusconjuration.checked=false;
 document.form1.greaterspellfocusdivination.checked=false;
 document.form1.greaterspellfocusenchantment.checked=false;
 document.form1.greaterspellfocusevocation.checked=false;
 document.form1.greaterspellfocusillusion.checked=false;
 document.form1.greaterspellfocusnecromancy.checked=false;
 document.form1.greaterspellfocustransmutation.checked=false;
 document.form1.spellpenetration.checked=false;
 document.form1.greaterspellpenetration.checked=false;
 document.form1.stealthy.checked=false;
 document.form1.track.checked=false;
 document.form1.twoweaponfighting.checked=false;
 document.form1.twoweapondefense.checked=false;
 document.form1.improvedtwoweaponfighting.checked=false;
 document.form1.greatertwoweaponfighting.checked=false;
 document.form1.weaponfinesse_list.checked=false;
 document.form1.urbantracking.checked=false;
 document.form1.otherfeat1.checked=false;
 document.form1.otherfeat2.checked=false;
 document.form1.otherfeat3.checked=false;
 document.form1.otherfeat4.checked=false;
 document.form1.otherfeat5.checked=false;
 document.form1.otherfeat6.checked=false;
 document.form1.otherfeat7.checked=false;
 document.form1.otherfeat8.checked=false;
 document.form1.otherfeat9.checked=false;
 document.form1.otherfeat10.checked=false;
 document.form1.weaponfocus_list.selectedIndex=0;
 document.form1.weaponspecialization_list.selectedIndex=0;
 document.form1.greaterweaponfocus_list.selectedIndex=0;
 document.form1.greaterweaponspecialization_list.selectedIndex=0;
 document.form1.necropotent_list.selectedIndex=0;
 document.form1.brewpotion.checked=false;
 document.form1.craftmaa.checked=false;
 document.form1.craftrod.checked=false;
 document.form1.craftstaff.checked=false;
 document.form1.craftwand.checked=false;
 document.form1.craftwondrousitem.checked=false;
 document.form1.craftconstruct.checked=false;
 document.form1.forgering.checked=false;
 document.form1.scribescroll.checked=false;
 document.form1.empowerspell.checked=false;
 document.form1.enlargespell.checked=false;
 document.form1.extendspell.checked=false;
 document.form1.heightenspell.checked=false;
 document.form1.maximizespell.checked=false;
 document.form1.quickenspell.checked=false;
 document.form1.silentspell.checked=false;
 document.form1.stillspell.checked=false;
 document.form1.widenspell.checked=false;
 }

function AdjustFeatMenus() {
  document.form1.improvedcritical_list.length=0;
  z=genericfeatentitlement + fighterfeatentitlement;
  if (base_attack_bonus<8) {z=0; }
  for (x=0; x<=z; x++) {
	document.form1.improvedcritical_list.options[x]=new Option(x); }

document.form1.improvedcritical_list.options[0].selected=true;
document.form1.spellmastery_list.length=0;
z=genericfeatentitlement + wizardfeatentitlement;
  if (wizard_levels + epic_wizard_levels==0) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.spellmastery_list.options[x]=new Option(x); }
      document.form1.spellmastery_list.options[0].selected=true;

/* Weapon Finesse is not a multiple feat
  document.form1.weaponfinesse_list.length=0;
  z=genericfeatentitlement + fighterfeatentitlement;
  for (x=0; x<=z; x++) {
    document.form1.weaponfinesse_list.options[x]=new Option(x); }
      document.form1.weaponfinesse_list.options[0].selected=true;
*/

  document.form1.weaponfocus_list.length=0;  //generic
  z=genericfeatentitlement + fighterfeatentitlement;
  for (x=0; x<=z; x++) {
    document.form1.weaponfocus_list.options[x]=new Option(x); }
      document.form1.weaponfocus_list.options[0].selected=true;

  document.form1.weaponspecialization_list.length=0;  //generic
  z=Math.floor((genericfeatentitlement + fighterfeatentitlement)/2);
  if (fighter_levels + epic_fighter_levels<4) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.weaponspecialization_list.options[x]=new Option(x); }
      document.form1.weaponspecialization_list.options[0].selected=true;

  document.form1.greaterweaponfocus_list.length=0;  //generic
  z=Math.floor((genericfeatentitlement + fighterfeatentitlement)/2);
  if (fighter_levels + epic_fighter_levels<8) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.greaterweaponfocus_list.options[x]=new Option(x); }
      document.form1.greaterweaponfocus_list.options[0].selected=true;

  document.form1.greaterweaponspecialization_list.length=0;  //generic
  z=Math.floor((genericfeatentitlement + fighterfeatentitlement)/4);
  if (fighter_levels + epic_fighter_levels<12) {z=0; }
  for (x=0; x<=z; x++) {
	document.form1.greaterweaponspecialization_list.options[x]=new Option(x); }
	document.form1.greaterweaponspecialization_list.options[0].selected=true;

  document.form1.necropotent_list.length=0;  //generic
  z=Math.floor((genericfeatentitlement + fighterfeatentitlement)/3);
  if (fighter_levels + epic_fighter_levels<4) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.necropotent_list.options[x]=new Option(x); }
      document.form1.necropotent_list.options[0].selected=true;

  document.form1.toughness_list.length=0;
  z=genericfeatentitlement;
  for (x=0; x<=z; x++) {
    document.form1.toughness_list.options[x]=new Option(x); }
      document.form1.toughness_list.options[0].selected=true;

  document.form1.extraturning_list.length=0;  //generic
  z=genericfeatentitlement;
  if (((npcother_levels + epic_npcother_levels==0) || (npcother_class_name!="Paladin of Freedom")) && (cleric_levels + paladin_levels + epic_cleric_levels + epic_paladin_levels ==0)) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.extraturning_list.options[x]=new Option(x); }
      document.form1.extraturning_list.options[0].selected=true;

  document.form1.personaltouchstone_list.length=0;  //generic
  z=genericfeatentitlement;
  for (x=0; x<=z; x++) {
    document.form1.personaltouchstone_list.options[x]=new Option(x); }
      document.form1.personaltouchstone_list.options[0].selected=true;

  document.form1.planartouchstone_list.length=0;
  z=Math.floor(genericfeatentitlement/2);
  for (x=0; x<=z; x++) {
    document.form1.planartouchstone_list.options[x]=new Option(x); }
      document.form1.planartouchstone_list.options[0].selected=true;

  document.form1.openminded_list.length=0;
  z=genericfeatentitlement;
  for (x=0; x<=z; x++) {
    document.form1.openminded_list.options[x]=new Option(x); }
      document.form1.openminded_list.options[0].selected=true;

  document.form1.expandedknowledge_list.length=0;
  z=genericfeatentitlement + psionfeatentitlement;
  if ((psion_levels<3) && (wilder_levels<3) && (psiwarrior_levels<3)) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.expandedknowledge_list.options[x]=new Option(x); }
      document.form1.expandedknowledge_list.options[0].selected=true;

  document.form1.metamorphictransfer_list.length=0;
  z=genericfeatentitlement + psionfeatentitlement;
  if ((psion_levels<5) && (wilder_levels<5) && (psiwarrior_levels<5)) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.metamorphictransfer_list.options[x]=new Option(x); }
      document.form1.metamorphictransfer_list.options[0].selected=true;

  document.form1.psionictalent_list.length=0;
  z=genericfeatentitlement + psionfeatentitlement;
  if (psion_levels + wilder_levels + psiwarrior_levels==0) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.psionictalent_list.options[x]=new Option(x); }
      document.form1.psionictalent_list.options[0].selected=true;

  document.form1.familiarspell_list.length=0;
  z=epic_feat_allowance;
  if (((sorcerer_levels + epic_sorcerer_levels==0) || (charisma<25)) && ((wizard_levels + epic_wizard_levels==0) || (intelligence<25))) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.familiarspell_list.options[x]=new Option(x); }
      document.form1.familiarspell_list.options[0].selected=true;

  document.form1.greatsmiting_list.length=0;
  z=epic_feat_allowance;
  if ((has_destruction_domain==false) && ((npcother_levels + epic_npcother_levels==0) || (npcother_class_name!="Paladin of Freedom")) && (paladin_levels + epic_paladin_levels==0)) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.greatsmiting_list.options[x]=new Option(x); }
      document.form1.greatsmiting_list.options[0].selected=true;

  document.form1.improvedfavoredenemy_list.length=0;
  z=epic_feat_allowance;
  if (ranger_levels + epic_ranger_levels ==0) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.improvedfavoredenemy_list.options[x]=new Option(x); }
      document.form1.improvedfavoredenemy_list.options[0].selected=true;

  document.form1.improvedmetamagic_list.length=0;
  z=epic_feat_allowance;
  if (spellcraft/spellcraft_class<30) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.improvedmetamagic_list.options[x]=new Option(x); }
      document.form1.improvedmetamagic_list.options[0].selected=true;

  document.form1.improvedsneakattack_list.length=0;
  z=epic_feat_allowance;
  if (rogue_levels + epic_rogue_levels + prestige_levels + epic_prestige_levels<15) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.improvedsneakattack_list.options[x]=new Option(x); }
      document.form1.improvedsneakattack_list.options[0].selected=true;

  document.form1.improvedspellcapacity_list.length=0;
  z=epic_feat_allowance;
  if (
      (bard_levels + epic_bard_levels<16)&
      (paladin_levels + epic_paladin_levels<14)&
      (ranger_levels + epic_ranger_levels<14)&
      (druid_levels + epic_druid_levels<17)&
      (cleric_levels + epic_cleric_levels<17)&
      (wizard_levels + epic_wizard_levels<17)&
      (sorcerer_levels + epic_sorcerer_levels<18)
     ) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.improvedspellcapacity_list.options[x]=new Option(x); }
      document.form1.improvedspellcapacity_list.options[0].selected=true;

  document.form1.improvedstunningfist_list.length=0;
  z=epic_feat_allowance;
  if ((wisdom<19) && (dexterity<19)) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.improvedstunningfist_list.options[x]=new Option(x); }
      document.form1.improvedstunningfist_list.options[0].selected=true;

  document.form1.overwhelmingcritical_list.length=0;
  z=epic_feat_allowance;
  if (strength<23) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.overwhelmingcritical_list.options[x]=new Option(x); }
      document.form1.overwhelmingcritical_list.options[0].selected=true;

  document.form1.spellknowledge_list.length=0;
  z=epic_feat_allowance;
  if (
      (bard_levels + epic_bard_levels<16)&
      (wizard_levels + epic_wizard_levels<17)&
      (sorcerer_levels + epic_sorcerer_levels<18)
     ) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.spellknowledge_list.options[x]=new Option(x); }
      document.form1.spellknowledge_list.options[0].selected=true;

  document.form1.epicexpandedknowledge_list.length=0;
  z=epic_feat_allowance;
  if (
      (psion_levels + epic_psion_levels <17)&
      (wilder_levels + epic_wilder_levels <18)&
      (psiwarrior_levels + epic_psiwarrior_levels<18)
     ) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.epicexpandedknowledge_list.options[x]=new Option(x); }
      document.form1.epicexpandedknowledge_list.options[0].selected=true;

  document.form1.epicpsionicfocus_list.length=0;
  z=epic_feat_allowance;
  if (
      (psion_levels + epic_psion_levels <17)&
      (wilder_levels + epic_wilder_levels<18)&
      (psiwarrior_levels + epic_psiwarrior_levels<18)
     ) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.epicpsionicfocus_list.options[x]=new Option(x); }
      document.form1.epicpsionicfocus_list.options[0].selected=true;

  document.form1.improvedmanifestation_list.length=0;
  z=epic_feat_allowance;
  if (
      (psion_levels + epic_psion_levels <17)&
      (wilder_levels + epic_wilder_levels<18)&
      (psiwarrior_levels + epic_psiwarrior_levels<18)
     ) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.improvedmanifestation_list.options[x]=new Option(x); }
      document.form1.improvedmanifestation_list.options[0].selected=true;

  document.form1.improvedmetapsionics_list.length=0;
  z=epic_feat_allowance;
  if (
      (psion_levels + epic_psion_levels <17)&
      (wilder_levels  + epic_wilder_levels<18)&
      (psiwarrior_levels + epic_psiwarrior_levels<18)
     ) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.improvedmetapsionics_list.options[x]=new Option(x); }
      document.form1.improvedmetapsionics_list.options[0].selected=true;

  document.form1.powerknowledge_list.length=0;
  z=epic_feat_allowance;
  if (
      (psion_levels + epic_psion_levels <17)&
      (wilder_levels  + epic_wilder_levels <18)&
      (psiwarrior_levels + epic_psiwarrior_levels<18)
     ) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.powerknowledge_list.options[x]=new Option(x); }
      document.form1.powerknowledge_list.options[0].selected=true;

  document.form1.psicrystalpower_list.length=0;
  z=epic_feat_allowance;
  if (
      ((wilder_levels==0) || (charisma<25))&
      ((psion_levels==0) || (intelligence<25))
     ) {z=0; }
  for (x=0; x<=z; x++) {
    document.form1.psicrystalpower_list.options[x]=new Option(x); }
      document.form1.psicrystalpower_list.options[0].selected=true;
 }

function AnimalCompanion() {
 document.form1.animal_companion_list.length=0;
 document.form1.animal_companion_list.options[0]=new Option("--------------------");
 z=0;
 y=Math.floor((ranger_levels + epic_ranger_levels)/2);
 x=druid_levels + epic_druid_levels;
// x=100;
 if ((x==0) && (y<2)) { return; }
 if (y>0) { x+=y; }

 if (x>=4) { stringy="Ape"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Badger"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=4) { stringy="Bear (black)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=7) { stringy="Bear (brown)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=10) { stringy="Bear (polar)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=4) { stringy="Bison"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=4) { stringy="Boar"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Camel"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=4) { stringy="Cheetah"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Crocodile"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=7) { stringy="Crocodile (giant)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=7) { stringy="Deinonychus"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=7) { stringy="Dire Ape"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=4) { stringy="Dire Badger"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=4) { stringy="Dire Bat"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=13) { stringy="Dire Bear"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=7) { stringy="Dire Boar"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=10) { stringy="Dire Lion"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Dire Rat"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=16) { stringy="Dire Shark"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=16) { stringy="Dire Tiger"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=4) { stringy="Dire Weasel"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=7) { stringy="Dire Wolf"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=7) { stringy="Dire Wolverine"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Dog"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 stringy="Dog (riding)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 stringy="Eagle"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=7) { stringy="Elasmosaurus"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=13) { stringy="Elephant"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Hawk"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 stringy="Horse (light)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 stringy="Horse (heavy)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=4) { stringy="Leopard"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=7) { stringy="Lion"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=4) { stringy="Lizard (monitor)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=10) { stringy="Megaraptor"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=13) { stringy="Octopus (giant)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Owl"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 stringy="Pony"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 stringy="Porpoise"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=7) { stringy="Rhinoceros"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Shark (medium)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=4) { stringy="Shark (large)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=10) { stringy="Shark (huge)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=4) { stringy="Snake (constrictor)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=10) { stringy="Snake (giant constrictor)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Snake (small viper)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 stringy="Snake (medium viper)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=4) { stringy="Snake (large viper)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=7) { stringy="Snake (huge viper)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Squid"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=16) { stringy="Squid (giant)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=7) { stringy="Tiger"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=16) { stringy="Triceratops"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=16) { stringy="Tyrannosaurus"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 if (x>=10) { stringy="Whale (orca)"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 stringy="Wolf"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy;
 if (x>=4) { stringy="Wolverine"; z++;
 document.form1.animal_companion_list.options[z]=new Option(stringy);
 document.form1.animal_companion_list.options[z].value=stringy;
 document.form1.animal_companion_list.options[z].text=stringy; }
 }

function Warhorse() {
 document.form1.warhorse_list.length=0;
 document.form1.warhorse_list.options[0]=new Option("--------------------");
 z=0;
 if (alignment==3) { x=npcother_levels + epic_npcother_levels; }
 if (x<5) { return; }
 if (large==true) { return; }
 if (small==false) { stringy="Warhorse (heavy)";
 document.form1.warhorse_list.options[0].value=stringy;
 document.form1.warhorse_list.options[0].text=stringy; }
 if (small==true) { stringy="Warpony";
 document.form1.warhorse_list.options[0].value=stringy;
 document.form1.warhorse_list.options[0].text=stringy; }

 if ((x>=5) && (small==false)) { stringy="Warhorse (light)"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if (x>=5) { stringy="Camel"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==false)) { stringy="Celestial Warhorse (heavy)"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==true)) { stringy="Celestial Warpony"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==true)) { stringy="Dire Bat"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==true)) { stringy="Dire Badger"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=7) && (small==false)) { stringy="Dire Boar"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=8) && (small==false)) { stringy="Dire Lion"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==true)) { stringy="Dire Weasel"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==false)) { stringy="Dire Wolf"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=7) && (small==false)) { stringy="Dire Wolverine"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=5) && (small==true)) { stringy="Dog (riding)"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=7) && (small==false)) { stringy="Giant Eagle"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=7) && (small==false)) { stringy="Giant Owl"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=8) && (small==false)) { stringy="Griffon"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==false)) { stringy="Hippogriff"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==true)) { stringy="Lizard (monitor)"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==false)) { stringy="Monstrous Spider (large)"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=7) && (small==false)) { stringy="Pegasus"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=7) && (small==false)) { stringy="Rhinoceros"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=7) && (small==false)) { stringy="Sea Cat"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=5) && (small==true)) { stringy="Shark (medium)"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==false)) { stringy="Shark (large)"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }

 if ((x>=6) && (small==false)) { stringy="Unicorn"; z++;
 document.form1.warhorse_list.options[z]=new Option(stringy);
 document.form1.warhorse_list.options[z].value=stringy;
 document.form1.warhorse_list.options[z].text=stringy; }
 }

function AdjustSkillMenus() {
  document.form1.appraise_list.length=0;
  if (total_levels>0) {z=3; } else {z=20; }
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.appraise_list.options[x]=new Option(x); }
      document.form1.appraise_list.options[0].selected=true;
  document.form1.balance_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.balance_list.options[x]=new Option(x); }
      document.form1.balance_list.options[0].selected=true;
  document.form1.bluff_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.bluff_list.options[x]=new Option(x); }
      document.form1.bluff_list.options[0].selected=true;
  document.form1.climb_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.climb_list.options[x]=new Option(x); }
      document.form1.climb_list.options[0].selected=true;
  document.form1.concentration_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.concentration_list.options[x]=new Option(x); }
      document.form1.concentration_list.options[0].selected=true;
  document.form1.craft_1_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.craft_1_list.options[x]=new Option(x); }
      document.form1.craft_1_list.options[0].selected=true;
  document.form1.craft_2_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.craft_2_list.options[x]=new Option(x); }
      document.form1.craft_2_list.options[0].selected=true;
  document.form1.craft_3_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.craft_3_list.options[x]=new Option(x); }
      document.form1.craft_3_list.options[0].selected=true;
  document.form1.decipherscript_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.decipherscript_list.options[x]=new Option(x); }
      document.form1.decipherscript_list.options[0].selected=true;
  document.form1.diplomacy_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.diplomacy_list.options[x]=new Option(x); }
      document.form1.diplomacy_list.options[0].selected=true;
  document.form1.disabledevice_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.disabledevice_list.options[x]=new Option(x); }
      document.form1.disabledevice_list.options[0].selected=true;
  document.form1.disguise_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.disguise_list.options[x]=new Option(x); }
      document.form1.disguise_list.options[0].selected=true;
  document.form1.escapeartist_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.escapeartist_list.options[x]=new Option(x); }
      document.form1.escapeartist_list.options[0].selected=true;
  document.form1.forgery_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.forgery_list.options[x]=new Option(x); }
      document.form1.forgery_list.options[0].selected=true;
  document.form1.gatherinformation_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.gatherinformation_list.options[x]=new Option(x); }
      document.form1.gatherinformation_list.options[0].selected=true;
  document.form1.handleanimal_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.handleanimal_list.options[x]=new Option(x); }
      document.form1.handleanimal_list.options[0].selected=true;
  document.form1.heal_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.heal_list.options[x]=new Option(x); }
      document.form1.heal_list.options[0].selected=true;
  document.form1.hide_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.hide_list.options[x]=new Option(x); }
      document.form1.hide_list.options[0].selected=true;
  document.form1.intimidate_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.intimidate_list.options[x]=new Option(x); }
      document.form1.intimidate_list.options[0].selected=true;
  document.form1.jump_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.jump_list.options[x]=new Option(x); }
      document.form1.jump_list.options[0].selected=true;
  document.form1.knowledgearcana_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgearcana_list.options[x]=new Option(x); }
      document.form1.knowledgearcana_list.options[0].selected=true;
  document.form1.knowledgearchitecture_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgearchitecture_list.options[x]=new Option(x); }
      document.form1.knowledgearchitecture_list.options[0].selected=true;
  document.form1.knowledgedungeoneering_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgedungeoneering_list.options[x]=new Option(x); }
      document.form1.knowledgedungeoneering_list.options[0].selected=true;
  document.form1.knowledgegeography_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgegeography_list.options[x]=new Option(x); }
      document.form1.knowledgegeography_list.options[0].selected=true;
  document.form1.knowledgehistory_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgehistory_list.options[x]=new Option(x); }
      document.form1.knowledgehistory_list.options[0].selected=true;
  document.form1.knowledgelocal_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgelocal_list.options[x]=new Option(x); }
      document.form1.knowledgelocal_list.options[0].selected=true;
  document.form1.knowledgenature_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgenature_list.options[x]=new Option(x); }
      document.form1.knowledgenature_list.options[0].selected=true;
  document.form1.knowledgenobility_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgenobility_list.options[x]=new Option(x); }
      document.form1.knowledgenobility_list.options[0].selected=true;
  document.form1.knowledgereligion_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgereligion_list.options[x]=new Option(x); }
      document.form1.knowledgereligion_list.options[0].selected=true;
  document.form1.knowledgeplanes_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowledgeplanes_list.options[x]=new Option(x); }
      document.form1.knowledgeplanes_list.options[0].selected=true;
  document.form1.listen_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.listen_list.options[x]=new Option(x); }
      document.form1.listen_list.options[0].selected=true;
  document.form1.movesilently_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.movesilently_list.options[x]=new Option(x); }
      document.form1.movesilently_list.options[0].selected=true;
  document.form1.openlock_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.openlock_list.options[x]=new Option(x); }
      document.form1.openlock_list.options[0].selected=true;
  document.form1.perform_1_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.perform_1_list.options[x]=new Option(x); }
      document.form1.perform_1_list.options[0].selected=true;
  document.form1.perform_2_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.perform_2_list.options[x]=new Option(x); }
      document.form1.perform_2_list.options[0].selected=true;
  document.form1.perform_3_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.perform_3_list.options[x]=new Option(x); }
      document.form1.perform_3_list.options[0].selected=true;
  document.form1.perform_4_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.perform_4_list.options[x]=new Option(x); }
      document.form1.perform_4_list.options[0].selected=true;
  document.form1.perform_5_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.perform_5_list.options[x]=new Option(x); }
      document.form1.perform_5_list.options[0].selected=true;
  document.form1.profession_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.profession_list.options[x]=new Option(x); }
      document.form1.profession_list.options[0].selected=true;
  document.form1.ride_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.ride_list.options[x]=new Option(x); }
      document.form1.ride_list.options[0].selected=true;
  document.form1.search_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.search_list.options[x]=new Option(x); }
      document.form1.search_list.options[0].selected=true;
  document.form1.sensemotive_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.sensemotive_list.options[x]=new Option(x); }
      document.form1.sensemotive_list.options[0].selected=true;
  document.form1.sleightofhand_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.sleightofhand_list.options[x]=new Option(x); }
      document.form1.sleightofhand_list.options[0].selected=true;
  document.form1.speaklanguage_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.speaklanguage_list.options[x]=new Option(x); }
      document.form1.speaklanguage_list.options[0].selected=true;
  document.form1.spellcraft_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.spellcraft_list.options[x]=new Option(x); }
      document.form1.spellcraft_list.options[0].selected=true;
  document.form1.spot_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.spot_list.options[x]=new Option(x); }
      document.form1.spot_list.options[0].selected=true;
  document.form1.survival_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.survival_list.options[x]=new Option(x); }
      document.form1.survival_list.options[0].selected=true;
  document.form1.swim_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.swim_list.options[x]=new Option(x); }
      document.form1.swim_list.options[0].selected=true;
  document.form1.tumble_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.tumble_list.options[x]=new Option(x); }
      document.form1.tumble_list.options[0].selected=true;
  document.form1.usemagicdevice_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.usemagicdevice_list.options[x]=new Option(x); }
      document.form1.usemagicdevice_list.options[0].selected=true;
  document.form1.userope_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.userope_list.options[x]=new Option(x); }
      document.form1.userope_list.options[0].selected=true;
  document.form1.autohypnosis_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.autohypnosis_list.options[x]=new Option(x); }
      document.form1.autohypnosis_list.options[0].selected=true;
  document.form1.knowpsi_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.knowpsi_list.options[x]=new Option(x); }
      document.form1.knowpsi_list.options[0].selected=true;
  document.form1.psicraft_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.psicraft_list.options[x]=new Option(x); }
      document.form1.psicraft_list.options[0].selected=true;
//  document.form1.remoteview_list.length=0;
//  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
//    document.form1.remoteview_list.options[x]=new Option(x); }
//      document.form1.remoteview_list.options[0].selected=true;
//  document.form1.stabilizeself_list.length=0;
//  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
//    document.form1.stabilizeself_list.options[x]=new Option(x); }
//      document.form1.stabilizeself_list.options[0].selected=true;
  document.form1.usepsionicdevice_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.usepsionicdevice_list.options[x]=new Option(x); }
      document.form1.usepsionicdevice_list.options[0].selected=true;
  document.form1.otherskill1_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.otherskill1_list.options[x]=new Option(x); }
      document.form1.otherskill1_list.options[0].selected=true;
  document.form1.otherskill2_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.otherskill2_list.options[x]=new Option(x); }
      document.form1.otherskill2_list.options[0].selected=true;
  document.form1.otherskill3_list.length=0;
  for (x=0; x<=total_levels + epic_total_levels +z; x++) {
    document.form1.otherskill3_list.options[x]=new Option(x); }
      document.form1.otherskill3_list.options[0].selected=true;
 }

function FriendlyLanguages() {
available_bonus_languages=0;
knows_all_standard_bonus_languages=false;
every_language_friendly=false;

	if ((rayce==1) || (rayce==145) || (rayce==100) || (rayce==82) || (rayce==35) || (rayce==28) || (rayce==29) || (rayce==30) || (rayce==169) || (rayce==31) || (rayce==32) || (rayce==33) || (rayce==2) || (rayce==160) || (rayce==8) || (rayce==41) || (rayce==51) || (rayce==60) || (rayce==166) || (rayce==69) ||(rayce==129)) { every_language_friendly=true; }

abyssal_friendly=false;
   if ((every_language_friendly==true) || (rayce==170) || (rayce==144) || (rayce==84) || (rayce==83) || (rayce==175) || (rayce==51) || (rayce==7) || (rayce==42) || (rayce==52) || (rayce==61) || (rayce==78) || (rayce==70) || (rayce==12) || (cleric_levels!=0) || (rayce==117) || (rayce==118))
{ abyssal_friendly=true; available_bonus_languages++; }


aquan_friendly=false;
   if ((every_language_friendly==true) || (rayce==170) || (rayce==155) || (rayce==154) || (rayce==112) || (rayce==113) || (rayce==114) || (rayce==115) ||(rayce==181) || (rayce==140) || (rayce==136) || (rayce==137) || (rayce==138) || (rayce==84) || (rayce==97) || (rayce==79) || (rayce==38) ||(rayce==171) || (rayce==39) || (rayce==40) || (rayce==42) || (rayce==43) || (rayce==44) || (rayce==45) || (rayce==46) || (rayce==12) || (rayce==13) || (rayce==20) || (every_language_friendly==true))
{aquan_friendly=true; available_bonus_languages++; }

auran_friendly=false;
   if ((every_language_friendly==true) || (rayce==181) || (rayce==170) || (rayce==141) || (rayce==142) || (rayce==155) || (rayce==154) || (rayce==101) || (rayce==109) || (rayce==114) || (rayce==115) || (rayce==116))
{auran_friendly=true; available_bonus_languages++; }

celestial_friendly=false;
   if ((every_language_friendly==true) || (rayce==170) || (rayce==154) || (rayce==132) || (rayce==84) || (rayce==83) ||(rayce==121) || (rayce==122) || (rayce==123) || (rayce==124) || (rayce==51)  || (rayce==9) || (cleric_levels!=0) || (rayce==117) || (rayce==118))
{celestial_friendly=true; available_bonus_languages++; }

draconic_friendly=false;
   if ((every_language_friendly==true) || (rayce==170) || (rayce==21) || (rayce==164) || (rayce==143) || (rayce==104) || (rayce==180) || (rayce==179) || (rayce==102) || (rayce==84) || (rayce==83) || (rayce==127) || (rayce==26) || (rayce==36) || (rayce==159) || (rayce==158) || (rayce==157) || (rayce==22) || (rayce==175) || (rayce==155) || (rayce==156) || (rayce==164) || (rayce==130) || (rayce==110) || (rayce==153) || (rayce==40) || (rayce==50) || (rayce==59) || (rayce==68) || (rayce==24) || (rayce==23) || (rayce==3) || (rayce==158) || (rayce==159) || (rayce==48) || (rayce==57) || (rayce==66) || (rayce==15) || (rayce==17) || (rayce==13) || (rayce==11) || (rayce==12) || (rayce==10) || (rayce==9) || (rayce==5) || (rayce==39) || (rayce==49) || (rayce==58) || (rayce==67) || (rayce==37) || (rayce==19) || (rayce==7) || (rayce==42) || (rayce==52) || (rayce==125) || (rayce==61) || (rayce==70) || (wizard_levels>0) || (npcother_class_name=="Wu Jen"))
 {draconic_friendly=true; available_bonus_languages++; }

dwarven_friendly=false;
   if ((every_language_friendly==true) || (rayce==74) || (rayce==75) || (rayce==81) || (rayce==98) || (rayce==131) || (rayce==141)  ||(rayce==173) || (rayce==142) || (rayce==146)  || (rayce==172) || (rayce==174) || (rayce==163) || (rayce==161) || (rayce==126) || (rayce==105) || (rayce==99) || (rayce==94) || (rayce==95) || (rayce==85) || (rayce==33) || (rayce==22) || (rayce==164) || (rayce==132) || (rayce==46) || (rayce==55) || (rayce==64) || (rayce==73) || (rayce==5) || (rayce==39) || (rayce==49) || (rayce==58) ||
(rayce==67) || (rayce==143) || (rayce==109) || (rayce==37) || (rayce==19) || (rayce==6) || (rayce==43) || (rayce==53) || (rayce==62) || (rayce==71) || (rayce==17) || (rayce==18))
{dwarven_friendly=true; available_bonus_languages++; }

elven_friendly=false;
   if ((every_language_friendly==true) || (rayce==167) || (rayce==74) || (rayce==81) || (rayce==141) || (rayce==142) || (rayce==174) || (rayce==181) || (rayce==179) || (rayce==148) || (rayce==149) || (rayce==171) || (rayce==172) || (rayce==173) || (rayce==163) || (rayce==156) || (rayce==104) || (rayce==34) || (rayce==96) || (rayce==85) || (rayce==121) || (rayce==36) || (rayce==151) || (rayce==122) || (rayce==123) || (rayce==124) || (rayce==2) || (rayce==109) || (rayce==26) || (rayce==40) || (rayce==50) || (rayce==59) || (rayce==68) || (rayce==24) || (rayce==23) || (rayce==5) || (rayce==39) || (rayce==49) || (rayce==58) || (rayce==67) || (rayce==140) || (rayce==130) || (rayce==111) || (rayce==118) || (rayce==37) || (rayce==19) || (rayce==6) || (rayce==43) || (rayce==53) || (rayce==62) || (rayce==71) || (rayce==17) || (rayce==18))
{elven_friendly=true; available_bonus_languages++; }

darkelfsilent_friendly=false;
   if (every_language_friendly==true)
{ darkelfsilent_friendly=true; 
available_bonus_languages++; }

giant_friendly=false;
   if ((every_language_friendly==true)
   || (npcother_class_name=="Wu Jen") || (rayce==163) || (rayce==22) || (rayce==161) || (rayce==159) || (rayce==34) ||(rayce==126) || (rayce==102) || (rayce==21) || (rayce==74) || (rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==93) || (rayce==94) || (rayce==95) || (rayce==98) || (rayce==131) || (rayce==168) || (rayce==141) || (rayce==142) || (rayce==156) || (rayce==158) || (rayce==127) || (rayce==155) || (rayce==139) || (rayce==136) || (rayce==137) || (rayce==138) || (rayce==134) || (rayce==133) || (rayce==51)  || (rayce==27) || (rayce==26) || (rayce==40) || (rayce==50) || (rayce==59) || (rayce==68) || (rayce==23) || (rayce==22) || (rayce==46) || (rayce==55) || (rayce==64) || (rayce==73) || (rayce==4) ||(rayce==155) || (rayce==156) || (rayce==157) || (rayce==162) || (rayce==91) || (rayce==38) || (rayce==47) || (rayce==56) || (rayce==65) || (rayce==18) || (rayce==15) || (rayce==14) || (rayce==5) || (rayce==39) || (rayce==49) || (rayce==58) || (rayce==67) || (rayce==37) || (rayce==19) ||
(rayce==127) || (rayce==7) || (rayce==109) || (rayce==42) || (rayce==52) || (rayce==61) || (rayce==70))
{giant_friendly=true; available_bonus_languages++; }

gith_friendly=false;
   if ((every_language_friendly==true) || (rayce==112) || (rayce==170))
{gith_friendly=true; available_bonus_languages++; }

gnoll_friendly=false;
   if ((every_language_friendly==true) || (rayce==164) || (rayce==126) || (rayce==104) || (rayce==34) || (rayce==102) || (rayce==93) || (rayce==2) || (rayce==175) || (rayce==36) || (rayce==125) || (rayce==151) || (rayce==26) || (rayce==40) || (rayce==50) || (rayce==59) || (rayce==68) || (rayce==23) || (rayce==22) || (rayce==46) || (rayce==55) || (rayce==64) || (rayce==73) || (rayce==20) || (rayce==180) || (rayce==3) || (rayce==158) || (rayce==159) || (rayce==48) || (rayce==57) || (rayce==66) || (rayce==17) || (rayce==11) || (rayce==10) || (rayce==9) || (rayce==7) || (rayce==42) || (rayce==52) || (rayce==61) || (rayce==70))
{gnoll_friendly=true; available_bonus_languages++; }

gnome_friendly=false;
   if ((every_language_friendly==true) || (rayce==172) || (rayce==99) || (rayce==173) || (rayce==12) || (rayce==174) || (rayce==140) || (rayce==4) || (rayce==155) || (rayce==156) || (rayce==157) || (rayce==162) || (rayce==91) || (rayce==38) || (rayce==47) || (rayce==56) || (rayce==65) || (rayce==18) || (rayce==14) || (rayce==3) || (rayce==158) || (rayce==159) || (rayce==48) || (rayce==57) || (rayce==66) || (rayce==17) || (rayce==11) || (rayce==181) || (rayce==179) || (rayce==167) || (rayce==156) || (rayce==143) || (rayce==130) || (rayce==151) || (rayce==120) || (rayce==111) || (rayce==109) || (rayce==10) || (rayce==9) || (rayce==6) || (rayce==43) || (rayce==53) || (rayce==62) || (rayce==71) || (rayce==17) || (rayce==18))
{gnome_friendly=true; available_bonus_languages++; }

goblin_friendly=false;
   if ((every_language_friendly==true) || (rayce==164) || (rayce==163) || (rayce==161) || (rayce==104) || (rayce==34) || (rayce==99) || (rayce==81) || (rayce==94) || (rayce==95) || (rayce==93) || (rayce==179) || (rayce==174) || (rayce==167) || (rayce==6) || (rayce==7) || (rayce==43) || (rayce==52) || (rayce==61) || (rayce==62) || (rayce==175) || (rayce==70) || (rayce==71) || (rayce==74) || (rayce==75) || (rayce==168) || (rayce==173) || (rayce==76) || (rayce==77) || (rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==157) || (rayce==36) || (rayce==139) || (rayce==151) || (rayce==136) || (rayce==137) || (rayce==138) || (rayce==134) || (rayce==135) || (rayce==31) || (rayce==127) || (rayce==125) || (rayce==27) || (rayce==24) || (rayce==22) || (rayce==46) || (rayce==55) || (rayce==64) || (rayce==73) || (rayce==12) || (rayce==4) || (rayce==155) || (rayce==127) || (rayce==22) || (rayce==156) || (rayce==157) || (rayce==162) || (rayce==120) || (rayce==91) || (rayce==38) || (rayce==47) || (rayce==56) || (rayce==65) || (rayce==18) || (rayce==15) || (rayce==14) || (rayce==3) || (rayce==158) || (rayce==159) || (rayce==48) || (rayce==57) || (rayce==66) || (rayce==17) || (rayce==11) || (rayce==10) || (rayce==9) || (rayce==133) || (rayce==5) || (rayce==39) || (rayce==49) || (rayce==58) || (rayce==67) && (rayce==37) && (rayce==19) && (rayce==16) && (rayce==7) && (rayce==42) && (rayce==52) && (rayce==61) && (rayce==70) && (rayce==6) && (rayce==43) && (rayce==53) && (rayce==62) && (rayce==71) && (rayce==17) && (rayce==18))
{goblin_friendly=true; available_bonus_languages++; }

goliath_friendly=false;
   if (every_language_friendly==true)
{goliath_friendly=true; available_bonus_languages++; }

halfling_friendly=false;
   if ((every_language_friendly==true) || (rayce==36) || (rayce==111) || (rayce==104) || (rayce==34) || (rayce==109) || (rayce==167) || (rayce==74) || (rayce==141) || (rayce==142) || (rayce==148) || (rayce==173) || (rayce==140) || (rayce==180) || (rayce==151) || (rayce==51)  )
{halfling_friendly=true; available_bonus_languages++; }

ignan_friendly=false;
   if ((every_language_friendly==true) || (rayce==181) || (rayce==170) || (rayce==157) || (rayce==154) || (rayce==132) || (rayce==102) || (rayce==113) || (rayce==114) || (rayce==116))
{ignan_friendly=true; available_bonus_languages++; }

infernal_friendly=false;
   if ((every_language_friendly==true) || (rayce==170) || (rayce==21) || (rayce==146) || (rayce==164) || (rayce==154) || (rayce==119) || (rayce==78) || (rayce==153) || (cleric_levels!=0))
{infernal_friendly=true; available_bonus_languages++; }

maenad_friendly=false;
   if (every_language_friendly==true)
{maenad_friendly=true; 
	available_bonus_languages++; }

mongrelfolk_friendly=false;
   if (every_language_friendly==true)
{mongrelfolk_friendly=true; 
	available_bonus_languages++; }

orc_friendly=false;
   if ((every_language_friendly==true) || (rayce==172) || (rayce==173) || (rayce==174) || (rayce==21) || (rayce==74) || (rayce==75) || (rayce==77) || (rayce==146) || (rayce==147) || (rayce==27) || (rayce==26) || (rayce==40) || (rayce==36) || (rayce==50) || (rayce==59) || (rayce==68) || (rayce==24) || (rayce==23) || (rayce==20) || (rayce==4) ||(rayce==162) || (rayce==155) || (rayce==156) || (rayce==157) || (rayce==91) || (rayce==38) || (rayce==47) || (rayce==56) || (rayce==65) ||(rayce==179) || (rayce==175) || (rayce==125) || (rayce==120) | (rayce==18) || (rayce==15) || (rayce==14) || (rayce==3) ||(rayce==158) || (rayce==159) || (rayce==48) || (rayce==57) || (rayce==66) || (rayce==17) || (rayce==11) || (rayce==10) || (rayce==9) || (rayce==5) || (rayce==39) || (rayce==49) || (rayce==58) || (rayce==67) || (rayce==37) || (rayce==19) || (rayce==6) || (rayce==43) || (rayce==53) || (rayce==62) || (rayce==71) || (rayce==17) || (rayce==18))
{orc_friendly=true; available_bonus_languages++; }

sylvan_friendly=false;
   if ((every_language_friendly==true) || (rayce==85) || (rayce==164) || (rayce==161) || (rayce==159) || (rayce==152) || (rayce==104) || (rayce==94) || (rayce==95) || (rayce==74) || (rayce==37) || (rayce==19) || (rayce==32) ||(rayce==180) || (rayce==179) || (rayce==151) || (rayce==158) || (rayce==140) || (rayce==139) || (rayce==134) || (rayce==3) || (rayce==158) || (rayce==159) || (rayce==111) || (rayce==48) || (rayce==57) || (rayce==66) || (rayce==17) || (rayce==11) || (rayce==10) || (rayce==9) ||
(druid_levels!=0) || (rayce==121) || (rayce==122) || (rayce==123) || (rayce==150) || (rayce==124) || (rayce==120))
{sylvan_friendly=true; available_bonus_languages++; }

terran_friendly=false;
   if ((every_language_friendly==true) || (rayce==77) || (rayce==131) || (rayce==141) || (rayce==181) || (rayce==154) || (rayce==99) || (rayce==170) || (rayce==112) || (rayce==16) || (rayce==128) || (rayce==4) || (rayce==155) || (rayce==156) || (rayce==157) || (rayce==162) || (rayce==91) || (rayce==38) || (rayce==130) || (rayce==126) || (rayce==109) || (rayce==113) || (rayce==115) || (rayce==116) || (rayce==47) || (rayce==143) || (rayce==56) || (rayce==65) || (rayce==18) || (rayce==15) || (rayce==14) || (rayce==120) || (rayce==113) || (rayce==115) || (rayce==116))
{terran_friendly=true; available_bonus_languages++; }

thrikreen_friendly=false;
   if (every_language_friendly==true)
{thrikreen_friendly=true; 
	available_bonus_languages++; }

aarakocra_friendly=false;
   if (every_language_friendly==true)
{aarakocra_friendly=true; 
	available_bonus_languages++; }

buomman_friendly=false;
   if (every_language_friendly==true)
{buomman_friendly=true; 
	available_bonus_languages++; }

neraphim_friendly=false;
   if (every_language_friendly==true)
{neraphim_friendly=true; 
	available_bonus_languages++; }

shadowswyft_friendly=false;
   if (every_language_friendly==true)
{shadowswyft_friendly=true; 
	available_bonus_languages++; }

pterran_friendly=false;
   if (every_language_friendly==true)
{pterran_friendly=true; 
	available_bonus_languages++; }

raptoran_friendly=false;
   if (every_language_friendly==true)
{raptoran_friendly=true; 
	available_bonus_languages++; }

catfolk_friendly=false;
   if (every_language_friendly==true)
{catfolk_friendly=true; 
	available_bonus_languages++; }

slaad_friendly=false;
   if ((every_language_friendly==true) || (rayce==84) || (rayce==117))
{slaad_friendly=true; 
	available_bonus_languages++; }

undercommon_friendly=false;
   if ((every_language_friendly==true) || (rayce==164) || (rayce==84) || (rayce==83)  || (rayce==152) || (rayce==51) || (rayce==140) || (rayce==135) || (rayce==130) || (rayce==25) || (rayce==45) || (rayce==54) || (rayce==63) || (rayce==72) || (rayce==22) || (rayce==46) || (rayce==55) || (rayce==64) || (rayce==73) || (rayce==16) || (rayce==12) || (rayce==4) || (rayce==155) || (rayce==156) || (rayce==157) || (rayce==162) || (rayce==91) || (rayce==127) || (rayce==38) || (rayce==47) || (rayce==56) || (rayce==65) || (rayce==18) || (rayce==15) || (rayce==14))
{undercommon_friendly=true; available_bonus_languages++; }

xeph_friendly=false;
   if (every_language_friendly==true)
{ xeph_friendly=true; 
	available_bonus_languages++; }

yuanti_friendly=false;
   if ((every_language_friendly==true) || (rayce==157))
{yuanti_friendly=true; 
	available_bonus_languages++; }

illithid_friendly=false;
   if (every_language_friendly==true)
{illithid_friendly=true; 
	available_bonus_languages++; }

illumian_friendly=false;
   if (every_language_friendly==true)
{illumian_friendly=true; 
	available_bonus_languages++; }

tasloi_friendly=false;
   if (every_language_friendly==true)
{tasloi_friendly=true; 
	available_bonus_languages++; }

sahuagin_friendly=false;
   if ((every_language_friendly==true) || (rayce==171))
{sahuagin_friendly=true; 
	available_bonus_languages++; }

lupin_friendly=false;
   if (every_language_friendly==true)
{lupin_friendly=true; 
	available_bonus_languages++; }

hengeyokai_friendly=false;
   if ((every_language_friendly==true) || (rayce==134) || (rayce==136) || (rayce==137) || (rayce==138))
{hengeyokai_friendly=true; 
	available_bonus_languages++; }

spiritfolk_friendly=false;
   if ((every_language_friendly==true) || (rayce==133) || (rayce==139))
{spiritfolk_friendly=true; 
	available_bonus_languages++; }

ratling_friendly=false;
   if ((every_language_friendly==true) || (rayce==133) || (rayce==136) || (rayce==137) || (rayce==138))
{ratling_friendly=true; 
	available_bonus_languages++; }

vanara_friendly=false;
   if (every_language_friendly==true)
{vanara_friendly=true; 
	available_bonus_languages++; }

grippli_friendly=false;
   if (every_language_friendly==true)
{grippli_friendly=true; 
	available_bonus_languages++; }

beholder_friendly=false;
   if ((every_language_friendly==true) || (rayce==156))
{beholder_friendly=true; 
	available_bonus_languages++; }

kuotoa_friendly=false;
   if ((every_language_friendly==true) || (rayce==12))
{kuotoa_friendly=true; 
	available_bonus_languages++; }


if ((rayce==79) || (rayce==169) || (rayce==96) || (rayce==107) || (rayce==108) || (rayce==116) || (rayce==158))
 {aquan_nativespeaker=true; aquan_friendly=false; }
  else {aquan_nativespeaker=false; }

if ((rayce==113) || (rayce==159))
 {auran_nativespeaker=true; auran_friendly=false; }
  else {auran_nativespeaker=false; }

if (rayce==115)
 {ignan_nativespeaker=true; ignan_friendly=false; }
  else {ignan_nativespeaker=false; }

if ((rayce==114) || (rayce==132) || (rayce==142) || (rayce==176))
 {terran_nativespeaker=true; terran_friendly=false; }
  else {terran_nativespeaker=false; }

if ((rayce==143) || (rayce==169) || (rayce==145) || (rayce==176) || (rayce==156) || (rayce==161) || (rayce==163) || (rayce==12))
 {undercommon_nativespeaker=true; undercommon_friendly=false; }
  else {undercommon_nativespeaker=false; }

if ((rayce==20) || (rayce==144) || (rayce==121) || (rayce==122) || (rayce==123) || (rayce==124) || (rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45) || (rayce==27))
 {
  draconic_nativespeaker=true; 
  draconic_friendly=false; }
  else {draconic_nativespeaker=false; }

if ((rayce==12) || (rayce==161))
 {darkelfsilent_nativespeaker=true; 
 	darkelfsilent_friendly=false; }
  else {darkelfsilent_nativespeaker=false; }

if ((rayce==4) || (rayce==155) || (rayce==156) || (rayce==157) || (rayce==162) || (rayce==134) || (rayce==130) || (rayce==120) || (rayce==92) || (rayce==91) || (rayce==65) || (rayce==56) || (rayce==47) || (rayce==38) || (rayce==18) || (rayce==15) || (rayce==14))
 {dwarven_nativespeaker=true; 
 	dwarven_friendly=false; }
  else {dwarven_nativespeaker=false; }

if ((rayce==3) ||(rayce==158) || (rayce==159) | (rayce==93) || (rayce==94) || (rayce==95) || (rayce==97) || (rayce==66) || (rayce==57) || (rayce==48) || (rayce==17) || (rayce==13) || (rayce==9) || (rayce==10) || (rayce==12) || (rayce==11) || (rayce==2) || (rayce==69) || (rayce==60) || (rayce==160) || (rayce==51) || (rayce==41) || (rayce==164) || (rayce==161))
 {elven_nativespeaker=true; 
 	elven_friendly=false; }
  else {elven_nativespeaker=false; }

if ((rayce==75) || (rayce==76) || (rayce==77) || (rayce==147) || (rayce==175))
 {giant_nativespeaker=true; giant_friendly=false; }
  else {giant_nativespeaker=false; }

if ((rayce==83) || (rayce==84))
 {gith_nativespeaker=true; gith_friendly=false; }
  else {gith_nativespeaker=false; }

if (rayce==24)
 {gnoll_nativespeaker=true; 
 	gnoll_friendly=false; }
  else {gnoll_nativespeaker=false; }

if ((rayce==5) || (rayce==36) || (rayce==129) || (rayce==128) | (rayce==98) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==19) || (rayce==16))
 {gnome_nativespeaker=true; 
 	gnome_friendly=false; }
  else {gnome_nativespeaker=false; }

if ((rayce==21) || (rayce==23) || (rayce==26) || (rayce==68) || (rayce==59) || (rayce==50) || (rayce==40))
 {goblin_nativespeaker=true; 
 	goblin_friendly=false; }
  else {goblin_nativespeaker=false; }

if ((rayce==126) || (rayce==131))
 {goliath_nativespeaker=true; 
 	goliath_friendly=false; }
  else {goliath_nativespeaker=false; }

if ((rayce==6) || (rayce==81) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43) || (rayce==17) || (rayce==18))
 {halfling_nativespeaker=true; 
 	halfling_friendly=false; }
  else {halfling_nativespeaker=false; }

if (rayce==103)
 {maenad_nativespeaker=true; 
 	maenad_friendly=false; }
  else {maenad_nativespeaker=false; }

if (rayce==152)
 {infernal_nativespeaker=true; 
 	infernal_friendly=false; }
  else {infernal_nativespeaker=false; }

if ((rayce==164) || (rayce==165))
 {abyssal_nativespeaker=true; 
 	abyssal_friendly=false; }
  else {abyssal_nativespeaker=false; }

if (rayce==153)
 {celestial_nativespeaker=true; 
 	celestial_friendly=false; }
  else {celestial_nativespeaker=false; }

if (rayce==125)
 {mongrelfolk_nativespeaker=true; mongrelfolk_friendly=false; }
  else {mongrelfolk_nativespeaker=false; }

if ((rayce==7) || (rayce==127) || (rayce==70) || (rayce==61) || (rayce==52) || (rayce==42) || (rayce==22) || (rayce==73) || (rayce==64) || (rayce==55) || (rayce==46) || (rayce==163) || (rayce==165))
 {orc_nativespeaker=true; 
 	orc_friendly=false; }
  else {orc_nativespeaker=false; }

if ((rayce==74) || (rayce==181) || (rayce==167) | (rayce==93) || (rayce==168) || (rayce==36) || (rayce==148) || (rayce==149) || (rayce==166))
 {sylvan_nativespeaker=true; 
 	sylvan_friendly=false; }
  else {sylvan_nativespeaker=false; }

if (rayce==34)
 {thrikreen_nativespeaker=true; 
 	thrikreen_friendly=false; }
  else {thrikreen_nativespeaker=false; }

if (rayce==101)
 {aarakocra_nativespeaker=true; aarakocra_friendly=false; }
  else {aarakocra_nativespeaker=false; }

if (rayce==112)
 {buomman_nativespeaker=true; 
 	buomman_friendly=false; }
  else {buomman_nativespeaker=false; }

if (rayce==117)
 {neraphim_nativespeaker=true; 
 	neraphim_friendly=false; }
  else {neraphim_nativespeaker=false; }

if (rayce==118)
 {shadowswyft_nativespeaker=true; 
 	shadowswyft_friendly=false; }
  else {shadowswyft_nativespeaker=false; }

if (rayce==106)
 {pterran_nativespeaker=true; 
 	pterran_friendly=false; }
  else {pterran_nativespeaker=false; }

if (rayce==179)
 {raptoran_nativespeaker=true; 
 	raptoran_friendly=false; }
  else {raptoran_nativespeaker=false; }

if (rayce==180)
 {catfolk_nativespeaker=true; 
 	catfolk_friendly=false; }
  else {catfolk_nativespeaker=false; }

if (rayce==104)
 { xeph_nativespeaker=true; 
 	xeph_friendly=false; }
  else { xeph_nativespeaker=false; }

if (rayce==144)
 {yuanti_nativespeaker=true; 
 	yuanti_friendly=false; }
  else {yuanti_nativespeaker=false; }

if (rayce==145)
 {illithid_nativespeaker=true; 
 	illithid_friendly=false; }
  else {illithid_nativespeaker=false; }

if (rayce==170)
 {illumian_nativespeaker=true; 
 	illumian_friendly=false; }
  else {illumian_nativespeaker=false; }

if (rayce==150)
 {tasloi_nativespeaker=true; 
 	tasloi_friendly=false; }
  else {tasloi_nativespeaker=false; }

if ((rayce==108))
 {sahuagin_nativespeaker=true; 
 	sahuagin_friendly=false; }
  else {sahuagin_nativespeaker=false; }

if (rayce==151)
 {lupin_nativespeaker=true; 
 	lupin_friendly=false; }
  else {lupin_nativespeaker=false; }

if (rayce==133)
 {hengeyokai_nativespeaker=true; 
 	hengeyokai_friendly=false; }
  else {hengeyokai_nativespeaker=false; }

if ((rayce==136) || (rayce==137) || (rayce==138))
 {spiritfolk_nativespeaker=true; 
 	spiritfolk_friendly=false; }
  else {spiritfolk_nativespeaker=false; }

if (rayce==135)
 {ratling_nativespeaker=true; 
 	ratling_friendly=false; }
  else {ratling_nativespeaker=false; }

if (rayce==139)
 {vanara_nativespeaker=true; 
 	vanara_friendly=false; }
  else {vanara_nativespeaker=false; }

if (rayce==140)
 {grippli_nativespeaker=true; grippli_friendly=false; }
  else {grippli_nativespeaker=false; }

if ((x==1) && (x==2))
 {beholder_nativespeaker=true; 
 	beholder_friendly=false; }
  else {beholder_nativespeaker=false; }

if (rayce==169)
 {kuotoa_nativespeaker=true; 
 	kuotoa_friendly=false; }
  else {kuotoa_nativespeaker=false; }

if ((available_bonus_languages<=modifier_number(intelligence)) && (every_language_friendly==false))
 { knows_all_standard_bonus_languages=true; }
}

function Languages() {
 skillbought_bonus_languages=0;
 total_bonus_languages=0;
 racial_bonus_language_entitlement=0;
 skillbought_bonus_language_entitlement=0;
 total_bonus_language_entitlement=0;
 if (modifier_number(intelligence)>0)
   { racial_bonus_language_entitlement=modifier_number(intelligence); }
 skillbought_bonus_language_entitlement=speaklanguage/speaklanguage_class;
 total_bonus_language_entitlement=racial_bonus_language_entitlement+skillbought_bonus_language_entitlement;

 FriendlyLanguages();

 if (knows_all_standard_bonus_languages==true)
  {
   x=modifier_number(intelligence)-available_bonus_languages;
   racial_bonus_language_entitlement-=x;
   skillbought_bonus_language_entitlement+=x;
   if (abyssal_friendly==true) { document.form1.speak_abyssal.checked=true; }
   if (aquan_friendly==true) { document.form1.speak_aquan.checked=true; }
   if (auran_friendly==true) { document.form1.speak_auran.checked=true; }
   if (celestial_friendly==true) { document.form1.speak_celestial.checked=true; }
   if (draconic_friendly==true) { document.form1.speak_draconic.checked=true; }
   if (dwarven_friendly==true) { document.form1.speak_dwarven.checked=true; }
   if (elven_friendly==true) { document.form1.speak_elven.checked=true; }
   if (darkelfsilent_friendly==true) { document.form1.speak_darkelfsilent.checked=true; }
   if (giant_friendly==true) { document.form1.speak_giant.checked=true; }
   if (gith_friendly==true) { document.form1.speak_gith.checked=true; }
   if (gnoll_friendly==true) { document.form1.speak_gnoll.checked=true; }
   if (gnome_friendly==true) { document.form1.speak_gnome.checked=true; }
   if (goblin_friendly==true) { document.form1.speak_goblin.checked=true; }
   if (goliath_friendly==true) { document.form1.speak_goliath.checked=true; }
   if (halfling_friendly==true) { document.form1.speak_halfling.checked=true; }
   if (ignan_friendly==true) { document.form1.speak_ignan.checked=true; }
   if (infernal_friendly==true) { document.form1.speak_infernal.checked=true; }
   if (maenad_friendly==true) { document.form1.speak_maenad.checked=true; }
   if (mongrelfolk_friendly==true) { document.form1.speak_mongrelfolk.checked=true; }
   if (orc_friendly==true) { document.form1.speak_orc.checked=true; }
   if (sylvan_friendly==true) { document.form1.speak_sylvan.checked=true; }
   if (terran_friendly==true) { document.form1.speak_terran.checked=true; }
   if (thrikreen_friendly==true) { document.form1.speak_thrikreen.checked=true; }
   if (aarakocra_friendly==true) { document.form1.speak_aarakocra.checked=true; }
   if (buomman_friendly==true) { document.form1.speak_buomman.checked=true; }
   if (neraphim_friendly==true) { document.form1.speak_neraphim.checked=true; }
   if (shadowswyft_friendly==true) { document.form1.speak_shadowswyft.checked=true; }
   if (pterran_friendly==true) { document.form1.speak_pterran.checked=true; }
   if (raptoran_friendly==true) { document.form1.speak_raptoran.checked=true; }
   if (catfolk_friendly==true) { document.form1.speak_catfolk.checked=true; }
   if (slaad_friendly==true) { document.form1.speak_slaad.checked=true; }
   if (undercommon_friendly==true) { document.form1.speak_undercommon.checked=true; }
   if (xeph_friendly==true) { document.form1.speak_xeph.checked=true; }
   if (yuanti_friendly==true) { document.form1.speak_yuanti.checked=true; }
   if (illithid_friendly==true) { document.form1.speak_illithid.checked=true; }
   if (illumian_friendly==true) { document.form1.speak_illumian.checked=true; }
   if (tasloi_friendly==true) { document.form1.speak_tasloi.checked=true; }
   if (sahuagin_friendly==true) { document.form1.speak_sahuagin.checked=true; }
   if (lupin_friendly==true) { document.form1.speak_lupin.checked=true; }
   if (hengeyokai_friendly==true) { document.form1.speak_hengeyokai.checked=true; }
   if (spiritfolk_friendly==true) { document.form1.speak_spiritfolk.checked=true; }
   if (ratling_friendly==true) { document.form1.speak_ratling.checked=true; }
   if (vanara_friendly==true) { document.form1.speak_vanara.checked=true; }
   if (grippli_friendly==true) { document.form1.speak_grippli.checked=true; }
   if (beholder_friendly==true) { document.form1.speak_beholder.checked=true; }
   if (kuotoa_friendly==true) { document.form1.speak_kuotoa.checked=true; }
  }

//racialstuff
 if ((document.form1.dragoncohort.checked==true) || (document.form1.dragonfamiliar.checked==true) || (document.form1.dragonsteed.checked==true) || (document.form1.dragonthrall.checked==true) || (document.form1.dragonsong.checked==true) || (document.form1.dragonfriend.checked==true))
   {if (draconic_nativespeaker==false) 
   	{ document.form1.speak_draconic.checked=true; }
   }

 if (document.form1.speak_draconic.checked==true)
  {
		if (draconic_nativespeaker==true) { 
   	document.form1.speak_draconic.checked=false; 
   	} else {
   	total_bonus_languages++;
   	if (draconic_friendly==false) {skillbought_bonus_languages++; }
   	if ((total_bonus_languages>total_bonus_language_entitlement) || (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_draconic.checked=false;
   	total_bonus_languages--;
   	if (draconic_friendly==false) {skillbought_bonus_languages--; }
   		}
   	}
	}

 if (document.form1.speak_aarakocra.checked==true)
  {
   if (aarakocra_nativespeaker==true) { 
   	document.form1.speak_aarakocra.checked=false;
   	} else {
		total_bonus_languages++;
		if (aarakocra_friendly==false) {skillbought_bonus_languages++; }
		if ((total_bonus_languages>total_bonus_language_entitlement) || (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
			{ document.form1.speak_aarakocra.checked=false;
		total_bonus_languages--;
   if (aarakocra_friendly==false) {skillbought_bonus_languages--; }
      }
    }
	}

 if (document.form1.speak_abyssal.checked==true)
  {
   if (abyssal_nativespeaker==true) { document.form1.speak_abyssal.checked=false; } else {
   total_bonus_languages++;
   if (abyssal_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_abyssal.checked=false;
   total_bonus_languages--;
   if (abyssal_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_aquan.checked==true)
  {
   if (aquan_nativespeaker==true) { document.form1.speak_aquan.checked=false; } else {
   total_bonus_languages++;
   if (aquan_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_aquan.checked=false;
   total_bonus_languages--;
   if (aquan_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_auran.checked==true)
  {
   if (auran_nativespeaker==true) { document.form1.speak_auran.checked=false; } else {
   total_bonus_languages++;
   if (auran_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_auran.checked=false;
   total_bonus_languages--;
   if (auran_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_buomman.checked==true)
  {
   if (buomman_nativespeaker==true) { document.form1.speak_buomman.checked=false;} else {
   total_bonus_languages++;
   if (buomman_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_buomman.checked=false;
   total_bonus_languages--;
   if (buomman_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_celestial.checked==true)
  {
   if (celestial_nativespeaker==true) { document.form1.speak_celestial.checked=false;} else {
   total_bonus_languages++;
   if (celestial_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_celestial.checked=false;
   total_bonus_languages--;
   if (celestial_friendly==false) {skillbought_bonus_languages--; }
     }}}

 if (document.form1.speak_dwarven.checked==true)
  {
   if (dwarven_nativespeaker==true) { document.form1.speak_dwarven.checked=false; } else {
   total_bonus_languages++;
   if (dwarven_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_dwarven.checked=false;
   total_bonus_languages--;
   if (dwarven_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_darkelfsilent.checked==true)
  {
   if (darkelfsilent_nativespeaker==true) { document.form1.speak_darkelfsilent.checked=false; } else {
   total_bonus_languages++;
   if (darkelfsilent_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_darkelfsilent.checked=false;
   total_bonus_languages--;
   if (darkelfsilent_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_elven.checked==true)
  {
   if (elven_nativespeaker==true) { document.form1.speak_elven.checked=false; } else {
   total_bonus_languages++;
   if (elven_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_elven.checked=false;
   total_bonus_languages--;
   if (elven_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_giant.checked==true)
  {
   if (giant_nativespeaker==true) { document.form1.speak_giant.checked=false;} else {
   total_bonus_languages++;
   if (giant_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_giant.checked=false;
   total_bonus_languages--;
   if (giant_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_gith.checked==true)
  {
   if (gith_nativespeaker==true) { document.form1.speak_gith.checked=false;} else {
   total_bonus_languages++;
   if (gith_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_gith.checked=false;
   total_bonus_languages--;
   if (gith_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_gnoll.checked==true)
  {
   if (gnoll_nativespeaker==true) { document.form1.speak_gnoll.checked=false;} else {
   total_bonus_languages++;
   if (gnoll_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_gnoll.checked=false;
   total_bonus_languages--;
   if (gnoll_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_gnome.checked==true)
  {
   if (gnome_nativespeaker==true) { document.form1.speak_gnome.checked=false; } else {
   total_bonus_languages++;
   if (gnome_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_gnome.checked=false;
   total_bonus_languages--;
   if (gnome_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_goblin.checked==true)
  {
   if (goblin_nativespeaker==true) { document.form1.speak_goblin.checked=false;} else {
   total_bonus_languages++;
   if (goblin_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_goblin.checked=false;
   total_bonus_languages--;
   if (goblin_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_goliath.checked==true)
  {
   if (goliath_nativespeaker==true) { document.form1.speak_goliath.checked=false;} else {
   total_bonus_languages++;
   if (goliath_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_goliath.checked=false;
   total_bonus_languages--;
   if (goliath_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_halfling.checked==true)
  {
   if (halfling_nativespeaker==true) { document.form1.speak_halfling.checked=false; } else {
   total_bonus_languages++;
   if (halfling_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_halfling.checked=false;
   total_bonus_languages--;
   if (halfling_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_ignan.checked==true)
  {
   if (ignan_nativespeaker==true) { document.form1.speak_ignan.checked=false; } else {
   total_bonus_languages++;
   if (ignan_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_ignan.checked=false;
   total_bonus_languages--;
   if (ignan_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_infernal.checked==true)
  {
   if (infernal_nativespeaker==true) { document.form1.speak_infernal.checked=false; } else {
   total_bonus_languages++;
   if (infernal_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_infernal.checked=false;
   total_bonus_languages--;
   if (infernal_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_maenad.checked==true)
  {
   if (maenad_nativespeaker==true) { document.form1.speak_maenad.checked=false;} else {
   total_bonus_languages++;
   if (maenad_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_maenad.checked=false;
   total_bonus_languages--;
   if (maenad_friendly==false) {skillbought_bonus_languages--; }
      }}}


 if (document.form1.speak_mongrelfolk.checked==true)
  {
   if (mongrelfolk_nativespeaker==true) { document.form1.speak_mongrelfolk.checked=false;} else {
   total_bonus_languages++;
   if (mongrelfolk_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_mongrelfolk.checked=false;
   total_bonus_languages--;
   if (mongrelfolk_friendly==false) {skillbought_bonus_languages--; }
      }}}


 if (document.form1.speak_neraphim.checked==true)
  {
   if (neraphim_nativespeaker==true) { document.form1.speak_neraphim.checked=false;} else {
   total_bonus_languages++;
   if (neraphim_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_neraphim.checked=false;
   total_bonus_languages--;
   if (neraphim_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_orc.checked==true)
  {
   if (orc_nativespeaker==true) { document.form1.speak_orc.checked=false; } else {
   total_bonus_languages++;
   if (orc_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_orc.checked=false;
   total_bonus_languages--;
   if (orc_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_pterran.checked==true)
  {
   if (pterran_nativespeaker==true) { document.form1.speak_pterran.checked=false;} else {
   total_bonus_languages++;
   if (pterran_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_pterran.checked=false;
   total_bonus_languages--;
   if (pterran_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_raptoran.checked==true)
  {
   if (raptoran_nativespeaker==true) { document.form1.speak_raptoran.checked=false;} else {
   total_bonus_languages++;
   if (raptoran_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_raptoran.checked=false;
   total_bonus_languages--;
   if (raptoran_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_catfolk.checked==true)
  {
   if (catfolk_nativespeaker==true) { document.form1.speak_catfolk.checked=false;} else {
   total_bonus_languages++;
   if (catfolk_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_catfolk.checked=false;
   total_bonus_languages--;
   if (catfolk_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_shadowswyft.checked==true)
  {
   if (shadowswyft_nativespeaker==true) { document.form1.speak_shadowswyft.checked=false;} else {
   total_bonus_languages++;
   if (shadowswyft_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_shadowswyft.checked=false;
   total_bonus_languages--;
   if (shadowswyft_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_slaad.checked==true)
  {
   total_bonus_languages++;
   if (slaad_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_slaad.checked=false;
   total_bonus_languages--;
   if (slaad_friendly==false) {skillbought_bonus_languages--; }
      }}

 if (document.form1.speak_sylvan.checked==true)
  {
   if (sylvan_nativespeaker==true) { document.form1.speak_sylvan.checked=false; } else {
   total_bonus_languages++;
   if (sylvan_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_sylvan.checked=false;
   total_bonus_languages--;
   if (sylvan_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_terran.checked==true)
  {
   if (terran_nativespeaker==true) { document.form1.speak_terran.checked=false; } else {
   total_bonus_languages++;
   if (terran_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_terran.checked=false;
   total_bonus_languages--;
   if (terran_friendly==false) {skillbought_bonus_languages--; }
   }}}

 if (document.form1.speak_thrikreen.checked==true)
  {
   if (thrikreen_nativespeaker==true) { document.form1.speak_thrikreen.checked=false;} else {
   total_bonus_languages++;
   if (thrikreen_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_thrikreen.checked=false;
   total_bonus_languages--;
   if (thrikreen_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_undercommon.checked==true)
  {
   if (undercommon_nativespeaker==true) { document.form1.speak_undercommon.checked=false; } else {
   total_bonus_languages++;
   if (undercommon_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_undercommon.checked=false;
   total_bonus_languages--;
   if (undercommon_friendly==false) {skillbought_bonus_languages--; }
  }}}

 if (document.form1.speak_xeph.checked==true)
  {
   if (xeph_nativespeaker==true) { document.form1.speak_xeph.checked=false;} else {
   total_bonus_languages++;
   if (xeph_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_xeph.checked=false;
   total_bonus_languages--;
   if (xeph_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_yuanti.checked==true)
  {
   if (yuanti_nativespeaker==true) { document.form1.speak_yuanti.checked=false;} else {
   total_bonus_languages++;
   if (yuanti_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_yuanti.checked=false;
   total_bonus_languages--;
   if (yuanti_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_illithid.checked==true)
  {
   if (illithid_nativespeaker==true) { document.form1.speak_illithid.checked=false;} else {
   total_bonus_languages++;
   if (illithid_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_illithid.checked=false;
   total_bonus_languages--;
   if (illithid_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_illumian.checked==true)
  {
   if (illumian_nativespeaker==true) { document.form1.speak_illumian.checked=false;} else {
   total_bonus_languages++;
   if (illumian_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_illumian.checked=false;
   total_bonus_languages--;
   if (illumian_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_tasloi.checked==true)
  {
   if (tasloi_nativespeaker==true) { document.form1.speak_tasloi.checked=false;} else {
   total_bonus_languages++;
   if (tasloi_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_tasloi.checked=false;
   total_bonus_languages--;
   if (tasloi_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_sahuagin.checked==true)
  {
   if (sahuagin_nativespeaker==true) { document.form1.speak_sahuagin.checked=false;} else {
   total_bonus_languages++;
   if (sahuagin_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_sahuagin.checked=false;
   total_bonus_languages--;
   if (sahuagin_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_lupin.checked==true)
  {
   if (lupin_nativespeaker==true) { document.form1.speak_lupin.checked=false;} else {
   total_bonus_languages++;
   if (lupin_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_lupin.checked=false;
   total_bonus_languages--;
   if (lupin_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_hengeyokai.checked==true)
  {
   if (hengeyokai_nativespeaker==true) { document.form1.speak_hengeyokai.checked=false;} else {
   total_bonus_languages++;
   if (hengeyokai_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_hengeyokai.checked=false;
   total_bonus_languages--;
   if (hengeyokai_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_spiritfolk.checked==true)
  {
   if (spiritfolk_nativespeaker==true) { document.form1.speak_spiritfolk.checked=false;} else {
   total_bonus_languages++;
   if (spiritfolk_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_spiritfolk.checked=false;
   total_bonus_languages--;
   if (spiritfolk_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_ratling.checked==true)
  {
   if (ratling_nativespeaker==true) { document.form1.speak_ratling.checked=false;} else {
   total_bonus_languages++;
   if (ratling_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_ratling.checked=false;
   total_bonus_languages--;
   if (ratling_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_vanara.checked==true)
  {
   if (vanara_nativespeaker==true) { document.form1.speak_vanara.checked=false;} else {
   total_bonus_languages++;
   if (vanara_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_vanara.checked=false;
   total_bonus_languages--;
   if (vanara_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_grippli.checked==true)
  {
   if (grippli_nativespeaker==true) { document.form1.speak_grippli.checked=false;} else {
   total_bonus_languages++;
   if (grippli_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_grippli.checked=false;
   total_bonus_languages--;
   if (grippli_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_beholder.checked==true)
  {
   if (beholder_nativespeaker==true) { document.form1.speak_beholder.checked=false;} else {
   total_bonus_languages++;
   if (beholder_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_beholder.checked=false;
   total_bonus_languages--;
   if (beholder_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_kuotoa.checked==true)
  {
   if (kuotoa_nativespeaker==true) { document.form1.speak_kuotoa.checked=false;} else {
   total_bonus_languages++;
   if (kuotoa_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_kuotoa.checked=false;
   total_bonus_languages--;
   if (kuotoa_friendly==false) {skillbought_bonus_languages--; }
      }}}

 if (document.form1.speak_otherlanguage1.checked==true)
  {
   total_bonus_languages++;
   if (every_language_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_otherlanguage1.checked=false;
      total_bonus_languages--; if (every_language_friendly==false) {skillbought_bonus_languages--; }}
  }

 if (document.form1.speak_otherlanguage2.checked==true)
  {
   total_bonus_languages++;
   if (every_language_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_otherlanguage2.checked=false;
      total_bonus_languages--; if (every_language_friendly==false) {skillbought_bonus_languages--; }}
  }

 if (document.form1.speak_otherlanguage3.checked==true)
  {
   total_bonus_languages++;
   if (every_language_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_otherlanguage3.checked=false;
      total_bonus_languages--; if (every_language_friendly==false) {skillbought_bonus_languages--; }}
  }

 if (document.form1.speak_otherlanguage4.checked==true)
  {
   total_bonus_languages++;
   if (every_language_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_otherlanguage4.checked=false;
      total_bonus_languages--; if (every_language_friendly==false) {skillbought_bonus_languages--; }}
  }

 if (document.form1.speak_otherlanguage5.checked==true)
  {
   total_bonus_languages++;
   if (every_language_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_otherlanguage5.checked=false;
      total_bonus_languages--; if (every_language_friendly==false) {skillbought_bonus_languages--; }}
  }

 if (document.form1.speak_otherlanguage6.checked==true)
  {
   total_bonus_languages++;
   if (every_language_friendly==false) {skillbought_bonus_languages++; }
   if ((total_bonus_languages>total_bonus_language_entitlement) |
      (skillbought_bonus_languages>skillbought_bonus_language_entitlement))
      { document.form1.speak_otherlanguage6.checked=false;
      total_bonus_languages--; if (every_language_friendly==false) {skillbought_bonus_languages--; }}
  }

 if ((FeatsAreLocked==false) || (total_bonus_language_entitlement==0) || ((knows_all_standard_bonus_languages==true) && (skillbought_bonus_language_entitlement==0))) {NegateLanguageArrows(); }
  else
   {
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.languagesarrow.src="dragongrayleft.gif";  } else

    if
    (
    (skillbought_bonus_languages<skillbought_bonus_language_entitlement)
    |
    (total_bonus_languages-skillbought_bonus_languages<racial_bonus_language_entitlement)
    )
    { document.form1.languagesarrow.src="dragonarrowleft.gif"; }
    else
    { document.form1.languagesarrow.src="dragongrayleft.gif"; }

    if (document.form1.speak_aarakocra.checked==true) { document.form1.speak_aarakocra_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_aarakocra_arrow.src="dragonblank.gif"; } else
    if ((aarakocra_nativespeaker==true)) { document.form1.speak_aarakocra_arrow.src="dragonblank.gif"; }
    else if ((aarakocra_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_aarakocra_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_aarakocra_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_aarakocra_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_abyssal.checked==true) { document.form1.speak_abyssal_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_abyssal_arrow.src="dragonblank.gif"; } else
    if ((abyssal_nativespeaker==true)) { document.form1.speak_abyssal_arrow.src="dragonblank.gif"; }
    else if ((abyssal_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_abyssal_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_abyssal_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_abyssal_arrow.src="dragonblank.gif"; }




    if (document.form1.speak_aquan.checked==true) { document.form1.speak_aquan_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_aquan_arrow.src="dragonblank.gif"; } else
    if ((aquan_nativespeaker==true)) { document.form1.speak_aquan_arrow.src="dragonblank.gif"; }
    else if ((aquan_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_aquan_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_aquan_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_aquan_arrow.src="dragonblank.gif"; }

    if ((document.form1.speak_auran.checked==true)) { document.form1.speak_auran_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_auran_arrow.src="dragonblank.gif"; } else
    if ((auran_nativespeaker==true)) { document.form1.speak_auran_arrow.src="dragonblank.gif"; }
    else if ((auran_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_auran_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_auran_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_auran_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_buomman.checked==true) { document.form1.speak_buomman_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_buomman_arrow.src="dragonblank.gif"; } else
    if ((buomman_nativespeaker==true)) { document.form1.speak_buomman_arrow.src="dragonblank.gif"; }
    else if ((buomman_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_buomman_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_buomman_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_buomman_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_celestial.checked==true) { document.form1.speak_celestial_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_celestial_arrow.src="dragonblank.gif"; } else
    if ((celestial_nativespeaker==true)) { document.form1.speak_celestial_arrow.src="dragonblank.gif"; }
    else if ((celestial_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_celestial_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_celestial_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_celestial_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_darkelfsilent.checked==true) { document.form1.speak_darkelfsilent_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_darkelfsilent_arrow.src="dragonblank.gif"; } else
    if ((darkelfsilent_nativespeaker==true)) { document.form1.speak_darkelfsilent_arrow.src="dragonblank.gif"; }
    else if ((darkelfsilent_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_darkelfsilent_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_darkelfsilent_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_darkelfsilent_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_draconic.checked==true) { document.form1.speak_draconic_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_draconic_arrow.src="dragonblank.gif"; } else
    if ((draconic_nativespeaker==true)) { document.form1.speak_draconic_arrow.src="dragonblank.gif"; }
    else if ((draconic_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_draconic_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_draconic_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_draconic_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_dwarven.checked==true) { document.form1.speak_dwarven_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_dwarven_arrow.src="dragonblank.gif"; } else
    if ((dwarven_nativespeaker==true)) { document.form1.speak_dwarven_arrow.src="dragonblank.gif"; }
    else if ((dwarven_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_dwarven_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_dwarven_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_dwarven_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_elven.checked==true) { document.form1.speak_elven_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_elven_arrow.src="dragonblank.gif"; } else
    if ((elven_nativespeaker==true)) { document.form1.speak_elven_arrow.src="dragonblank.gif"; }
    else if ((elven_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_elven_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_elven_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_elven_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_giant.checked==true) { document.form1.speak_giant_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_giant_arrow.src="dragonblank.gif"; } else
    if ((giant_nativespeaker==true)) { document.form1.speak_giant_arrow.src="dragonblank.gif"; }
    else if ((giant_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_giant_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_giant_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_giant_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_gith.checked==true) { document.form1.speak_gith_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_gith_arrow.src="dragonblank.gif"; } else
    if ((gith_nativespeaker==true)) { document.form1.speak_gith_arrow.src="dragonblank.gif"; }
    else if ((gith_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_gith_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_gith_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_gith_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_gnoll.checked==true) { document.form1.speak_gnoll_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_gnoll_arrow.src="dragonblank.gif"; } else
    if ((gnoll_nativespeaker==true)) { document.form1.speak_gnoll_arrow.src="dragonblank.gif"; }
    else if ((gnoll_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_gnoll_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_gnoll_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_gnoll_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_gnome.checked==true) { document.form1.speak_gnome_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_gnome_arrow.src="dragonblank.gif"; } else
    if ((gnome_nativespeaker==true)) { document.form1.speak_gnome_arrow.src="dragonblank.gif"; }
    else if ((gnome_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_gnome_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_gnome_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_gnome_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_goblin.checked==true) { document.form1.speak_goblin_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_goblin_arrow.src="dragonblank.gif"; } else
    if ((goblin_nativespeaker==true)) { document.form1.speak_goblin_arrow.src="dragonblank.gif"; }
    else if ((goblin_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_goblin_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_goblin_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_goblin_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_goliath.checked==true) { document.form1.speak_goliath_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_goliath_arrow.src="dragonblank.gif"; } else
    if ((goliath_nativespeaker==true)) { document.form1.speak_goliath_arrow.src="dragonblank.gif"; }
    else if ((goliath_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_goliath_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_goliath_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_goliath_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_halfling.checked==true) { document.form1.speak_halfling_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_halfling_arrow.src="dragonblank.gif"; } else
    if ((halfling_nativespeaker==true)) { document.form1.speak_halfling_arrow.src="dragonblank.gif"; }
    else if ((halfling_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_halfling_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_halfling_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_halfling_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_ignan.checked==true) { document.form1.speak_ignan_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_ignan_arrow.src="dragonblank.gif"; } else
    if ((ignan_nativespeaker==true)) { document.form1.speak_ignan_arrow.src="dragonblank.gif"; }
    else if ((ignan_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_ignan_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_ignan_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_ignan_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_infernal.checked==true) { document.form1.speak_infernal_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_infernal_arrow.src="dragonblank.gif"; } else
    if ((infernal_nativespeaker==true)) { document.form1.speak_infernal_arrow.src="dragonblank.gif"; }
    else if ((infernal_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_infernal_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_infernal_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_infernal_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_maenad.checked==true) { document.form1.speak_maenad_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_maenad_arrow.src="dragonblank.gif"; } else
    if ((maenad_nativespeaker==true)) { document.form1.speak_maenad_arrow.src="dragonblank.gif"; }
    else if ((maenad_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_maenad_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_maenad_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_maenad_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_mongrelfolk.checked==true) { document.form1.speak_mongrelfolk_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_mongrelfolk_arrow.src="dragonblank.gif"; } else
    if ((mongrelfolk_nativespeaker==true)) { document.form1.speak_mongrelfolk_arrow.src="dragonblank.gif"; }
    else if ((mongrelfolk_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_mongrelfolk_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_mongrelfolk_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_mongrelfolk_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_neraphim.checked==true) { document.form1.speak_neraph_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_neraph_arrow.src="dragonblank.gif"; } else
    if ((neraphim_nativespeaker==true)) { document.form1.speak_neraph_arrow.src="dragonblank.gif"; }
    else if ((neraphim_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_neraph_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_neraph_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_neraph_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_orc.checked==true) { document.form1.speak_orc_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_orc_arrow.src="dragonblank.gif"; } else
    if ((orc_nativespeaker==true)) { document.form1.speak_orc_arrow.src="dragonblank.gif"; }
    else if ((orc_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_orc_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_orc_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_orc_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_pterran.checked==true) { document.form1.speak_pterran_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_pterran_arrow.src="dragonblank.gif"; } else
    if ((pterran_nativespeaker==true)) { document.form1.speak_pterran_arrow.src="dragonblank.gif"; }
    else if ((pterran_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_pterran_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_pterran_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_pterran_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_raptoran.checked==true) { document.form1.speak_raptoran_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_raptoran_arrow.src="dragonblank.gif"; } else
    if ((raptoran_nativespeaker==true)) { document.form1.speak_raptoran_arrow.src="dragonblank.gif"; }
    else if ((raptoran_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_raptoran_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_raptoran_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_raptoran_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_catfolk.checked==true) { document.form1.speak_catfolk_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_catfolk_arrow.src="dragonblank.gif"; } else
    if ((catfolk_nativespeaker==true)) { document.form1.speak_catfolk_arrow.src="dragonblank.gif"; }
    else if ((catfolk_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_catfolk_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_catfolk_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_catfolk_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_shadowswyft.checked==true) { document.form1.speak_shadowswyft_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_shadowswyft_arrow.src="dragonblank.gif"; } else
    if ((shadowswyft_nativespeaker==true)) { document.form1.speak_shadowswyft_arrow.src="dragonblank.gif"; }
    else if ((shadowswyft_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_shadowswyft_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_shadowswyft_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_shadowswyft_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_slaad.checked==true) { document.form1.speak_slaad_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_slaad_arrow.src="dragonblank.gif"; } else
    if ((slaad_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_slaad_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_slaad_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_slaad_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_sylvan.checked==true) { document.form1.speak_sylvan_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_sylvan_arrow.src="dragonblank.gif"; } else
    if ((sylvan_nativespeaker==true)) { document.form1.speak_sylvan_arrow.src="dragonblank.gif"; }
    else if ((sylvan_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_sylvan_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_sylvan_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_sylvan_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_terran.checked==true) { document.form1.speak_terran_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_terran_arrow.src="dragonblank.gif"; } else
    if ((terran_nativespeaker==true)) { document.form1.speak_terran_arrow.src="dragonblank.gif"; }
    else if ((terran_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_terran_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_terran_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_terran_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_thrikreen.checked==true) { document.form1.speak_thrikreen_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_thrikreen_arrow.src="dragonblank.gif"; } else
    if ((thrikreen_nativespeaker==true)) { document.form1.speak_thrikreen_arrow.src="dragonblank.gif"; }
    else if ((thrikreen_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_thrikreen_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_thrikreen_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_thrikreen_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_undercommon.checked==true) { document.form1.speak_undercommon_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_undercommon_arrow.src="dragonblank.gif"; } else
    if ((undercommon_nativespeaker==true)) { document.form1.speak_undercommon_arrow.src="dragonblank.gif"; }
    else if ((undercommon_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_undercommon_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_undercommon_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_undercommon_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_xeph.checked==true) { document.form1.speak_xeph_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_xeph_arrow.src="dragonblank.gif"; } else
    if ((xeph_nativespeaker==true)) { document.form1.speak_xeph_arrow.src="dragonblank.gif"; }
    else if ((xeph_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_xeph_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_xeph_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_xeph_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_yuanti.checked==true) { document.form1.speak_yuanti_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_yuanti_arrow.src="dragonblank.gif"; } else
    if ((yuanti_nativespeaker==true)) { document.form1.speak_yuanti_arrow.src="dragonblank.gif"; }
    else if ((yuanti_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_yuanti_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_yuanti_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_yuanti_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_illithid.checked==true) { document.form1.speak_illithid_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_illithid_arrow.src="dragonblank.gif"; } else
    if ((illithid_nativespeaker==true)) { document.form1.speak_illithid_arrow.src="dragonblank.gif"; }
    else if ((illithid_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_illithid_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_illithid_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_illithid_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_illumian.checked==true) { document.form1.speak_illumian_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_illumian_arrow.src="dragonblank.gif"; } else
    if ((illumian_nativespeaker==true)) { document.form1.speak_illumian_arrow.src="dragonblank.gif"; }
    else if ((illumian_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_illumian_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_illumian_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_illumian_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_tasloi.checked==true) { document.form1.speak_tasloi_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_tasloi_arrow.src="dragonblank.gif"; } else
    if ((tasloi_nativespeaker==true)) { document.form1.speak_tasloi_arrow.src="dragonblank.gif"; }
    else if ((tasloi_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_tasloi_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_tasloi_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_tasloi_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_sahuagin.checked==true) { document.form1.speak_sahuagin_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_sahuagin_arrow.src="dragonblank.gif"; } else
    if ((sahuagin_nativespeaker==true)) { document.form1.speak_sahuagin_arrow.src="dragonblank.gif"; }
    else if ((sahuagin_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_sahuagin_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_sahuagin_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_sahuagin_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_lupin.checked==true) { document.form1.speak_lupin_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_lupin_arrow.src="dragonblank.gif"; } else
    if ((lupin_nativespeaker==true)) { document.form1.speak_lupin_arrow.src="dragonblank.gif"; }
    else if ((lupin_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_lupin_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_lupin_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_lupin_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_hengeyokai.checked==true) { document.form1.speak_hengeyokai_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_hengeyokai_arrow.src="dragonblank.gif"; } else
    if ((hengeyokai_nativespeaker==true)) { document.form1.speak_hengeyokai_arrow.src="dragonblank.gif"; }
    else if ((hengeyokai_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_hengeyokai_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_hengeyokai_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_hengeyokai_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_spiritfolk.checked==true) { document.form1.speak_spiritfolk_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_spiritfolk_arrow.src="dragonblank.gif"; } else
    if ((spiritfolk_nativespeaker==true)) { document.form1.speak_spiritfolk_arrow.src="dragonblank.gif"; }
    else if ((spiritfolk_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_spiritfolk_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_spiritfolk_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_spiritfolk_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_ratling.checked==true) { document.form1.speak_ratling_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_ratling_arrow.src="dragonblank.gif"; } else
    if ((ratling_nativespeaker==true)) { document.form1.speak_ratling_arrow.src="dragonblank.gif"; }
    else if ((ratling_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_ratling_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_ratling_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_ratling_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_vanara.checked==true) { document.form1.speak_vanara_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_vanara_arrow.src="dragonblank.gif"; } else
    if ((vanara_nativespeaker==true)) { document.form1.speak_vanara_arrow.src="dragonblank.gif"; }
    else if ((vanara_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_vanara_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_vanara_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_vanara_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_grippli.checked==true) { document.form1.speak_grippli_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_grippli_arrow.src="dragonblank.gif"; } else
    if ((grippli_nativespeaker==true)) { document.form1.speak_grippli_arrow.src="dragonblank.gif"; }
    else if ((grippli_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_grippli_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_grippli_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_grippli_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_beholder.checked==true) { document.form1.speak_beholder_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_beholder_arrow.src="dragonblank.gif"; } else
    if ((beholder_nativespeaker==true)) { document.form1.speak_beholder_arrow.src="dragonblank.gif"; }
    else if ((beholder_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_beholder_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_beholder_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_beholder_arrow.src="dragonblank.gif"; }

    if (document.form1.speak_kuotoa.checked==true) { document.form1.speak_kuotoa_arrow.src="dragonblank.gif"; } else
    if (total_bonus_languages==total_bonus_language_entitlement) { document.form1.speak_kuotoa_arrow.src="dragonblank.gif"; } else
    if ((kuotoa_nativespeaker==true)) { document.form1.speak_kuotoa_arrow.src="dragonblank.gif"; }
    else if ((kuotoa_friendly==true) && (knows_all_standard_bonus_languages==false)) { document.form1.speak_kuotoa_arrow.src="dragongrayleft.gif"; }
    else if ((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) { document.form1.speak_kuotoa_arrow.src="dragongrayleft.gif"; }
    else { document.form1.speak_kuotoa_arrow.src="dragonblank.gif"; }

    if ((((skillbought_bonus_languages<skillbought_bonus_language_entitlement)) || ((every_language_friendly==true) && (total_bonus_languages<total_bonus_language_entitlement))) && (total_bonus_languages<total_bonus_language_entitlement))
     {
      if (document.form1.speak_otherlanguage1.checked==false) { document.form1.speak_otherlanguage1_arrow.src="dragongrayleft.gif"; }
      if (document.form1.speak_otherlanguage2.checked==false) { document.form1.speak_otherlanguage2_arrow.src="dragongrayleft.gif"; }
      if (document.form1.speak_otherlanguage3.checked==false) { document.form1.speak_otherlanguage3_arrow.src="dragongrayleft.gif"; }
      if (document.form1.speak_otherlanguage4.checked==false) { document.form1.speak_otherlanguage4_arrow.src="dragongrayleft.gif"; }
      if (document.form1.speak_otherlanguage5.checked==false) { document.form1.speak_otherlanguage5_arrow.src="dragongrayleft.gif"; }
      if (document.form1.speak_otherlanguage6.checked==false) { document.form1.speak_otherlanguage6_arrow.src="dragongrayleft.gif"; }
     }
    else
     {
      document.form1.speak_otherlanguage1_arrow.src="dragonblank.gif";
      document.form1.speak_otherlanguage2_arrow.src="dragonblank.gif";
      document.form1.speak_otherlanguage3_arrow.src="dragonblank.gif";
      document.form1.speak_otherlanguage4_arrow.src="dragonblank.gif";
      document.form1.speak_otherlanguage5_arrow.src="dragonblank.gif";
      document.form1.speak_otherlanguage6_arrow.src="dragonblank.gif";
     }
   }
}

function NegateTemplates() {
 NegateUndeadTemplates();
 NegateLycanthropeTemplates();
 NegateInheritedTemplates();
 document.form1.template_saint.checked=false;saint_template=false;
 }

function startup() {
// AnimalCompanion();
// Warhorse();

npcother_class_name="NPC-Other Class";
 lycanthrope_hit_points=0;
 lycanthrope_hit_dice=0;
 inherited_template_count=0;
 undead_template_count=0;
 lycanthrope_template_count=0;
 NegateTemplates();
 NegateRangerFoes();
 document.form1.moreAbout.value="";
 document.form1.additionalEquipment.value="";
 if (document.form1.other_flaw_1_name.value=="") { document.form1.other_flaw_1_name.value="Other Flaw 1"; }
 if (document.form1.other_flaw_2_name.value=="") { document.form1.other_flaw_2_name.value="Other Flaw 2"; }
 if (document.form1.other_feat_1_name.value=="") { document.form1.other_feat_1_name.value="Other Feat 1"; }
 if (document.form1.other_feat_2_name.value=="") { document.form1.other_feat_2_name.value="Other Feat 2"; }
 if (document.form1.other_feat_3_name.value=="") { document.form1.other_feat_3_name.value="Other Feat 3"; }
 if (document.form1.other_feat_4_name.value=="") { document.form1.other_feat_4_name.value="Other Feat 4"; }
 if (document.form1.other_feat_5_name.value=="") { document.form1.other_feat_5_name.value="Other Feat 5"; }
 if (document.form1.other_feat_6_name.value=="") { document.form1.other_feat_6_name.value="Other Feat 6"; }
 if (document.form1.other_feat_7_name.value=="") { document.form1.other_feat_7_name.value="Other Feat 7"; }
 if (document.form1.other_feat_8_name.value=="") { document.form1.other_feat_8_name.value="Other Feat 8"; }
 if (document.form1.other_feat_9_name.value=="") { document.form1.other_feat_9_name.value="Other Feat 9"; }
 if (document.form1.other_feat_10_name.value=="") { document.form1.other_feat_10_name.value="Other Feat 10"; }
 if (document.form1.other_language_1_name.value=="") { document.form1.other_language_1_name.value="Other Language 1"; }
 if (document.form1.other_language_2_name.value=="") { document.form1.other_language_2_name.value="Other Language 2"; }
 if (document.form1.other_language_3_name.value=="") { document.form1.other_language_3_name.value="Other Language 3"; }
 if (document.form1.other_language_4_name.value=="") { document.form1.other_language_4_name.value="Other Language 4"; }
 if (document.form1.other_language_5_name.value=="") { document.form1.other_language_5_name.value="Other Language 5"; }
 if (document.form1.other_language_6_name.value=="") { document.form1.other_language_6_name.value="Other Language 6"; }
 if (document.form1.other_domain_name_1.value=="") { document.form1.other_domain_name_1.value="Other_1"; }
 if (document.form1.other_domain_name_2.value=="") { document.form1.other_domain_name_2.value="Other_2"; }
 if (document.form1.otherskill1_name.value=="") { document.form1.otherskill1_name.value="Other Skill 1"; }
 if (document.form1.otherskill2_name.value=="") { document.form1.otherskill2_name.value="Other Skill 2"; }
 if (document.form1.otherskill3_name.value=="") { document.form1.otherskill3_name.value="Other Skill 3"; }
 if (document.form1.otherrace_name.value=="") { document.form1.otherrace_name.value="Other Race"; }
 NegateLanguageArrows();
 document.form1.languagesarrow.src="dragonblank.gif";
 prestige_any_spell_levels=0;
 prestige_bard_spell_levels=0;
 prestige_cleric_spell_levels=0;
 prestige_druid_spell_levels=0;
 prestige_paladin_spell_levels=0;
 prestige_ranger_spell_levels=0;
 prestige_sorcerer_spell_levels=0;
 prestige_wizard_spell_levels=0;
  npcother_class_name="NPC-Other Class";
  document.form1.want_another_character.src="not_another_character.jpg";
  my_charactger_is_done=false;
  sorcerous_monster_levels=0;
  document.form1.title_list.length=0;
  document.form1.title_list.options[0]=new Option("--------------------");
  prestige_armor_entitlement=0;
  epic_strength_increase=0;
  epic_dexterity_increase=0;
  epic_constitution_increase=0;
  epic_intelligence_increase=0;
  epic_wisdom_increase=0;
  epic_charisma_increase=0;

  barbarian_gestalt=false;
  bard_gestalt=false;
  cleric_gestalt=false;
  druid_gestalt=false;
  fighter_gestalt=false;
  monk_gestalt=false;
  paladin_gestalt=false;
  ranger_gestalt=false;
  rogue_gestalt=false;
  sorcerer_gestalt=false;
  wizard_gestalt=false;
  psion_gestalt=false;
  barbarian_totem=0;
  rogue_totem=0;
  ranger_totem=0;
  sorcerer_totem=0;
  cleric_totem=0;
  druid_totem=0;
  monk_totem=0;
  fighter_totem=0;
  bard_totem=0;
  document.form1.abrasive_trait.checked=false;
  document.form1.absentminded_trait.checked=false;
  document.form1.aggressive_trait.checked=false;
  document.form1.brawler_trait.checked=false;
  document.form1.cautious_trait.checked=false;
  document.form1.detached_trait.checked=false;
  document.form1.dishonest_trait.checked=false;
  document.form1.easygoing_trait.checked=false;
  document.form1.farsighted_trait.checked=false;
  document.form1.focused_trait.checked=false;
  document.form1.hardy_trait.checked=false;
  document.form1.hardofhearing_trait.checked=false;
  document.form1.honest_trait.checked=false;
  document.form1.musclebound_trait.checked=false;
  document.form1.nearsighted_trait.checked=false;
  document.form1.nightsighted_trait.checked=false;
  document.form1.passionate_trait.checked=false;
  document.form1.plucky_trait.checked=false;
  document.form1.polite_trait.checked=false;
  document.form1.quick_trait.checked=false;
  document.form1.reckless_trait.checked=false;
  document.form1.relentless_trait.checked=false;
  document.form1.saddleborn_trait.checked=false;
  document.form1.skinny_trait.checked=false;
  document.form1.slippery_trait.checked=false;
  document.form1.slow_trait.checked=false;
  document.form1.stout_trait.checked=false;
  document.form1.suspicious_trait.checked=false;
  document.form1.torpid_trait.checked=false;
  document.form1.uncivilized_trait.checked=false;
  document.form1.fourth_comment_box.value="";
  document.form1.fifth_comment_box.value="";
  document.form1.sixth_comment_box.value="";
  document.form1.feat.value="";
  wt=0;
  NegateNPCOtherClass();
  document.form1.appraise_ics.checked=false;
  document.form1.balance_ics.checked=false;
  document.form1.bluff_ics.checked=false;
  document.form1.climb_ics.checked=false;
  document.form1.concentration_ics.checked=false;
  document.form1.craft_1_ics.checked=false;
  document.form1.craft_2_ics.checked=false;
  document.form1.craft_3_ics.checked=false;
  document.form1.decipherscript_ics.checked=false;
  document.form1.diplomacy_ics.checked=false;
  document.form1.disabledevice_ics.checked=false;
  document.form1.disguise_ics.checked=false;
  document.form1.escapeartist_ics.checked=false;
  document.form1.forgery_ics.checked=false;
  document.form1.gatherinformation_ics.checked=false;
  document.form1.handleanimal_ics.checked=false;
  document.form1.heal_ics.checked=false;
  document.form1.hide_ics.checked=false;
  document.form1.intimidate_ics.checked=false;
  document.form1.jump_ics.checked=false;
  document.form1.knowledgearcana_ics.checked=false;
  document.form1.knowledgearchitecture_ics.checked=false;
  document.form1.knowledgedungeoneering_ics.checked=false;
  document.form1.knowledgegeography_ics.checked=false;
  document.form1.knowledgehistory_ics.checked=false;
  document.form1.knowledgelocal_ics.checked=false;
  document.form1.knowledgenobility_ics.checked=false;
  document.form1.knowledgereligion_ics.checked=false;
  document.form1.knowledgeplanes_ics.checked=false;
  document.form1.listen_ics.checked=false;
  document.form1.movesilently_ics.checked=false;
  document.form1.openlock_ics.checked=false;
  document.form1.perform_1_ics.checked=false;
  document.form1.perform_2_ics.checked=false;
  document.form1.perform_3_ics.checked=false;
  document.form1.perform_4_ics.checked=false;
  document.form1.perform_5_ics.checked=false;
  document.form1.profession_ics.checked=false;
  document.form1.ride_ics.checked=false;
  document.form1.search_ics.checked=false;
  document.form1.sensemotive_ics.checked=false;
  document.form1.sleightofhand_ics.checked=false;
  document.form1.speaklanguage_ics.checked=false;
  document.form1.spellcraft_ics.checked=false;
  document.form1.spot_ics.checked=false;
  document.form1.survival_ics.checked=false;
  document.form1.swim_ics.checked=false;
  document.form1.tumble_ics.checked=false;
  document.form1.usemagicdevice_ics.checked=false;
  document.form1.userope_ics.checked=false;
  document.form1.autohypnosis_ics.checked=false;
  document.form1.knowpsi_ics.checked=false;
  document.form1.psicraft_ics.checked=false;
//  document.form1.remoteview_ics.checked=false;
//  document.form1.stabilizeself_ics.checked=false;
  document.form1.usepsionicdevice_ics.checked=false;
 unarmored=false;
 document.form1.moniker.value="";
 document.form1.stat1_list.selectedIndex=0;
 document.form1.stat2_list.selectedIndex=0;
 document.form1.stat3_list.selectedIndex=0;
 document.form1.stat4_list.selectedIndex=0;
 document.form1.stat5_list.selectedIndex=0;
 document.form1.stat6_list.selectedIndex=0;
 stat1=0;
 stat2=0;
 stat3=0;
 stat4=0;
 stat5=0;
 stat6=0;
 clearall();

 total_levels=0;
 epic_total_levels=0;
 epic_abilities();
 ClearAllAbilityAssignments();
 NegateTheBottomStuff();
 }

function clearall() {
 total_levels=0;
 epic_total_levels=0;
 epic_abilities();
 ClearAllAbilityAssignments();
 NegateTheBottomStuff();
 NegateWizardSpecialization();
 NegatePsionSpecialization();
 rangercombattrack=0;
 can_read=false;
 missile_attack_string_1="";
 grapple_attack_string_1="";
 handheld_attack_string_1="";
 unarmed_attack_string_1="";
 flurry_of_blows_string="";
 fortitude_string_1="";
 will_string_1="";
 reflex_string_1="";
 initiative_string_1="";
 missile_attack_string_2="";
 grapple_attack_string_2="";
 handheld_attack_string_2="";
 unarmed_attack_string_2="";
 fortitude_string_2="";
 will_string_2="";
 reflex_string_2="";
 initiative_string_2="";

NegateFamiliars();
NegateHengeyokai();

already_knows_simple_weapons=false;
already_knows_martial_weapons=false;
already_knows_light_armor=false;
already_knows_medium_armor=false;
already_knows_heavy_armor=false;
already_knows_shields=false;
already_knows_tower_shield=false;

 FeatsAreLocked=false;
 skill_points_spent=0;
 total_fighter_feats=0;
 total_scout_feats=0;
 total_psiwarrior_feats=0;
 high_level_rogue_count=0;
 total_wizard_feats=0;
 total_psion_feats=0;
 WizardSpells0="";
 WizardSpells1="";
 WizardSpells2="";
 WizardSpells3="";
 WizardSpells4="";
 WizardSpells5="";
 WizardSpells6="";
 WizardSpells7="";
 WizardSpells8="";
 WizardSpells9="";
 DruidSpells0="";
 DruidSpells1="";
 DruidSpells2="";
 DruidSpells3="";
 DruidSpells4="";
 DruidSpells5="";
 DruidSpells6="";
 DruidSpells7="";
 DruidSpells8="";
 DruidSpells9="";
 ClericSpells0="";
 ClericSpells1="";
 ClericSpells2="";
 ClericSpells3="";
 ClericSpells4="";
 ClericSpells5="";
 ClericSpells6="";
 ClericSpells7="";
 ClericSpells8="";
 ClericSpells9="";
 AdeptSpells0="";
 AdeptSpells1="";
 AdeptSpells2="";
 AdeptSpells3="";
 AdeptSpells4="";
 AdeptSpells5="";
 ArtificerSpells1="";
 ArtificerSpells2="";
 ArtificerSpells3="";
 ArtificerSpells4="";
 ArtificerSpells5="";
 ArtificerSpells6="";
 SorcererSpells0="";
 SorcererSpells1="";
 SorcererSpells2="";
 SorcererSpells3="";
 SorcererSpells4="";
 SorcererSpells5="";
 SorcererSpells6="";
 SorcererSpells7="";
 SorcererSpells8="";
 SorcererSpells9="";
 ShamanSpells0="";
 ShamanSpells1="";
 ShamanSpells2="";
 ShamanSpells3="";
 ShamanSpells4="";
 ShamanSpells5="";
 ShamanSpells6="";
 ShamanSpells7="";
 ShamanSpells8="";
 ShamanSpells9="";
 FSSpells0="";
 FSSpells1="";
 FSSpells2="";
 FSSpells3="";
 FSSpells4="";
 FSSpells5="";
 FSSpells6="";
 FSSpells7="";
 FSSpells8="";
 FSSpells9="";
 PaladinSpells0="";
 PaladinSpells1="";
 PaladinSpells2="";
 PaladinSpells3="";
 PaladinSpells4="";
 PaladinSpells5="";
 PaladinSpells6="";
 PaladinSpells7="";
 PaladinSpells8="";
 PaladinSpells9="";
 SpellthiefSpells0="";
 SpellthiefSpells1="";
 SpellthiefSpells2="";
 SpellthiefSpells3="";
 SpellthiefSpells4="";
 SpellthiefSpells5="";
 SpellthiefSpells6="";
 SpellthiefSpells7="";
 SpellthiefSpells8="";
 SpellthiefSpells9="";
 ShairSpells0="";
 ShairSpells1="";
 ShairSpells2="";
 ShairSpells3="";
 ShairSpells4="";
 ShairSpells5="";
 ShairSpells6="";
 ShairSpells7="";
 ShairSpells8="";
 ShairSpells9="";
 RangerSpells0="";
 RangerSpells1="";
 RangerSpells2="";
 RangerSpells3="";
 RangerSpells4="";
 RangerSpells5="";
 RangerSpells6="";
 RangerSpells7="";
 RangerSpells8="";
 RangerSpells9="";
 BardSpells0="";
 BardSpells1="";
 BardSpells2="";
 BardSpells3="";
 BardSpells4="";
 BardSpells5="";
 BardSpells6="";
 BardSpells7="";
 BardSpells8="";
 BardSpells9="";
 base_attack_bonus=0;
 base_fortitude_bonus=0;
 base_will_bonus=0;
 base_reflex_bonus=0;
 missile_attack=0;
 grapple_attack=0;
 handheld_attack=0;
 unarmed_attack=0;
 fortitude_save=0;
 reflex_save=0;
 will_save=0;
 initiative_modifier=0;
 missile_attack=0;
 grapple_attack=0;

 z=0;
 total_skill_points=0;
 stringy="";
class_string="";
small=false;
large=false;
has_uncanny_dodge=false;
total_hit_points=0;
total_armor_class=10;
touch_armor_class=10;
flatfooted_armor_class=10;
armor_string="";
speed_string="";
shield_string="";
armor_class_string="";
damage_reduction_string="";
dexterity_bonus_in_this_armor=0;
document.form1.skillpointcount.value="";
document.form1.feat.value="This will monitor your feat selection.";
has_acrobatic=false;
has_agile=false;
has_alertness=false;
has_animalaffinity=false;
has_armorproficiencylight=false;
has_armorproficiencymedium=false;
has_armorproficiencyheavy=false;
has_athletic=false;
has_augmentsummoning=false;
has_blindfight=false;
has_combatcasting=false;
has_combatexpertise=false;
has_improveddisarm=false;
has_improvedfeint=false;
has_improvedtrip=false;
has_whirlwindattack=false;
has_combatreflexes=false;
has_deceitful=false;
has_defthands=false;
has_diligent=false;
has_dodge=false;
has_mobility=false;
has_springattack=false;
has_endurance=false;
has_diehard=false;
has_eschewmaterials=false;
has_exoticweaponproficiency=false;
has_extraturning=0;
has_personaltouchstone=0;
has_planartouchstone=0;
has_greatfortitude=false;
has_improvedcounterspell=false;
has_improvedcritical=0;
has_improvedinitiative=false;
has_improvedturning=false;
has_improvedunarmedstrike=false;
has_improvedgrapple=false;
has_deflectarrows=false;
has_snatcharrows=false;
has_stunningfist=false;
has_investigator=false;
has_ironwill=false;
has_leadership=false;
has_lightningreflexes=false;
has_magicalaptitude=false;
has_martialweaponproficiency=false;
has_mountedcombat=false;
has_mountedarchery=false;
has_ridebyattack=false;
has_spiritedcharge=false;
has_trample=false;
has_naturalspell=false;
has_negotiator=false;
has_nimblefingers=false;
has_persuasive=false;
has_pointblankshot=false;
has_farshot=false;
has_preciseshot=false;
has_rapidshot=false;
has_manyshot=false;
has_shotontherun=false;
has_improvedpreciseshot=false;
has_powerattack=false;
has_cleave=false;
has_greatcleave=false;
has_improvedbullrush=false;
has_improvedoverrun=false;
has_improvedsunder=false;
has_quickdraw=false;
has_rapidreload=false;
has_run=false;
has_selfsufficient=false;
has_shieldproficiency=false;
has_improvedshieldbash=false;
has_towershieldproficiency=false;
has_simpleweaponproficiency=false;
has_skillfocusappraise=false;
has_skillfocusbalance=false;
has_skillfocusbluff=false;
has_skillfocusclimb=false;
has_skillfocusconcentration=false;
has_skillfocuscraft_1=false;
has_skillfocuscraft_2=false;
has_skillfocuscraft_3=false;
has_skillfocusdecipherscript=false;
has_skillfocusdiplomacy=false;
has_skillfocusdisabledevice=false;
has_skillfocusdisguise=false;
has_skillfocusescapeartist=false;
has_skillfocusforgery=false;
has_skillfocusgatherinformation=false;
has_skillfocushandleanimal=false;
has_skillfocusheal=false;
has_skillfocushide=false;
has_skillfocusintimidate=false;
has_skillfocusjump=false;
has_skillfocusknowledgearcana=false;
has_skillfocusknowledgearchitecture=false;
has_skillfocusknowledgedungeoneering=false;
has_skillfocusknowledgegeography=false;
has_skillfocusknowledgehistory=false;
has_skillfocusknowledgelocal=false;
has_skillfocusknowledgenature=false;
has_skillfocusknowledgenobility=false;
has_skillfocusknowledgereligion=false;
has_skillfocusknowledgeplanes=false;
has_skillfocuslisten=false;
has_skillfocusmovesilently=false;
has_skillfocusopenlock=false;
has_skillfocusperform_1=false;
has_skillfocusperform_2=false;
has_skillfocusperform_3=false;
has_skillfocusperform_4=false;
has_skillfocusperform_5=false;
has_skillfocusprofession=false;
has_skillfocusride=false;
has_skillfocussearch=false;
has_skillfocussensemotive=false;
has_skillfocussleightofhand=false;
has_skillfocusspellcraft=false;
has_skillfocusspot=false;
has_skillfocussurvival=false;
has_skillfocusswim=false;
has_skillfocustumble=false;
has_skillfocususemagicdevice=false;
has_skillfocususerope=false;
has_skillfocusautohypnosis=false;
has_skillfocusknowpsi=false;
has_skillfocuspsicraft=false;
//has_skillfocusremoteview=false;
//has_skillfocusstabilizeself=false;
has_skillfocususepsionicdevice=false;
has_multiattack=false;
has_multidexterity=false;
has_multiweaponfighting=false;
has_cripplingstrike=false;
has_defensiveroll=false;
has_improvedevasion=false;
has_opportunist=false;
has_skillmastery=false;
has_slipperymind=false;
has_roguewildernessstride=false;
has_roguecamouflage=false;
has_roguehideinplainsight=false;
has_antipsionicmagic=false;
has_autonomous=false;
has_chaoticmind=false;
has_cloakdance=false;
has_closedmind=false;
has_deadlyprecision=false;
has_forceofwill=false;
has_greatermanyshot=false;
has_hostilemind=false;
has_mentalresistance=false;
has_mindoverbody=false;
has_openminded=0;
has_psionicaffinity=false;
has_psionichole=false;
has_rapidmetabolism=false;
has_recklessoffense=false;
has_sidestepcharge=false;
has_standstill=false;
has_wildtalent=false;
has_alignedattack=false;
has_boostconstruct=false;
has_combatmanifestation=false;
has_expandedknowledge=0;
has_focusedsunder=false;
has_ghostattack=false;
has_inquisitor=false;
has_mentalleap=false;
has_metamorphictransfer=0;
has_narrowmind=false;
has_overchannel=false;
has_talented=false;
has_bodyfuel=false;
has_powerpenetration=false;
has_greaterpowerpenetration=false;
has_powerspecialization=false;
has_greaterpowerspecialization=false;
has_psicrystalaffinity=false;
has_improvedpsicrystal=false;
has_psicrystalcontainment=false;
has_psionicbody=false;
has_psionicdodge=false;
has_psionicendowment=false;
has_greaterpsionicendowment=false;
has_psionicfist=false;
has_greaterpsionicfist=false;
has_unavoidablestrike=false;
has_psionicmeditation=false;
has_psionicshot=false;
has_greaterpsionicshot=false;
has_fellshot=false;
has_returnshot=false;
has_psionictalent=0;
has_familiarspell=0;
has_greatsmiting=0;
has_improvedfavoredenemy=0;
has_improvedmetamagic=0;
has_improvedsneakattack=0;
has_improvedspellcapacity=0;
has_improvedstunningfist=0;
has_overwhelmingcritical=0;
has_spellknowledge=0;
has_epicexpandedknowledge=0;
has_epicpsionicfocus=0;
has_improvedmanifestation=0;
has_improvedmetapsionics=0;
has_powerknowledge=0;
has_psicrystalpower=0;
has_psionicweapon=false;
has_greaterpsionicweapon=false;
has_deepimpact=false;
has_speedofthought=false;
has_psioniccharge=false;
has_upthewalls=false;
has_woundingattack=false;
has_burrowingpower=false;
has_chainpower=false;
has_delaypower=false;
has_empowerpower=false;
has_enlargepower=false;
has_extendpower=false;
has_maximizepower=false;
has_opportunitypower=false;
has_quickenpower=false;
has_splitpsionicray=false;
has_twinpower=false;
has_unconditionalpower=false;
has_widenpower=false;
has_craftcognizancecrystal=false;
has_craftdorje=false;
has_craftpsicrown=false;
has_craftpsionicarmsandarmor=false;
has_craftpsionicconstruct=false;
has_craftuniversalitem=false;
has_imprintstone=false;
has_scribetattoo=false;
has_acheronflurry=false;
has_celestialsummoningspecialist=false;
has_elementalspellcastingair=false;
has_elementalspellcastingearth=false;
has_elementalspellcastingfire=false;
has_elementalspellcastingwater=false;
has_fiendishsummoningspecialist=false;
has_neraphcharge=false;
has_neraphthrow=false;
has_nonverbalspell=false;
has_planarfamiliar=false;
has_stalwartplanarally=false;
has_airheritage=false;
has_anarchicheritage=false;
has_axiomaticheritage=false;
has_celestialheritage=false;
has_earthheritage=false;
has_fiendishheritage=false;
has_fireheritage=false;
has_improvedelementalheritage=false;
has_improvedouterplanarheritage=false;
has_naturalheavyweight=false;
has_shadowheritage=false;
has_waterheritage=false;
has_cleverwrestling=false;
has_cunningsidestep=false;
has_closequartersfighting=false;
has_overheadthrust=false;
has_deftstrike=false;
has_dragoncohort=false;
has_dragonfamiliar=false;
has_dragonhunter=false;
has_dragonhunterbravery=false;
has_dragonhunterdefense=false;
has_dragonsteed=false;
has_dragonwildshape=false;
has_dragoncrafter=false;
has_dragonfoe=false;
has_dragonbane=false;
has_dragondoom=false;
has_subduingstrike=false;
has_exaltedsmite=false;
has_exaltedturning=false;
has_exaltedwildshape=false;
has_holysubdual=false;
has_rangedsmiteevil=false;
has_righteouswrath=false;
has_sacredstrike=false;
has_consecratespell=false;
has_nonlethalsubstitution=false;
has_purifyspell=false;
has_improvedelementalwildshape=false;
has_lastinginspiration=false;
has_planarturning=false;
has_terrifyingrage=false;
has_brachiation=false;
has_dangersense=false;
has_heartheunseen=false;
has_improvedswimming=false;
has_quickreconnoiter=false;
has_dragonfriend=false;
has_dragonsong=false;
has_dragonthrall=false;
has_frightfulpresence=false;
has_senseweakness=false;

has_feeble=false;
has_frail=false;
has_improvedtoughness=false;
has_spellcastingprodigyintelligence=false;
has_spellcastingprodigywisdom=false;
has_spellcastingprodigycharisma=false;
has_zenarchery=false;
has_suddenempower=false;
has_suddenenlarge=false;
has_suddenextend=false;
has_suddenmaximize=false;
has_suddensilent=false;
has_suddenstill=false;
has_suddenwiden=false;

has_energysubstitutionacid=false;
has_energysubstitutioncold=false;
has_energysubstitutionelectricity=false;
has_energysubstitutionfire=false;
has_energysubstitutionsonic=false;
has_subdualsubstitution=false;
has_enduringlife=false;
has_lastinglife=false;
has_empowerturning=false;
has_ghostscarred=false;
has_heightenturning=false;
has_quickenturning=false;
has_requiem=false;
has_vampirehunter=false;
has_sacredvitality=false;
has_spurndeathstouch=false;
has_inattentive=false;
has_meagerfortitude=false;
has_weakwill=false;
has_otherflaw1=false;
has_otherflaw2=false;
has_murkyeyed=false;
has_noncombatant=false;
has_poorreflexes=false;
has_shaky=false;
has_slowpoke=false;
has_unreactive=false;
has_vulnerable=false;
has_spellfocusabjuration=false;
has_spellfocusconjuration=false;
has_spellfocusdivination=false;
has_spellfocusenchantment=false;
has_spellfocusevocation=false;
has_spellfocusillusion=false;
has_spellfocusnecromancy=false;
has_spellfocustransmutation=false;
has_greaterspellfocusabjuration=false;
has_greaterspellfocusconjuration=false;
has_greaterspellfocusdivination=false;
has_greaterspellfocusenchantment=false;
has_greaterspellfocusevocation=false;
has_greaterspellfocusillusion=false;
has_greaterspellfocusnecromancy=false;
has_greaterspellfocustransmutation=false;
has_spellmastery=0;
has_spellpenetration=false;
has_greaterspellpenetration=false;
has_stealthy=false;
has_toughness=0;
has_track=false;
has_twoweaponfighting=false;
has_twoweapondefense=false;
has_improvedtwoweaponfighting=false;
has_greatertwoweaponfighting=false;
has_weaponfinesse=false;
has_urbantracking=false;
has_otherfeat1=false;
has_otherfeat2=false;
has_otherfeat3=false;
has_otherfeat4=false;
has_otherfeat5=false;
has_otherfeat6=false;
has_otherfeat7=false;
has_otherfeat8=false;
has_otherfeat9=false;
has_otherfeat10=false;
has_weaponfocus=0;
has_weaponspecialization=0;
has_greaterweaponfocus=0;
has_greaterweaponspecialization=0;
has_necropotent=0;
has_brewpotion=false;
has_craftmaa=false;
has_craftrod=false;
has_craftstaff=false;
has_craftwand=false;
has_craftwondrousitem=false;
has_craftconstruct=false;
has_forgering=false;
has_scribescroll=false;
has_empowerspell=false;
has_enlargespell=false;
has_extendspell=false;
has_heightenspell=false;
has_maximizespell=false;
has_quickenspell=false;
has_silentspell=false;
has_stillspell=false;
has_widenspell=false;

 monkish_improved_grapple=false;
 monkish_stunning_fist=false;
 monkish_combat_reflexes=false;
 monkish_deflect_arrows=false;
 monkish_improved_disarm=false;
 monkish_improved_trip=false;

has_air_domain=false;
has_animal_domain=false;
has_chaos_domain=false;
has_death_domain=false;
has_destruction_domain=false;
has_earth_domain=false;
has_evil_domain=false;
has_fire_domain=false;
has_good_domain=false;
has_healing_domain=false;
has_knowledge_domain=false;
has_law_domain=false;
has_luck_domain=false;
has_magic_domain=false;
has_plant_domain=false;
has_protection_domain=false;
has_strength_domain=false;
has_sun_domain=false;
has_travel_domain=false;
has_trickery_domain=false;
has_war_domain=false;
has_water_domain=false;
has_other_domain_1=false;
has_other_domain_2=false;
channels_energy=0;

document.form1.reading_barbarian[0].checked=false;
document.form1.reading_barbarian[1].checked=false;
document.form1.choose_energy[0].checked=false;
document.form1.choose_energy[1].checked=false;
document.form1.air_domain.checked=false;
document.form1.animal_domain.checked=false;
document.form1.chaos_domain.checked=false;
document.form1.death_domain.checked=false;
document.form1.destruction_domain.checked=false;
document.form1.earth_domain.checked=false;
document.form1.evil_domain.checked=false;
document.form1.fire_domain.checked=false;
document.form1.good_domain.checked=false;
document.form1.healing_domain.checked=false;
document.form1.knowledge_domain.checked=false;
document.form1.law_domain.checked=false;
document.form1.luck_domain.checked=false;
document.form1.magic_domain.checked=false;
document.form1.plant_domain.checked=false;
document.form1.protection_domain.checked=false;
document.form1.strength_domain.checked=false;
document.form1.sun_domain.checked=false;
document.form1.travel_domain.checked=false;
document.form1.trickery_domain.checked=false;
document.form1.war_domain.checked=false;
document.form1.water_domain.checked=false;
document.form1.other_domain_1.checked=false;
document.form1.other_domain_2.checked=false;
document.form1.ranger_combat_track[0].checked=true;
document.form1.ranger_combat_track[0].checked=false;
NegateFamiliarChoices();
NegateHengeyokaiChoices();
document.form1.choose_specialty[0].checked=false;
document.form1.choose_specialty[1].checked=false;
document.form1.choose_specialty[2].checked=false;
document.form1.choose_specialty[3].checked=false;
document.form1.choose_specialty[4].checked=false;
document.form1.choose_specialty[5].checked=false;
document.form1.choose_specialty[6].checked=false;
document.form1.choose_specialty[7].checked=false;
document.form1.choose_specialty[8].checked=false;
document.form1.choose_psi_specialty[0].checked=false;
document.form1.choose_psi_specialty[1].checked=false;
document.form1.choose_psi_specialty[2].checked=false;
document.form1.choose_psi_specialty[3].checked=false;
document.form1.choose_psi_specialty[4].checked=false;
document.form1.choose_psi_specialty[5].checked=false;
document.form1.forbid_abjuration.checked=false;
document.form1.forbid_conjuration.checked=false;
document.form1.forbid_enchantment.checked=false;
document.form1.forbid_evocation.checked=false;
document.form1.forbid_illusion.checked=false;
document.form1.forbid_necromancy.checked=false;
document.form1.forbid_transmutation.checked=false;
uncheck_feat_boxes();
 fighterfeatentitlement=0;
 scoutfeatentitlement=0;
 psiwarriorfeatentitlement=0;
 genericfeatentitlement=0;
 wizardfeatentitlement=0;
 psionfeatentitlement=0;
 document.form1.firststatistic.value="";
 document.form1.secondstatistic.value="";
 document.form1.thirdstatistic.value="";
 document.form1.fourthstatistic.value="";
 document.form1.fifthstatistic.value="";
 document.form1.sixthstatistic.value="";
 document.form1.first_comment_box.value="Roll the dice!";
 if (document.form1.methods_list.selectedIndex==3)
  { document.form1.first_comment_box.value="Point buy. "; 
  	RollSomeDice(1); }
 if (document.form1.methods_list.selectedIndex==2)
  { document.form1.first_comment_box.value="Elite array. "; 
  	RollSomeDice(1); }
 if (document.form1.methods_list.selectedIndex==4)
  { document.form1.first_comment_box.value="Non-Elite array.  "; 
  	RollSomeDice(1); }
 if (document.form1.methods_list.selectedIndex==6)
  { document.form1.first_comment_box.value="Simple Entry.  "; 
  	RollSomeDice(1); }
 document.form1.second_comment_box.value="";
 document.form1.third_comment_box.value="";
 document.form1.fourth_comment_box.value="";
 document.form1.fifth_comment_box.value="";
 document.form1.sixth_comment_box.value="Keep working!";
 document.form1.about_appraise.value="";
 document.form1.about_balance.value="";
 document.form1.about_bluff.value="";
 document.form1.about_climb.value="";
 document.form1.about_concentration.value="";
 document.form1.about_craft_1.value="";
 document.form1.about_craft_2.value="";
 document.form1.about_craft_3.value="";
 document.form1.about_decipherscript.value="";
 document.form1.about_diplomacy.value="";

 document.form1.about_disabledevice.value="";
 document.form1.about_disguise.value="";
 document.form1.about_escapeartist.value="";
 document.form1.about_forgery.value="";
 document.form1.about_gatherinformation.value="";
 document.form1.about_handleanimal.value="";
 document.form1.about_heal.value="";
 document.form1.about_hide.value="";
 document.form1.about_intimidate.value="";
 document.form1.about_jump.value="";
 document.form1.about_knowledgearcana.value="";
 document.form1.about_knowledgearchitecture.value="";
 document.form1.about_knowledgedungeoneering.value="";
 document.form1.about_knowledgegeography.value="";
 document.form1.about_knowledgehistory.value="";
 document.form1.about_knowledgelocal.value="";
 document.form1.about_knowledgenature.value="";

 document.form1.about_knowledgenobility.value="";
 document.form1.about_knowledgereligion.value="";
 document.form1.about_knowledgeplanes.value="";
 document.form1.about_listen.value="";
 document.form1.about_movesilently.value="";
 document.form1.about_openlock.value="";
 document.form1.about_perform_1.value="";
 document.form1.about_perform_2.value="";
 document.form1.about_perform_3.value="";
 document.form1.about_perform_4.value="";
 document.form1.about_perform_5.value="";
 document.form1.about_profession.value="";
 document.form1.about_ride.value="";
 document.form1.about_search.value="";
 document.form1.about_sensemotive.value="";
 document.form1.about_sleightofhand.value="";
 document.form1.about_speaklanguage.value="";
 document.form1.about_spellcraft.value="";
 document.form1.about_spot.value="";
 document.form1.about_survival.value="";
 document.form1.about_swim.value="";
 document.form1.about_tumble.value="";
 document.form1.about_usemagicdevice.value="";
 document.form1.about_userope.value="";
 document.form1.about_autohypnosis.value="";
 document.form1.about_knowpsi.value="";
 document.form1.about_psicraft.value="";
// document.form1.about_remoteview.value="";
// document.form1.about_stabilizeself.value="";
 document.form1.about_usepsionicdevice.value="";
 document.form1.about_otherskill1.value="";
 document.form1.about_otherskill2.value="";
 document.form1.about_otherskill3.value="";


 NegateAllClassChoicesHereAndBelow(1);

 NegateNonEpicClassLevels();
 NegateEpicClassLevels();
 rayce=0;
 document.form1.how_tall.selectedIndex=0;
 document.form1.how_heavy.selectedIndex=0;
 alignment=0;
 total_levels=0;
 gender=0;
 z=0; while (z<21)
 {
 strength=0;
 wisdom=0;
 dexterity=0;
 intelligence=0;
 charisma=0;
 constitution=0;
 z++; }
 intelligence01=0;
 intelligence04=0;
 intelligence08=0;
 intelligence12=0;
 intelligence16=0;
 intelligence20=0;
 intelligence24=0;
 intelligence28=0;
 intelligence32=0;
 intelligence36=0;
 intelligence40=0;
 intelligence44=0;
 intelligence48=0;
 intelligence52=0;
 intelligence56=0;
 intelligence60=0;
 intelligence64=0;
 intelligence68=0;
 intelligence72=0;
 intelligence76=0;
 intelligence80=0;
 intelligence84=0;
 intelligence88=0;
 intelligence92=0;
 intelligence96=0;
 intelligence100=0;
 newHP01=0;
 newHP02=0;
 newHP03=0;
 newHP04=0;
 newHP05=0;
 newHP06=0;
 newHP07=0;
 newHP08=0;
 newHP09=0;
 newHP10=0;
 newHP11=0;
 newHP12=0;
 newHP13=0;
 newHP14=0;
 newHP15=0;
 newHP16=0;
 newHP17=0;
 newHP18=0;
 newHP19=0;
 newHP20=0;
 newHP21=0;
 newHP22=0;
 newHP23=0;
 newHP24=0;
 newHP25=0;
 newHP26=0;
 newHP27=0;
 newHP28=0;
 newHP29=0;
 newHP30=0;
 newHP31=0;
 newHP32=0;
 newHP33=0;
 newHP34=0;
 newHP35=0;
 newHP36=0;
 newHP37=0;
 newHP38=0;
 newHP39=0;
 newHP40=0;
 newHP41=0;
 newHP42=0;
 newHP43=0;
 newHP44=0;
 newHP45=0;
 newHP46=0;
 newHP47=0;
 newHP48=0;
 newHP49=0;
 newHP50=0;
 newHP51=0;
 newHP52=0;
 newHP53=0;
 newHP54=0;
 newHP55=0;
 newHP56=0;
 newHP57=0;
 newHP58=0;
 newHP59=0;
 newHP60=0;
 newHP61=0;
 newHP62=0;
 newHP63=0;
 newHP64=0;
 newHP65=0;
 newHP66=0;
 newHP67=0;
 newHP68=0;
 newHP69=0;
 newHP70=0;
 newHP71=0;
 newHP72=0;
 newHP73=0;
 newHP74=0;
 newHP75=0;
 newHP76=0;
 newHP77=0;
 newHP78=0;
 newHP79=0;
 newHP80=0;
 newHP81=0;
 newHP82=0;
 newHP83=0;
 newHP84=0;
 newHP85=0;
 newHP86=0;
 newHP87=0;
 newHP88=0;
 newHP89=0;
 newHP90=0;
 newHP91=0;
 newHP92=0;
 newHP93=0;
 newHP94=0;
 newHP95=0;
 newHP96=0;
 newHP97=0;
 newHP98=0;
 newHP99=0;
 newHP100=0;

 class01=0;
 class02=0;
 class03=0;
 class04=0;
 class05=0;
 class06=0;
 class07=0;
 class08=0;
 class09=0;
 class10=0;
 class11=0;
 class12=0;
 class13=0;
 class14=0;
 class15=0;
 class16=0;
 class17=0;
 class18=0;
 class19=0;
 class20=0;
 class21=0;
 class22=0;
 class23=0;
 class24=0;
 class25=0;
 class26=0;
 class27=0;
 class28=0;
 class29=0;
 class30=0;
 class31=0;
 class32=0;
 class33=0;
 class34=0;
 class35=0;
 class36=0;
 class37=0;
 class38=0;
 class39=0;
 class40=0;
 class41=0;
 class42=0;
 class43=0;
 class44=0;
 class45=0;
 class46=0;
 class47=0;
 class48=0;
 class49=0;
 class50=0;
 class51=0;
 class52=0;
 class53=0;
 class54=0;
 class55=0;
 class56=0;
 class57=0;
 class58=0;
 class59=0;
 class60=0;
 class61=0;
 class62=0;
 class63=0;
 class64=0;
 class65=0;
 class66=0;
 class67=0;
 class68=0;
 class69=0;
 class70=0;
 class71=0;
 class72=0;
 class73=0;
 class74=0;
 class75=0;
 class76=0;
 class77=0;
 class78=0;
 class79=0;
 class80=0;
 class81=0;
 class82=0;
 class83=0;
 class84=0;
 class85=0;
 class86=0;
 class87=0;
 class88=0;
 class89=0;
 class90=0;
 class91=0;
 class92=0;
 class93=0;
 class94=0;
 class95=0;
 class96=0;
 class97=0;
 class98=0;
 class99=0;
 class100=0;

 SkillPointsAreLocked=false;
 ClassesHaveBeenEstablished=false;
 CharacterTypeHasBeenEstablished=false;
 AbilitiesHaveBeenEstablished=false;
 AbilitiesAreProperlyAssigned=false;
 DiceHaveBeenRolled=false;
 AbilityIncreasesAreLocked=false;
 FighterFeatsEtcFrozen=false;
 FeatsAreLocked=false;
 upitat04=0;
 upitat08=0;
 upitat12=0;
 upitat16=0;
 upitat20=0;
 upitat24=0;
 upitat28=0;
 upitat32=0;
 upitat36=0;
 upitat40=0;
 upitat44=0;
 upitat48=0;
 upitat52=0;
 upitat56=0;
 upitat60=0;
 upitat64=0;
 upitat68=0;
 upitat72=0;
 upitat76=0;
 upitat80=0;
 upitat84=0;
 upitat88=0;
 upitat92=0;
 upitat96=0;
 upitat100=0;

 WipeMonkishFeats(0);
 WipeDomains();
 NotYourSkills();
 ClearRace();
 ClearGender();
 ClearAlignment();
 ClearTotalLevels();
 NegateSkills();
 NegateAllUp04();
 NegateAllUp08();
 NegateAllUp12();
 NegateAllUp16();
 NegateAllUp20();
 AddUpTheClasses();
 PointBuyIsEightsOrBetter();
 RememberFeats();
 }

function NegateTheBottomStuff() {
  document.form1.dagger.checked=false;
  document.form1.punchingdagger.checked=false;
  document.form1.gauntlet.checked=false;
  document.form1.spikedgauntlet.checked=false;
  document.form1.lightmace.checked=false;
  document.form1.sickle.checked=false;
  document.form1.club.checked=false;
  document.form1.heavymace.checked=false;
  document.form1.morningstar.checked=false;
  document.form1.shortspear.checked=false;
  document.form1.longspear.checked=false;
  document.form1.quarterstaff.checked=false;
  document.form1.spear.checked=false;
  document.form1.heavycrossbow.checked=false;
  document.form1.lightcrossbow.checked=false;
  document.form1.dart.checked=false;
  document.form1.javelin.checked=false;
  document.form1.sling.checked=false;
  document.form1.throwingaxe.checked=false;
  document.form1.lighthammer.checked=false;
  document.form1.handaxe.checked=false;
  document.form1.kukri.checked=false;
  document.form1.lightpick.checked=false;
  document.form1.sap.checked=false;
  document.form1.lightshield.checked=false;
  document.form1.spikedarmor.checked=false;
  document.form1.lightspikedshield.checked=false;
  document.form1.shortsword.checked=false;
  document.form1.battleaxe.checked=false;
  document.form1.flail.checked=false;
  document.form1.longsword.checked=false;
  document.form1.heavypick.checked=false;
  document.form1.rapier.checked=false;
  document.form1.scimitar.checked=false;
  document.form1.heavyshield.checked=false;
  document.form1.heavyspikedshield.checked=false;
  document.form1.trident.checked=false;
  document.form1.warhammer.checked=false;
  document.form1.falchion.checked=false;
  document.form1.glaive.checked=false;
  document.form1.greataxe.checked=false;
  document.form1.heavyflail.checked=false;
  document.form1.greatsword.checked=false;
  document.form1.guisarme.checked=false;
  document.form1.halberd.checked=false;
  document.form1.lance.checked=false;
  document.form1.ranseur.checked=false;
  document.form1.scythe.checked=false;
  document.form1.longbow.checked=false;
  document.form1.compositelongbow.checked=false;
  document.form1.shortbow.checked=false;
  document.form1.compositeshortbow.checked=false;
  document.form1.kama.checked=false;
  document.form1.nunchaku.checked=false;
  document.form1.sai.checked=false;
  document.form1.siangham.checked=false;
  document.form1.bastardsword.checked=false;
  document.form1.dwarvenwaraxe.checked=false;
  document.form1.whip.checked=false;
  document.form1.orcdoubleaxe.checked=false;
  document.form1.spikedchain.checked=false;
  document.form1.direflail.checked=false;
  document.form1.gnomehookedhammer.checked=false;
  document.form1.twobladedsword.checked=false;
  document.form1.dwarvenurgrosh.checked=false;
  document.form1.bolas.checked=false;
  document.form1.handcrossbow.checked=false;
  document.form1.repeatingheavycrossbow.checked=false;
  document.form1.repeatinglightcrossbow.checked=false;
  document.form1.net.checked=false;
  document.form1.shuriken.checked=false;
  document.form1.blowgun.checked=false;
  document.form1.kusari.checked=false;
  document.form1.pistol.checked=false;
  document.form1.musket.checked=false;
  document.form1.armor_radio[0].checked=false;
  document.form1.armor_radio[1].checked=false;
  document.form1.armor_radio[2].checked=false;
  document.form1.armor_radio[3].checked=false;
  document.form1.armor_radio[4].checked=false;
  document.form1.armor_radio[5].checked=false;
  document.form1.armor_radio[6].checked=false;
  document.form1.armor_radio[7].checked=false;
  document.form1.armor_radio[8].checked=false;
  document.form1.armor_radio[9].checked=false;
  document.form1.armor_radio[10].checked=false;
  document.form1.armor_radio[11].checked=false;
  document.form1.armor_radio[12].checked=false;
  document.form1.shield_radio[0].checked=false;
  document.form1.shield_radio[1].checked=false;
  document.form1.shield_radio[2].checked=false;
  document.form1.shield_radio[3].checked=false;
  document.form1.shield_radio[4].checked=false;
  document.form1.shield_radio[5].checked=false;
  document.form1.shield_radio[6].checked=false;
  
//racialstuff
  document.form1.eye_color[0].checked=false;
  document.form1.eye_color[1].checked=false;
  document.form1.eye_color[2].checked=false;
  document.form1.eye_color[3].checked=false;
  document.form1.eye_color[4].checked=false;
  document.form1.eye_color[5].checked=false;
  document.form1.eye_color[6].checked=false;
  document.form1.eye_color[7].checked=false;
  document.form1.eye_color[8].checked=false;
  document.form1.eye_color[9].checked=false;
  document.form1.eye_color[10].checked=false;
  document.form1.hair_color[0].checked=false;
  document.form1.hair_color[1].checked=false;
  document.form1.hair_color[2].checked=false;
  document.form1.hair_color[3].checked=false;
  document.form1.hair_color[4].checked=false;
  document.form1.hair_color[5].checked=false;
  document.form1.hair_color[6].checked=false;
  document.form1.hair_color[7].checked=false;
  document.form1.hair_color[8].checked=false;
  document.form1.hair_color[9].checked=false;
  document.form1.hair_color[10].checked=false;
  document.form1.hair_color[11].checked=false;
  document.form1.skin_color[0].checked=false;
  document.form1.skin_color[1].checked=false;
  document.form1.skin_color[2].checked=false;
  document.form1.skin_color[3].checked=false;
  document.form1.skin_color[4].checked=false;
  document.form1.skin_color[5].checked=false;
  document.form1.skin_color[6].checked=false;
  document.form1.skin_color[7].checked=false;
  document.form1.skin_color[8].checked=false;
  document.form1.skin_color[9].checked=false;
  document.form1.speak_aarakocra.checked=false;
  document.form1.speak_buomman.checked=false;
  document.form1.speak_neraphim.checked=false;
  document.form1.speak_shadowswyft.checked=false;
  document.form1.speak_abyssal.checked=false;
  document.form1.speak_aquan.checked=false;
  document.form1.speak_auran.checked=false;
  document.form1.speak_celestial.checked=false;
  document.form1.speak_draconic.checked=false;
  document.form1.speak_dwarven.checked=false;
  document.form1.speak_elven.checked=false;
  document.form1.speak_darkelfsilent.checked=false;
  document.form1.speak_giant.checked=false;
  document.form1.speak_gith.checked=false;
  document.form1.speak_gnoll.checked=false;
  document.form1.speak_gnome.checked=false;
  document.form1.speak_goblin.checked=false;
  document.form1.speak_goliath.checked=false;
  document.form1.speak_halfling.checked=false;
  document.form1.speak_ignan.checked=false;
  document.form1.speak_infernal.checked=false;
  document.form1.speak_maenad.checked=false;
  document.form1.speak_mongrelfolk.checked=false;
  document.form1.speak_orc.checked=false;
  document.form1.speak_pterran.checked=false;
  document.form1.speak_raptoran.checked=false;
  document.form1.speak_catfolk.checked=false;
  document.form1.speak_slaad.checked=false;
  document.form1.speak_sylvan.checked=false;
  document.form1.speak_terran.checked=false;
  document.form1.speak_thrikreen.checked=false;
  document.form1.speak_xeph.checked=false;
  document.form1.speak_yuanti.checked=false;
  document.form1.speak_illithid.checked=false;
  document.form1.speak_illumian.checked=false;
  document.form1.speak_tasloi.checked=false;
  document.form1.speak_sahuagin.checked=false;
  document.form1.speak_lupin.checked=false;
  document.form1.speak_hengeyokai.checked=false;
  document.form1.speak_spiritfolk.checked=false;
  document.form1.speak_ratling.checked=false;
  document.form1.speak_vanara.checked=false;
  document.form1.speak_grippli.checked=false;
  document.form1.speak_beholder.checked=false;
  document.form1.speak_kuotoa.checked=false;
  document.form1.speak_undercommon.checked=false;
  document.form1.speak_otherlanguage1.checked=false;
  document.form1.speak_otherlanguage2.checked=false;
  document.form1.speak_otherlanguage3.checked=false;
  document.form1.speak_otherlanguage4.checked=false;
  document.form1.speak_otherlanguage5.checked=false;
  document.form1.speak_otherlanguage6.checked=false;
  document.form1.backpack.checked=false;
  document.form1.barrel.checked=false;
  document.form1.basket.checked=false;
  document.form1.bedroll.checked=false;
  document.form1.bell.checked=false;
  document.form1.blockandtackle.checked=false;
  document.form1.bottle.checked=false;
  document.form1.bucket.checked=false;
  document.form1.caltrops.checked=false;
  document.form1.candle.checked=false;
  document.form1.canvas.checked=false;
  document.form1.casemaporscroll.checked=false;

  document.form1.chalk.checked=false;
  document.form1.chest.checked=false;
  document.form1.crowbar.checked=false;
  document.form1.fishhook.checked=false;
  document.form1.fishingnet.checked=false;
  document.form1.flintandsteel.checked=false;
  document.form1.grapplinghook.checked=false;
  document.form1.hammer.checked=false;
  document.form1.inkvial.checked=false;
  document.form1.inkpen.checked=false;
  document.form1.jugclay.checked=false;
  document.form1.ladder.checked=false;
  document.form1.lampcommon.checked=false;
  document.form1.lanternbullseye.checked=false;
  document.form1.lanternhooded.checked=false;
  document.form1.mirror.checked=false;
  document.form1.mug.checked=false;
  document.form1.pick.checked=false;
  document.form1.pitcher.checked=false;
  document.form1.pole.checked=false;
  document.form1.pot.checked=false;
  document.form1.ram.checked=false;
  document.form1.sealingwax.checked=false;
  document.form1.sewingneedle.checked=false;
  document.form1.signalwhistle.checked=false;
  document.form1.signetring.checked=false;
  document.form1.sledge.checked=false;
  document.form1.soap.checked=false;
  document.form1.spadeorshovel.checked=false;
  document.form1.spyglass.checked=false;
  document.form1.tent.checked=false;
  document.form1.whetstone.checked=false;
  document.form1.alchemistlab.checked=false;
  document.form1.artisantools.checked=false;
  document.form1.climberskit.checked=false;
  document.form1.disguisekit.checked=false;
  document.form1.healerkit.checked=false;
  document.form1.hollyandmistletoe.checked=false;
  document.form1.holysymbolwooden.checked=false;

  document.form1.holysymbolsilver.checked=false;
  document.form1.hourglass.checked=false;
  document.form1.magnifyingglass.checked=false;
  document.form1.musicalinstrument.checked=false;
  document.form1.scale.checked=false;

  document.form1.spellcomponentpouch.checked=false;
  document.form1.thievestools.checked=false;
  document.form1.blanketwinter_list.selectedIndex=0;
  document.form1.chain.selectedIndex=0;
  document.form1.firewood.selectedIndex=0;
  document.form1.flask.selectedIndex=0;
  document.form1.lock.selectedIndex=0;
  document.form1.manacles.selectedIndex=0;
  document.form1.oilflask.selectedIndex=0;
  document.form1.paper.selectedIndex=0;
  document.form1.parchment.selectedIndex=0;
  document.form1.piton.selectedIndex=0;
  document.form1.pouch.selectedIndex=0;
  document.form1.rations.selectedIndex=0;
  document.form1.ropehempen.selectedIndex=0;
  document.form1.ropesilk.selectedIndex=0;
  document.form1.sack.selectedIndex=0;
  document.form1.vialinkorpotion.selectedIndex=0;
  document.form1.torch.selectedIndex=0;
  document.form1.waterskin.selectedIndex=0;
  document.form1.spellbook.selectedIndex=0;
  document.form1.tool.selectedIndex=0;
  document.form1.arrows.selectedIndex=0;
  document.form1.slingbullets.selectedIndex=0;
  document.form1.crossbowbolts.selectedIndex=0;
  document.form1.needles.selectedIndex=0;
 }

function WhoIsHandy() {
if ((wraith_template==true) || (spectral_template==true) || (umbral_template==true)) { return; }
club_handy=false;
   if ((monk_levels>0) || (druid_levels>0) || (wizard_levels>0))
 {club_handy=true; }

dagger_handy=false;
  if ((monk_levels>0) || (druid_levels>0) || (wizard_levels>0))
 {dagger_handy=true; }

shortspear_handy=false;
   if ((rayce==13) || (druid_levels>0) || (rayce==107))
 {shortspear_handy=true; }

longspear_handy==false;
   if ((rayce==158) || (rayce==93) || (rayce==96) || (rayce==97) || (rayce==107))
 {longspear_handy=true; }

quarterstaff_handy==false;
   if ((wizard_levels>0) || (monk_levels>0) || (druid_levels>0))
 {quarterstaff_handy=true; }

spear_handy==false;
   if ((druid_levels>0) || (rayce==107))
 {spear_handy=true; }

heavycrossbow_handy==false;
   if ((wizard_levels>0) || (monk_levels>0) || (rayce==107) || (rayce==108))
 {heavycrossbow_handy=true; }

lightcrossbow_handy==false;
   if ((wizard_levels>0) || (monk_levels>0) || (rayce==107))
 {lightcrossbow_handy=true; }

javelin_handy==false;
   if ((monk_levels>0) || (rayce==101) || (rayce==22))
 {javelin_handy=true; }

sling_handy==false;
   if ((monk_levels>0) || (druid_levels>0))
 {sling_handy=true; }

bolas_handy=false;
 if (rayce==159) {bolas_handy=true; }

lasso_handy=false;
 if (rayce==159) {lasso_handy=true; }

handaxe_handy==false;
   if ((monk_levels>0) || (rayce==66) || (rayce==157) || (npcother_class_name=="Scout"))
 {handaxe_handy=true; }

greataxe_handy==false;
   if ((rayce==127) || (rayce==22))
 {greataxe_handy=true; }

sap_handy==false;
   if ((bard_levels>0) || (rogue_levels>0))
 {sap_handy=true; }

greatsword_handy==false;
   if (rayce==163)
 {greatsword_handy=true; }

throwingaxe_handy==false;
   if ((rayce==163) || (npcother_class_name=="Scout"))
 {throwingaxe_handy=true; }

shortsword_handy==false;
   if ((rogue_levels>0) || (rayce==93) || (rayce==87) || (rayce==12) || (bard_levels>0) || (npcother_class_name=="Shugenja") || (npcother_class_name=="Ninja") || (npcother_class_name=="Scout"))
 {shortsword_handy=true; }

longsword_handy==false;
   if ((rayce==3) || (rayce==95) ||(rayce==159) || (rayce==94) || (rayce==86) || (rayce==48) || (rayce==74) || (rayce==57) || (rayce==66) || (rayce==11) || (rayce==10) || (rayce==9) || (bard_levels>0))
 {longsword_handy=true; }

rapier_handy==false;
   if ((rayce==3) ||(rayce==159) || (rayce==95) || (rayce==94) || (rayce==48) || (rayce==57) || (rayce==66) || (rayce==12) || (rayce==11) || (rayce==10) || (rayce==9) || (rogue_levels>0) || (bard_levels>0))
 {rapier_handy=true; }

scimitar_handy==false;
   if ((druid_levels>0) || (rayce==57))
 {scimitar_handy=true; }

trident_handy==false;
   if ((rayce==158) || (rayce==171) || (rayce==13) || (rayce==108) || (rayce==107) || (rayce==96) || (rayce==97))
 {trident_handy=true; }

picks_handy==false;
   if (rayce==174)
 {picks_handy=true; }

longbow_handy==false;
   if ((rayce==3) || (rayce==127) || (rayce==95) || (rayce==94) || (rayce==93) || (rayce==48) || (rayce==74) || (rayce==57) || (rayce==66) || (rayce==11) || (rayce==10) || (rayce==9))
 {longbow_handy=true; }

compositelongbow_handy==false;
   if ((compositelongbow_handy==false) && (rayce==3) || (rayce==95) || (rayce==94) || (rayce==93) || (rayce==48) || (rayce==57) || (rayce==74) || (rayce==66) || (rayce==11) || (rayce==10) || (rayce==9))
 {compositelongbow_handy=true; }

shortbow_handy==false;
   if ((shortbow_handy==false) && (rayce==3) || (rayce==95) || (rayce==94) || (rayce==93) || (rayce==87) || (rayce==48) || (rayce==57) || (rayce==74) || (rayce==66) || (rayce==11) || (rayce==10) || (rayce==9) || (rogue_levels>0) || (npcother_class_name=="Scout") || (bard_levels>0) || (npcother_class_name=="Ninja"))
  {shortbow_handy=true; }

battleaxe_handy=false;
 if (rayce==143) {battleaxe_handy=true; }

compositeshortbow_handy==false;
   if ((rayce==3) || (rayce==95) || (rayce==94) || (rayce==93) || (rayce==48) || (rayce==57) || (rayce==74) || (rayce==66) || (rayce==11) || (rayce==10) || (rayce==9))
 {compositeshortbow_handy=true; }

kama_handy==false;
   if ((monk_levels>0) || (npcother_class_name=="Ninja"))
 {kama_handy=true; }

nunchaku_handy==false;
   if ((monk_levels>0) || (npcother_class_name=="Ninja"))
 {nunchaku_handy=true; }

sai_handy==false;
   if ((monk_levels>0) || (npcother_class_name=="Ninja"))
 {sai_handy=true; }

siangham_handy==false;
   if ((monk_levels>0) || (npcother_class_name=="Ninja"))
 {siangham_handy=true; }

dwarvenwaraxe_handy==false;
   if ((rayce==4) || (rayce==162) || (rayce==155) || (rayce==156) || (rayce==91) || (rayce==38) || (rayce==47) || (rayce==56) || (rayce==65) || (rayce==14))
 { dwarvenwaraxe_handy=true; }

whip_handy==false;
   if ((bard_levels>0))
 { whip_handy=true; }

orcdoubleaxe_handy==false;
   if ((rayce==7) || (rayce==42) || (rayce==52) || (rayce==61) || (rayce==70) || (rayce==22) || (rayce==46) || (rayce==55) || (rayce==64) || (rayce==73))
 {orcdoubleaxe_handy=true; }

gnomehookedhammer_handy==false;
   if ((rayce==128) || (rayce==129) || (rayce==5) || (rayce==39) || (rayce==49) || (rayce==58) || (rayce==67) || (rayce==37) || (rayce==19) || (rayce==16))
 {gnomehookedhammer_handy=true; }

dwarvenurgrosh_handy==false;
   if ((rayce==4) || (rayce==162) || (rayce==155) || (rayce==156) || (rayce==130) | (rayce==91) || (rayce==38) || (rayce==47) || (rayce==56) || (rayce==65) || (rayce==14))
 {dwarvenurgrosh_handy=true; }

handcrossbow_handy==false;
   if ((rogue_levels>0) || (rayce==12) || (npcother_class_name=="Ninja"))
 {handcrossbow_handy=true; }

net_handy==false;
  if ((rayce==158) || (rayce==13) || (rayce==96) || (rayce==97) || (rayce==171))
 {net_handy=true; }

shuriken_handy==false;
	if (monk_levels > 0 || npcother_class_name=="Ninja") {
	shuriken_handy=true;
	}

kusari_handy==false;
	if (npcother_class_name=="Ninja") {
	kusari_handy=true;
	}

blowgun_handy==false;
	if (npcother_class_name=="Ninja") {
	blowgun_handy=true;
	}
}

function Arms() {
// WhoIsHandy();
if (npcother_class_name=="Samurai")
 {
  document.form1.bastardsword.checked=true;
  document.form1.shortsword.checked=true;
 }

if (document.form1.gauntlet.checked==true)
  {
   if ((already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.gauntlet.checked=false; }
  }
if (document.form1.dagger.checked==true)
  {
   if ((wizard_levels==0) && (dagger_handy==false) && (monk_levels==0) && (druid_levels==0) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.dagger.checked=false; }
  }

if (document.form1.punchingdagger.checked==true)
  {
   if ((already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.punchingdagger.checked=false; }
  }
if (document.form1.spikedgauntlet.checked==true)
  {
   if ((already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.spikedgauntlet.checked=false; }
  }
if (document.form1.lightmace.checked==true)
  {
   if ((already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.lightmace.checked=false; }
  }
if (document.form1.sickle.checked==true)
  {
   if ((druid_levels==0) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.sickle.checked=false; }
  }

if (document.form1.club.checked==true)
  {
   if ((monk_levels==0) && (club_handy==false) && (druid_levels==0) && (wizard_levels==0) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.club.checked=false; }
  }
if (document.form1.heavymace.checked==true)
  {
   if ((already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.heavymace.checked=false; }
  }
if (document.form1.morningstar.checked==true)
  {
   if ((already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.morningstar.checked=false; }
  }
if (document.form1.shortspear.checked==true)
  {
   if ((shortspear_handy==false) && (druid_levels==0) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.shortspear.checked=false; }
  }
if (document.form1.longspear.checked==true)
  {
   if ((already_knows_simple_weapons==false) && (longspear_handy==false) && (has_simpleweaponproficiency==false))
     { document.form1.longspear.checked=false; }
  }
if (document.form1.quarterstaff.checked==true)
  {
   if ((wizard_levels==0) && (quarterstaff_handy==false) && (monk_levels==0) && (druid_levels==0) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.quarterstaff.checked=false; }
  }
if (document.form1.spear.checked==true)
  {
   if ((druid_levels==0) && (spear_handy==false) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.spear.checked=false; }
  }
if (document.form1.heavycrossbow.checked==true)
  {
   if ((wizard_levels==0) && (heavycrossbow_handy==false) && (monk_levels==0) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.heavycrossbow.checked=false; }
  }
if (document.form1.lightcrossbow.checked==true)
  {
   if ((wizard_levels==0) && (lightcrossbow_handy==false) && (monk_levels==0) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.lightcrossbow.checked=false; }
  }
if (document.form1.dart.checked==true)
  {
   if ((already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.dart.checked=false; }
  }
if (document.form1.javelin.checked==true)
  {
   if ((monk_levels==0) && (javelin_handy==false) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.javelin.checked=false; }
  }
if (document.form1.sling.checked==true)
  {
   if ((monk_levels==0) && (sling_handy==false) && (druid_levels==0) && (already_knows_simple_weapons==false) && (has_simpleweaponproficiency==false))
     { document.form1.sling.checked=false; }
  }

if (document.form1.throwingaxe.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (throwingaxe_handy==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.throwingaxe.checked=false; }
  }

if (document.form1.lighthammer.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.lighthammer.checked=false; }
  }
if (document.form1.handaxe.checked==true)
  {
   if ((monk_levels==0) && (handaxe_handy==false) && (already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.handaxe.checked=false; }
  }
if (document.form1.kukri.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false) && (npcother_class_name!="Ninja"))
     { document.form1.kukri.checked=false; }
  }
if (document.form1.lightpick.checked==true)
  {
   if ((picks_handy==false) && (already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.lightpick.checked=false; }
  }
if (document.form1.sap.checked==true)
  {
   if ((bard_levels==0) && (sap_handy==false) && (already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.sap.checked=false; }
  }
if (document.form1.lightshield.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.lightshield.checked=false; }
  }
if (document.form1.spikedarmor.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.spikedarmor.checked=false; }
  }
if (document.form1.lightspikedshield.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.lightspikedshield.checked=false; }
  }
if (document.form1.shortsword.checked==true)
  {
   if ((rogue_levels==0) && (shortsword_handy==false) && (bard_levels==0) && (sorcerer_totem!=1) && (already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.shortsword.checked=false; }
  }

if (document.form1.battleaxe.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (battleaxe_handy==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.battleaxe.checked=false; }
  }
if (document.form1.flail.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.flail.checked=false; }
  }
  
//racialstuff
if (document.form1.longsword.checked==true)
  {
   if ((longsword_handy==false) && (sorcerer_totem!=1) && (bard_levels==0) && (already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.longsword.checked=false; }
  }
if (document.form1.heavypick.checked==true)
  {
   if ((picks_handy==false) && (already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.heavypick.checked=false; }
  }
if (document.form1.rapier.checked==true)
  {
   if ((rapier_handy==false) && (rogue_levels==0) && (bard_levels==0) && (already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.rapier.checked=false; }
  }
if (document.form1.scimitar.checked==true)
  {
   if ((scimitar_handy==false) && (druid_levels==0) && (already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.scimitar.checked=false; }
  }
if (document.form1.heavyshield.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.heavyshield.checked=false; }
  }
  
  if (document.form1.heavyspikedshield.checked==true) {
   if ((already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.heavyspikedshield.checked=false; }
  }
  
if (document.form1.trident.checked==true)
  {
   if ((trident_handy==false) && (already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.trident.checked=false; }
  }
if (document.form1.warhammer.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (sorcerer_totem!=1) && (has_martialweaponproficiency==false))
     { document.form1.warhammer.checked=false; }
  }
if (document.form1.falchion.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.falchion.checked=false; }
  }
if (document.form1.glaive.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.glaive.checked=false; }
  }
if (document.form1.greataxe.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (greataxe_handy==false) && (has_martialweaponproficiency==false))
     { document.form1.greataxe.checked=false; }
  }
if (document.form1.heavyflail.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.heavyflail.checked=false; }
  }
if (document.form1.greatsword.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (greatsword_handy==false) && (has_martialweaponproficiency==false))
     { document.form1.greatsword.checked=false; }
  }
if (document.form1.guisarme.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.guisarme.checked=false; }
  }
if (document.form1.halberd.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.halberd.checked=false; }
  }
if (document.form1.lance.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false) && (Species_Name!="Centaur"))
     { document.form1.lance.checked=false; }
  }
if (document.form1.ranseur.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.ranseur.checked=false; }
  }
if (document.form1.scythe.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.scythe.checked=false; }
  }
if (document.form1.longbow.checked==true)
  {
   if ((longbow_handy==false) && (already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.longbow.checked=false; }
  }
if (document.form1.compositelongbow.checked==true)
  {
   if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false) && (compositelongbow_handy==false))
     { document.form1.compositelongbow.checked=false; }
  }
if (document.form1.shortbow.checked==true)
  {
   if ((rogue_levels==0) && (bard_levels==0) && (already_knows_martial_weapons==false) && (has_martialweaponproficiency==false) && (shortbow_handy==false))
     { document.form1.shortbow.checked=false; }
  }
if (document.form1.compositeshortbow.checked==true)
  {
   if ((compositeshortbow_handy==false) && (already_knows_martial_weapons==false) && (has_martialweaponproficiency==false))
     { document.form1.compositeshortbow.checked=false; }
  }
if (document.form1.kama.checked==true)
  {
   if ((monk_levels==0) && (kama_handy==false) && (has_exoticweaponproficiency==false))
     { document.form1.kama.checked=false; }
  }
if (document.form1.nunchaku.checked==true)
  {
   if ((monk_levels==0) && (has_exoticweaponproficiency==false) && (nunchaku_handy==false))
     { document.form1.nunchaku.checked=false; }
  }
if (document.form1.sai.checked==true)
  {
   if ((monk_levels==0) && (has_exoticweaponproficiency==false) && (sai_handy==false))
     { document.form1.sai.checked=false; }
  }
if (document.form1.siangham.checked==true)
  {
   if ((monk_levels==0) && (has_exoticweaponproficiency==false) && (siangham_handy==false))
     { document.form1.siangham.checked=false; }
  }
if (document.form1.bastardsword.checked==true)
  {
   if ((has_exoticweaponproficiency==false) && (npcother_class_name!="Samurai"))
     { document.form1.bastardsword.checked=false; }
  }
if (document.form1.dwarvenwaraxe.checked==true)
  {
//   alert("dwarvenwaraxehandy="+dwarvenwaraxe_handy);
   if ((dwarvenwaraxe_handy==false) && (has_exoticweaponproficiency==false))
     { document.form1.dwarvenwaraxe.checked=false; }
  }
if (document.form1.whip.checked==true)
  {
   if ((bard_levels==0) && (whip_handy==false))
     { document.form1.whip.checked=false; }
  }
if (document.form1.orcdoubleaxe.checked==true)
  {
   if ((orcdoubleaxe_handy==false) && (has_exoticweaponproficiency==false))
     { document.form1.orcdoubleaxe.checked=false; }
  }
if (document.form1.spikedchain.checked==true)
  {
   if ((has_exoticweaponproficiency==false) && (Species_Name!="Kyton"))
     { document.form1.spikedchain.checked=false; }
  }
if (document.form1.direflail.checked==true)
  {
   if ((has_exoticweaponproficiency==false))
     { document.form1.direflail.checked=false; }
  }
if (document.form1.gnomehookedhammer.checked==true)
  {
   if ((gnomehookedhammer_handy==false) && (has_exoticweaponproficiency==false))
     { document.form1.gnomehookedhammer.checked=false; }
  }
if (document.form1.twobladedsword.checked==true)
  {
   if ((has_exoticweaponproficiency==false))
     { document.form1.twobladedsword.checked=false; }
  }
if (document.form1.dwarvenurgrosh.checked==true)
  {
   if ((dwarvenurgrosh_handy==false) && (has_exoticweaponproficiency==false))
     { document.form1.dwarvenurgrosh.checked=false; }
  }
if (document.form1.bolas.checked==true)
  {
   if ((has_exoticweaponproficiency==false) && (bolas_handy==false))
     { document.form1.bolas.checked=false; }
  }
if (document.form1.handcrossbow.checked==true)
  {
   if ((handcrossbow_handy==false) && (rogue_levels==0))
     { document.form1.handcrossbow.checked=false; }
  }
if (document.form1.repeatingheavycrossbow.checked==true)
  {
   if ((has_exoticweaponproficiency==false))
     { document.form1.repeatingheavycrossbow.checked=false; }
  }
if (document.form1.repeatinglightcrossbow.checked==true)
  {
   if ((has_exoticweaponproficiency==false))
     { document.form1.repeatinglightcrossbow.checked=false; }
  }
if (document.form1.net.checked==true)
  {
   if ((net_handy==false) && (has_exoticweaponproficiency==false))
     { document.form1.net.checked=false; }
  }
if (document.form1.shuriken.checked==true)
  {
   if ((shuriken_handy==false) && (monk_levels==0) && (has_exoticweaponproficiency==false))
     { document.form1.shuriken.checked=false; }
  }

if (document.form1.blowgun.checked==true) {
	if (blowgun_handy==false && has_exoticweaponproficiency==false && npcother_class_name=="Ninja") {
	document.form1.blowgun.checked=false;
	}
}

if (document.form1.kusari.checked==true) {
	if (kusari_handy==false && has_exoticweaponproficiency==false && npcother_class_name=="Ninja") {
	document.form1.kusari.checked=false;
	}
}

if (document.form1.pistol.checked==true)
 {
  if ((has_exoticweaponproficiency==false))
   { document.form1.pistol.checked=false; }
 }
if (document.form1.musket.checked==true)
 {
  if ((has_exoticweaponproficiency==false))
   { document.form1.musket.checked=false; }
 }

if (already_knows_light_armor==false && has_armorproficiencylight==false)
	     { document.form1.armor_radio[0].checked=true; }

if (document.form1.armor_radio[1].checked==true)
  {
   if ((already_knows_light_armor==false) && (has_armorproficiencylight==false))
     { document.form1.armor_radio[1].checked=false; }
  }

if (document.form1.armor_radio[2].checked==true)
  {
   if ((already_knows_light_armor==false) && (has_armorproficiencylight==false))
     { document.form1.armor_radio[2].checked=false; }
  }
if (document.form1.armor_radio[3].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_light_armor==false) && (has_armorproficiencylight==false)))
     { document.form1.armor_radio[3].checked=false; }
  }
if (document.form1.armor_radio[4].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_light_armor==false) && (has_armorproficiencylight==false)))
     { document.form1.armor_radio[4].checked=false; }
  }
if (document.form1.armor_radio[5].checked==true)
  {
   if ((already_knows_medium_armor==false) && (has_armorproficiencymedium==false))
     { document.form1.armor_radio[5].checked=false; }
  }
if (document.form1.armor_radio[6].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_medium_armor==false) && (has_armorproficiencymedium==false)))
     { document.form1.armor_radio[6].checked=false; }
  }
if (document.form1.armor_radio[7].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_medium_armor==false) && (has_armorproficiencymedium==false)))
     { document.form1.armor_radio[7].checked=false; }
  }
if (document.form1.armor_radio[8].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_medium_armor==false) && (has_armorproficiencymedium==false)))
     { document.form1.armor_radio[8].checked=false; }
  }
if (document.form1.armor_radio[9].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_heavy_armor==false) && (has_armorproficiencyheavy==false)))
     { document.form1.armor_radio[9].checked=false; }
  }
if (document.form1.armor_radio[10].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_heavy_armor==false) && (has_armorproficiencyheavy==false)))
     { document.form1.armor_radio[10].checked=false; }
  }
if (document.form1.armor_radio[11].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_heavy_armor==false) && (has_armorproficiencyheavy==false)))
     { document.form1.armor_radio[11].checked=false; }
  }
if (document.form1.armor_radio[12].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_heavy_armor==false) && (has_armorproficiencyheavy==false)))
     { document.form1.armor_radio[12].checked=false; }
  }

if (already_knows_shields==false && has_shieldproficiency==false)
	     { document.form1.shield_radio[0].checked=true; }

if (document.form1.shield_radio[1].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_shields==false) && (has_shieldproficiency==false)))
     { document.form1.shield_radio[1].checked=false; }
  }

if (document.form1.shield_radio[2].checked==true)
  {
   if ((already_knows_shields==false) && (has_shieldproficiency==false))
     { document.form1.shield_radio[2].checked=false; }
  }
if (document.form1.shield_radio[3].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_shields==false) && (has_shieldproficiency==false)))
     { document.form1.shield_radio[3].checked=false; }
  }
if (document.form1.shield_radio[4].checked==true)
  {
   if ((already_knows_shields==false) && (has_shieldproficiency==false))
     { document.form1.shield_radio[4].checked=false; }
  }
if (document.form1.shield_radio[5].checked==true)
  {
   if ((druid_levels>0) || ((already_knows_shields==false) && (has_shieldproficiency==false)))
     { document.form1.shield_radio[5].checked=false; }
  }
if (document.form1.shield_radio[6].checked==true)
  {
   if ((already_knows_tower_shield==false) && (has_towershieldproficiency==false))
     { document.form1.shield_radio[6].checked=false; }
  }
if ((document.form1.arrows.selectedIndex==0) &&
   (
    (document.form1.longbow.checked==true) |
    (document.form1.compositelongbow.checked==true) |
    (document.form1.shortbow.checked==true) |
    (document.form1.compositeshortbow.checked==true)
   ))
   { document.form1.arrows.selectedIndex=1; }

if ((document.form1.bullets.selectedIndex==0) && (document.form1.pistol.checked==true || document.form1.musket.checked==true))
  { document.form1.bullets.selectedIndex=1; }

 if (document.form1.slingbullets.selectedIndex==0 && document.form1.sling.checked==true)
   { document.form1.slingbullets.selectedIndex=1; }

 if (document.form1.needles.selectedIndex==0 && document.form1.blowgun.checked==true)
   { document.form1.needles.selectedIndex=1; }

 if ((document.form1.crossbowbolts.selectedIndex==0) &&
   (
    (document.form1.heavycrossbow.checked==true) |
    (document.form1.lightcrossbow.checked==true) |
    (document.form1.repeatingheavycrossbow.checked==true) |
    (document.form1.repeatinglightcrossbow.checked==true)
   ))
   { document.form1.crossbowbolts.selectedIndex=1; }
}

function lock_skills() {
 	if (total_skill_points==0) { 
 		document.form1.fifth_comment_box.value="Not ready yet."; 
 	}
 	else if (skill_points_spent!=total_skill_points) { 
 		document.form1.fifth_comment_box.value="Please assign your skill points precisely."; 
 	} else {
   SkillPointsAreLocked=true;
   document.form1.fifth_comment_box.value="Skills are assigned.";
   DoYourFeatEntitlements(); 
   AdjustFeatMenus();
   NegateFeats();
   Feats();
  }
  ArrowShow();
}

function goodsave(levello) {
 if (levello== 1) { return 2} else
 if (levello== 2) { return 3} else
 if (levello== 3) { return 3} else
 if (levello== 4) { return 4} else
 if (levello== 5) { return 4} else
 if (levello== 6) { return 5} else
 if (levello== 7) { return 5} else
 if (levello== 8) { return 6} else
 if (levello== 9) { return 6} else
 if (levello==10) { return 7} else
 if (levello==11) { return 7} else
 if (levello==12) { return 8} else
 if (levello==13) { return 8} else
 if (levello==14) { return 9} else
 if (levello==15) { return 9} else
 if (levello==16) { return 10} else
 if (levello==17) { return 10} else
 if (levello==18) { return 11} else
 if (levello==19) { return 11} else
 if (levello==20) { return 12} else
 return 0;
 }


function poorsave(levello) {
 if (levello== 1) { return 0} else
 if (levello== 2) { return 0} else
 if (levello== 3) { return 1} else
 if (levello== 4) { return 1} else
 if (levello== 5) { return 1} else
 if (levello== 6) { return 2} else
 if (levello== 7) { return 2} else
 if (levello== 8) { return 2} else
 if (levello== 9) { return 3} else
 if (levello==10) { return 3} else
 if (levello==11) { return 3} else
 if (levello==12) { return 4} else
 if (levello==13) { return 4} else
 if (levello==14) { return 4} else
 if (levello==15) { return 5} else
 if (levello==16) { return 5} else
 if (levello==17) { return 5} else
 if (levello==18) { return 6} else
 if (levello==19) { return 6} else
 if (levello==20) { return 6} else
 return 0;
 }

function goodattack(levello) { return levello}

function averageattack(levello) {
 if (levello== 1) { return 0} else
 if (levello== 2) { return 1} else
 if (levello== 3) { return 2} else
 if (levello== 4) { return 3} else
 if (levello== 5) { return 3} else
 if (levello== 6) { return 4} else
 if (levello== 7) { return 5} else
 if (levello== 8) { return 6} else
 if (levello== 9) { return 6} else
 if (levello==10) { return 7} else
 if (levello==11) { return 8} else
 if (levello==12) { return 9} else
 if (levello==13) { return 9} else
 if (levello==14) { return 10} else
 if (levello==15) { return 11} else
 if (levello==16) { return 12} else
 if (levello==17) { return 12} else
 if (levello==18) { return 13} else
 if (levello==19) { return 14} else
 if (levello==20) { return 15} else
 return 0;
 }

function poorattack(levello) {
 if (levello== 1) { return 0} else
 if (levello== 2) { return 1} else
 if (levello== 3) { return 1} else
 if (levello== 4) { return 2} else
 if (levello== 5) { return 2} else
 if (levello== 6) { return 3} else
 if (levello== 7) { return 3} else
 if (levello== 8) { return 4} else
 if (levello== 9) { return 4} else
 if (levello==10) { return 5} else
 if (levello==11) { return 5} else
 if (levello==12) { return 6} else
 if (levello==13) { return 6} else
 if (levello==14) { return 7} else
 if (levello==15) { return 7} else
 if (levello==16) { return 8} else
 if (levello==17) { return 8} else
 if (levello==18) { return 9} else
 if (levello==19) { return 9} else
 if (levello==20) { return 10} else
 return 0;
 }

function AddUpTheClasses() {
 NegateNonEpicClassLevels()
 if (total_levels>0) {upsky(class01); }
 if (total_levels>1) {upsky(class02); }
 if (total_levels>2) {upsky(class03); }
 if (total_levels>3) {upsky(class04); }
 if (total_levels>4) {upsky(class05); }
 if (total_levels>5) {upsky(class06); }
 if (total_levels>6) {upsky(class07); }
 if (total_levels>7) {upsky(class08); }
 if (total_levels>8) {upsky(class09); }
 if (total_levels>9) {upsky(class10); }
 if (total_levels>10) {upsky(class11); }
 if (total_levels>11) {upsky(class12); }
 if (total_levels>12) {upsky(class13); }
 if (total_levels>13) {upsky(class14); }
 if (total_levels>14) {upsky(class15); }
 if (total_levels>15) {upsky(class16); }
 if (total_levels>16) {upsky(class17); }
 if (total_levels>17) {upsky(class18); }
 if (total_levels>18) {upsky(class19); }
 if (total_levels>19) {upsky(class20); }
 if (epic_total_levels>0) {EpicClasses(); }

 if (document.form1.barbariangestalt.checked==true) {barbarian_levels+=npcother_levels; epic_barbarian_levels+=epic_npcother_levels; }
 if (document.form1.bardgestalt.checked==true) {bard_levels+=npcother_levels;  epic_bard_levels+=epic_npcother_levels; }
 if (document.form1.clericgestalt.checked==true) {cleric_levels+=npcother_levels;  epic_cleric_levels+=epic_npcother_levels; }
 if (document.form1.druidgestalt.checked==true) {druid_levels+=npcother_levels;  epic_druid_levels+=epic_npcother_levels; }
 if (document.form1.monkgestalt.checked==true) {monk_levels+=npcother_levels;  epic_monk_levels+=epic_npcother_levels; }
 if (document.form1.paladingestalt.checked==true) {paladin_levels+=npcother_levels;  epic_paladin_levels+=epic_npcother_levels; }
 if (document.form1.rangergestalt.checked==true) {ranger_levels+=npcother_levels;  epic_ranger_levels+=epic_npcother_levels; }
 if (document.form1.fightergestalt.checked==true) {fighter_levels+=npcother_levels;  epic_fighter_levels+=epic_npcother_levels; }
 if (document.form1.roguegestalt.checked==true) {rogue_levels+=npcother_levels;  epic_rogue_levels+=epic_npcother_levels; }
 if (document.form1.sorcerergestalt.checked==true) {sorcerer_levels+=npcother_levels;  epic_sorcerer_levels+=epic_npcother_levels; }
 if (document.form1.wizardgestalt.checked==true) {wizard_levels+=npcother_levels;  epic_wizard_levels+=epic_npcother_levels; }
 if (document.form1.psiongestalt.checked==true) {psion_levels+=npcother_levels;  epic_psion_levels+=epic_npcother_levels; }

 base_attack_bonus=0;
 base_fortitude_bonus=0;
 base_will_bonus=0;
 base_reflex_bonus=0;

 base_attack_bonus+=goodattack(barbarian_levels);
   base_fortitude_bonus+=goodsave(barbarian_levels);
     base_reflex_bonus+=poorsave(barbarian_levels);
        base_will_bonus+=poorsave(barbarian_levels);

 base_attack_bonus+=averageattack(bard_levels);
   base_fortitude_bonus+=poorsave(bard_levels);
     base_reflex_bonus+=goodsave(bard_levels);
        base_will_bonus+=goodsave(bard_levels);
        if ((bard_totem==1) || (bard_totem==3)) {base_reflex_bonus+=poorsave(bard_levels)-goodsave(bard_levels); }

 base_attack_bonus+=averageattack(cleric_levels);
   if (cleric_totem==1) {base_attack_bonus+=poorattack(cleric_levels)-averageattack(cleric_levels); }
   base_fortitude_bonus+=goodsave(cleric_levels);
     base_reflex_bonus+=poorsave(cleric_levels);
        base_will_bonus+=goodsave(cleric_levels);

 base_attack_bonus+=averageattack(druid_levels);
   base_fortitude_bonus+=goodsave(druid_levels);
     base_reflex_bonus+=poorsave(druid_levels);
        base_will_bonus+=goodsave(druid_levels);

 base_attack_bonus+=goodattack(fighter_levels);
   base_fortitude_bonus+=goodsave(fighter_levels);
     base_reflex_bonus+=poorsave(fighter_levels);
        base_will_bonus+=poorsave(fighter_levels);

 base_attack_bonus+=averageattack(monk_levels);
   base_fortitude_bonus+=goodsave(monk_levels);
     base_reflex_bonus+=goodsave(monk_levels);
        base_will_bonus+=goodsave(monk_levels);

 base_attack_bonus+=goodattack(paladin_levels);
   base_fortitude_bonus+=goodsave(paladin_levels);
     base_reflex_bonus+=poorsave(paladin_levels);
        base_will_bonus+=poorsave(paladin_levels);

 base_attack_bonus+=goodattack(ranger_levels);
   base_fortitude_bonus+=goodsave(ranger_levels);
     base_reflex_bonus+=goodsave(ranger_levels);
        base_will_bonus+=poorsave(ranger_levels);

 base_attack_bonus+=averageattack(rogue_levels);
   base_fortitude_bonus+=poorsave(rogue_levels);
     base_reflex_bonus+=goodsave(rogue_levels);
        base_will_bonus+=poorsave(rogue_levels);

 base_attack_bonus+=poorattack(sorcerer_levels);
  if (sorcerer_totem==1) {base_attack_bonus=base_attack_bonus+averageattack(sorcerer_levels)-poorattack(sorcerer_levels); }
   base_fortitude_bonus+=poorsave(sorcerer_levels);
     base_reflex_bonus+=poorsave(sorcerer_levels);
        base_will_bonus+=goodsave(sorcerer_levels);

 base_attack_bonus+=poorattack(wizard_levels);
   base_fortitude_bonus+=poorsave(wizard_levels);
     base_reflex_bonus+=poorsave(wizard_levels);
        base_will_bonus+=goodsave(wizard_levels);

 base_attack_bonus+=poorattack(psion_levels);
   base_fortitude_bonus+=poorsave(psion_levels);
     base_reflex_bonus+=poorsave(psion_levels);
        base_will_bonus+=goodsave(psion_levels);

 base_attack_bonus+=averageattack(psiwarrior_levels);
   base_fortitude_bonus+=goodsave(psiwarrior_levels);
     base_reflex_bonus+=poorsave(psiwarrior_levels);
        base_will_bonus+=poorsave(psiwarrior_levels);

 base_attack_bonus+=averageattack(soulknife_levels);
   base_fortitude_bonus+=poorsave(soulknife_levels);
     base_reflex_bonus+=goodsave(soulknife_levels);
        base_will_bonus+=goodsave(soulknife_levels);

 base_attack_bonus+=averageattack(wilder_levels);
   base_fortitude_bonus+=poorsave(wilder_levels);
     base_reflex_bonus+=poorsave(wilder_levels);
        base_will_bonus+=goodsave(wilder_levels);


 base_attack_bonus+=averageattack(artificer_levels);
   base_fortitude_bonus+=poorsave(artificer_levels);
     base_reflex_bonus+=poorsave(artificer_levels);
        base_will_bonus+=goodsave(artificer_levels);


if ((halfdragon_template==true) || (halfair_template==true) || (halfearth_template==true) || (halffire_template==true) || (halfwater_template==true) || (halffiend_template==true) || (halfcelestial_template==true))
 {
  base_attack_bonus+=goodattack(humanoid_levels);
   base_fortitude_bonus+=goodsave(humanoid_levels);
     base_reflex_bonus+=goodsave(humanoid_levels);
        base_will_bonus+=goodsave(humanoid_levels);
 }

else {
//racialstuff
if ((rayce==20) || (rayce==121) || (rayce==122) || (rayce==123) || (rayce==124)) {
 base_attack_bonus+=averageattack(humanoid_levels);
   base_fortitude_bonus+=poorsave(humanoid_levels);
     base_reflex_bonus+=goodsave(humanoid_levels);
        base_will_bonus+=poorsave(humanoid_levels);
 }
//dragons
if ((rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90)) {
 base_attack_bonus+=goodattack(humanoid_levels);
   base_fortitude_bonus+=goodsave(humanoid_levels);
     base_reflex_bonus+=goodsave(humanoid_levels);
        base_will_bonus+=goodsave(humanoid_levels);
 }
//fey
if ((rayce==148) || (rayce==149) || (rayce==167)) {
 base_attack_bonus+=poorattack(humanoid_levels);
   base_fortitude_bonus+=goodsave(humanoid_levels);
     base_reflex_bonus+=goodsave(humanoid_levels);
        base_will_bonus+=goodsave(humanoid_levels);
 }
//humanoid, reflex
if ((rayce==23) || (rayce==173)) {
 base_attack_bonus+=averageattack(humanoid_levels);
   base_fortitude_bonus+=poorsave(humanoid_levels);
     base_reflex_bonus+=goodsave(humanoid_levels);
        base_will_bonus+=poorsave(humanoid_levels);
 }

//humanoid,fortitude
if ((rayce==27) || (rayce==24) || (rayce==150)) {
 base_attack_bonus+=averageattack(humanoid_levels);
   base_fortitude_bonus+=goodsave(humanoid_levels);
     base_reflex_bonus+=poorsave(humanoid_levels);
        base_will_bonus+=poorsave(humanoid_levels);
 }

//thri-kreen
if (rayce==34) {
 base_attack_bonus+=goodattack(humanoid_levels);
   base_fortitude_bonus+=poorsave(humanoid_levels);
     base_reflex_bonus+=goodsave(humanoid_levels);
        base_will_bonus+=goodsave(humanoid_levels);
 }

//monstrous humanoid
if ((rayce==74) || (rayce==168) || (rayce==169) || (rayce==166) || (rayce==131) || (rayce==141) || (rayce==142) || (rayce==143) || (rayce==144) || (rayce==151) || (rayce==176) || (rayce==177)) {
 base_attack_bonus+=goodattack(humanoid_levels);
   base_fortitude_bonus+=poorsave(humanoid_levels);
     base_reflex_bonus+=goodsave(humanoid_levels);
        base_will_bonus+=goodsave(humanoid_levels);
 }

//giant
if ((rayce==75) || (rayce==146) || (rayce==147)) {
 base_attack_bonus+=averageattack(humanoid_levels);
   base_fortitude_bonus+=goodsave(humanoid_levels);
     base_reflex_bonus+=poorsave(humanoid_levels);
        base_will_bonus+=poorsave(humanoid_levels);
 }
//aberration
if (rayce==145) {
 base_attack_bonus+=averageattack(humanoid_levels);
   base_fortitude_bonus+=poorsave(humanoid_levels);
     base_reflex_bonus+=poorsave(humanoid_levels);
        base_will_bonus+=goodsave(humanoid_levels);
 }


//outsider
if ((rayce==78) || (rayce==152) || (rayce==153) || (rayce==154) || (rayce==132) || (rayce==165) || (rayce==178)) {
 base_attack_bonus+=goodattack(humanoid_levels);
   base_fortitude_bonus+=goodsave(humanoid_levels);
     base_reflex_bonus+=goodsave(humanoid_levels);
        base_will_bonus+=goodsave(humanoid_levels);
 }
 }

if ((werebear_template==true) || (wereboar_template==true) || (wererat_template==true) || (weretiger_template==true) || (werewolf_template==true))
 {
 base_attack_bonus+=averageattack(lycanthrope_hit_dice);
   base_fortitude_bonus+=goodsave(lycanthrope_hit_dice);
     base_reflex_bonus+=goodsave(lycanthrope_hit_dice);
        base_will_bonus+=goodsave(lycanthrope_hit_dice);
 }



  if (prestige_attack_bonus_progress==1) {base_attack_bonus+=poorattack(prestige_levels); }
  if (prestige_attack_bonus_progress==2) {base_attack_bonus+=averageattack(prestige_levels); }
  if (prestige_attack_bonus_progress==3) {base_attack_bonus+=goodattack(prestige_levels); }
  if (prestige_fortitude_save_bonus==1) {base_fortitude_bonus+=poorsave(prestige_levels); }
  if (prestige_fortitude_save_bonus==2) {base_fortitude_bonus+=goodsave(prestige_levels); }
  if (prestige_reflex_save_bonus==1) {base_reflex_bonus+=poorsave(prestige_levels); }
  if (prestige_reflex_save_bonus==2) {base_reflex_bonus+=goodsave(prestige_levels); }
  if (prestige_will_save_bonus==1) {base_will_bonus+=poorsave(prestige_levels); }
  if (prestige_will_save_bonus==2) {base_will_bonus+=goodsave(prestige_levels); }

  if (npcother_attack_bonus_progress==1) {base_attack_bonus+=poorattack(npcother_levels); }
  if (npcother_attack_bonus_progress==2) {base_attack_bonus+=averageattack(npcother_levels); }
  if (npcother_attack_bonus_progress==3) {base_attack_bonus+=goodattack(npcother_levels); }
  if (npcother_fortitude_save_bonus==1) {base_fortitude_bonus+=poorsave(npcother_levels); }
  if (npcother_fortitude_save_bonus==2) {base_fortitude_bonus+=goodsave(npcother_levels); }
  if (npcother_reflex_save_bonus==1) {base_reflex_bonus+=poorsave(npcother_levels); }
  if (npcother_reflex_save_bonus==2) {base_reflex_bonus+=goodsave(npcother_levels); }
  if (npcother_will_save_bonus==1) {base_will_bonus+=poorsave(npcother_levels); }
  if (npcother_will_save_bonus==2) {base_will_bonus+=goodsave(npcother_levels); }


}

function RememberFighterFeatsEtc() {

 document.form1.monkish_1[0].checked=monkish_improved_grapple;
 document.form1.monkish_1[1].checked=monkish_stunning_fist;
 document.form1.monkish_2[0].checked=monkish_combat_reflexes;
 document.form1.monkish_2[1].checked=monkish_deflect_arrows;
 document.form1.monkish_3[0].checked=monkish_improved_disarm;
 document.form1.monkish_3[1].checked=monkish_improved_trip;

  if (total_levels>barbarian_levels +humanoid_levels)
   {
    document.form1.reading_barbarian[0].checked=false;
    document.form1.reading_barbarian[1].checked=false;
   }
  else
   {
    if (can_read==false) { document.form1.reading_barbarian[0].checked=true; }
    if (can_read==true) { document.form1.reading_barbarian[1].checked=true; }
   }
  if ((ranger_levels + epic_ranger_levels==0) || (ranger_totem==3))
   {
    document.form1.ranger_combat_track[0].checked=true;
    document.form1.ranger_combat_track[0].checked=false;
   }
  else
   {
    if (rangercombattrack==1) { document.form1.ranger_combat_track[0].checked=true; }
    if (rangercombattrack==2) { document.form1.ranger_combat_track[1].checked=true; }
    if (rangercombattrack==3) { document.form1.ranger_combat_track[2].checked=true; }
    if (rangercombattrack==4) { document.form1.ranger_combat_track[3].checked=true; }
   }
  RememberPrestigeClassOptions()
  RememberNPCOtherClass();
  document.form1.air_domain.checked=has_air_domain;
  document.form1.animal_domain.checked=has_animal_domain;
  document.form1.chaos_domain.checked=has_chaos_domain;
  document.form1.death_domain.checked=has_death_domain;
  document.form1.destruction_domain.checked=has_destruction_domain;
  document.form1.earth_domain.checked=has_earth_domain;
  document.form1.evil_domain.checked=has_evil_domain;
  document.form1.fire_domain.checked=has_fire_domain;
  document.form1.good_domain.checked=has_good_domain;
  document.form1.healing_domain.checked=has_healing_domain;
  document.form1.knowledge_domain.checked=has_knowledge_domain;
  document.form1.law_domain.checked=has_law_domain;
  document.form1.luck_domain.checked=has_luck_domain;
  document.form1.magic_domain.checked=has_magic_domain;
  document.form1.plant_domain.checked=has_plant_domain;
  document.form1.protection_domain.checked=has_protection_domain;
  document.form1.strength_domain.checked=has_strength_domain;
  document.form1.sun_domain.checked=has_sun_domain;
  document.form1.travel_domain.checked=has_travel_domain;
  document.form1.trickery_domain.checked=has_trickery_domain;
  document.form1.war_domain.checked=has_war_domain;
  document.form1.water_domain.checked=has_water_domain;
  document.form1.other_domain_1.checked=has_other_domain_1;
  document.form1.other_domain_2.checked=has_other_domain_2;
  if (channels_energy==1) { document.form1.choose_energy[0].checked=true; }
    else { document.form1.choose_energy[0].checked=false; }
  if (channels_energy==2) { document.form1.choose_energy[1].checked=true; }
    else { document.form1.choose_energy[1].checked=false; }
 }

function produceCharacterSheet() {
 SecondWindow=open("","secondWindow","toolbar=yes,location=yes,directories=yes,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width=500,height=500");
 if (SecondWindow!=null) {
  WriteTextForCharacterSheet()
// SecondWindow.scrollbars.visible=true;
  }
 }

function raise_ability(whazyt,howhigh) {
 if (whazyt==1) {strength++; }
 if (whazyt==2) {dexterity++; }
 if (whazyt==3) {constitution++; }
 if (whazyt==4) {intelligence++; }
 if (whazyt==5) {wisdom++; }
 if (whazyt==6) {charisma++; }
 }

function up04(whichwun) {

 if ((total_levels<4) || (ClassesHaveBeenEstablished==false)) {NegateAllUp04(); }
 else if ((AbilityIncreasesAreLocked==true) || (FighterFeatsEtcFrozen==true))
   {RememberWhichAbilitiesYouRaised(); } else
 upitat04=whichwun;
  ArrowShow();

 }

function NegateAllUp04() {
 z=0; while (z<6) { document.form1.upat04[z].checked=false; z++; }
 }

function up08(whichwun) {

 if ((total_levels<8) || (ClassesHaveBeenEstablished==false)) {NegateAllUp08(); }
 else if ((AbilityIncreasesAreLocked==true) || (FighterFeatsEtcFrozen==true))
   {RememberWhichAbilitiesYouRaised(); } else
 upitat08=whichwun;
  ArrowShow();

 }

function NegateAllUp08() {
 z=0; while (z<6) { document.form1.upat08[z].checked=false; z++; }
 }

function up12(whichwun) {

 if ((total_levels<12) || (ClassesHaveBeenEstablished==false)) {NegateAllUp12(); }
 else if ((AbilityIncreasesAreLocked==true) || (FighterFeatsEtcFrozen==true))
   {RememberWhichAbilitiesYouRaised(); } else
 upitat12=whichwun;
  ArrowShow();

 }

function NegateAllUp12() {
 z=0; while (z<6) { document.form1.upat12[z].checked=false; z++; }
 }

function up16(whichwun) {

 if ((total_levels<16) || (ClassesHaveBeenEstablished==false)) {NegateAllUp16(); }
 else if ((AbilityIncreasesAreLocked==true) || (FighterFeatsEtcFrozen==true))
   {RememberWhichAbilitiesYouRaised(); } else
 upitat16=whichwun;
  ArrowShow();

 }

function NegateAllUp16() {
 z=0; while (z<6) { document.form1.upat16[z].checked=false; z++; }
 }

function up20(whichwun) {

 if ((total_levels<20) || (ClassesHaveBeenEstablished==false)) {NegateAllUp20(); }
 else if ((AbilityIncreasesAreLocked==true) || (FighterFeatsEtcFrozen==true))
   {RememberWhichAbilitiesYouRaised(); } else
 upitat20=whichwun;
  ArrowShow();

 }

function NegateAllUp20() {
 z=0; while (z<6) { document.form1.upat20[z].checked=false; z++; }
 }




function NegateBarbarianLiteracy() {
   document.form1.reading_barbarian[0].checked=false;
   document.form1.reading_barbarian[1].checked=false;
 }

function NegateRangerCombatTrack() {
   document.form1.ranger_combat_track[0].checked=true;
   document.form1.ranger_combat_track[0].checked=false;
 }

function RememberWhetherBarbarianCanRead() {
 if (total_levels>barbarian_levels +humanoid_levels) {NegateBarbarianLiteracy(); } else
 {
  if (can_read==true) { document.form1.reading_barbarian[1].checked=true; }
  if (can_read==false) { document.form1.reading_barbarian[0].checked=true; }
 }
 }

function NegateFamiliarChoices() {
 document.form1.choose_familiar[0].checked=true;
 document.form1.choose_familiar[0].checked=false;
 }

function NegateHengeyokaiChoices() {
 document.form1.choose_hengeyokai[0].checked=true;
 document.form1.choose_hengeyokai[0].checked=false;
 }

function RememberRangerCombatTrack() {
 if ((ranger_levels + epic_ranger_levels==0) || (ranger_totem==3)) {NegateRangerCombatTrack(); } else
 {
  if (rangercombattrack==1) { document.form1.ranger_combat_track[0].checked=true; }
  if (rangercombattrack==2) { document.form1.ranger_combat_track[1].checked=true; }
  if (rangercombattrack==3) { document.form1.ranger_combat_track[2].checked=true; }
  if (rangercombattrack==4) { document.form1.ranger_combat_track[3].checked=true; }
 }
 }

function RememberFamiliar() {
 if ((wizard_levels +  sorcerer_levels==0) && ((npcother_class_name!="Adept") || (npcother_levels + epic_npcother_levels<2))) {NegateFamiliarChoices(); } else
 {
  if (no_familiar==true) { document.form1.choose_familiar[0].checked=true; }
  if (bat_familiar==true) { document.form1.choose_familiar[1].checked=true; }
  if (cat_familiar==true) { document.form1.choose_familiar[2].checked=true; }
  if (hawk_familiar==true) { document.form1.choose_familiar[3].checked=true; }
  if (lizard_familiar==true) { document.form1.choose_familiar[4].checked=true; }
  if (owl_familiar==true) { document.form1.choose_familiar[5].checked=true; }
  if (rat_familiar==true) { document.form1.choose_familiar[6].checked=true; }
  if (raven_familiar==true) { document.form1.choose_familiar[7].checked=true; }
  if (snake_familiar==true) { document.form1.choose_familiar[8].checked=true; }
  if (toad_familiar==true) { document.form1.choose_familiar[9].checked=true; }
  if (weasel_familiar==true) { document.form1.choose_familiar[10].checked=true; }
  if (improved_familiar==true) { document.form1.choose_familiar[11].checked=true; }
 }
}

function RememberHengeyokai() {
 if (rayce!=133) {NegateHengeyokaiChoices(); } else
 {
  if (badger_hengeyokai==true) { document.form1.choose_hengeyokai[0].checked=true; }
  if (carp_hengeyokai==true) { document.form1.choose_hengeyokai[1].checked=true; }
  if (cat_hengeyokai==true) { document.form1.choose_hengeyokai[2].checked=true; }
  if (crab_hengeyokai==true) { document.form1.choose_hengeyokai[3].checked=true; }
  if (crane_hengeyokai==true) { document.form1.choose_hengeyokai[4].checked=true; }
  if (dog_hengeyokai==true) { document.form1.choose_hengeyokai[5].checked=true; }
  if (fox_hengeyokai==true) { document.form1.choose_hengeyokai[6].checked=true; }
  if (hare_hengeyokai==true) { document.form1.choose_hengeyokai[7].checked=true; }
  if (monkey_hengeyokai==true) { document.form1.choose_hengeyokai[8].checked=true; }
  if (raccoondog_hengeyokai==true) { document.form1.choose_hengeyokai[9].checked=true; }
  if (rat_hengeyokai==true) { document.form1.choose_hengeyokai[10].checked=true; }
  if (sparrow_hengeyokai==true) { document.form1.choose_hengeyokai[11].checked=true; }
  if (weasel_hengeyokai==true) { document.form1.choose_hengeyokai[12].checked=true; }
 }
 }

function NegateWizardSpecialization() {
 document.form1.choose_specialty[0].checked=false;
 document.form1.choose_specialty[1].checked=false;
 document.form1.choose_specialty[2].checked=false;
 document.form1.choose_specialty[3].checked=false;
 document.form1.choose_specialty[4].checked=false;
 document.form1.choose_specialty[5].checked=false;
 document.form1.choose_specialty[6].checked=false;
 document.form1.choose_specialty[7].checked=false;
 document.form1.choose_specialty[8].checked=false;
 document.form1.forbid_abjuration.checked=false;
 document.form1.forbid_conjuration.checked=false;
 document.form1.forbid_enchantment.checked=false;
 document.form1.forbid_evocation.checked=false;
 document.form1.forbid_illusion.checked=false;
 document.form1.forbid_necromancy.checked=false;
 document.form1.forbid_transmutation.checked=false;
 ResetWizardSpecialties();
 }

function NegatePsionSpecialization() {
 document.form1.choose_psi_specialty[0].checked=false;
 document.form1.choose_psi_specialty[1].checked=false;
 document.form1.choose_psi_specialty[2].checked=false;
 document.form1.choose_psi_specialty[3].checked=false;
 document.form1.choose_psi_specialty[4].checked=false;
 document.form1.choose_psi_specialty[5].checked=false;
 ResetPsionSpecialties();
 }

function ResetPsionSpecialties() {
 egoist=false;
 nomad=false;
 kineticist=false;
 shaper=false;
 seer=false;
 telepath=false;
 }

function ResetWizardSpecialties() {
 no_specialist=true;
 abjuration_specialist=false;
 conjuration_specialist=false;
 divination_specialist=false;
 enchantment_specialist=false;
 evocation_specialist=false;
 illusion_specialist=false;
 necromancy_specialist=false;
 transmutation_specialist=false;
 gave_up_abjuration=false;
 gave_up_conjuration=false;
 gave_up_enchantment=false;
 gave_up_evocation=false;
 gave_up_illusion=false;
 gave_up_necromancy=false;
 gave_up_transmutation=false;
 }

function RememberWizardSpecialty() {
 document.form1.choose_specialty[0].checked=no_specialist;
 document.form1.choose_specialty[1].checked=abjuration_specialist;
 document.form1.choose_specialty[2].checked=conjuration_specialist;
 document.form1.choose_specialty[3].checked=divination_specialist;
 document.form1.choose_specialty[4].checked=enchantment_specialist;
 document.form1.choose_specialty[5].checked=evocation_specialist;
 document.form1.choose_specialty[6].checked=illusion_specialist;
 document.form1.choose_specialty[7].checked=necromancy_specialist;
 document.form1.choose_specialty[8].checked=transmutation_specialist;
 document.form1.forbid_abjuration.checked=gave_up_abjuration;
 document.form1.forbid_conjuration.checked=gave_up_conjuration;
 document.form1.forbid_enchantment.checked=gave_up_enchantment;
 document.form1.forbid_evocation.checked=gave_up_evocation;
 document.form1.forbid_illusion.checked=gave_up_illusion;
 document.form1.forbid_necromancy.checked=gave_up_necromancy;
 document.form1.forbid_transmutation.checked=gave_up_transmutation;
}

function RememberPsionSpecialty() {
 document.form1.choose_psi_specialty[0].checked=egoist;
 document.form1.choose_psi_specialty[1].checked=nomad;
 document.form1.choose_psi_specialty[2].checked=kineticist;
 document.form1.choose_psi_specialty[3].checked=shaper;
 document.form1.choose_psi_specialty[4].checked=seer;
 document.form1.choose_psi_specialty[5].checked=telepath;
 }

function WizardSpecialty() {
 if ((wizard_levels + epic_wizard_levels==0) || (ClassesHaveBeenEstablished==false)) {NegateWizardSpecialization(); }
 else if (FighterFeatsEtcFrozen==true)
  {RememberWizardSpecialty(); }
 else
  {
   ResetWizardSpecialties();
   if (document.form1.choose_specialty[0].checked==true) {no_specialist=true; }
   if (document.form1.choose_specialty[1].checked==true) {abjuration_specialist=true; no_specialist=false; wizard_specialty_name="Abjurer"; document.form1.forbid_abjuration.checked=false; }
   if (document.form1.choose_specialty[2].checked==true) {conjuration_specialist=true; no_specialist=false;  wizard_specialty_name="Conjuror"; document.form1.forbid_conjuration.checked=false; }
   if (document.form1.choose_specialty[3].checked==true) {divination_specialist=true; no_specialist=false;  wizard_specialty_name="Diviner"; }
   if (document.form1.choose_specialty[4].checked==true) {enchantment_specialist=true; no_specialist=false;  wizard_specialty_name="Enchanter"; if (gender==2) {wizard_specialty_name="Enchantress"; }document.form1.forbid_enchantment.checked=false; }
   if (document.form1.choose_specialty[5].checked==true) {evocation_specialist=true; no_specialist=false;  wizard_specialty_name="Evoker"; document.form1.forbid_evocation.checked=false; }
   if (document.form1.choose_specialty[6].checked==true) {illusion_specialist=true; no_specialist=false;  wizard_specialty_name="Illusionist"; document.form1.forbid_illusion.checked=false; }
   if (document.form1.choose_specialty[7].checked==true) {necromancy_specialist=true; no_specialist=false;  wizard_specialty_name="Necromancer"; document.form1.forbid_necromancy.checked=false; }
   if (document.form1.choose_specialty[8].checked==true) {transmutation_specialist=true; no_specialist=false;  wizard_specialty_name="Transmuter"; document.form1.forbid_transmutation.checked=false; }
   GenerateClassString();
   if (document.form1.forbid_abjuration.checked==true) {gave_up_abjuration=true; }
   if (document.form1.forbid_conjuration.checked==true) {gave_up_conjuration=true; }
   if (document.form1.forbid_enchantment.checked==true) {gave_up_enchantment=true; }
   if (document.form1.forbid_evocation.checked==true) {gave_up_evocation=true; }
   if (document.form1.forbid_illusion.checked==true) {gave_up_illusion=true; }
   if (document.form1.forbid_necromancy.checked==true) {gave_up_necromancy=true; }
   if (document.form1.forbid_transmutation.checked==true) {gave_up_transmutation=true; }
      if (no_specialist==true)
        {
         if (forbidden_school_count()!=0) { return false; }
         else { return true; }
        }

   if (abjuration_specialist==true)
        {
         if (forbidden_school_count()!=2) { return false; }
         else if (gave_up_abjuration==true) { return false; }
         else { return true; }
        }
   if (conjuration_specialist==true)
        {
         if (forbidden_school_count()!=2) { return false; }
         else if (gave_up_conjuration==true) { return false; }
         else { return true; }
        }
   if (divination_specialist==true)
        {
         if (forbidden_school_count()!=1) { return false; }
         else { return true; }
        }
   if (enchantment_specialist==true)
        {
         if (forbidden_school_count()!=2) { return false; }
         else if (gave_up_enchantment==true) { return false; }
         else { return true; }
        }
   if (evocation_specialist==true)
        {
         if (forbidden_school_count()!=2) { return false; }
         else if (gave_up_evocation==true) { return false; }
         else { return true; }
        }
   if (illusion_specialist==true)
        {
         if (forbidden_school_count()!=2) { return false; }
         else if (gave_up_illusion==true) { return false; }
         else { return true; }
        }
   if (necromancy_specialist==true)
        {
         if (forbidden_school_count()!=2) { return false; }
         else if (gave_up_necromancy==true) { return false; }
         else { return true; }
        }
   if (transmutation_specialist==true)
        {
         if (forbidden_school_count()!=2) { return false; }
         else if (gave_up_transmutation==true) { return false; }
         else { return true; }
        }
     return true;
  }
  return true;
 }

function PsionSpecialty() {
 if ((psion_levels + epic_psion_levels==0) || (ClassesHaveBeenEstablished==false)) {NegatePsionSpecialization(); }
 else if (FighterFeatsEtcFrozen==true)
  {RememberPsionSpecialty(); }
 else
  {
   ResetPsionSpecialties();
   if (document.form1.choose_psi_specialty[0].checked==true) {egoist=true; psion_specialty_name="Egoist"; GenerateClassString(); return true; }
   if (document.form1.choose_psi_specialty[1].checked==true) {kineticist=true; psion_specialty_name="Kineticist"; GenerateClassString(); return true; }
   if (document.form1.choose_psi_specialty[2].checked==true) {nomad=true; psion_specialty_name="Nomad"; GenerateClassString(); return true; }
   if (document.form1.choose_psi_specialty[3].checked==true) {seer=true; psion_specialty_name="Seer"; GenerateClassString(); return true; }
   if (document.form1.choose_psi_specialty[4].checked==true) {shaper=true; psion_specialty_name="Shaper"; GenerateClassString(); return true; }
   if (document.form1.choose_psi_specialty[5].checked==true) {telepath=true; psion_specialty_name="Telepath"; GenerateClassString(); return true; }
   GenerateClassString();
  }
  return false;
 }

function forbidden_school_count() {
 x=0;
 if (gave_up_abjuration==true) { x++; }
 if (gave_up_conjuration==true) { x++; }
 if (gave_up_enchantment==true) { x++; }
 if (gave_up_evocation==true) { x++; }
 if (gave_up_illusion==true) { x++; }
 if (gave_up_necromancy==true) { x++; }
 if (gave_up_transmutation==true) { x++; }
 return x;
 }

function NaturallyIlliterate() {
 x=0; if (bard_totem==3) { x=bard_levels; }
 if (total_levels>barbarian_levels +humanoid_levels +x) { return false; }
 if ((rayce==145) || (rayce==144) || (rayce==141) || (rayce==146) || (rayce==148) || (rayce==170)) { return false; }
 return true;
 }

function InviteBarbarianToRead() {

 if ((NaturallyIlliterate()==false) || (ClassesHaveBeenEstablished==false)) {NegateBarbarianLiteracy(); }
 else if (FighterFeatsEtcFrozen==true)
  {RememberWhetherBarbarianCanRead(); }
 else
  {
   if (document.form1.reading_barbarian[0].checked==true) {can_read=false; }
   if (document.form1.reading_barbarian[1].checked==true) {can_read=true; }
   ArrowShow();
  }
 }

function ChooseFamiliar() {
 if (((wizard_levels + sorcerer_levels + epic_wizard_levels + epic_sorcerer_levels==0) && ((npcother_levels + epic_npcother_levels<2) || (npcother_class_name!="Adept"))) || (ClassesHaveBeenEstablished==false)) {NegateFamiliarChoices(); }
 else if (FighterFeatsEtcFrozen==true)
  {RememberFamiliar(); }
 else
  {
   NegateFamiliars();
   if (document.form1.choose_familiar[0].checked==true) {no_familiar=true; } else {no_familiar=false; }
   if (document.form1.choose_familiar[1].checked==true) {bat_familiar=true; }
   if (document.form1.choose_familiar[2].checked==true) {cat_familiar=true; }
   if (document.form1.choose_familiar[3].checked==true) {hawk_familiar=true; }
   if (document.form1.choose_familiar[4].checked==true) {lizard_familiar=true; }
   if (document.form1.choose_familiar[5].checked==true) {owl_familiar=true; }
   if (document.form1.choose_familiar[6].checked==true) {rat_familiar=true; }
   if (document.form1.choose_familiar[7].checked==true) {raven_familiar=true; }
   if (document.form1.choose_familiar[8].checked==true) {snake_familiar=true; }
   if (document.form1.choose_familiar[9].checked==true) {toad_familiar=true; }
   if (document.form1.choose_familiar[10].checked==true) {weasel_familiar=true; }
   if (document.form1.choose_familiar[11].checked==true) {if (wizard_levels +  sorcerer_levels<3) { document.form1.choose_familiar[0].checked=true; no_familiar=true; return; } improved_familiar=true; }
  }
 }

function ChooseHengeyokai() {
 if ((rayce!=133) || (ClassesHaveBeenEstablished==false)) {NegateHengeyokaiChoices(); }
 else if (FighterFeatsEtcFrozen==true)
  {RememberHengeyokai(); }
 else
  {
   NegateHengeyokai();
   if (document.form1.choose_hengeyokai[0].checked==true) {badger_hengeyokai=true; } else {badger_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[1].checked==true) {carp_hengeyokai=true; } else {carp_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[2].checked==true) {cat_hengeyokai=true; } else {cat_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[3].checked==true) {crab_hengeyokai=true; } else {crab_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[4].checked==true) {crane_hengeyokai=true; } else {crane_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[5].checked==true) {dog_hengeyokai=true; } else {dog_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[6].checked==true) {fox_hengeyokai=true; } else {fox_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[7].checked==true) {hare_hengeyokai=true; } else {hare_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[8].checked==true) {monkey_hengeyokai=true; } else {monkey_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[9].checked==true) {rat_hengeyokai=true; } else {rat_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[10].checked==true) {raccoondog_hengeyokai=true; } else {raccoondog_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[11].checked==true) {sparrow_hengeyokai=true; } else {sparrow_hengeyokai=false; }
   if (document.form1.choose_hengeyokai[12].checked==true) {weasel_hengeyokai=true; } else {weasel_hengeyokai=false; }
  }
  ArrowShow();
 }

function NegateHengeyokai() {
 badger_hengeyokai=false;
 carp_hengeyokai=false;
 cat_hengeyokai=false;
 crab_hengeyokai=false;
 crane_hengeyokai=false;
 dog_hengeyokai=false;
 fox_hengeyokai=false;
 hare_hengeyokai=false;
 monkey_hengeyokai=false;
 raccoondog_hengeyokai=false;
 rat_hengeyokai=false;
 sparrow_hengeyokai=false;
 weasel_hengeyokai=false;
 }

function NegateFamiliars() {
 no_familiar=true;
 bat_familiar=false;
 cat_familiar=false;
 hawk_familiar=false;
 lizard_familiar=false;
 owl_familiar=false;
 rat_familiar=false;
 raven_familiar=false;
 snake_familiar=false;
 toad_familiar=false;
 weasel_familiar=false;
 improved_familiar=false;
 }

 function ChooseRangerCombatTrack() {
 if ((ranger_levels + epic_ranger_levels==0) || (ranger_totem==3) || (ClassesHaveBeenEstablished==false)) {NegateRangerCombatTrack(); }
 else if (FighterFeatsEtcFrozen==true)
  {RememberRangerCombatTrack(); }
 else
  {
   if (document.form1.ranger_combat_track[0].checked==true) {rangercombattrack=1; }
   if (document.form1.ranger_combat_track[1].checked==true) {rangercombattrack=2; }
   if (document.form1.ranger_combat_track[2].checked==true) {rangercombattrack=3; }
   if (document.form1.ranger_combat_track[3].checked==true) {rangercombattrack=4; }
  }
 ArrowShow();
 }

 function RangerFoesA() {
 if ((ranger_levels + epic_ranger_levels==0) || (ClassesHaveBeenEstablished==false)) {NegateRangerFoes(); }
 else if (FighterFeatsEtcFrozen==true)
  {RememberRangerFoes(); }
 else
  {
   ArrowShow();
  }
 }

function FreezeFighterFeatsEtc() {
 if (FighterFeatsEtcFrozen==true) { document.form1.fourth_comment_box.value="We are done here."; }
 else if (ClassesHaveBeenEstablished==false) { document.form1.fourth_comment_box.value="Not ready for this yet."; }

 else if (AbilitiesWellIncreased()==false)
  { document.form1.fourth_comment_box.value="Need to raise abilities."; }

 else if ( epic_ability_points_gained != Math.floor(epic_total_levels/4) ) { document.form1.fourth_comment_box.value="Need to raise epic abilities.";
   }

 else if ( (NaturallyIlliterate()==true) && (document.form1.reading_barbarian[0].checked==false) && (document.form1.reading_barbarian[1].checked==false) )
    { document.form1.fourth_comment_box.value="Can the barbarian/humanoid read?"; }

 else if ((monk_levels + epic_monk_levels>0) && (monk_totem==0) && (document.form1.monkish_1[0].checked==false) && (document.form1.monkish_1[1].checked==false))
    { document.form1.fourth_comment_box.value="Monk special feats"; }

 else if ((monk_levels + epic_monk_levels>1) && (monk_totem==0) && (document.form1.monkish_2[0].checked==false) && (document.form1.monkish_2[1].checked==false))
    { document.form1.fourth_comment_box.value="Monk special feats"; }

 else if ((monk_levels + epic_monk_levels>5) && (monk_totem==0) && (document.form1.monkish_3[0].checked==false) && (document.form1.monkish_3[1].checked==false))
    { document.form1.fourth_comment_box.value="Monk special feats"; }

 else if ( (ranger_levels + epic_ranger_levels>1) && (ranger_totem!=3) && (document.form1.ranger_combat_track[0].checked==false) && (document.form1.ranger_combat_track[1].checked==false) && (document.form1.ranger_combat_track[2].checked==false) && (document.form1.ranger_combat_track[3].checked==false) )
    { document.form1.fourth_comment_box.value="Ranger combat track"; }

 else if ((ranger_levels + epic_ranger_levels>0) && (RangerFoes()==false))
    { document.form1.fourth_comment_box.value="Ranger favored enemies"; }

 else if ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name=="Gestalt") && (countgestalts()!=2))
    { document.form1.fourth_comment_box.value="Gestalt characters need exactly two gestalt classes"; }

 else if ((cleric_levels + epic_cleric_levels>0) && (Domains()==false))
  { document.form1.fourth_comment_box.value="Wrong number of domains."; }

 else if ((psion_levels + epic_psion_levels>0) && (egoist==false) && (kineticist==false) && (nomad==false) && (telepath==false) && (seer==false) && (shaper==false))
  { document.form1.fourth_comment_box.value="A psion must specialize."; }

 else if ((cleric_levels + epic_cleric_levels>0) && (document.form1.choose_energy[0].checked==false) && (document.form1.choose_energy[1].checked==false))
  { document.form1.fourth_comment_box.value="Which energy type?"; }

 else if ((wizard_levels>0) && (WizardSpecialty()==false))
  { document.form1.fourth_comment_box.value="Check your forbidden schools."
   if (divination_specialist==true) { document.form1.fourth_comment_box.value="Diviners give up one school."; }
   }

 else if ((psion_levels + epic_psion_levels>0) && (PsionSpecialty()==false))
  { document.form1.fourth_comment_box.value="What kind of psion?"; }

 else if (PrestigeClass()==false)
  { document.form1.fourth_comment_box.value+="Work on your prestige class."; }

 else if (NpcOtherClass()==false)
  { document.form1.fourth_comment_box.value="Work on your NPC/other class."; }

 else {
   epic_strength_increase=document.form1.epic_strength.selectedIndex;
   epic_dexterity_increase=document.form1.epic_dexterity.selectedIndex;
   epic_constitution_increase=document.form1.epic_constitution.selectedIndex;
   epic_intelligence_increase=document.form1.epic_intelligence.selectedIndex;
   epic_wisdom_increase=document.form1.epic_wisdom.selectedIndex;
   epic_charisma_increase=document.form1.epic_charisma.selectedIndex;

   RecordRangerFoes();

   if (prestige_armor_entitlement>=1) {already_knows_light_armor=true; }
   if (prestige_armor_entitlement>=2) {already_knows_medium_armor=true; }
   if (prestige_armor_entitlement>=3) {already_knows_heavy_armor=true; }
   if (already_knows_heavy_armor==true) {already_knows_medium_armor=true; }
   if (already_knows_medium_armor==true) {already_knows_light_armor=true; }
   if (already_knows_martial_weapons==true) {already_knows_simple_weapons=true; }
   acceptIncreases();
   
	document.form1.fourth_comment_box.value="Now for the skills.\r";
	
		if (npcother_class_name=="Expert") { 
			document.form1.fourth_comment_box.value+="For NPC experts, mark ten class skills."; 
		}
	RecordFighterFeatsEtc();
	FigureClassSkillsAndTotalSkillPoints();
	NegateSkills();
	FighterFeatsEtcFrozen=true;
		if (has_war_domain) { already_knows_martial_weapons=true; }
	ArmorAndWeaponsForNPCClasses();
	figure_skills();
	}
}

function Domains() {
	if (cleric_levels + epic_cleric_levels==0) { 
		WipeDomains(); 
		return true; 
	} 
	else if (FighterFeatsEtcFrozen==true)	{
   RememberFighterFeatsEtc();
   return true;
	}
	else
	if (ClassesHaveBeenEstablished==false) { 
		WipeDomains(); 
		return true; 
	}
 else {
   if (cleric_totem==1) { document.form1.knowledge_domain.checked=false; }
   x=0;
   if (rayce==29) { document.form1.air_domain.checked=true; }
   if (rayce==30) { document.form1.earth_domain.checked=true; }
   if (rayce==31) { document.form1.fire_domain.checked=true; }
   if (rayce==32) { document.form1.water_domain.checked=true; }
   if (document.form1.air_domain.checked==true) { x++; }
   if (document.form1.animal_domain.checked==true) { x++; }
   if (document.form1.chaos_domain.checked==true) {
    if ((alignment==1) || (alignment==2) || (alignment==4) |
       (alignment==5) || (alignment==7) || (alignment==8))
        { document.form1.chaos_domain.checked=false; }
     else { x++; }}
   if (document.form1.death_domain.checked==true) { x++; }
   if (document.form1.destruction_domain.checked==true) { x++; }
   if (document.form1.earth_domain.checked==true) { x++; }
   if (document.form1.evil_domain.checked==true) {
    if ((alignment==1) || (alignment==2) || (alignment==3) |
       (alignment==4) || (alignment==5) || (alignment==6))
        { document.form1.evil_domain.checked=false; }
     else { x++; }}
   if (document.form1.fire_domain.checked==true) { x++; }
   if (document.form1.good_domain.checked==true) {
    if ((alignment==4) || (alignment==5) || (alignment==6) |
       (alignment==7) || (alignment==8) || (alignment==9))
        { document.form1.good_domain.checked=false; }
     else { x++; }}

   if (document.form1.healing_domain.checked==true) { x++; }
   if (document.form1.knowledge_domain.checked==true) { x++; }
   if (document.form1.law_domain.checked==true) {
    if ((alignment==2) || (alignment==3) || (alignment==5) |
       (alignment==6) || (alignment==8) || (alignment==9))
        { document.form1.law_domain.checked=false; }
     else { x++; }}

   if (document.form1.luck_domain.checked==true) { x++; }
   if (document.form1.magic_domain.checked==true) { x++; }
   if (document.form1.plant_domain.checked==true) { x++; }
   if (document.form1.protection_domain.checked==true) { x++; }
   if (document.form1.strength_domain.checked==true) { x++; }
   if (document.form1.sun_domain.checked==true) { x++; }
   if (document.form1.travel_domain.checked==true) { x++; }
   if (document.form1.trickery_domain.checked==true) { x++; }
   if (document.form1.war_domain.checked==true) { x++; }
   if (document.form1.water_domain.checked==true) { x++; }
   if (document.form1.other_domain_1.checked==true) { x++; }
   if (document.form1.other_domain_2.checked==true) { x++; }
   if (alignment<4)
    {
     document.form1.choose_energy[1].checked=false;
     document.form1.choose_energy[0].checked=true;
    }
   if (alignment>6)
    {
     document.form1.choose_energy[1].checked=true;
     document.form1.choose_energy[0].checked=false;
    }

   if (x==2) { return true} else { return false; }
  }
 }


function acceptIncreases() {
 if ((AbilityIncreasesAreLocked==true) || (FighterFeatsEtcFrozen==true))
   {RememberWhichAbilitiesYouRaised(); }
  else if ((total_levels>=4) && (upitat04==0)) {}
  else if ((total_levels>=8) && (upitat08==0)) {}
  else if ((total_levels>=12) && (upitat12==0)) {}
  else if ((total_levels>=16) && (upitat16==0)) {}
  else if ((total_levels>=20) && (upitat20==0)) {}
  else
   {

    upitat24=EpicUpitats(1);
    upitat28=EpicUpitats(2);
    upitat32=EpicUpitats(3);
    upitat36=EpicUpitats(4);
    upitat40=EpicUpitats(5);
    upitat44=EpicUpitats(6);
    upitat48=EpicUpitats(7);
    upitat52=EpicUpitats(8);
    upitat56=EpicUpitats(9);
    upitat60=EpicUpitats(10);
    upitat64=EpicUpitats(11);
    upitat68=EpicUpitats(12);
    upitat72=EpicUpitats(13);
    upitat76=EpicUpitats(14);
    upitat80=EpicUpitats(15);
    upitat84=EpicUpitats(16);
    upitat88=EpicUpitats(17);
    upitat92=EpicUpitats(18);
    upitat96=EpicUpitats(19);
    upitat100=EpicUpitats(20);

    raise_ability(upitat04,4);
    raise_ability(upitat08,8);
    raise_ability(upitat12,12);
    raise_ability(upitat16,16);
    raise_ability(upitat20,20);

    raise_ability(upitat24,24);
    raise_ability(upitat28,28);
    raise_ability(upitat32,32);
    raise_ability(upitat36,36);
    raise_ability(upitat40,40);

    raise_ability(upitat44,44);
    raise_ability(upitat48,48);
    raise_ability(upitat52,52);
    raise_ability(upitat56,56);
    raise_ability(upitat60,60);

    raise_ability(upitat64,64);
    raise_ability(upitat68,68);
    raise_ability(upitat72,72);
    raise_ability(upitat76,76);
    raise_ability(upitat80,80);

    raise_ability(upitat84,84);
    raise_ability(upitat88,88);
    raise_ability(upitat92,92);
    raise_ability(upitat96,96);
    raise_ability(upitat100,100);

    AbilityIncreasesAreLocked=true;

    if (upitat04==4) {RaiseIntelligencesHereAndAbove(4); }
    if (upitat08==4) {RaiseIntelligencesHereAndAbove(8); }
    if (upitat12==4) {RaiseIntelligencesHereAndAbove(12); }
    if (upitat16==4) {RaiseIntelligencesHereAndAbove(16); }
    if (upitat20==4) {RaiseIntelligencesHereAndAbove(20); }
    if (upitat24==4) {RaiseIntelligencesHereAndAbove(24); }
    if (upitat28==4) {RaiseIntelligencesHereAndAbove(28); }
    if (upitat32==4) {RaiseIntelligencesHereAndAbove(32); }
    if (upitat36==4) {RaiseIntelligencesHereAndAbove(36); }
    if (upitat40==4) {RaiseIntelligencesHereAndAbove(40); }
    if (upitat44==4) {RaiseIntelligencesHereAndAbove(44); }
    if (upitat48==4) {RaiseIntelligencesHereAndAbove(48); }
    if (upitat52==4) {RaiseIntelligencesHereAndAbove(52); }
    if (upitat56==4) {RaiseIntelligencesHereAndAbove(56); }
    if (upitat60==4) {RaiseIntelligencesHereAndAbove(60); }
    if (upitat64==4) {RaiseIntelligencesHereAndAbove(64); }
    if (upitat68==4) {RaiseIntelligencesHereAndAbove(68); }
    if (upitat72==4) {RaiseIntelligencesHereAndAbove(72); }
    if (upitat76==4) {RaiseIntelligencesHereAndAbove(76); }
    if (upitat80==4) {RaiseIntelligencesHereAndAbove(80); }
    if (upitat84==4) {RaiseIntelligencesHereAndAbove(84); }
    if (upitat88==4) {RaiseIntelligencesHereAndAbove(88); }
    if (upitat92==4) {RaiseIntelligencesHereAndAbove(92); }
    if (upitat96==4) {RaiseIntelligencesHereAndAbove(96); }
    if (upitat100==4) {RaiseIntelligencesHereAndAbove(100); }
   }
  }

function RaiseIntelligencesHereAndAbove(i) {
 if (i<=4) {intelligence04++; }
 if (i<=8) {intelligence08++; }
 if (i<=12) {intelligence12++; }
 if (i<=16) {intelligence16++; }
 if (i<=20) {intelligence20++; }
 if (i<=24) {intelligence24++; }
 if (i<=28) {intelligence28++; }
 if (i<=32) {intelligence32++; }
 if (i<=36) {intelligence36++; }
 if (i<=40) {intelligence40++; }
 if (i<=44) {intelligence44++; }
 if (i<=48) {intelligence48++; }
 if (i<=52) {intelligence52++; }
 if (i<=56) {intelligence56++; }
 if (i<=60) {intelligence60++; }
 if (i<=64) {intelligence64++; }
 if (i<=68) {intelligence68++; }
 if (i<=72) {intelligence72++; }
 if (i<=76) {intelligence76++; }
 if (i<=80) {intelligence80++; }
 if (i<=84) {intelligence84++; }
 if (i<=88) {intelligence88++; }
 if (i<=92) {intelligence92++; }
 if (i<=96) {intelligence96++; }
 if (i<=100) {intelligence100++; }
 }

function RememberWhichAbilitiesYouRaised() {
 NegateAllUp04();
 NegateAllUp08();
 NegateAllUp12();
 NegateAllUp16();
 NegateAllUp20();
 if (upitat04>0) { document.form1.upat04[upitat04-1].checked=true; }
 if (upitat08>0) { document.form1.upat08[upitat08-1].checked=true; }
 if (upitat12>0) { document.form1.upat12[upitat12-1].checked=true; }
 if (upitat16>0) { document.form1.upat16[upitat16-1].checked=true; }
 if (upitat20>0) { document.form1.upat20[upitat20-1].checked=true; }
 document.form1.epic_strength.selectedIndex=epic_strength_increase;
 document.form1.epic_dexterity.selectedIndex=epic_dexterity_increase;
 document.form1.epic_constitution.selectedIndex=epic_constitution_increase;
 document.form1.epic_intelligence.selectedIndex=epic_intelligence_increase;
 document.form1.epic_wisdom.selectedIndex=epic_wisdom_increase;
 document.form1.epic_charisma.selectedIndex=epic_charisma_increase;
 }

function MonitorTemplates() {
 if (alignment%3!=1) { document.form1.template_axiomatic.checked=false; }
 if (alignment%3!=0) { document.form1.template_anarchic.checked=false; }
 if (alignment>3)
  {
   document.form1.template_celestial.checked=false;
   document.form1.template_halfcelestial.checked=false;
   document.form1.template_saint.checked=false;
   document.form1.template_deathless.checked=false;
  }
 if (alignment<7)
  {
   document.form1.template_halffiend.checked=false;
   document.form1.template_fiendish.checked=false;
   document.form1.template_vampire.checked=false;
   document.form1.template_deathknight.checked=false;
  }
 if ((alignment<7) && (alignment>3)) { document.form1.template_lich.checked=false; }

// outsiders
 if ((rayce==78) || (rayce==152) || (rayce==153) || (rayce==154) || (rayce==132) || (rayce==28) || (rayce==29) || (rayce==164) || (rayce==165) || (rayce==30) || (rayce==31) || (rayce==32) || (rayce==33) || (rayce==35) || (rayce==36)) 
  {
   NegateInheritedTemplates();
   NegateLycanthropeTemplates();
   document.form1.template_lich.checked=false;
   document.form1.template_mummy.checked=false;
   document.form1.template_spectral.checked=false;
   document.form1.template_umbral.checked=false;
   document.form1.template_wight.checked=false;
   document.form1.template_wraith.checked=false;
   document.form1.template_deathknight.checked=false;
   document.form1.template_vampire.checked=false;
   document.form1.template_saint.checked=false;
  }

 if ((rayce==145) || (rayce==100)) // aberration
  {
   NegateInheritedTemplates();
   NegateLycanthropeTemplates();
   document.form1.template_lich.checked=false;
   document.form1.template_mummy.checked=false;
   document.form1.template_spectral.checked=false;
   document.form1.template_umbral.checked=false;
   document.form1.template_wight.checked=false;
   document.form1.template_wraith.checked=false;
   document.form1.template_deathknight.checked=false;
   document.form1.template_vampire.checked=false;
  }

 if ((rayce==75) || (rayce==146) || (rayce==147)) //giants
  {
   document.form1.template_vampire.checked=false;
   document.form1.template_lich.checked=false;
   document.form1.template_mummy.checked=false;
   document.form1.template_spectral.checked=false;
   document.form1.template_umbral.checked=false;
   document.form1.template_wight.checked=false;
   document.form1.template_wraith.checked=false;
   document.form1.template_deathknight.checked=false;
  }

 if ((rayce==74) || (rayce==166) || (rayce==131) || (rayce==141) || (rayce==142) || (rayce==143) || (rayce==144) || (rayce==151)
   |(rayce==176) || (rayce==177) || (rayce==168) || (rayce==169) || (rayce==126) || (rayce==151) || (rayce==27)) // monstrous humanoid
  {
   document.form1.template_lich.checked=false;
   document.form1.template_mummy.checked=false;
   document.form1.template_spectral.checked=false;
   document.form1.template_umbral.checked=false;
   document.form1.template_wight.checked=false;
   document.form1.template_wraith.checked=false;
   document.form1.template_deathknight.checked=false;
   NegateLycanthropeTemplates();
  }

 if ((rayce==148) || (rayce==149)) // fey
  {
   document.form1.template_vampire.checked=false;
   document.form1.template_lich.checked=false;
   document.form1.template_mummy.checked=false;
   document.form1.template_spectral.checked=false;
   document.form1.template_umbral.checked=false;
   document.form1.template_wight.checked=false;
   document.form1.template_wraith.checked=false;
   document.form1.template_deathknight.checked=false;
   NegateLycanthropeTemplates();
  }

 if ((rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90)) // dragons
  {
   document.form1.template_vampire.checked=false;
   document.form1.template_lich.checked=false;
   document.form1.template_mummy.checked=false;
   document.form1.template_spectral.checked=false;
   document.form1.template_umbral.checked=false;
   document.form1.template_wight.checked=false;
   document.form1.template_wraith.checked=false;
   document.form1.template_deathknight.checked=false;
   NegateLycanthropeTemplates();
  }

 if (rayce==80) // warforged
  {
   NegateUndeadTemplates();
   NegateLycanthropeTemplates();
   NegateInheritedTemplates();
  }

 if ((document.form1.template_celestial.checked==true)
  |(document.form1.template_halfcelestial.checked==true)
  |(document.form1.template_saint.checked==true)
  |(lycanthrope_template_count>0))
  {
   NegateUndeadTemplates();
  }
 }

function lock_identity() {
 StartingHumanoidLevels();
 if (CharacterTypeHasBeenEstablished==true) { return; }
 else if (DiceHaveBeenRolled==false) { document.form1.second_comment_box.value="You haven't even rolled your dice."; return; }
 else if (AbilitiesAreProperlyAssigned==false) { document.form1.second_comment_box.value="Please finish assigning your abilities."; return; }
 else if (AbilitiesHaveBeenEstablished==false) { document.form1.second_comment_box.value="Please accept your ability assignments first."; return; }
 else if (rayce==0) { document.form1.second_comment_box.value="Please choose your race."; return; }
 else if ((gender==0) && (rayce!=99) && (rayce!=80)) { document.form1.second_comment_box.value="Please choose your gender."; return; }
 else if (alignment==0) { document.form1.second_comment_box.value="Please choose your alignment."; return; }
 else if (total_levels==0) { document.form1.second_comment_box.value="Please choose your total levels."; return; }
  else {
   MonitorTemplates();
   vampire_template=document.form1.template_vampire.checked;
   deathless_template=document.form1.template_deathless.checked;
   ghost_template=document.form1.template_ghost.checked;
   lich_template=document.form1.template_lich.checked;
   mummy_template=document.form1.template_mummy.checked;
   spectral_template=document.form1.template_spectral.checked;
   umbral_template=document.form1.template_umbral.checked;
   wight_template=document.form1.template_wight.checked;
   wraith_template=document.form1.template_wraith.checked;
   deathknight_template=document.form1.template_deathknight.checked;
   saint_template=document.form1.template_saint.checked;
   halfdragon_template=document.form1.template_halfdragon.checked;
   werebear_template=document.form1.template_werebear.checked;
   wereboar_template=document.form1.template_wereboar.checked;
   wererat_template=document.form1.template_wererat.checked;
   weretiger_template=document.form1.template_weretiger.checked;
   werewolf_template=document.form1.template_werewolf.checked;
   halfair_template=document.form1.template_halfair.checked;
   halfearth_template=document.form1.template_halfearth.checked;
   halffire_template=document.form1.template_halffire.checked;
   halfwater_template=document.form1.template_halfwater.checked;
   halfcelestial_template=document.form1.template_halfcelestial.checked;
   halffiend_template=document.form1.template_halffiend.checked;
   celestial_template=document.form1.template_celestial.checked;
   fiendish_template=document.form1.template_fiendish.checked;
   axiomatic_template=document.form1.template_axiomatic.checked;
   anarchic_template=document.form1.template_anarchic.checked;
   if (werebear_template==true) { lycanthrope_hit_dice=6; }
   if (wereboar_template==true) { lycanthrope_hit_dice=3; }
   if (wererat_template==true) { lycanthrope_hit_dice=1; }
   if (weretiger_template==true) { lycanthrope_hit_dice=6; }
   if (werewolf_template==true) { lycanthrope_hit_dice=2; }
   RandomHeight();
   if (total_levels>21) { total_levels=20; }
   epic_total_levels=document.form1.epic_levels_list.selectedIndex;
   AdjustEpicLevelLists();
   document.form1.second_comment_box.value="You chose a ";
   if (alignment==1) { document.form1.second_comment_box.value+="Lawful Good"; }
   if (alignment==2) { document.form1.second_comment_box.value+="Neutral Good"; }
   if (alignment==3) { document.form1.second_comment_box.value+="Chaotic Good"; }
   if (alignment==4) { document.form1.second_comment_box.value+="Lawful Neutral"; }
   if (alignment==5) { document.form1.second_comment_box.value+="True Neutral"; }
   if (alignment==6) { document.form1.second_comment_box.value+="Chaotic Neutral"; }
   if (alignment==7) { document.form1.second_comment_box.value+="Lawful Evil"; }
   if (alignment==8) { document.form1.second_comment_box.value+="Neutral Evil"; }
   if (alignment==9) { document.form1.second_comment_box.value+="Chaotic Evil"; }
   document.form1.second_comment_box.value+=", Level "+total_levels +" ";
   if (epic_total_levels>0) { document.form1.second_comment_box.value+="+ " + epic_total_levels +" "; }

//racialstuff
   if ((rayce==148) || (rayce==167) || (rayce==155) || (rayce==157) || (rayce==150) || (rayce==5) || (rayce==98) || (rayce==81) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==26) || (rayce==68) || (rayce==59) || (rayce==50) || (rayce==40) || (rayce==19) || (rayce==16) || ((rayce==6) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43)) || (rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45) || (rayce==17) || (rayce==18) || (rayce==92) || (rayce==99) || (rayce==123))
    {
     small=true;
     document.form1.template_werebear.checked=false;werebear_template=false;
     document.form1.template_weretiger.checked=false;weretiger_template=false;
    }
   if ((rayce==146) || (rayce==147) || (rayce==74) || (rayce==166) || (rayce==75) || (rayce==78) || (rayce==124) || (rayce==175) || (rayce==176) || (rayce==177)) {
     large=true;
     document.form1.template_wererat.checked=false;wererat_template=false;
    }
   if ((rayce==99) || (rayce==80)) { gender=0; }
   if (gender==1) { document.form1.second_comment_box.value+="Male "; }
   if (gender==2) { document.form1.second_comment_box.value+="Female "; }
   if (celestial_template==true) { document.form1.second_comment_box.value+="Celestial "; }
   if (fiendish_template==true) { document.form1.second_comment_box.value+="Fiendish "; }
   if (axiomatic_template==true) { document.form1.second_comment_box.value+="Axiomatic "; }
   if (anarchic_template==true) { document.form1.second_comment_box.value+="Anarchic "; }
   if (halfdragon_template==true) { document.form1.second_comment_box.value+="Half-Dragon "; }
   if (werebear_template==true) { document.form1.second_comment_box.value+="Werebear "; }
   if (wereboar_template==true) { document.form1.second_comment_box.value+="Wereboar "; }
   if (wererat_template==true) { document.form1.second_comment_box.value+="Wererat "; }
   if (weretiger_template==true) { document.form1.second_comment_box.value+="Weretiger "; }
   if (werewolf_template==true) { document.form1.second_comment_box.value+="Werewolf "; }
   if (vampire_template==true) { document.form1.second_comment_box.value+="Vampire "; }
   if (deathless_template==true) { document.form1.second_comment_box.value+="Deathless "; }
   if (ghost_template==true) { document.form1.second_comment_box.value+="Ghost "; }
   if (lich_template==true) { document.form1.second_comment_box.value+="Lich "; }
   if (mummy_template==true) { document.form1.second_comment_box.value+="Mummy "; }
   if (spectral_template==true) { document.form1.second_comment_box.value+="Spectral "; }
   if (umbral_template==true) { document.form1.second_comment_box.value+="Umbral "; }
   if (wight_template==true) { document.form1.second_comment_box.value+="Wight "; }
   if (wraith_template==true) { document.form1.second_comment_box.value+="Wraith "; }
   if (deathknight_template==true) { document.form1.second_comment_box.value+="Death Knight "; }
   if (saint_template==true) { document.form1.second_comment_box.value+="Saint "; }
   if (halfair_template==true) { document.form1.second_comment_box.value+="Half-Air Elemental"; }
   if (halfearth_template==true) { document.form1.second_comment_box.value+="Half-Earth Elemental "; }
   if (halffire_template==true) { document.form1.second_comment_box.value+="Half-Fire Elemental "; }
   if (halfwater_template==true) { document.form1.second_comment_box.value+="Half-Water Elemental "; }
   if (halfcelestial_template==true) { document.form1.second_comment_box.value+="Half-Celestial "; }
   if (halffiend_template==true) { document.form1.second_comment_box.value+="Half-Fiend "; }
   if (rayce==1) { document.form1.second_comment_box.value+="Human."; }
   if (rayce==2) { document.form1.second_comment_box.value+="Half-Elf."; }
   if (rayce==3) { document.form1.second_comment_box.value+="Elf."; }
   if (rayce==4) { document.form1.second_comment_box.value+="Dwarf."; }
   if (rayce==5) { document.form1.second_comment_box.value+="Gnome."; }
   if (rayce==6) { document.form1.second_comment_box.value+="Halfling."; }
   if (rayce==7) { document.form1.second_comment_box.value+="Half-Orc."; }
   if (rayce==8) { document.form1.second_comment_box.value+=document.form1.otherrace_name.value; }
   if (rayce==9) { document.form1.second_comment_box.value+="Gray Elf."; }
   if (rayce==10) { document.form1.second_comment_box.value+="Wild Elf."; }
   if (rayce==11) { document.form1.second_comment_box.value+="Wood Elf."; }
   if (rayce==12) { document.form1.second_comment_box.value+="Dark Elf."; }
   if (rayce==13) { document.form1.second_comment_box.value+="Sea Elf."; }
   if (rayce==14) { document.form1.second_comment_box.value+="Mountain Dwarf."; }
   if (rayce==15) { document.form1.second_comment_box.value+="Gray Dwarf."; }
   if (rayce==16) { document.form1.second_comment_box.value+="Deep Gnome."; }
   if (rayce==17) { document.form1.second_comment_box.value+="Tallfellow Halfling."; }
   if (rayce==18) { document.form1.second_comment_box.value+="Deep Halfling."; }
   if (rayce==19) { document.form1.second_comment_box.value+="Wild Gnome."; }
   if (rayce==20) { document.form1.second_comment_box.value+="Lizard Folk."; }
   if (rayce==21) { document.form1.second_comment_box.value+="Hobgoblin."; }
   if (rayce==22) { document.form1.second_comment_box.value+="Orc."; }
   if (rayce==23) { document.form1.second_comment_box.value+="Bugbear."; }
   if (rayce==24) { document.form1.second_comment_box.value+="Gnoll."; }
   if (rayce==25) { document.form1.second_comment_box.value+="Kobold."; }
   if (rayce==26) { document.form1.second_comment_box.value+="Goblin."; }
   if (rayce==27) { document.form1.second_comment_box.value+="Troglodyte."; }
   if (rayce==28) { document.form1.second_comment_box.value+="Aasimar."; }
   if (rayce==29) { document.form1.second_comment_box.value+="Air Genasi."; }
   if (rayce==30) { document.form1.second_comment_box.value+="Earth Genasi."; }
   if (rayce==31) { document.form1.second_comment_box.value+="Fire Genasi."; }
   if (rayce==32) { document.form1.second_comment_box.value+="Water Genasi."; }
   if (rayce==33) { document.form1.second_comment_box.value+="Tiefling."; }
   if (rayce==34) { document.form1.second_comment_box.value+="Thri-Kreen."; }
   if (rayce==35) { document.form1.second_comment_box.value+="Chaonid."; }
   if (rayce==36) { document.form1.second_comment_box.value+="Zenythr."; }
   if (rayce==37) { document.form1.second_comment_box.value+="Forest Gnome."; }
   if (rayce==38) { document.form1.second_comment_box.value+="Aquatic Dwarf."; }
   if (rayce==39) { document.form1.second_comment_box.value+="Aquatic Gnome."; }
   if (rayce==40) { document.form1.second_comment_box.value+="Aquatic Goblin."; }
   if (rayce==41) { document.form1.second_comment_box.value+="Aquatic Half-Elf."; }
   if (rayce==42) { document.form1.second_comment_box.value+="Aquatic Half-Orc."; }
   if (rayce==43) { document.form1.second_comment_box.value+="Aquatic Halfling."; }
   if (rayce==44) { document.form1.second_comment_box.value+="Aquatic Human."; }
   if (rayce==45) { document.form1.second_comment_box.value+="Aquatic Kobold."; }
   if (rayce==46) { document.form1.second_comment_box.value+="Aquatic Orc."; }
   if (rayce==47) { document.form1.second_comment_box.value+="Arctic Dwarf."; }
   if (rayce==48) { document.form1.second_comment_box.value+="Arctic Elf."; }
   if (rayce==49) { document.form1.second_comment_box.value+="Arctic Gnome."; }
   if (rayce==50) { document.form1.second_comment_box.value+="Arctic Goblin."; }
   if (rayce==51) { document.form1.second_comment_box.value+="Arctic Half-Elf."; }
   if (rayce==52) { document.form1.second_comment_box.value+="Arctic Half-Orc."; }
   if (rayce==53) { document.form1.second_comment_box.value+="Arctic Halfling."; }
   if (rayce==54) { document.form1.second_comment_box.value+="Arctic Kobold."; }
   if (rayce==55) { document.form1.second_comment_box.value+="Arctic Orc."; }
   if (rayce==56) { document.form1.second_comment_box.value+="Desert Dwarf."; }
   if (rayce==57) { document.form1.second_comment_box.value+="Desert Elf."; }
   if (rayce==58) { document.form1.second_comment_box.value+="Desert Gnome."; }
   if (rayce==59) { document.form1.second_comment_box.value+="Desert Goblin."; }
   if (rayce==60) { document.form1.second_comment_box.value+="Desert Half-Elf."; }
   if (rayce==61) { document.form1.second_comment_box.value+="Desert Half-Orc."; }
   if (rayce==62) { document.form1.second_comment_box.value+="Desert Halfling."; }
   if (rayce==63) { document.form1.second_comment_box.value+="Desert Kobold."; }
   if (rayce==64) { document.form1.second_comment_box.value+="Desert Orc."; }
   if (rayce==65) { document.form1.second_comment_box.value+="Jungle Dwarf."; }
   if (rayce==66) { document.form1.second_comment_box.value+="Jungle Elf."; }
   if (rayce==67) { document.form1.second_comment_box.value+="Jungle Gnome."; }
   if (rayce==68) { document.form1.second_comment_box.value+="Jungle Goblin."; }
   if (rayce==69) { document.form1.second_comment_box.value+="Jungle Half-Elf."; }
   if (rayce==70) { document.form1.second_comment_box.value+="Jungle Half-Orc"; }
   if (rayce==71) { document.form1.second_comment_box.value+="Jungle Halfling."; }
   if (rayce==72) { document.form1.second_comment_box.value+="Jungle Kobold."; }
   if (rayce==73) { document.form1.second_comment_box.value+="Jungle Orc."; }
   if (rayce==74) { document.form1.second_comment_box.value+="Centaur."; }
   if (rayce==75) { document.form1.second_comment_box.value+="Ogre."; }
   if (rayce==76) { document.form1.second_comment_box.value+="Half-Ogre."; }
   if (rayce==77) { document.form1.second_comment_box.value+="Minotaur."; }
   if (rayce==78) { document.form1.second_comment_box.value+="Bariaur."; }
   if ((rayce==79) && (gender==1)) { document.form1.second_comment_box.value+="Merman."; }
   if ((rayce==79) && (gender==2)) { document.form1.second_comment_box.value+="Mermaid."; }
   if (rayce==80) { document.form1.second_comment_box.value+="Warforged."; }
   if (rayce==81) { document.form1.second_comment_box.value+="Kender."; }
   if (rayce==82) { document.form1.second_comment_box.value+="Half-Dragon."; }
   if (rayce==83) { document.form1.second_comment_box.value+="Githyanki."; }
   if (rayce==84) { document.form1.second_comment_box.value+="Githzerai."; }
   if (rayce==85) { document.form1.second_comment_box.value+="High Ogre."; }
   if (rayce==86) { document.form1.second_comment_box.value+="Baaz Draconian."; }
   if (rayce==87) { document.form1.second_comment_box.value+="Kapak Draconian."; }
   if (rayce==88) { document.form1.second_comment_box.value+="Aurak Draconian."; }
   if (rayce==89) { document.form1.second_comment_box.value+="Bozak Draconian."; }
   if (rayce==90) { document.form1.second_comment_box.value+="Sivak Draconian."; }
   if (rayce==91) { document.form1.second_comment_box.value+="Dark Dwarf."; }
   if (rayce==92) { document.form1.second_comment_box.value+="Gully Dwarf."; }
   if (rayce==93) { document.form1.second_comment_box.value+="Kagonesti Elf."; }
   if (rayce==94) { document.form1.second_comment_box.value+="Qualinesti Elf."; }
   if (rayce==95) { document.form1.second_comment_box.value+="Silvanesti Elf."; }
   if (rayce==96) { document.form1.second_comment_box.value+="Dargonesti Elf."; }
   if (rayce==97) { document.form1.second_comment_box.value+="Dimernesti Elf."; }
   if (rayce==98) { document.form1.second_comment_box.value+="Tinker Gnome."; }
   if (rayce==99) { document.form1.second_comment_box.value+="Dromite."; }
   if (rayce==100) { document.form1.second_comment_box.value+="Elan."; }
   if (rayce==101) { document.form1.second_comment_box.value+="Aarakocra."; }
   if (rayce==102) { document.form1.second_comment_box.value+="Half-Giant."; }
   if (rayce==103) { document.form1.second_comment_box.value+="Maenad."; }
   if (rayce==104) { document.form1.second_comment_box.value+="Xeph."; }
   if (rayce==105) { document.form1.second_comment_box.value+="Mul."; }
   if (rayce==106) { document.form1.second_comment_box.value+="Pterran."; }
   if (rayce==107) { document.form1.second_comment_box.value+="Locathah."; }
   if (rayce==108) { document.form1.second_comment_box.value+="Sahuagin."; }
   if (rayce==109) { document.form1.second_comment_box.value+="Changeling."; }
   if (rayce==110) { document.form1.second_comment_box.value+="Kalashtar."; }
   if (rayce==111) { document.form1.second_comment_box.value+="Shifter."; }
   if (rayce==112) { document.form1.second_comment_box.value+="Buomman."; }
   if (rayce==113) { document.form1.second_comment_box.value+="Air Mephling."; }
   if (rayce==114) { document.form1.second_comment_box.value+="Earth Mephling."; }
   if (rayce==115) { document.form1.second_comment_box.value+="Fire Mephling."; }
   if (rayce==116) { document.form1.second_comment_box.value+="Water Mephling."; }
   if (rayce==117) { document.form1.second_comment_box.value+="Neraph."; }
   if (rayce==118) { document.form1.second_comment_box.value+="Shadowswyft."; }
   if (rayce==119) { document.form1.second_comment_box.value+="Spiker."; }
   if (rayce==120) { document.form1.second_comment_box.value+="Wildren."; }
   if (rayce==121) { document.form1.second_comment_box.value+="Bladeback."; }
   if (rayce==122) { document.form1.second_comment_box.value+="Finhead."; }
   if (rayce==123) { document.form1.second_comment_box.value+="Flyer."; }
   if (rayce==124) { document.form1.second_comment_box.value+="Hornhead."; }
   if (rayce==125) { document.form1.second_comment_box.value+="Mongrelfolk."; }
   if (rayce==126) { document.form1.second_comment_box.value+="Goliath."; }
   if (rayce==127) { document.form1.second_comment_box.value+="Gray Orc."; }
   if (rayce==128) { document.form1.second_comment_box.value+="Whisper Gnome."; }
   if (rayce==129) { document.form1.second_comment_box.value+="Chaos Gnome."; }
   if (rayce==130) { document.form1.second_comment_box.value+="Dream Dwarf."; }
   if (rayce==131) { document.form1.second_comment_box.value+="Feral Gargun."; }
   if (rayce==132) { document.form1.second_comment_box.value+="Stonechild."; }
   if (rayce==133) { document.form1.second_comment_box.value+="Hengeyokai."; }
   if (rayce==134) { document.form1.second_comment_box.value+="Korobokuru."; }
   if (rayce==135) { document.form1.second_comment_box.value+="Ratling."; }
   if (rayce==136) { document.form1.second_comment_box.value+="Bamboo Spiritfolk."; }
   if (rayce==137) { document.form1.second_comment_box.value+="River Spiritfolk."; }
   if (rayce==138) { document.form1.second_comment_box.value+="Sea Spiritfolk."; }
   if (rayce==139) { document.form1.second_comment_box.value+="Vanara."; }
   if (rayce==140) { document.form1.second_comment_box.value+="Grippli."; }
   if (rayce==141) { document.form1.second_comment_box.value+="Doppelganger."; }
   if (rayce==142) { document.form1.second_comment_box.value+="Gargoyle."; }
   if (rayce==143) { document.form1.second_comment_box.value+="Grimlock."; }
   if (rayce==144) { document.form1.second_comment_box.value+="YuanTi Pureblood."; }
   if (rayce==145) { document.form1.second_comment_box.value+="Mind Flayer."; }
   if (rayce==146) { document.form1.second_comment_box.value+="Ogre Mage."; }
   if (rayce==147) { document.form1.second_comment_box.value+="Troll."; }
   if (rayce==148) { document.form1.second_comment_box.value+="Pixie."; }
   if (rayce==149) { document.form1.second_comment_box.value+="Satyr."; }
   if (rayce==150) { document.form1.second_comment_box.value+="Tasloi."; }
   if (rayce==151) { document.form1.second_comment_box.value+="Lupin."; }
   if (rayce==152) { document.form1.second_comment_box.value+="Rakshasa."; }
   if (rayce==153) { document.form1.second_comment_box.value+="Hound Archon."; }
   if (rayce==154) { document.form1.second_comment_box.value+="Jann."; }
   if (rayce==155) { document.form1.second_comment_box.value+="Arctic Dwarf."; }
   if (rayce==156) { document.form1.second_comment_box.value+="Urdunnir Dwarf."; }
   if (rayce==157) { document.form1.second_comment_box.value+="Wild Dwarf."; }
   if (rayce==158) { document.form1.second_comment_box.value+="Aquatic Elf."; }
   if (rayce==159) { document.form1.second_comment_box.value+="Winged Elf."; }
   if (rayce==160) { document.form1.second_comment_box.value+="Half Aquatic Elf."; }
   if (rayce==161) { document.form1.second_comment_box.value+="Half-Drow."; }
   if (rayce==162) { document.form1.second_comment_box.value+="Gold Dwarf."; }
   if (rayce==163) { document.form1.second_comment_box.value+="Orog."; }
   if (rayce==164) { document.form1.second_comment_box.value+="Fey'ri."; }
   if (rayce==165) { document.form1.second_comment_box.value+="Tanarukk."; }
   if (rayce==166) { document.form1.second_comment_box.value+="Wemic."; }
   if (rayce==167) { document.form1.second_comment_box.value+="Hybsil."; }
   if (rayce==168) { document.form1.second_comment_box.value+="Alaghi."; }
   if (rayce==169) { document.form1.second_comment_box.value+="Kuo-Toa."; }
   if (rayce==170) { document.form1.second_comment_box.value+="Illumian."; }
   if (rayce==171) { document.form1.second_comment_box.value+="Sea Kin."; }
   if (rayce==172) { document.form1.second_comment_box.value+="Sharakim."; }
   if (rayce==173) { document.form1.second_comment_box.value+="Skulk."; }
   if (rayce==174) { document.form1.second_comment_box.value+="Underfolk."; }
   if (rayce==175) { document.form1.second_comment_box.value+="Half-Ogre."; }
   if (rayce==176) { document.form1.second_comment_box.value+="Desmodu."; }
   if (rayce==177) { document.form1.second_comment_box.value+="Loxo."; }
   if (rayce==178) { document.form1.second_comment_box.value+="Astral Deva."; }
   if (rayce==179) { document.form1.second_comment_box.value+="Raptoran."; }
   if (rayce==180) { document.form1.second_comment_box.value+="Catfolk."; }
   if (rayce==181) { document.form1.second_comment_box.value+="Killoren."; }

   CharacterTypeHasBeenEstablished=true;
   AdjustSkillMenus();

//racialstuff
   GenericTotems();
   if (rayce==155)
    {
	strength+=4;
	dexterity-=2;
	constitution+=2;charisma-=2;
     document.form1.second_comment_box.value+="\r Arctic Dwarves of the Forgotten Realms get +4 strength, -2 dexterity, +2 constitution, -2 charisma."
    }
   if (rayce==180)
    {
	dexterity+=4;
	charisma+=2;
     document.form1.second_comment_box.value+="\r Catfolk get +4 dexterity, +2 charisma."
    }
   if (rayce==181)
    {
     document.form1.second_comment_box.value+="\r Killoren get no racial ability adjustments."
    }
   if (rayce==179)
    {
     document.form1.second_comment_box.value+="\r Raptorans get no racial ability adjustments."
    }
   if (rayce==158)
    {
	dexterity+=2;
	intelligence-=2;
     document.form1.second_comment_box.value+="\r Aquatic Elves of the Forgotten Realms get +2 dexterity, -2 intelligence."
    }
   if (rayce==159)
    {
	dexterity+=4;
	constitution-=2;
	intelligence+=2;
	wisdom+=2;
     document.form1.second_comment_box.value+="\r Winged Elves of the Forgotten Realms get +4 dexterity, -2 constitution, +2 intelligence, +2 wisdom."
    }
   if (rayce==162)
    {
     constitution+=2;
	dexterity-=2;
     document.form1.second_comment_box.value+="\r Gold Dwarves of the Forgotten Realms get +2 constitution, -2 dexterity."
    }
   if (rayce==163) {
	strength+=6;
	dexterity-=2;
	wisdom-=2;
	charisma+=2;
  document.form1.second_comment_box.value+="\r Deep Orcs of the Forgotten Realms get +6 strength, -2 dexterity, -2 wisdom, +2 charisma.";
  }
  if (rayce==164) {
	dexterity+=2;
	intelligence+=2;
	constitution-=2;
  document.form1.second_comment_box.value+="\r Fey'ri of the Forgotten Realms get +2 dexterity, +2 intelligence, -2 constitution.";
  }
  if (rayce==165) {
	strength+=4;
	dexterity+=2;
	wisdom-=2;
	charisma-=4;
  document.form1.second_comment_box.value+="\r Tanarukk of the Forgotten Realms get +4 strength, +2 dexterity, -2 wisdom, -4 charisma.";
    }

   if (rayce==8) {
     strength+=2*document.form1.otherrace_strength.selectedIndex-6;
     dexterity+=2*document.form1.otherrace_dexterity.selectedIndex-6;
     constitution+=2*document.form1.otherrace_constitution.selectedIndex-6;
     intelligence+=2*document.form1.otherrace_intelligence.selectedIndex-6;
     wisdom+=2*document.form1.otherrace_wisdom.selectedIndex-6;
     charisma+=2*document.form1.otherrace_charisma.selectedIndex-6;
     document.form1.second_comment_box.value+="\rAbility adjustments have been made.";
    }

   if (rayce==128) {
     constitution+=2; dexterity+=2; strength-=2; charisma-=2;
     document.form1.second_comment_box.value+="\r Whisper Gnomes get +2 constitution, +2 dexterity, -2 strength, -2 charisma.";
    }
   if (rayce==126) {
     constitution+=2; strength+=4; dexterity-=2;
     document.form1.second_comment_box.value+="\r Goliaths receive +4 strength, +2 constitution, -2 dexterity.";
    }
   if (rayce==125) {
     constitution+=4; intelligence-=2; charisma-=2;
     document.form1.second_comment_box.value+="\r Mongrelfolk receive +4 constitution, -2 intelligence, -2 charisma.";
    }
   if (rayce==127) {
     strength+=2; wisdom+=2; intelligence-=2; charisma-=2;
     document.form1.second_comment_box.value+="\r Gray Orcs receive +2 strength, +2 wisdom, -2 intelligence, -2 charisma.";
    }
   if (rayce==121) {
     strength+=2; charisma+=2;
     document.form1.second_comment_box.value+="\r Bladeback saurials receive +2 strength, +2 charisma.";
    }
   if (rayce==122) {
     dexterity+=2; wisdom+=2;
     document.form1.second_comment_box.value+="\r Finhead saurials receive +2 dexterity, +2 wisdom.";
    }
   if (rayce==123) {
     dexterity+=4; charisma-=2; constitution-=2;
     document.form1.second_comment_box.value+="\r Flyer saurials receive +4 dexterity, -2 constitution, -2 charisma.";
    }
   if (rayce==124) {
     strength+=2; intelligence+=2;
     document.form1.second_comment_box.value+="\r Hornhead saurials receive +2 strength, +2 intelligence.";
    }
   if (rayce==34) {
     strength+=2;
     dexterity+=4;
     intelligence-=2;
     wisdom+=2;
     charisma-=4;
     document.form1.second_comment_box.value+="\r Thri-Kreen receive +2 strength +4 dexterity -2 intelligence +2 wisdom -4 charisma.";
    }
   if (rayce==99) {
     charisma+=2;
     strength-=2;
     wisdom-=2;
     document.form1.second_comment_box.value+="\rDromites receive +2 charisma, -2 strength, -2 wisdom.";
    }
   if (rayce==100) {
     charisma-=2;
     document.form1.second_comment_box.value+="\rElans receive -2 charisma.";
    }
   if (rayce==101) {
     dexterity+=4;
     strength-=2;
     document.form1.second_comment_box.value+="\rAarakocra receive +4 dexterity, -2 strength.";
    }
   if (rayce==102) {
     strength+=2;
     constitution+=2;
     dexterity-=2;
     document.form1.second_comment_box.value+="\rHalf-giants receive +2 strength, +2 constitution, -2 dexterity.";
    }
   if (rayce==103) {
     document.form1.second_comment_box.value+="\rMaenads receive no racial ability modifiers.";
    }
   if (rayce==104) {
     dexterity+=2;
     strength-=2;
     document.form1.second_comment_box.value+="\rXephs receive +2 dexterity, -2 strength.";
    }
   if (rayce==111) {
     dexterity+=2;
     intelligence-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rShifters receive +2 dexterity, -2 intelligence, -2 charisma.";
    }
   if (rayce==112) {
     wisdom+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rBuomman receive +2 wisdom, -2 charisma.";
    }
   if (rayce==113) {
     intelligence-=2;
     charisma+=2;
     dexterity+=2;
     document.form1.second_comment_box.value+="\rAir Mephlings receive +2 charisma, +2 dexterity, -2 intelligence.";
    }
   if (rayce==114) {
     intelligence-=2;
     charisma+=2;
     strength+=2;
     dexterity-=2;
     document.form1.second_comment_box.value+="\rEarth Mephlings receive +2 charisma, +2 strength, -2 dexterity, -2 intelligence.";
    }
   if (rayce==115) {
     intelligence-=2;
     charisma+=2;
     dexterity+=2;
     document.form1.second_comment_box.value+="\rFire Mephlings receive +2 charisma, +2 dexterity, -2 intelligence.";
    }
   if (rayce==116) {
     intelligence-=2;
     charisma+=2;
     constitution+=2;
     document.form1.second_comment_box.value+="\rWater Mephlings receive +2 charisma, +2 constitution, -2 intelligence.";
    }
   if (rayce==118) {
     dexterity+=2;
     constitution-=2;
     document.form1.second_comment_box.value+="\rShadowswyfts receive +2 dexterity, -2 constitution.";
    }
   if (rayce==120) {
     charisma-=2;
     constitution+=4;
     dexterity-=2;
     document.form1.second_comment_box.value+="\rWildren receive +2 constitution, -2 dexterity, -2 charisma.";
    }
   if (rayce==105) {
     strength+=2;
     constitution+=4;
     document.form1.second_comment_box.value+="\rMuls receive +2 strength, +4 constitution.";
    }
   if (rayce==106) {
     strength+=2;
     constitution+=2;
     wisdom-=2;
     document.form1.second_comment_box.value+="\rPterrans receive +2 strength, +2 constitution, -2 wisdom.";
    }
   if (rayce==107) {
     intelligence+=2;
     dexterity+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rLocathah receive +2 intelligence, +2 dexterity, +2 charisma.";
    }
   if (rayce==108) {
     strength+=4;
     dexterity+=2;
     constitution+=2;
     intelligence+=4;
     wisdom+=2;
     charisma=-2;
     wisdom-=2;
     document.form1.second_comment_box.value+="\rSahuagin receive +4 strength, +2 dexterity, +2 constitution, +4 intelligence, +2 wisdom, -2 charisma.";
    }
   if (rayce==83) {
     dexterity+=2;
     constitution+=2;
     wisdom-=2;
     document.form1.second_comment_box.value+="\rGithyanki receive +2 dexterity, +2 constitution, -2 wisdom.";
    }
   if (rayce==84) {
     dexterity+=6;
     wisdom+=2;
     intelligence-=2;
     document.form1.second_comment_box.value+="\rGithzerai receive +6 dexterity, +2 wisdom, -2 intelligence.";
    }
   if (rayce==97) {
     dexterity+=2;
     intelligence+=2;
     charisma-=2;
     wisdom-=2;
     document.form1.second_comment_box.value+="\rDimernesti elves receive +2 dexterity, +2 intelligence, -2 wisdom, -2 charisma.";
    }
   if (rayce==96) {
     dexterity+=2;
     strength+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rDargonesti elves receive +2 dexterity, +2 strength, -2 charisma.";
    }
   if (rayce==95) {
     dexterity+=2;
     intelligence+=2;
     constitution-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rSilvanesti elves receive +2 dexterity, +2 intelligence, -2 constitution, -2 charisma.";
    }
   if (rayce==93) {
     dexterity+=2;
     intelligence-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rKagonesti elves receive +2 dexterity, -2 intelligence, -2 charisma.";
    }
   if (rayce==92) {
     constitution+=2;
     dexterity+=2;
     intelligence-=4;
     wisdom-=4;
     document.form1.second_comment_box.value+="\rGully Dwarves receive +2 dexterity, +2 constitution, -4 intelligence, -4 wisdom.";
    }
   if (rayce==90) {
     strength+=6;
     constitution+=4;
     document.form1.second_comment_box.value+="\rSivak Draconians receive +6 strength, +4 constitution.";
    }
   if (rayce==89) {
     strength+=2;
     charisma+=2;
     intelligence+=2;
     document.form1.second_comment_box.value+="\rBozak Draconians receive +2 strength, +2 intelligence, +2 charisma.";
    }
   if (rayce==88) {
     dexterity+=2;
     charisma+=2;
     intelligence+=2;
     document.form1.second_comment_box.value+="\rAurak Draconians receive +2 dexterity, +2 intelligence, +2 charisma.";
    }
   if (rayce==87) {
     dexterity+=2;
     constitution+=2;
     intelligence-=2;
     wisdom-=2;
     document.form1.second_comment_box.value+="\rKapak Draconians receive +2 dexterity, +2 constitution, -2 intelligence, -2 wisdom.";
    }
   if (rayce==86) {
     constitution+=2;
     intelligence-=2;
     wisdom-=2;
     document.form1.second_comment_box.value+="\rBaaz Draconians receive +2 constitution, -2 intelligence, -2 wisdom.";
    }
   if (rayce==85) {
     constitution-=2;
     intelligence+=2;
     charisma+=2;
     document.form1.second_comment_box.value+="\rHigh Ogres receive +2 intelligence, +2 charisma, -2 constitution.";
    }
   if (rayce==74) {
     dexterity+=4;
     strength+=8;
     constitution+=4;
     intelligence-=2;
     wisdom+=2;
     document.form1.second_comment_box.value+="\rCentaurs receive +8 strength, +4 dexterity, +4 constitution, +2 wisdom, -2 intelligence.";
    }
   if (rayce==168) {
     dexterity+=2;
     strength+=8;
     constitution+=2;
     intelligence-=4;
     document.form1.second_comment_box.value+="\rAlaghis get +8 strength, +2 dexterity, +2 constitution, -4 intelligence.";
    }
   if (rayce==169) {
     strength+=2;
     constitution+=2;
     intelligence+=2;
     wisdom+=4;
     charisma-=2;
     document.form1.second_comment_box.value+="\rAlaghis get +2 strength, +2 constitution, +2 intelligence, +4 wisdom, -2 charisma.";
    }
   if (rayce==167) {
     dexterity+=6;
     strength-=2;
     intelligence+=2;
     constitution+=2;
     document.form1.second_comment_box.value+="\rHybsils receive +6 dexterity, +2 constitution, +2 intelligence, -2 strength.";
    }
   if (rayce==166) {
     dexterity+=2;
     strength+=8;
     constitution+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rWemics receive +8 strength, +2 dexterity, +2 constitution, -2 charisma.";
    }
   if (rayce==151) {
     document.form1.second_comment_box.value+="\rLupins get no ability score adjustments.";
    }
   if (rayce==129) {
     dexterity+=2;
     constitution+=2;
     charisma+=2;
     strength-=2;
     document.form1.second_comment_box.value+="\rChaos gnomes receive +2 dexterity, +2 constitution, +2 charisma, -2 strength.";
    }
   if (rayce==130) {
     dexterity-=2;
     constitution+=2;
     document.form1.second_comment_box.value+="\rDream dwarves receive +2 constitution, -2 dexterity.";
    }
   if (rayce==131) {
     strength+=4;
     dexterity+=2;
     constitution+=4;
     intelligence-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rFeral garguns receive +4 strength, +4 constitution, +2 dexterity, -2 intelligence, -2 charisma.";
    }
   if (rayce==132) {
     strength+=8;
     constitution+=8;
     intelligence+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rStonechildren receive +8 strength, +8 constitution, +2 intelligence, -2 charisma."
    }
   if (rayce==133) {
     wisdom-=2;
     document.form1.second_comment_box.value+="\rHengeyokai receive -2 wisdom.";
    }
   if (rayce==134) {
     constitution+=2;
     intelligence-=2;
     document.form1.second_comment_box.value+="\rKorobokuru receive +2 constitution, -2 intelligence.";
    }
   if (rayce==135) {
     constitution+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rRatlings receive +2 constitution, -2 charisma.";
    }
   if (rayce==139) {
     strength-=2;
     wisdom+=2;
     intelligence+=2;
     document.form1.second_comment_box.value+="\rVanara receive +2 intelligence, +2 wisdom, -2 strength.";
    }
   if (rayce==140) {
     dexterity+=2;
     strength-=2;
     document.form1.second_comment_box.value+="\rGrippli receive +2 dexterity, -2 strength.";
    }
   if (rayce==141) {
     strength+=2;
     dexterity+=2;
     constitution+=2;
     intelligence+=2;
     wisdom+=4;
     charisma+=2;
     document.form1.second_comment_box.value+="\rDoppelgangers receive +2 strength, +2 dexterity, +2 constitution, +2 intelligence, +4 wisdom, +2 charisma.";
    }
   if (rayce==142) {
     strength+=4;
     dexterity+=4;
     constitution+=8;
     intelligence-=4;
     charisma-=4;
     document.form1.second_comment_box.value+="\rGargoyles receive +4 strength, +4 dexterity, +8 constitution, -4 intelligence, -4 charisma.";
    }
   if (rayce==143) {
     strength+=4;
     dexterity+=2;
     constitution+=2;
     wisdom-=2;
     charisma-=4;
     document.form1.second_comment_box.value+="\rGrimlocks receive +4 strength, +2 dexterity, +2 constitution, -2 wisdom, -4 charisma.";
    }
   if (rayce==144) {
     dexterity+=2;
     intelligence+=2;
     charisma+=2;
     document.form1.second_comment_box.value+="\rYuanTi Purebloods receive +2 dexterity, +2 intelligence, +2 charisma.";
    }
   if (rayce==145) {
     strength+=2;
     dexterity+=4;
     constitution+=2;
     intelligence+=8;
     wisdom+=6;
     charisma+=6;
     document.form1.second_comment_box.value+="\rMind Flayers receive +2 strength, +4 dexterity, +2 constitution, +8 intelligence, +6 wisdom, +6 charisma.";
    }
   if (rayce==146) {
     strength+=10;
     constitution+=6;
     intelligence+=4;
     wisdom+=4;
     charisma+=6;
     document.form1.second_comment_box.value+="\rOgre Mages receive +10 strength, +6 constitution, +4 intelligence, +4 wisdom, +6 charisma.";
    }
   if (rayce==147) {
     strength+=12;
     dexterity+=4;
     constitution+=12;
     intelligence-=4;
     wisdom-=2;
     charisma-=4;
     document.form1.second_comment_box.value+="\rTrolls receive strength +12, dexterity +4, constitution +12, intelligence -4, wisdom -2, charisma -4.";
    }
   if (rayce==148) {
     strength-=4;
     dexterity+=8;
     intelligence+=6;
     wisdom+=4;
     charisma+=6;
     document.form1.second_comment_box.value+="\rPixies receive -4 strength, +8 dexterity, +6 intelligence, +4 wisdom, +6 charisma.";
    }
   if (rayce==149) {
     dexterity+=2;
     constitution+=2;
     intelligence+=2;
     wisdom+=2;
     charisma+=2;
     document.form1.second_comment_box.value+="\rSatyrs receive +2 dexterity, +2 constitution, +2 intelligence, +2 wisdom, +2 charisma.";
    }
   if (rayce==150)
    {
     strength-=2;
     dexterity+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rTasloi receive -2 strength, +2 dexterity, -2 charisma.";
    }
   if (rayce==152) {
     strength+=2;
     dexterity+=4;
     constitution+=6;
     intelligence+=2;
     wisdom+=2;
     charisma+=6;
     document.form1.second_comment_box.value+="\rRakshasas receive +2 strength, +4 dexterity, +6 constitution, +2 intelligence, +2 wisdom, +6 charisma.";
    }
   if (rayce==178) {
     strength+=12;
     dexterity+=8;
     constitution+=8;
     intelligence+=8;
     wisdom+=8;
     charisma+=10;
     document.form1.second_comment_box.value+="\rAstral devas receive +12 strength, +8 dexterity, +8 constitution, +8 intelligence, +8 wisdom, +10 charisma.";
    }
   if (rayce==153) {
     strength+=4;
     constitution+=2;
     wisdom+=2;
     charisma+=2;
     document.form1.second_comment_box.value+="\rHound Archons receive +4 strength, +2 constitution, +2 wisdom, +2 charisma.";
    }
   if (rayce==154) {
     strength+=6;
     dexterity+=4;
     constitution+=2;
     intelligence+=4;
     wisdom+=4;
     charisma+=2;
     document.form1.second_comment_box.value+="\rJann receive +6 strength, +4 dexterity, +2 constitution, +4 intelligence, +4 wisdom, +2 charisma.";
    }
   if (rayce==82) {
     strength+=8;
     constitution+=2;
     intelligence+=2;
     charisma+=2;
     document.form1.second_comment_box.value+="\rHalf-Dragons receive +8 strength, +4 dexterity, +2 constitution, +2 intelligence, +2 charisma.";
    }
   if (rayce==80) {
     constitution+=2;
     wisdom-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rWarforged receive +2 constitution, -2 wisdom, -2 charisma.";
    }
   if (rayce==81) {
     dexterity+=2;
     wisdom-=2;
     strength-=2;
     document.form1.second_comment_box.value+="\rKender receive +2 dexterity, -2 wisdom, -2 strength.";
    }
   if (rayce==75) {
     strength+=10;
     dexterity-=2;
     constitution+=4;
     intelligence-=4;
     charisma-=4;
     document.form1.second_comment_box.value+="\r Ogres receive +10 strength, +4 constitution, -2 dexterity, -4 intelligence, -4 charisma.";
    }
   if (rayce==175) {
     strength+=6;
     dexterity-=2;
     constitution+=2;
     intelligence-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\r Half-Ogres receive +6 strength, +2 constitution, -2 dexterity, -2 intelligence, -2 charisma.";
    }
   if (rayce==176)
    {
     strength+=10;
     dexterity+=6;
     constitution+=8;
     intelligence+=4;
     wisdom+=4;
     document.form1.second_comment_box.value+="\r Desmodu receive +10 strength, +6 dexterity, +8 constitution, +4 intelligence, +4 wisdom.";
    }
   if (rayce==177) {
     strength+=8;
     dexterity+=2;
     constitution+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\r Loxo receive +8 strength, +2 dexterity, +2 constitution, -2 charisma.";
    }
   if (rayce==76) {
     strength+=4;
     constitution+=2;
     intelligence-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\r Krynn half-ogres receive +4 strength, +2 constitution, -2 intelligence, -2 charisma.";
    }
   if (rayce==77) {
     strength+=8;
     constitution+=4;
     intelligence-=4;
     charisma-=2;
     document.form1.second_comment_box.value+="\rMinotaurs receive +8 Strength, +4 Constitution, -4 Intelligence (minimum 3), -2 Charisma.";
    }
   if (rayce==78) {
     strength+=4;
     constitution+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rBariaurs receive +4 strength, +2 constitution, -2 charisma.";
    }
   if ((rayce==3) || (rayce==66) || (rayce==94))
    {
     dexterity+=2;
     constitution-=2;
     document.form1.second_comment_box.value+="\rElves receive +2 dexterity, -2 constitution.";
    }
   if (rayce==57) {
     dexterity+=2;
     strength-=2;
     document.form1.second_comment_box.value+="\rDesert elves receive +2 dexterity, -2 strength.";
    }
   if (rayce==48)  {
     dexterity+=2;
     strength-=2;
     document.form1.second_comment_box.value+="\rArctic elves receive +2 dexterity, -2 strength.";
    }
   if ((rayce==4) || (rayce==156) || (rayce==157)) {
     constitution+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rDwarves receive +2 constitution, -2 charisma.";
    }
   if (rayce==91) {
     constitution+=2;
     charisma-=4;
     document.form1.second_comment_box.value+="\rDark Dwarves receive +2 constitution, -4 charisma.";
    }
   if (rayce==56) {
     constitution+=2;
     dexterity-=2;
     document.form1.second_comment_box.value+="\rDwarves receive +2 constitution, -2 dexterity.";
    }
   if (rayce==47) {
     strength+=2;
     constitution+=2;
     charisma-=2;
     dexterity-=4;
     document.form1.second_comment_box.value+="\rArctic dwarves receive +2 strength, +2 constitution, -4 dexterity, -2 charisma.";
    }
   if (rayce==38) {
     constitution+=2;
     strength+=2;
     charisma-=2;
     dexterity-=2;
     document.form1.second_comment_box.value+="\rAquatic dwarves receive +2 strength, +2 constitution, -4 dexterity, -2 charisma.";
    }
   if ((rayce==5) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39)) {
     strength-=2;
     constitution+=2;
     document.form1.second_comment_box.value+="\rGnomes receive +2 constitution, -2 strength.";
    }
   if (rayce==98) {
     strength-=2;
     wisdom-=2;
     dexterity+=2;
     intelligence+=2;
     document.form1.second_comment_box.value+="\rTinker Gnomes receive +2 intelligence,+2 dexterity, -2 strength, -2 wisdom.";
    }
   if (rayce==37) {
     strength-=2;
     constitution+=2;
     document.form1.second_comment_box.value+="\rForest Gnomes receive +2 constitution, -2 strength.";
    }
   if ( (rayce==6) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43) || (rayce==17) || (rayce==18) ) {
     dexterity+=2;
     strength-=2;
     document.form1.second_comment_box.value+="\rAll halflings receive +2 dexterity, -2 strength.";
    }
   if ((rayce==7) || (rayce==70) || (rayce==52) || (rayce==42)) {
     strength+=2;
     intelligence-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rHalf-orcs receive +2 strength, -2 charisma, -2 intelligence.";
    }
   if (rayce==61) {
     strength+=2;
     intelligence-=2;
     document.form1.second_comment_box.value+="\rDesert half-orcs receive +2 strength, -2 intelligence.";
    }
   if (rayce==9) {
     strength-=2;
     intelligence+=2;
     constitution-=2;
     dexterity+=2;
     document.form1.second_comment_box.value+="\rGray elves receive +2 intelligence, +2 dexterity, -2 strength, -2 constitution.";
    }
   if (rayce==10) {
     intelligence-=2;
     dexterity+=2;
     document.form1.second_comment_box.value+="\rWild elves receive +2 dexterity, -2 intelligence.";
    }
   if (rayce==13) {
     intelligence-=2;
     dexterity+=2;
     document.form1.second_comment_box.value+="\rSea elves receive +2 dexterity, -2 intelligence.";
    }
   if (rayce==14) {
     constitution+=2;
     charisma-=4;
     document.form1.second_comment_box.value+="\rDeep dwarves receive +2 constitution, -4 charisma.";
    }
   if (rayce==11) {
     intelligence-=2;
     dexterity+=2;
     constitution-=2;
     strength+=2;
     document.form1.second_comment_box.value+="\rWood elves receive +2 strength, +2 dexterity, -2 constitution, -2 intelligence.";
    }
   if (rayce==12) {
     intelligence+=2;
     dexterity+=2;
     constitution-=2;
     charisma+=2;
     document.form1.second_comment_box.value+="\rDark elves receive +2 intelligence, +2 dexterity, +2 charisma, -2 constitution.";
    }
   if (rayce==15) {
     constitution+=2;
     charisma-=4;
     document.form1.second_comment_box.value+="\rGray dwarves receive +2 constitution, -4 charisma.";
    }
   if (rayce==16) {
     dexterity+=2;
     wisdom+=2;
     strength-=2;
     charisma-=4;
     document.form1.second_comment_box.value+="\rDeep gnomes receive +2 dexterity, +2 wisdom, -2 strength, -4 charisma.";
    }
   if (rayce==19) {
     constitution+=2;
     wisdom+=2;
     strength-=2;
     charisma-=4;
     document.form1.second_comment_box.value+="\rWild gnomes receive +2 constitution, +2 wisdom, -2 strength, -4 charisma.";
    }
   if (rayce==20) {
     constitution+=2;
     strength+=2;
     intelligence-=2;
     document.form1.second_comment_box.value+="\rLizard folk receive +2 constitution, +2 strength, -2 intelligence.";
    }
   if (rayce==21) {
     constitution+=2;
     dexterity+=2;
     document.form1.second_comment_box.value+="\rHobgoblins receive +2 constitution, +2 dexterity.";
    }
   if ( (rayce==22) || (rayce==73) || (rayce==64) || (rayce==55) || (rayce==46) )
    {
     strength+=4;
     charisma-=2;
     wisdom-=2;
     intelligence-=2;
     document.form1.second_comment_box.value+="\rOrcs receive +4 strength, -2 wisdom, -2 intelligence, -2 charisma.";
    }
   if (rayce==23) {
     strength+=4;
     charisma-=2;
     dexterity+=2;
     constitution+=2;
     document.form1.second_comment_box.value+="\rBugbears receive +4 strength, +2 dexterity, +2 constitution, -2 charisma.";
    }
   if (rayce==24) {
     strength+=4;
     charisma-=2;
     intelligence-=2;
     constitution+=2;
     document.form1.second_comment_box.value+="\rGnolls receive +4 strength, +2 constitution,  -2 intelligence, -2 charisma.";
    }
   if (rayce==172) {
     strength+=2;
     dexterity-=2;
     intelligence+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\r Sharakim receive +2 strength, +2 intelligence, -2 dexterity, -2 charisma.";
    }
   if (rayce==173) {
     dexterity+=4;
     wisdom-=2;
     charisma-=4;
     document.form1.second_comment_box.value+="\r Skulks receive +4 dexterity, -2 wisdom, -4 charisma."
    }
   if ((rayce==25) || (rayce==45)) {
     strength-=4;
     constitution-=2;
     dexterity+=2;
     document.form1.second_comment_box.value+="\rKobolds receive +2 dexterity, -4 strength, -2 constitution."
    }
   if (rayce==63)
    {
	strength-=2;
	wisdom-=2;
	dexterity+=2;
     document.form1.second_comment_box.value+="\r Desert kobolds receive +2 dexterity, -2 strength, -2 wisdom."
    }
   if (rayce==72)
    {
	strength-=4;
	intelligence-=2;
	dexterity+=2;
     document.form1.second_comment_box.value+="\r Jungle kobolds receive +2 dexterity, -4 strength, -2 intelligence."
    }
   if (rayce==54)
    {
	strength-=2;
	wisdom-=2;
	constitution-=2;
	dexterity+=2;
     document.form1.second_comment_box.value+="\r Arctic kobolds receive +2 dexterity, -2 strength, -2 constitution, -2 wisdom."
    }
   if ((rayce==26) || (rayce==68) || (rayce==59))
    {
     strength-=2;
     charisma-=2;
     dexterity+=2;
     document.form1.second_comment_box.value+="\rGoblins receive +2 dexterity, -2 strength, -2 charisma."
    }
   if (rayce==40)
    {
     strength-=2;
     charisma-=2;
     constitution+=2;
     document.form1.second_comment_box.value+="\rAquatic goblins receive +2 constitution, -2 strength, -2 charisma."
    }
   if (rayce==50)
    {
     strength-=2;
     charisma-=2;
     constitution+=2;
     document.form1.second_comment_box.value+="\rArctic goblins receive +2 constitution, -2 strength, -2 charisma."
    }
  if (rayce==27)
    {
     constitution+=4;
     intelligence-=2;
     dexterity-=2;
     document.form1.second_comment_box.value+="\rTroglodytes receive +4 constitution, -2 dexterity, -2 intelligence."
    }
   if (rayce==28)
    {
     wisdom+=2;
     charisma+=2;
     document.form1.second_comment_box.value+="\rAasimar receive +2 wisdom, +2 charisma."
    }
   if (rayce==29)
    {
     dexterity+=2;
     intelligence+=2;
     wisdom-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rAir genasi receive +2 dexterity, +2 intelligence, -2 wisdom, -2 charisma."
    }
   if (rayce==30)
    {
     strength+=2;
     constitution+=2;
     wisdom-=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rEarth genasi receive +2 strength, +2 constitution, -2 wisdom, -2 charisma."
    }
   if (rayce==31) {
     intelligence+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rFire genasi receive +2 intelligence, -2 charisma."
    }
   if (rayce==32) {
     constitution+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rWater genasi receive +2 constitution, -2 charisma."
    }
   if (rayce==33) {
     dexterity+=2;
     intelligence+=2;
     charisma-=2;
     document.form1.second_comment_box.value+="\rTieflings receive +2 dexterity, +2 intelligence, -2 charisma."
    }

    if (halfdragon_template==true)
     {
      strength+=8;
      constitution+=2;
      intelligence+=2;
      charisma+=2;
      document.form1.second_comment_box.value+="\rThe half-dragon template gives +8 strength, +2 constitution, +2 intelligence, +2 charisma."
     }
    if ((werebear_template==true) || (wereboar_template==true) || (wererat_template==true) || (weretiger_template==true) || (werewolf_template==true))
     {
      wisdom+=2;
      document.form1.second_comment_box.value+="\rThe lycanthrope templates give +2 wisdom."
     }
    if (vampire_template==true)
     {
      strength+=6;
      dexterity+=4;
      intelligence+=2;
      wisdom+=2;
      charisma+=4;
      document.form1.second_comment_box.value+="\rThe vampire template gives +6 strength, +4 dexterity, +2 intelligence, +2 wisdom, +4 charisma."
     }
    if (ghost_template==true)
     {
      charisma+=4;
      document.form1.second_comment_box.value+="\rThe ghost template gives +4 charisma."
     }
    if (lich_template==true)
     {
      intelligence+=2;
      wisdom+=2;
      charisma+=2;
      document.form1.second_comment_box.value+="\rThe lich template gives +2 intelligence, +2 wisdom, +2 charisma."
     }
    if (mummy_template==true)
     {
      intelligence-=4;
      strength+=3;
      dexterity-=2;;
      wisdom+=4;
      charisma+=4;
      document.form1.second_comment_box.value+="\rThe mummy template gives +3 strength, -2 dexterity, -4 intelligence, +4 wisdom, +4 charisma."
     }
    if (spectral_template==true)
     {
      dexterity+=3;
      intelligence+=4;
      wisdom+=4;
      charisma+=4;
      document.form1.second_comment_box.value+="\rThe spectral template gives +3 dexterity, +4 intelligence, +4 wisdom, +4 charisma; strength becomes zero."
     }
    if (umbral_template==true)
     {
      dexterity+=2;
      intelligence-=4;
      wisdom+=2;
      charisma+=2;
      document.form1.second_comment_box.value+="\rThe umbral template gives +2 dexterity, -4 intelligence, +2 wisdom, +2 charisma; strength becomes zero."
     }
    if (wight_template==true)
     {
      strength+=2;
      dexterity+=2;
      wisdom+=2;
      charisma+=4;
      document.form1.second_comment_box.value+="\rThe wight template gives +2 strength, +2 dexterity, +2 wisdom, +2 charisma."
     }
    if (wraith_template==true)
     {
      dexterity+=6;
      intelligence+=4;
      wisdom+=4;
      charisma+=4;
      document.form1.second_comment_box.value+="\rThe wraith template gives +6 dexterity, +4 intelligence, +4 wisdom, +4 charisma."
     }
    if (deathknight_template==true)
     {
      strength+=4;
      wisdom+=2;
      charisma+=2;
      document.form1.second_comment_box.value+="\rThe deathknight template gives +4 strength, +2 wisdom, +2 charisma."
     }
    if (saint_template==true)
     {
      constitution+=2;
      wisdom+=2;
      charisma+=4;
      document.form1.second_comment_box.value+="\rThe saint template gives +2 constitution, +2 wisdom, +4 charisma."
     }
    if (halfair_template==true)
     {
      dexterity+=2;
      intelligence+=2;
      wisdom+=2;
      constitution+=2;
      charisma+=2;
      document.form1.second_comment_box.value+="\rThe half-air elemental template gives +2 dexterity, +2 intelligence, +2 wisdom, +2 constitution, +2 charisma."
     }
    if (halfearth_template==true)
     {
      strength+=4;
      dexterity-=2;
      constitution+=4;
      document.form1.second_comment_box.value+="\rThe half-earth elemental template gives +4 strength, -2 dexterity, +4 constitution."
     }
    if (halffire_template==true)
     {
      dexterity+=4;
      intelligence+=2;
      charisma+=2;
      document.form1.second_comment_box.value+="\rThe half-fire elemental template gives +4 dexterity, +2 intelligence, +2 charisma."
     }
    if (halfwater_template==true)
     {
      strength+=2;
      intelligence+=2;
      wisdom+=2;
      constitution+=2;
      charisma+=2;
      document.form1.second_comment_box.value+="\rThe half-water elemental template gives +2 strength, +2 intelligence, +2 wisdom, +2 constitution, +2 charisma."
     }
    if (halfcelestial_template==true)
     {
      strength+=4;
      dexterity+=2;
      constitution+=4;
      intelligence+=2;
      wisdom+=4;
      charisma+=4;
      document.form1.second_comment_box.value+="\rThe half-celestial template gives +4 strength, +2 dexterity, +4 constitution, +2 intelligence, +4 wisdom, +4 charisma."
     }
    if (halffiend_template==true)
     {
      strength+=4;
      dexterity+=4;
      constitution+=2;
      intelligence+=4;
      charisma+=2;
      document.form1.second_comment_box.value+="\rThe half-fiend template gives +4 strength, +4 dexterity, +2 constitution, +4 intelligence, +2 charisma."
     }

    if (strength<3) {strength=3; }
    if (dexterity<3) {dexterity=3; }
    if (constitution<3) {constitution=3; }
    if (intelligence<3) {intelligence=3; }
    if (wisdom<3) {wisdom=3; }
    if (charisma<3) {charisma=3; }
     InitializeIntelligences();
//racialstuff
     if ((rayce==34) || (rayce==20) || (rayce==24) || (rayce==27)) { document.form1.second_comment_box.value+="\rYour first 2 levels are as a humanoid."; }
     if (rayce==23) { document.form1.second_comment_box.value+="\rYour first 3 levels are as a humanoid."; }
     if ((rayce==131) || (rayce==169)) { document.form1.second_comment_box.value+="\rYour first 2 levels are as a monstrous humanoid."; }
     if (rayce==168) { document.form1.second_comment_box.value+="\rYour first 9 levels are as a monstrous humanoid."; }
     if (rayce==132) { document.form1.second_comment_box.value+="\rYour first 2 levels are as an outsider."; }
     if ((rayce==86) || (rayce==87)) { document.form1.second_comment_box.value+="\rYour first 2 levels are as a dragon."; }
     if ((rayce==88)) { document.form1.second_comment_box.value+="\rYour first 8 levels are as a dragon."; }
     if ((rayce==89)) { document.form1.second_comment_box.value+="\rYour first 4 levels are as a dragon."; }
     if ((rayce==90)) { document.form1.second_comment_box.value+="\rYour first 6 levels are as a dragon."; }
     if (rayce==78) { document.form1.second_comment_box.value+="\rYour first 3 levels are as an outsider."; }
     if (rayce==165) { document.form1.second_comment_box.value+="\rYour first 5 levels are as an outsider."; }
     if ((rayce==74) || (rayce==75)) { document.form1.second_comment_box.value+="\rYour first 4 levels are as a humanoid."; }
     if (rayce==166) { document.form1.second_comment_box.value+="\rYour first 5 levels are as a monstrous humanoid."; }
     if (rayce==176) { document.form1.second_comment_box.value+="\rYour first 12 levels are as a monstrous humanoid."; }
     if (rayce==177) { document.form1.second_comment_box.value+="\rYour first 5 levels are as a monstrous humanoid."; }
     if ((rayce==141) || (rayce==142) || (rayce==144)) { document.form1.second_comment_box.value+="\rYour first 4 levels are as a monstrous hunanoid."; }
     if ((rayce==143)) { document.form1.second_comment_box.value+="\rYour first 2 levels are as a monstrous hunanoid."; }
     if ((rayce==121) || (rayce==122) || (rayce==123) || (rayce==124)) { document.form1.second_comment_box.value+="\rYour first 2 levels are as a reptilian hunanoid."; }
     if (rayce==145) { document.form1.second_comment_box.value+="\rYour first 8 levels are as an aberration."; }
     if (rayce==148) { document.form1.second_comment_box.value+="\rYour first level is as a fey."; }
     if (rayce==146) { document.form1.second_comment_box.value+="\rYour first 5 levels are as a giant."; }
     if (rayce==147) { document.form1.second_comment_box.value+="\rYour first 6 levels are as a giant."; }
     if (rayce==149) { document.form1.second_comment_box.value+="\rYour first 5 levels are as a fey."; }
     if (rayce==167) { document.form1.second_comment_box.value+="\rYour first level is as a fey."; }
     if (rayce==152) { document.form1.second_comment_box.value+="\rYour first 7 levels are as an outsider."; }
     if (rayce==178) { document.form1.second_comment_box.value+="\rYour first 12 levels are as an outsider."; }
     if (rayce==151) { document.form1.second_comment_box.value+="\rLupins evidently do not take initial levels as monstrous humanoids."; }
     if ((rayce==153) || (rayce==154)) { document.form1.second_comment_box.value+="\rYour first 6 levels are as an outsider."; }

     if (HowManyMonstrousLevels()==0) { 
     	document.form1.second_comment_box.value+="\rNow choose your class(es), starting with first level.\rRecommended: "; 
     }
     else
       {
        if (total_levels<=HowManyMonstrousLevels())
         {
          document.form1.second_comment_box.value+="\rYou are still gaining racial levels. In the future consider: "
         }
        else
         {
          document.form1.second_comment_box.value+="\rNow choose your class(es), starting with level "+(HowManyMonstrousLevels()+1)+". \rRecommended: "
         }
       }
     x=1;
     if (dexterity>strength) { x=2; }
     if ((constitution>dexterity) && (constitution>strength)) { x=3; }
     if ((intelligence>dexterity) && (intelligence>constitution) && (intelligence>strength)) { x=4; }
     if ((wisdom>intelligence) && (wisdom>dexterity) && (wisdom>constitution) && (wisdom>strength)) { x=5; }
     if ((charisma>wisdom) && (charisma>intelligence) && (charisma>dexterity) && (charisma>constitution) && (charisma>strength)) { x=6; }
     top_ability_score=x;
     if ((x==1) && (strength<11)) {strength=11; }
     if ((x==2) && (dexterity<11)) {dexterity=11; }
     if ((x==3) && (constitution<11)) {constitution=11; }
     if ((x==4) && (intelligence<11)) {intelligence=11; }
     if ((x==5) && (wisdom<11)) {wisdom=11; }
     if ((x==6) && (charisma<11)) {charisma=11; }
     z=0; if (x!=1) {z=1; }
     if ((dexterity>strength) && (x!=2)) {z=2; }
     if ((constitution>dexterity) && (constitution>strength) && (x!=3)) {z=3; }
     if ((intelligence>dexterity) && (intelligence>constitution) && (intelligence>strength) && (x!=4)) {z=4; }
     if ((wisdom>intelligence) && (wisdom>dexterity) && (wisdom>constitution) && (wisdom>strength) && (x!=5)) {z=5; }
     if ((charisma>wisdom) && (charisma>intelligence) && (charisma>dexterity) && (charisma>constitution) && (charisma>strength) && (x!=6)) {z=6; }

     if ((alignment!=1) && (alignment!=4) && (alignment!=7))
      {if ((strength>=10) && (dexterity>=10) && (constitution>=12) && (x!=6) && (x!=4)) { document.form1.second_comment_box.value+=" Barbarian "; }}
     if ((alignment!=1) && (alignment!=4) && (alignment!=7))
      {if ((charisma>=16) || (((x==6) || (z==6) || (charisma>=14)) && (intelligence>=10) && (charisma>=12) && (dexterity>=10))) { document.form1.second_comment_box.value+=" Bard "; }}
     if ((x==5) || (wisdom>=16) || (((wisdom>=15)) && (charisma>=8))) { document.form1.second_comment_box.value+=" Cleric "; }
     if ((alignment==2) || (alignment==4) || (alignment==5) || (alignment==6) || (alignment==8))
      {if ((x==5) || (wisdom>=16) || (((wisdom>=15)) && (dexterity>=8))) { document.form1.second_comment_box.value+=" Druid "; }}
     if (((strength + dexterity>=22) || (strength>=14) || (x==1) || (dexterity>=14)) && ((constitution>=12) || (strength + dexterity>26)) && ((x==1) || (x==2) || (x==3)) && (constitution>8)) { document.form1.second_comment_box.value+=" Fighter "; }
     if ((alignment==1) || (alignment==4) || (alignment==7))
      {if ((wisdom+dexterity>=20) && (constitution>=10) && (strength>=10)) { document.form1.second_comment_box.value+=" Monk "; }}
     if (alignment==1)
      {if (((strength + dexterity>=22) || (strength>=14) || (dexterity>=14)) && (((charisma>=12) && (wisdom>=12)) || (charisma>=14)) && (constitution>=9)) { document.form1.second_comment_box.value+=" Paladin "; }}
     if ((strength>=10) && (dexterity>=10) && (constitution>=12) && (wisdom>=12) && (x!=6)) { document.form1.second_comment_box.value+=" Ranger "; }
     if ((x==2) || ((dexterity>=10) && (intelligence>=10))) { document.form1.second_comment_box.value+=" Rogue "; }
     if ((charisma>=15) || ((z==6) && (constitution>=10)) || (x==6)) { document.form1.second_comment_box.value+=" Sorcerer "; }
     if ((intelligence>=15) || (((z==4)) && (constitution>=10)) || (x==4)) { document.form1.second_comment_box.value+=" Wizard "; }
  }
  ArrowShow();
 }

function lock_abilities() {
 if (DiceHaveBeenRolled==false) { document.form1.first_comment_box.value="Roll dice / assign all numbers first."; }
 else if (AbilitiesAreProperlyAssigned==false)
  {
   document.form1.first_comment_box.value="Finish assigning your statistics.";
   TellAboutPointBuy();
  }
 else {
     AbilitiesHaveBeenEstablished=true;
     z=0; while (z<6) {
     if (document.form1.firststat[z].checked==true) {firststatwentto=z; }
     if (document.form1.secondstat[z].checked==true) {secondstatwentto=z; }
     if (document.form1.thirdstat[z].checked==true) {thirdstatwentto=z; }
     if (document.form1.fourthstat[z].checked==true) {fourthstatwentto=z; }
     if (document.form1.fifthstat[z].checked==true) {fifthstatwentto=z; }
     if (document.form1.sixthstat[z].checked==true) {sixthstatwentto=z; }
     z++; }
     document.form1.first_comment_box.value="Scores accepted.\rNow choose character race, sex, alignment, and total levels.";
     if (firststatwentto==0) {strength=stat1; }
     if (firststatwentto==1) {dexterity=stat1; }
     if (firststatwentto==2) {constitution=stat1; }
     if (firststatwentto==3) {intelligence=stat1; }
     if (firststatwentto==4) {wisdom=stat1; }
     if (firststatwentto==5) {charisma=stat1; }
     if (secondstatwentto==0) {strength=stat2; }
     if (secondstatwentto==1) {dexterity=stat2; }
     if (secondstatwentto==2) {constitution=stat2; }
     if (secondstatwentto==3) {intelligence=stat2; }
     if (secondstatwentto==4) {wisdom=stat2; }
     if (secondstatwentto==5) {charisma=stat2; }
     if (thirdstatwentto==0) {strength=stat3; }
     if (thirdstatwentto==1) {dexterity=stat3; }
     if (thirdstatwentto==2) {constitution=stat3; }
     if (thirdstatwentto==3) {intelligence=stat3; }
     if (thirdstatwentto==4) {wisdom=stat3; }
     if (thirdstatwentto==5) {charisma=stat3; }
     if (fourthstatwentto==0) {strength=stat4; }
     if (fourthstatwentto==1) {dexterity=stat4; }
     if (fourthstatwentto==2) {constitution=stat4; }
     if (fourthstatwentto==3) {intelligence=stat4; }
     if (fourthstatwentto==4) {wisdom=stat4; }
     if (fourthstatwentto==5) {charisma=stat4; }
     if (fifthstatwentto==0) {strength=stat5; }
     if (fifthstatwentto==1) {dexterity=stat5; }
     if (fifthstatwentto==2) {constitution=stat5; }
     if (fifthstatwentto==3) {intelligence=stat5; }
     if (fifthstatwentto==4) {wisdom=stat5; }
     if (fifthstatwentto==5) {charisma=stat5; }
     if (sixthstatwentto==0) {strength=stat6; }
     if (sixthstatwentto==1) {dexterity=stat6; }
     if (sixthstatwentto==2) {constitution=stat6; }
     if (sixthstatwentto==3) {intelligence=stat6; }
     if (sixthstatwentto==4) {wisdom=stat6; }
     if (sixthstatwentto==5) {charisma=stat6; }
     InitializeIntelligences();
  }
  ArrowShow();
 }

function HaveISixStats() {
 AbilitiesAreProperlyAssigned=false;
 if
   (
    (stat1>=3) && (stat2>=3) && (stat3>=3) && (stat4>=3) && (stat5>=3) && (stat6>=3) &&
    (
     (document.form1.firststat[0].checked==true) ||
     (document.form1.firststat[1].checked==true) ||
     (document.form1.firststat[2].checked==true) ||
     (document.form1.firststat[3].checked==true) ||
     (document.form1.firststat[4].checked==true) ||
     (document.form1.firststat[5].checked==true)
    ) &&
    (
     (document.form1.secondstat[0].checked==true) ||
     (document.form1.secondstat[1].checked==true) ||
     (document.form1.secondstat[2].checked==true) ||
     (document.form1.secondstat[3].checked==true) ||
     (document.form1.secondstat[4].checked==true) ||
     (document.form1.secondstat[5].checked==true)
    ) &&
    (
     (document.form1.thirdstat[0].checked==true) ||
     (document.form1.thirdstat[1].checked==true) ||
     (document.form1.thirdstat[2].checked==true) ||
     (document.form1.thirdstat[3].checked==true) ||
     (document.form1.thirdstat[4].checked==true) ||
     (document.form1.thirdstat[5].checked==true)
    ) &&
    (
     (document.form1.fourthstat[0].checked==true) ||
     (document.form1.fourthstat[1].checked==true) ||
     (document.form1.fourthstat[2].checked==true) ||
     (document.form1.fourthstat[3].checked==true) ||
     (document.form1.fourthstat[4].checked==true) ||
     (document.form1.fourthstat[5].checked==true)
    ) &&
    (
     (document.form1.fifthstat[0].checked==true) ||
     (document.form1.fifthstat[1].checked==true) ||
     (document.form1.fifthstat[2].checked==true) ||
     (document.form1.fifthstat[3].checked==true) ||
     (document.form1.fifthstat[4].checked==true) ||
     (document.form1.fifthstat[5].checked==true)
    ) &&
    (
     (document.form1.sixthstat[0].checked==true) ||
     (document.form1.sixthstat[1].checked==true) ||
     (document.form1.sixthstat[2].checked==true) ||
     (document.form1.sixthstat[3].checked==true) ||
     (document.form1.sixthstat[4].checked==true) ||
     (document.form1.sixthstat[5].checked==true)
    )
   )
   {
    AbilitiesAreProperlyAssigned=true; }
   if (AbilitiesAreProperlyAssigned==false)
    {
     if ((document.form1.methods_list.selectedIndex==3) || (document.form1.methods_list.selectedIndex==6))
      {
        TellAboutPointBuy();
      }
     else
      {
       document.form1.first_comment_box.value="Now assign your abilities.";
       TellAboutPointBuy();
      }
    }
  if (AbilitiesAreProperlyAssigned==true)
    {
     document.form1.first_comment_box.value="You can accept these!";
     TellAboutPointBuy();
    }
}

function PointBuyIsEightsOrBetter() {
 if (document.form1.methods_list.selectedIndex==3)
  {
   if (stat1<8) {stat1=8; document.form1.stat1_list.selectedIndex=5; }
   if (stat2<8) {stat2=8; document.form1.stat2_list.selectedIndex=5; }
   if (stat3<8) {stat3=8; document.form1.stat3_list.selectedIndex=5; }
   if (stat4<8) {stat4=8; document.form1.stat4_list.selectedIndex=5; }
   if (stat5<8) {stat5=8; document.form1.stat5_list.selectedIndex=5; }
   if (stat6<8) {stat6=8; document.form1.stat6_list.selectedIndex=5; }
   DiceHaveBeenRolled=true;
   DisplayTrueStatistics();
   TellAboutPointBuy();
  }
 if (document.form1.methods_list.selectedIndex==6)
  {
   DiceHaveBeenRolled=true;
   DisplayTrueStatistics();
   TellAboutPointBuy();
  }
 }

function assign_stat(numbur) {

 if (rayce!=0) { clearall(); }
 AbilitiesHaveBeenEstablished=false;
 if (numbur==1) {stat1=3+document.form1.stat1_list.selectedIndex; }
 if (numbur==2) {stat2=3+document.form1.stat2_list.selectedIndex; }
 if (numbur==3) {stat3=3+document.form1.stat3_list.selectedIndex; }
 if (numbur==4) {stat4=3+document.form1.stat4_list.selectedIndex; }
 if (numbur==5) {stat5=3+document.form1.stat5_list.selectedIndex; }
 if (numbur==6) {stat6=3+document.form1.stat6_list.selectedIndex; }

 PointBuyIsEightsOrBetter()

 DisplayTrueStatistics()
 if ((stat1>=3) && (stat2>=3) && (stat3>=3) && (stat4>=3) && (stat5>=3) && (stat6>=3))
  {
   DiceHaveBeenRolled=true; HaveISixStats();
  }
  else { document.form1.first_comment_box.value="Assign all six."; }
 ArrowShow();
 }

function assignstat(whichstat,whichability) {
 my_character_is_done=false;

 if (AbilitiesHaveBeenEstablished==true) {RewriteLockedAbilityAssignments(); }
 else if (DiceHaveBeenRolled==false) { document.form1.first_comment_box.value="Please roll the dice first."; ClearAllAbilityAssignments(); }
 else {
 z=1; while (z<7) {
 if ((whichstat!=1) && (whichability==z) && (document.form1.firststat[z-1].checked==true)) { document.form1.firststat[z-1].checked=false; }
 if ((whichstat!=2) && (whichability==z) && (document.form1.secondstat[z-1].checked==true)) { document.form1.secondstat[z-1].checked=false; }
 if ((whichstat!=3) && (whichability==z) && (document.form1.thirdstat[z-1].checked==true)) { document.form1.thirdstat[z-1].checked=false; }
 if ((whichstat!=4) && (whichability==z) && (document.form1.fourthstat[z-1].checked==true)) { document.form1.fourthstat[z-1].checked=false; }
 if ((whichstat!=5) && (whichability==z) && (document.form1.fifthstat[z-1].checked==true)) { document.form1.fifthstat[z-1].checked=false; }
 if ((whichstat!=6) && (whichability==z) && (document.form1.sixthstat[z-1].checked==true)) { document.form1.sixthstat[z-1].checked=false; }
 z++; }

 if (whichstat==1) { x=stat1; }
 if (whichstat==2) { x=stat2; }
 if (whichstat==3) { x=stat3; }
 if (whichstat==4) { x=stat4; }
 if (whichstat==5) { x=stat5; }
 if (whichstat==6) { x=stat6; }
 if (whichability==1) {strength=x; }
 if (whichability==2) {dexterity=x; }
 if (whichability==3) {constitution=x; }
 if (whichability==4) {intelligence=x; }
 if (whichability==5) {wisdom=x; }
 if (whichability==6) {charisma=x; }
 HaveISixStats();
  }
  ArrowShow();
}

function DisplayTrueStatistics() {
 document.form1.firststatistic.value=stat1;
 document.form1.secondstatistic.value=stat2;
 document.form1.thirdstatistic.value=stat3;
 document.form1.fourthstatistic.value=stat4;
 document.form1.fifthstatistic.value=stat5;
 document.form1.sixthstatistic.value=stat6;
 }

function Feats() {
 document.form1.feat.value="";
 if (FeatsAreLocked==true)
  {
   RememberFeats();
   return true;
  }
 else {

 if ((psion_levels + epic_psion_levels +wilder_levels +psiwarrior_levels>0) || (document.form1.wildtalent.checked==false))
  {
    document.form1.antipsionicmagic.checked=false;
    document.form1.chaoticmind.checked=false;
    document.form1.forceofwill.checked=false;
    document.form1.hostilemind.checked=false;
    document.form1.mentalresistance.checked=false;
    document.form1.psionichole.checked=false;
  }
  else
  {
    document.form1.alignedattack.checked=false;
    document.form1.boostconstruct.checked=false;
    document.form1.combatmanifestation.checked=false;
    document.form1.expandedknowledge_list.selectedIndex=0;
    document.form1.focusedsunder.checked=false;
    document.form1.ghostattack.checked=false;
    document.form1.inquisitor.checked=false;
    document.form1.mentalleap.checked=false;
    document.form1.metamorphictransfer_list.selectedIndex=0;
    document.form1.narrowmind.checked=false;
    document.form1.overchannel.checked=false;
    document.form1.talented.checked=false;
    document.form1.bodyfuel.checked=false;
    document.form1.powerpenetration.checked=false;
    document.form1.greaterpowerpenetration.checked=false;
    document.form1.powerspecialization.checked=false;
    document.form1.greaterpowerspecialization.checked=false;
    document.form1.psicrystalaffinity.checked=false;
    document.form1.improvedpsicrystal.checked=false;
    document.form1.psicrystalcontainment.checked=false;
    document.form1.psionicbody.checked=false;
    document.form1.psionicdodge.checked=false;
    document.form1.psionicendowment.checked=false;
    document.form1.greaterpsionicendowment.checked=false;
    document.form1.psionicfist.checked=false;
    document.form1.greaterpsionicfist.checked=false;
    document.form1.unavoidablestrike.checked=false;
    document.form1.psionicmeditation.checked=false;
    document.form1.psionicshot.checked=false;
    document.form1.greaterpsionicshot.checked=false;
    document.form1.fellshot.checked=false;
    document.form1.returnshot.checked=false;
    document.form1.psionictalent_list.selectedIndex=0;
    document.form1.improvedfavoredenemy_list.selectedIndex=0;
    document.form1.familiarspell_list.selectedIndex=0;
    document.form1.greatsmiting_list.selectedIndex=0;
    document.form1.improvedmetamagic_list.selectedIndex=0;
    document.form1.improvedsneakattack_list.selectedIndex=0;
    document.form1.improvedspellcapacity_list.selectedIndex=0;
    document.form1.improvedstunningfist_list.selectedIndex=0;
    document.form1.overwhelmingcritical_list.selectedIndex=0;
    document.form1.spellknowledge_list.selectedIndex=0;
    document.form1.epicexpandedknowledge_list.selectedIndex=0;
    document.form1.epicpsionicfocus_list.selectedIndex=0;
    document.form1.improvedmanifestation_list.selectedIndex=0;
    document.form1.improvedmetapsionics_list.selectedIndex=0;
    document.form1.powerknowledge_list.selectedIndex=0;
    document.form1.psicrystalpower_list.selectedIndex=0;
    document.form1.psionicweapon.checked=false;
    document.form1.greaterpsionicweapon.checked=false;
    document.form1.deepimpact.checked=false;
    document.form1.speedofthought.checked=false;
    document.form1.psioniccharge.checked=false;
    document.form1.upthewalls.checked=false;
    document.form1.woundingattack.checked=false;
    document.form1.burrowingpower.checked=false;
    document.form1.chainpower.checked=false;
    document.form1.delaypower.checked=false;
    document.form1.empowerpower.checked=false;
    document.form1.enlargepower.checked=false;
    document.form1.extendpower.checked=false;
    document.form1.maximizepower.checked=false;
    document.form1.opportunitypower.checked=false;
    document.form1.quickenpower.checked=false;
    document.form1.splitpsionicray.checked=false;
    document.form1.twinpower.checked=false;
    document.form1.unconditionalpower.checked=false;
    document.form1.widenpower.checked=false;
    document.form1.craftcognizancecrystal.checked=false;
    document.form1.craftdorje.checked=false;
    document.form1.craftpsicrown.checked=false;
    document.form1.craftpsionicarmsandarmor.checked=false;
    document.form1.craftpsionicconstruct.checked=false;
    document.form1.craftuniversalitem.checked=false;
    document.form1.imprintstone.checked=false;
    document.form1.scribetattoo.checked=false;
  }

 if (monk_totem==1)
  {
   document.form1.dodge.checked=false;
   document.form1.mobility.checked=false;
   document.form1.springattack.checked=false;
  }
 if (monk_totem==2)
  {
   document.form1.combatexpertise.checked=true;
   document.form1.tumble.checked=false;
   document.form1.improvedgrapple.checked=false;
   document.form1.improveddisarm.checked=false;
  }
 if (monk_totem==3)
  {
   document.form1.stunningfist.checked=false;
   document.form1.deflectarrows.checked=false;
   document.form1.improvedtrip.checked=false;
  }
 if (monk_totem==4)
  {
   document.form1.agile.checked=true;
   document.form1.combatreflexes.checked=false;
   document.form1.lightningreflexes.checked=false;
   document.form1.blindfight.checked=false;
  }
 if (monk_totem==5)
  {
   document.form1.powerattack.checked=false;
   document.form1.improvedbullrush.checked=false;
   document.form1.improvedoverrun.checked=false;
  }
 if (monk_totem==6)
  {
   document.form1.skillfocusbluff.checked=true;
   document.form1.combatexpertise.checked=false;
   document.form1.improvedtrip.checked=false;
   document.form1.improvedfeint.checked=false;
  }
 if (monk_totem==7)
  {
   document.form1.powerattack.checked=true;
   if (document.form1.weaponfinesse_list.checked==false)
    { document.form1.weaponfinesse_list.checked=true; }
   document.form1.improvedinitiative.checked=false;
   document.form1.improvedsunder.checked=false;
  }
 if (monk_totem==8)
  {
   document.form1.endurance.checked=false;
   document.form1.diehard.checked=false;
  }

 if (npcother_class_name=="Sohei")
  {
   if (document.form1.weaponfocus_list.selectedIndex==0)
    { document.form1.weaponfocus_list.selectedIndex=1; }
  }

  x=0; 
  total_fighter_feats=0; 
  total_scout_feats=0; 
  total_wizard_feats=0; 
  total_psiwarrior_feats=0;
  total_psion_feats=0;
  high_level_rogue_count=0;

if (document.form1.slow_trait.checked==true) { document.form1.improvedtoughness.checked=false; }
if ((wizard_levels==0) && (npcother_class_name!="Wu Jen")) { document.form1.spellcastingprodigyintelligence.checked=false; }
if (paladin_levels + cleric_levels + druid_levels + ranger_levels==0) { document.form1.spellcastingprodigywisdom.checked=false; }
if ((bard_levels + sorcerer_levels==0) && (npcother_class_name!="Warmage") && (npcother_class_name!="Shugenja")) { document.form1.spellcastingprodigycharisma.checked=false; }
if (modifier_number(wisdom)<=modifier_number(dexterity)) { document.form1.zenarchery.checked=false; }
if ((knowledgearcana/knowledgearcana_class<5))
 {
  document.form1.energysubstitutionacid.checked=false;
  document.form1.energysubstitutioncold.checked=false;
  document.form1.energysubstitutionelectricity.checked=false;
  document.form1.energysubstitutionfire.checked=false;
  document.form1.energysubstitutionsonic.checked=false;
  document.form1.subdualsubstitution.checked=false;
 }
if ((document.form1.frail.checked==true) && (document.form1.improvedtoughness.checked==true))
 { document.form1.frail.checked=false;document.form1.improvedtoughness.checked=false; }
if ((constitution==1) || (constitution==2) || (constitution==3)) { document.form1.frail.checked=false; }
if ((document.form1.alertness.checked==true)) { document.form1.inattentive.checked=false; }
if ((document.form1.lightningreflexes.checked==true)) { document.form1.poorreflexes.checked=false; }
if ((document.form1.greatfortitude.checked==true)) { document.form1.meagerfortitude.checked=false; }
if ((document.form1.ironwill.checked==true)) { document.form1.weakwill.checked=false; }
if ((document.form1.improvedpreciseshot.checked==true)) { document.form1.murkyeyed.checked=false; }
if ((document.form1.pointblankshot.checked==true)) { document.form1.shaky.checked=false; }
if ((rangercombattrack==1)) { document.form1.shaky.checked=false; }
if ((rangercombattrack>1)) { document.form1.noncombatant.checked=false; }


if (document.form1.feeble.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.feeble.checked=false; }}
if (document.form1.frail.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.frail.checked=false; }}
if (document.form1.inattentive.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.inattentive.checked=false; }}
if (document.form1.meagerfortitude.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.meagerfortitude.checked=false; }}
if (document.form1.weakwill.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.meagerfortitude.checked=false; }}
if (document.form1.otherflaw1.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.meagerfortitude.checked=false; }}
if (document.form1.otherflaw2.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.meagerfortitude.checked=false; }}
if (document.form1.murkyeyed.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.murkyeyed.checked=false; }}
if (document.form1.noncombatant.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.noncombatant.checked=false; }}
if (document.form1.poorreflexes.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.poorreflexes.checked=false; }}
if (document.form1.shaky.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.shaky.checked=false; }}
if (document.form1.slowpoke.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.slowpoke.checked=false; }}
if (document.form1.unreactive.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.unreactive.checked=false; }}
if (document.form1.vulnerable.checked==true) { x--; if (x<-2-traitmax(total_levels)) { document.form1.vulnerable.checked=false; }}

if (vampire_template==true)
 {
    document.form1.improvedinitiative.checked=true;
    document.form1.alertness.checked=true;
    document.form1.combatreflexes.checked=true;
    document.form1.lightningreflexes.checked=true;
  if (dexterity>=13)
   {
    document.form1.dodge.checked=true;
   }
 }

if ((werebear_template==true) || (wereboar_template==true) || (wererat_template==true) || (weretiger_template==true) || (werewolf_template==true)) { document.form1.ironwill.checked=true; }
if ((werebear_template==true) || (werewolf_template==true)) { document.form1.track.checked=true; }
if ((wereboar_template==true) || (weretiger_template==true)) { document.form1.alertness.checked=true; }

 if ((wererat_template==true) && (document.form1.weaponfinesse_list.checked==false))
  { document.form1.weaponfinesse_list.checked=true; }

if (rayce==154) { document.form1.improvedinitiative.checked=true; }
if (rayce==144)
 {
  document.form1.alertness.checked=true;
  document.form1.blindfight.checked=true;
 }
if (rayce==148) { document.form1.dodge.checked=true; }
if (rayce==149) { document.form1.alertness.checked=true; }
if (rayce==61) { document.form1.run.checked=true; }
if (rayce==132) { document.form1.blindfight.checked=true; }
if (rayce==64) { document.form1.endurance.checked=true; }
if ((rayce==86) || (rayce==87)) { document.form1.run.checked=true; }
if (improved_familiar==true) { x++; }
if (document.form1.acrobatic.checked==true) { x++;  total_scout_feats++; }
if (document.form1.agile.checked==true) { x++; total_scout_feats++;  }
if (document.form1.alertness.checked==true) { x++; total_scout_feats++; }
if (document.form1.animalaffinity.checked==true) {
 if (handleanimal==0) { document.form1.animalaffinity.checked=false;}
 else { x++; }}
if (document.form1.armorproficiencylight.checked==true) {
 if ((already_knows_light_armor==true) || (rayce==80))
   { document.form1.armorproficiencylight.checked=false;}
    else { x++; }}
if (document.form1.armorproficiencymedium.checked==true) {
 if ((already_knows_medium_armor==true) || (rayce==80))
   { document.form1.armorproficiencymedium.checked=false;}
    else { x++; }}
if (document.form1.armorproficiencyheavy.checked==true) {
 if ((already_knows_heavy_armor==true) || (rayce==80))
   { document.form1.armorproficiencyheavy.checked=false;}
    else { x++; }}
if (document.form1.athletic.checked==true) { x++;  total_scout_feats++; }
if (document.form1.augmentsummoning.checked==true) {
 if (document.form1.spellfocusconjuration.checked==false)
  { document.form1.augmentsummoning.checked=false;}
  else { x++; }}
if (document.form1.combatcasting.checked==true) {
 if ((bard_levels +cleric_levels +druid_levels +paladin_levels +ranger_levels + sorcerer_levels +wizard_levels
     + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_paladin_levels + epic_ranger_levels + epic_sorcerer_levels + epic_wizard_levels==0)
     &(npcother_class_name!="Warlock") && (npcother_class_name!="Paladin of Freedom") && (npcother_class_name!="Spellthief") && (npcother_class_name!="Wu Jen") && (npcother_class_name!="Warmage"))
  { document.form1.combatcasting.checked=false;}
  else { x++; }}
if (document.form1.deceitful.checked==true) { x++; }
if (document.form1.defthands.checked==true) {
 if (sleightofhand==0) { document.form1.defthands.checked=false;}
 else { x++; }}
if (document.form1.diligent.checked==true) {
 if (decipherscript==0) { document.form1.diligent.checked=false;}
 else { x++; }}
if (document.form1.endurance.checked==true) {
 if ((ranger_levels + epic_ranger_levels>0) || (barbarian_totem==6)) { document.form1.endurance.checked=false; }
  else { x++;  total_scout_feats++; }}
if (document.form1.diehard.checked==true) {
  if ((document.form1.endurance.checked==false) && (monk_totem!=8) && (ranger_levels + epic_ranger_levels<3))
   { document.form1.diehard.checked=false; }
  else { x++; }}
if (document.form1.eschewmaterials.checked==true) {
 if (bard_levels +cleric_levels +druid_levels +paladin_levels +ranger_levels + sorcerer_levels +wizard_levels
    + npcother_levels + epic_npcother_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_paladin_levels + epic_ranger_levels + epic_sorcerer_levels + epic_wizard_levels==0)
  { document.form1.eschewmaterials.checked=false;}
  else { x++; }}
if ((cleric_levels +paladin_levels==0) && (npcother_class_name!="Paladin of Freedom")) { document.form1.extraturning_list.selectedIndex=0}
x=x+document.form1.extraturning_list.selectedIndex;
if (document.form1.greatfortitude.checked==true)
 { if (barbarian_totem==2) { document.form1.greatfortitude.checked=false;}
  else { total_scout_feats++; x++; }}
if (document.form1.improvedcounterspell.checked==true) {
 if (bard_levels +cleric_levels +druid_levels +paladin_levels +ranger_levels + sorcerer_levels +wizard_levels
     +npcother_levels + epic_npcother_levels + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_paladin_levels + epic_ranger_levels + epic_sorcerer_levels + epic_wizard_levels==0)
  { document.form1.improvedcounterspell.checked=false;}
  else { x++; }}
if (document.form1.improvedturning.checked==true) { x++; }
if (document.form1.investigator.checked==true) { x++; }

if (document.form1.ironwill.checked==true) { total_scout_feats++; x++; }
if (document.form1.leadership.checked==true) {
 if (total_levels<6) { document.form1.leadership.checked=false;}
 else { x++; }}
if (document.form1.lightningreflexes.checked==true) {
 if (barbarian_totem==5) { document.form1.lightningreflexes.checked=false;}
 else { total_scout_feats++; x++; }}
if (document.form1.magicalaptitude.checked==true) {
 if ((usemagicdevice==0) || (spellcraft==0)) { document.form1.magicalaptitude.checked=false;}
 else { x++; }}
if (document.form1.martialweaponproficiency.checked==true) {
  if (already_knows_martial_weapons==true)
   { document.form1.martialweaponproficiency.checked=false; }
  else { x++; }}
if (document.form1.naturalspell.checked==true) {
 if (druid_levels<5) { document.form1.naturalspell.checked=false;}
 else { x++; }}
if (document.form1.negotiator.checked==true) { x++; }
if (document.form1.nimblefingers.checked==true) {
 if ((openlock==0) || (disabledevice==0)) { document.form1.nimblefingers.checked=false;}
 else { x++; }}
if (document.form1.persuasive.checked==true) { x++; }
if (document.form1.run.checked==true) {
  if (barbarian_totem==8) { document.form1.run.checked=false;}
  else { x++; }}
if (document.form1.selfsufficient.checked==true) { x++; }
if (document.form1.shieldproficiency.checked==true) {
  if (already_knows_shields==true)
   { document.form1.shieldproficiency.checked=false;}
  else { x++; }}
if (document.form1.towershieldproficiency.checked==true) {
 if (already_knows_tower_shield==true) { document.form1.towershieldproficiency.checked=false;}
 else { x++; }}
if (document.form1.simpleweaponproficiency.checked==true) {
 if ((already_knows_simple_weapons==true) |
    (already_knows_martial_weapons==true))
    { document.form1.simpleweaponproficiency.checked=false;}
   else { x++; }}

if (document.form1.skillfocusappraise.checked==true) { x++; }
if (document.form1.skillfocusbalance.checked==true) { x++; }
if (document.form1.skillfocusbluff.checked==true) { x++; }
if (document.form1.skillfocusclimb.checked==true) { x++; }
if (document.form1.skillfocusconcentration.checked==true) { x++; }
if (document.form1.skillfocuscraft_1.checked==true) { x++; }
if (document.form1.skillfocuscraft_2.checked==true) { x++; }
if (document.form1.skillfocuscraft_3.checked==true) { x++; }
if (document.form1.skillfocusdecipherscript.checked==true) {
  if (decipherscript==0) { document.form1.skillfocusdecipherscript.checked=false;}
   else { x++; }}
if (document.form1.skillfocusdiplomacy.checked==true) { x++; }
if (document.form1.skillfocusdisabledevice.checked==true) {
  if (disabledevice==0) { document.form1.skillfocusdisabledevice.checked=false;}
   else { x++; }}
if (document.form1.skillfocusdisguise.checked==true) { x++; }
if (document.form1.skillfocusescapeartist.checked==true) { x++; }
if (document.form1.skillfocusforgery.checked==true) { x++; }
if (document.form1.skillfocusgatherinformation.checked==true) { x++; }
if (document.form1.skillfocushandleanimal.checked==true) {
  if (handleanimal==0) { document.form1.skillfocushandleanimal.checked=false;}
   else { x++; }}
if (document.form1.skillfocusheal.checked==true) { x++; }
if (document.form1.skillfocushide.checked==true) { x++; }
if (document.form1.skillfocusintimidate.checked==true) { x++; }
if (document.form1.skillfocusjump.checked==true) { x++; }
if (document.form1.skillfocusknowledgearcana.checked==true) {
  if (knowledgearcana==0) { document.form1.skillfocusknowledgearcana.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowledgearchitecture.checked==true) {
  if (knowledgearchitecture==0) { document.form1.skillfocusknowledgearchitecture.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowledgedungeoneering.checked==true) {
  if (knowledgedungeoneering==0) { document.form1.skillfocusknowledgedungeoneering.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowledgegeography.checked==true) {
  if (knowledgegeography==0) { document.form1.skillfocusknowledgegeography.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowledgehistory.checked==true) {
  if (knowledgehistory==0) { document.form1.skillfocusknowledgehistory.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowledgelocal.checked==true) {
  if (knowledgelocal==0) { document.form1.skillfocusknowledgelocal.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowledgenature.checked==true) {
  if (knowledgenature==0) { document.form1.skillfocusknowledgenature.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowledgenobility.checked==true) {
  if (knowledgenobility==0) { document.form1.skillfocusknowledgenobility.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowledgereligion.checked==true) {
  if (knowledgereligion==0) { document.form1.skillfocusknowledgereligion.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowledgeplanes.checked==true) {
  if (knowledgeplanes==0) { document.form1.skillfocusknowledgeplanes.checked=false;}
   else { x++; }}
if (document.form1.skillfocuslisten.checked==true) { x++; }
if (document.form1.skillfocusmovesilently.checked==true) { x++; }
if (document.form1.skillfocusopenlock.checked==true) {
  if (openlock==0) { document.form1.skillfocusopenlock.checked=false;}
   else { x++; }}
if (document.form1.skillfocusperform_1.checked==true) { x++; }
if (document.form1.skillfocusperform_2.checked==true) { x++; }
if (document.form1.skillfocusperform_3.checked==true) { x++; }
if (document.form1.skillfocusperform_4.checked==true) { x++; }
if (document.form1.skillfocusperform_5.checked==true) { x++; }
if (document.form1.skillfocusprofession.checked==true) {
  if (profession==0) { document.form1.skillfocusprofession.checked=false;}
   else { x++; }}
if (document.form1.skillfocusride.checked==true) { x++; }
if (document.form1.skillfocussearch.checked==true) { x++; }
if (document.form1.skillfocussensemotive.checked==true) { x++; }
if (document.form1.skillfocussleightofhand.checked==true) {
  if (sleightofhand==0) { document.form1.skillfocussleightofhand.checked=false;}
   else { x++; }}
if (document.form1.skillfocusspellcraft.checked==true) {
  if (spellcraft==0) { document.form1.skillfocusspellcraft.checked=false;}
   else { x++; }}
if (document.form1.skillfocusspot.checked==true) { x++; }
if (document.form1.skillfocussurvival.checked==true) { x++; }
if (document.form1.skillfocusswim.checked==true) { x++; }
if (document.form1.skillfocustumble.checked==true) {
  if (tumble==0) { document.form1.skillfocustumble.checked=false;}
   else { x++; }}
if (document.form1.skillfocususemagicdevice.checked==true) {
  if (usemagicdevice==0) { document.form1.skillfocususemagicdevice.checked=false;}
   else { x++; }}
if (document.form1.skillfocususerope.checked==true) { x++; }

if (document.form1.skillfocusautohypnosis.checked==true) {
  if (autohypnosis==0) { document.form1.skillfocusautohypnosis.checked=false;}
   else { x++; }}
if (document.form1.skillfocusknowpsi.checked==true) {
  if (knowpsi==0) { document.form1.skillfocusknowpsi.checked=false;}
   else { x++; }}
if (document.form1.skillfocuspsicraft.checked==true) {
  if (psicraft==0) { document.form1.skillfocuspsicraft.checked=false;}
   else { x++; }}

if (document.form1.skillfocususepsionicdevice.checked==true) {
  if (usepsionicdevice==0) { document.form1.skillfocususepsionicdevice.checked=false;}
   else { x++; }}
if (document.form1.multiattack.checked==true) {
  if ((rayce!=34) && (rayce!=106) && (rayce!=108) && (rayce!=133) && (rayce!=135) && (rayce!=152) && (rayce!=178)
    &(rayce!=147) && (rayce!=27) && (rayce!=77) && (rayce!=86) && (rayce!=88) && (rayce!=89) && (rayce!=90)
    &(halffiend_template==false)
    &(werebear_template==false) && (wereboar_template==false) && (wererat_template==false) && (weretiger_template==false) && (werewolf_template==false))
    { document.form1.multiattack.checked=false;}
   else { x++; }}

if (document.form1.multidexterity.checked==true) {
  if ((rayce!=34) || (dexterity<15)) { document.form1.multidexterity.checked=false;}
   else { x++; }}

if (document.form1.multiweaponfighting.checked==true) {
  if (rayce!=34) { document.form1.multiweaponfighting.checked=false;}
   else { x++; }}

if (document.form1.cripplingstrike.checked==true) {
 if (
    (rogue_levels<10)
   || ((rogue_levels<13) && (high_level_rogue_count>0))
   || ((rogue_levels<16) && (high_level_rogue_count>1))
   || ((rogue_levels<19) && (high_level_rogue_count>2))
   || ((rogue_levels<22) && (high_level_rogue_count>3))
    )
    { document.form1.cripplingstrike.checked=false;}
 else {high_level_rogue_count++; x++; }}

if (document.form1.defensiveroll.checked==true) {
 if (
    (rogue_levels<10)
   || ((rogue_levels<13) && (high_level_rogue_count>0))
   || ((rogue_levels<16) && (high_level_rogue_count>1))
   || ((rogue_levels<19) && (high_level_rogue_count>2))
   || ((rogue_levels<22) && (high_level_rogue_count>3))
    )
    { document.form1.defensiveroll.checked=false;}
 else {high_level_rogue_count++; x++; }}

if (document.form1.improvedevasion.checked==true) {
 if (
    (rogue_levels<10)
   || ((rogue_levels<13) && (high_level_rogue_count>0))
   || ((rogue_levels<16) && (high_level_rogue_count>1))
   || ((rogue_levels<19) && (high_level_rogue_count>2))
   || ((rogue_levels<22) && (high_level_rogue_count>3))
    )
    { document.form1.improvedevasion.checked=false;}
 else {high_level_rogue_count++; x++; }}

if (document.form1.opportunist.checked==true) {
 if (
    (rogue_levels<10)
   || ((rogue_levels<13) && (high_level_rogue_count>0))
   || ((rogue_levels<16) && (high_level_rogue_count>1))
   || ((rogue_levels<19) && (high_level_rogue_count>2))
   || ((rogue_levels<22) && (high_level_rogue_count>3))
    )
    { document.form1.opportunist.checked=false;}
 else {high_level_rogue_count++; x++; }}

if (document.form1.skillmastery.checked==true) {
 if (
    (rogue_levels<10)
   || ((rogue_levels<13) && (high_level_rogue_count>0))
   || ((rogue_levels<16) && (high_level_rogue_count>1))
   || ((rogue_levels<19) && (high_level_rogue_count>2))
   || ((rogue_levels<22) && (high_level_rogue_count>3))
    )
    { document.form1.skillmastery.checked=false;}
 else {high_level_rogue_count++; x++; }}

if (document.form1.slipperymind.checked==true) {
 if (
    (rogue_levels<10)
   || ((rogue_levels<13) && (high_level_rogue_count>0))
   || ((rogue_levels<16) && (high_level_rogue_count>1))
   || ((rogue_levels<19) && (high_level_rogue_count>2))
   || ((rogue_levels<22) && (high_level_rogue_count>3))
    )
    { document.form1.slipperymind.checked=false;}
 else {high_level_rogue_count++; x++; }}

if (document.form1.roguewildernessstride.checked==true) {
 if (
    (rogue_levels<10)
   |(rogue_totem!=1)
   || ((rogue_levels<13) && (high_level_rogue_count>0))
    || ((rogue_levels<16) && (high_level_rogue_count>1))
    || ((rogue_levels<19) && (high_level_rogue_count>2))
    || ((rogue_levels<22) && (high_level_rogue_count>3))
    )
    { document.form1.roguewildernessstride.checked=false;}
 else {high_level_rogue_count++; x++; }}

if (document.form1.roguecamouflage.checked==true) {
 if (
    (rogue_levels<10)
    |(rogue_totem!=1)
    || ((rogue_levels<13) && (high_level_rogue_count>0))
    || ((rogue_levels<16) && (high_level_rogue_count>1))
    || ((rogue_levels<19) && (high_level_rogue_count>2))
    || ((rogue_levels<22) && (high_level_rogue_count>3))
    )
    { document.form1.roguecamouflage.checked=false;}
 else {high_level_rogue_count++; x++; }}

if (document.form1.roguehideinplainsight.checked==true) {
 if (
    (rogue_levels<10)
    |(rogue_totem!=1)
    |(document.form1.roguecamouflage.checked==false)
    || ((rogue_levels<13) && (high_level_rogue_count>0))
    || ((rogue_levels<16) && (high_level_rogue_count>1))
    || ((rogue_levels<19) && (high_level_rogue_count>2))
    || ((rogue_levels<22) && (high_level_rogue_count>3))
    )
    { document.form1.roguehideinplainsight.checked=false;}
 else {high_level_rogue_count++; x++; }}

if (document.form1.spellfocusabjuration.checked==true) {
 if (gave_up_abjuration==true)
  { document.form1.spellfocusabjuration.checked=false;}
   else { x++; }}
if (document.form1.spellfocusconjuration.checked==true) {
 if (gave_up_conjuration==true)
  { document.form1.spellfocusconjuration.checked=false;}
   else { x++; }}
if (document.form1.spellfocusdivination.checked==true)
   { x++; }
if (document.form1.spellfocusenchantment.checked==true) {
 if (gave_up_enchantment==true)
  { document.form1.spellfocusenchantment.checked=false;}
   else { x++; }}
if (document.form1.spellfocusevocation.checked==true) {
 if (gave_up_evocation==true)
  { document.form1.spellfocusevocation.checked=false;}
   else { x++; }}
if (document.form1.spellfocusillusion.checked==true) {
 if (gave_up_illusion==true)
  { document.form1.spellfocusillusion.checked=false;}
   else { x++; }}
if (document.form1.spellfocusnecromancy.checked==true) {
 if (gave_up_necromancy==true)
  { document.form1.spellfocusnecromancy.checked=false;}
   else { x++; }}
if (document.form1.spellfocustransmutation.checked==true) {
 if (gave_up_transmutation==true)
  { document.form1.spellfocustransmutation.checked=false;}
   else { x++; }}
if (document.form1.greaterspellfocusabjuration.checked==true) {
 if (document.form1.spellfocusabjuration.checked==false)
  { document.form1.greaterspellfocusabjuration.checked=false; }
   else { x++; }}
if (document.form1.greaterspellfocusconjuration.checked==true) {
 if (document.form1.spellfocusconjuration.checked==false)
  { document.form1.greaterspellfocusconjuration.checked=false; }
   else { x++; }}
if (document.form1.greaterspellfocusdivination.checked==true) {
 if (document.form1.spellfocusdivination.checked==false)
  { document.form1.greaterspellfocusdivination.checked=false; }
   else { x++; }}
if (document.form1.greaterspellfocusenchantment.checked==true) {
 if (document.form1.spellfocusenchantment.checked==false)
  { document.form1.greaterspellfocusenchantment.checked=false; }
   else { x++; }}
if (document.form1.greaterspellfocusevocation.checked==true) {
 if (document.form1.spellfocusevocation.checked==false)
  { document.form1.greaterspellfocusevocation.checked=false; }
   else { x++; }}
if (document.form1.greaterspellfocusillusion.checked==true) {
 if (document.form1.spellfocusillusion.checked==false)
  { document.form1.greaterspellfocusillusion.checked=false; }
   else { x++; }}
if (document.form1.greaterspellfocusnecromancy.checked==true) {
 if (document.form1.spellfocusnecromancy.checked==false)
  { document.form1.greaterspellfocusnecromancy.checked=false; }
   else { x++; }}
if (document.form1.greaterspellfocustransmutation.checked==true) {
 if (document.form1.spellfocustransmutation.checked==false)
  { document.form1.greaterspellfocustransmutation.checked=false; }
   else { x++; }}
if (document.form1.spellmastery_list.selectedIndex>0) {
 if (wizard_levels==0) { document.form1.spellmastery_list.selectedIndex=0}
 else
  {
   total_wizard_feats+=document.form1.spellmastery_list.selectedIndex;
   x+=document.form1.spellmastery_list.selectedIndex;
  }}
if (document.form1.spellpenetration.checked==true) {
 if (bard_levels +cleric_levels +druid_levels +paladin_levels +ranger_levels + sorcerer_levels +wizard_levels + npcother_levels + epic_npcother_levels
     + epic_bard_levels + epic_cleric_levels + epic_druid_levels + epic_paladin_levels + epic_ranger_levels + epic_sorcerer_levels + epic_wizard_levels==0)
  { document.form1.spellpenetration.checked=false;}
  else { x++; }}

if (document.form1.greaterspellpenetration.checked==true) {
 if ((document.form1.spellpenetration.checked==false) |
    (bard_levels +cleric_levels +druid_levels +paladin_levels +ranger_levels + sorcerer_levels +npcother_levels + epic_npcother_levels + wizard_levels==0))
  { document.form1.greaterspellpenetration.checked=false;}
   else { x++; }}

if (document.form1.stealthy.checked==true) { x++; }
x=x+document.form1.toughness_list.selectedIndex;
if (document.form1.track.checked==true) {
 if (((ranger_levels + epic_ranger_levels>0) && (ranger_totem!=2)) || (barbarian_totem==10)) { document.form1.track.checked=false;}
 else { total_scout_feats++; x++; }}

if (document.form1.brewpotion.checked==true) {
 if ((bard_levels + prestige_bard_spell_levels + epic_bard_levels<3) && (cleric_levels + prestige_cleric_spell_levels + epic_cleric_levels<3)
    && (druid_levels + prestige_druid_spell_levels + epic_druid_levels<3) && (paladin_levels + prestige_paladin_spell_levels + epic_paladin_levels<3*2)
    && (ranger_levels + prestige_ranger_spell_levels + epic_ranger_levels<3*2) && (sorcerer_levels + prestige_sorcerer_spell_levels + epic_sorcerer_levels<3)
    && (wizard_levels + prestige_wizard_spell_levels + epic_wizard_levels<3)
    && (npcother_levels + epic_npcother_levels<3))
  { document.form1.brewpotion.checked=false;}
   else {total_wizard_feats++; x++; }}

if (document.form1.craftmaa.checked==true) {
 if ((bard_levels<5) && (cleric_levels<5) && (druid_levels<5) && (paladin_levels<5*2) && (ranger_levels<5*2) && (sorcerer_levels<5) && (wizard_levels<5) && (npcother_levels + epic_npcother_levels<5))
  { document.form1.craftmaa.checked=false;}
   else {total_wizard_feats++; x++; }}

if (document.form1.craftrod.checked==true) {
 if ((bard_levels<9) && (cleric_levels<9) && (druid_levels<9) && (paladin_levels<9*2) && (ranger_levels<9*2) && (sorcerer_levels<9) && (wizard_levels<9) && (npcother_levels + epic_npcother_levels<9))
  { document.form1.craftrod.checked=false;}
   else {total_wizard_feats++; x++; }}

if (document.form1.craftstaff.checked==true) {
 if ((bard_levels + prestige_bard_spell_levels + epic_bard_levels<12) && (cleric_levels + prestige_cleric_spell_levels + epic_cleric_levels<12) && (druid_levels + prestige_druid_spell_levels + epic_druid_levels<12) && (paladin_levels + prestige_paladin_spell_levels + epic_paladin_levels<12*2) && (ranger_levels + prestige_ranger_spell_levels + epic_ranger_levels<12*2) && (sorcerer_levels + prestige_sorcerer_spell_levels + epic_sorcerer_levels<12) && (wizard_levels + prestige_wizard_spell_levels + epic_wizard_levels<12) && (npcother_levels + epic_npcother_levels<12))
  { document.form1.craftstaff.checked=false;}
   else {total_wizard_feats++; x++; }}

if (document.form1.craftwand.checked==true) {
 if ((bard_levels + prestige_bard_spell_levels + epic_bard_levels<5) && (cleric_levels + prestige_cleric_spell_levels + epic_cleric_levels<5) && (druid_levels + prestige_druid_spell_levels + epic_druid_levels<5) && (paladin_levels + prestige_paladin_spell_levels + epic_paladin_levels<5*2) && (ranger_levels + prestige_ranger_spell_levels + epic_ranger_levels<5*2) && (sorcerer_levels + prestige_sorcerer_spell_levels + epic_sorcerer_levels<5) && (wizard_levels + prestige_wizard_spell_levels + epic_wizard_levels<5) && (npcother_levels + epic_npcother_levels<5))
  { document.form1.craftwand.checked=false;}
   else {total_wizard_feats++; x++; }}

if (document.form1.craftwondrousitem.checked==true) {
 if ((bard_levels + prestige_bard_spell_levels + epic_bard_levels<3) && (cleric_levels + prestige_cleric_spell_levels + epic_cleric_levels<3) && (druid_levels + prestige_druid_spell_levels + epic_druid_levels<3) && (paladin_levels + prestige_paladin_spell_levels + epic_paladin_levels<3*2) && (ranger_levels + prestige_ranger_spell_levels + epic_ranger_levels<3*2) && (sorcerer_levels + prestige_sorcerer_spell_levels + epic_sorcerer_levels<3) && (wizard_levels + prestige_wizard_spell_levels + epic_wizard_levels<3) && (npcother_levels + epic_npcother_levels<3))
  { document.form1.craftwondrousitem.checked=false;}
   else {total_wizard_feats++; x++; }}

if (document.form1.forgering.checked==true) {
 if ((bard_levels + prestige_bard_spell_levels + epic_bard_levels<12) && (cleric_levels + prestige_cleric_spell_levels + epic_cleric_levels<12) && (druid_levels + prestige_druid_spell_levels + epic_druid_levels<12) && (paladin_levels + prestige_paladin_spell_levels + epic_paladin_levels<12*2) && (ranger_levels + prestige_ranger_spell_levels + epic_ranger_levels<12*2) && (sorcerer_levels + prestige_sorcerer_spell_levels + epic_sorcerer_levels<12) && (wizard_levels + prestige_wizard_spell_levels + epic_wizard_levels<12) && (npcother_levels + epic_npcother_levels<12))
  { document.form1.forgering.checked=false;}
   else {total_wizard_feats++; x++; }}

if (document.form1.scribescroll.checked==true) {
 if ((wizard_levels>0) |
    ((bard_levels + prestige_bard_spell_levels + epic_bard_levels<1) && (cleric_levels + prestige_cleric_spell_levels + epic_cleric_levels<1) && (druid_levels + prestige_druid_spell_levels + epic_druid_levels<1) && (paladin_levels + prestige_paladin_spell_levels + epic_paladin_levels<1*2) && (ranger_levels + prestige_ranger_spell_levels + epic_ranger_levels<1*2) && (sorcerer_levels + prestige_sorcerer_spell_levels + epic_sorcerer_levels<1) && (npcother_levels + epic_npcother_levels<1)))
 { document.form1.scribescroll.checked=false;}
 else {total_wizard_feats++; x++; }}

if (document.form1.craftconstruct.checked==true) {
 if ((document.form1.craftwondrousitem.checked==false) || (document.form1.craftmaa.checked==false))
  { document.form1.craftconstruct.checked=false;}
   else {total_wizard_feats++; x++; }}

if (document.form1.empowerspell.checked==true) {total_wizard_feats++; x++; }
if (document.form1.enlargespell.checked==true) {total_wizard_feats++; x++; }
if (document.form1.extendspell.checked==true) {total_wizard_feats++; x++; }
if (document.form1.heightenspell.checked==true) {total_wizard_feats++; x++; }
if (document.form1.maximizespell.checked==true) {total_wizard_feats++; x++; }
if (document.form1.quickenspell.checked==true) {total_wizard_feats++; x++; }
if (document.form1.silentspell.checked==true) {total_wizard_feats++; x++; }
if (document.form1.stillspell.checked==true) {total_wizard_feats++; x++; }
if (document.form1.widenspell.checked==true) {total_wizard_feats++; x++; }

 if (document.form1.blindfight.checked==true) {
  if (barbarian_totem==4) { document.form1.blindfight.checked=false;  total_scout_feats++; }
  else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.combatexpertise.checked==true) {
  if (intelligence<13) { document.form1.combatexpertise.checked=false;}
  else {total_fighter_feats++; total_psiwarrior_feats++; x++;  total_scout_feats++;  }}
 if (document.form1.improveddisarm.checked==true) {
  if (((document.form1.combatexpertise.checked==false) && (monk_totem!=6)) || (monkish_improved_disarm==true))
   { document.form1.improveddisarm.checked=false; }
  else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.improvedfeint.checked==true) {
   if ((document.form1.combatexpertise.checked==false) && (monk_totem!=6))
    { document.form1.improvedfeint.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.improvedtrip.checked==true) {
   if (((document.form1.combatexpertise.checked==false) && (monk_totem!=6)) || (barbarian_totem==10) || (monkish_improved_trip==true))
    { document.form1.improvedtrip.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.whirlwindattack.checked==true) {
   if (((document.form1.combatexpertise.checked==false) && (monk_totem!=6))
      || (base_attack_bonus<4)
      || ((document.form1.dodge.checked==false) && (monk_totem!=1))
      || ((document.form1.mobility.checked==false) && (monk_totem!=1))
      || ((document.form1.springattack.checked==false) && (monk_totem!=1))
      || (dexterity<13)
      )
      { document.form1.whirlwindattack.checked=false; }
   else { total_scout_feats++; total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.combatreflexes.checked==true) {
  if (monkish_combat_reflexes==true)
   { document.form1.combatreflexes.checked=false;}
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.dodge.checked==true) {
   if (dexterity<13) { document.form1.dodge.checked=false;}
  else {total_fighter_feats++; total_psiwarrior_feats++; total_scout_feats++;  x++; }}
 if (rayce==167) { document.form1.mobility.checked=true; }
 if (document.form1.mobility.checked==true) {
   if ((document.form1.dodge.checked==false) && (monk_totem!=1) && (rayce!=167)) { document.form1.mobility.checked=false;}
   else { total_scout_feats++; total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if (document.form1.springattack.checked==true) {
   if (((document.form1.mobility.checked==false) && (monk_totem!=1)) || (dexterity<13) || (base_attack_bonus<4)) { document.form1.springattack.checked=false;}
  else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.exoticweaponproficiency.checked==true) {total_fighter_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.improvedcritical_list.selectedIndex>0) {
  if (base_attack_bonus<8) { has_improvedcritical=0; document.form1.improvedcritical_list.selectedIndex=0; }
   else
    {
    total_fighter_feats+=document.form1.improvedcritical_list.selectedIndex;
    total_psiwarrior_feats+=document.form1.improvedcritical_list.selectedIndex;
    x+=document.form1.improvedcritical_list.selectedIndex;

    }}
 if (document.form1.improvedinitiative.checked==true) {
 	if (barbarian_totem==9) { document.form1.improvedinitiative.checked=false; }
  else {
  	total_fighter_feats++; 
  	total_scout_feats++;  
  	total_psiwarrior_feats++; 
  	x++; 
  	}
  }
 if (document.form1.improvedunarmedstrike.checked==true) {
  if ( (rangercombattrack==3) && (ranger_levels + epic_ranger_levels>=2) ) { document.form1.improvedunarmedstrike.checked=false; }
   else {
   	total_fighter_feats++; 
   	total_psiwarrior_feats++; x++; 
   	}
	}
  if (document.form1.improvedgrapple.checked==true) {
   if ((((document.form1.improvedunarmedstrike.checked==false) && ((rangercombattrack!=3) || (ranger_levels + epic_ranger_levels<2))) && (monk_levels==0)) || (dexterity<13) || (barbarian_totem==2) || (barbarian_totem==9) || (monkish_improved_grapple==true) || ((rangercombattrack==3) && (ranger_levels + epic_ranger_levels>=6))) { document.form1.improvedgrapple.checked=false;}
    else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if (document.form1.deflectarrows.checked==true) {
  if (
      ( (document.form1.improvedunarmedstrike.checked==false) && (monk_levels + epic_monk_levels==0) && ( (rangercombattrack!=3) || (ranger_levels + epic_ranger_levels<2) ) ) || (monkish_deflect_arrows==true) || (dexterity<13) || (rayce==34)
     )
       { document.form1.deflectarrows.checked=false;}
  else {
  	total_fighter_feats++; 
  	total_psiwarrior_feats++; 
  	x++; }}
 if (document.form1.snatcharrows.checked==true) {
  if (
       ((document.form1.improvedunarmedstrike.checked==false) && (monk_levels==0) && ((rangercombattrack!=3) || (ranger_levels + epic_ranger_levels<3)))
       || (dexterity<15)
       || ((document.form1.deflectarrows.checked==false) && (monk_totem!=3))) { document.form1.snatcharrows.checked=false;}
  else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if (document.form1.stunningfist.checked==true) {
  if (((document.form1.improvedunarmedstrike.checked==false) && (monk_levels + epic_monk_levels>0) && ((rangercombattrack!=3) || (ranger_levels + epic_ranger_levels<2)))
     || (wisdom<13)
     || ((rangercombattrack==3) && (ranger_levels + epic_ranger_levels>=11))
     || (monkish_stunning_fist==true) || (dexterity<13) || (base_attack_bonus<8)
     )
   { document.form1.stunningfist.checked=false;}
  else {
  	total_fighter_feats++; 
  	total_psiwarrior_feats++; 
  	x++; 
  	}
	}

 if (document.form1.mountedcombat.checked==true) {total_fighter_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.mountedarchery.checked==true) {
   if (document.form1.mountedcombat.checked==false) { document.form1.mountedarchery.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.ridebyattack.checked==true) {
   if ((document.form1.mountedcombat.checked==false) || ((rangercombattrack==4) && (ranger_levels + epic_ranger_levels>=2))) { document.form1.ridebyattack.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.spiritedcharge.checked==true) {
   if ((document.form1.mountedcombat.checked==false) || ((document.form1.ridebyattack.checked==false) && ((rangercombattrack!=4) || (ranger_levels + epic_ranger_levels>=2))) || ((rangercombattrack==4) && (ranger_levels + epic_ranger_levels>=6))
      ) { document.form1.spiritedcharge.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.trample.checked==true) {
   if ((document.form1.mountedcombat.checked==false) || ((rangercombattrack==4) && (ranger_levels + epic_ranger_levels>=11))) { document.form1.trample.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if (document.form1.pointblankshot.checked==true) {total_fighter_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.farshot.checked==true) {
   if (document.form1.pointblankshot.checked==false)
       { document.form1.farshot.checked=false;}
   else { total_scout_feats++; total_fighter_feats++; total_scout_feats++;  total_psiwarrior_feats++; x++; }}


 if (document.form1.preciseshot.checked==true) {
   if (document.form1.pointblankshot.checked==false)
       { document.form1.preciseshot.checked=false;}
   else { total_scout_feats++; total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if (document.form1.rapidshot.checked==true) {
   if ((document.form1.pointblankshot.checked==false) || (dexterity<13) || ((rangercombattrack==1) && (ranger_levels + epic_ranger_levels>1)))
       { document.form1.rapidshot.checked=false;}
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if (document.form1.manyshot.checked==true) {
   if ((document.form1.pointblankshot.checked==false) || (dexterity<17) || (document.form1.rapidshot.checked==false) || ((rangercombattrack==1) && (ranger_levels + epic_ranger_levels<6)) || (base_attack_bonus<6)
      )
       { document.form1.manyshot.checked=false;}
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if (document.form1.shotontherun.checked==true) {
   if ((document.form1.pointblankshot.checked==false) || (dexterity<13)
      || ((document.form1.dodge.checked==false) && (monk_totem!=1))
      || ((document.form1.mobility.checked==false) && (monk_totem!=1))
      || (base_attack_bonus<4)
      )
       { document.form1.shotontherun.checked=false;}
   else { total_scout_feats++; total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if (document.form1.improvedpreciseshot.checked==true) {
   if ((document.form1.preciseshot.checked==false) || ((rangercombattrack==1) && (ranger_levels + epic_ranger_levels>=11))
      || (dexterity<19)
      || (base_attack_bonus<11)
      )
       { document.form1.improvedpreciseshot.checked=false;}
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if (document.form1.powerattack.checked==true) {
   if ((strength<13) || (barbarian_totem==1)) { document.form1.powerattack.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.cleave.checked==true) {
   if ((document.form1.powerattack.checked==false) && (monk_totem!=5))
    { document.form1.cleave.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.greatcleave.checked==true) {
   if ((document.form1.cleave.checked==false) || (base_attack_bonus<4))
    { document.form1.greatcleave.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.improvedbullrush.checked==true) {
   if (document.form1.powerattack.checked==false)
    { document.form1.improvedbullrush.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.improvedoverrun.checked==true) {
   if (document.form1.powerattack.checked==false)
    { document.form1.improvedoverrun.checked=false; }
    else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.improvedsunder.checked==true) {
   if (document.form1.powerattack.checked==false)
    { document.form1.improvedsunder.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.quickdraw.checked==true) {
   if (base_attack_bonus<1) { document.form1.quickdraw.checked=false; }
   else {total_fighter_feats++; total_scout_feats++;  total_psiwarrior_feats++; x++; }}
 if (document.form1.rapidreload.checked==true) { total_scout_feats++; total_fighter_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.improvedshieldbash.checked==true) {total_fighter_feats++; total_psiwarrior_feats++; x++; }

 if (document.form1.twoweaponfighting.checked==true) {
   if ((dexterity<15) || ((rangercombattrack==2) && (ranger_levels + epic_ranger_levels>=2)) || (rayce==34))
    { document.form1.twoweaponfighting.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.twoweapondefense.checked==true) {
   if ((document.form1.twoweaponfighting.checked==false) && ((rangercombattrack!=2) || (ranger_levels + epic_ranger_levels<2)))
    { document.form1.twoweapondefense.checked=false; }
   else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.improvedtwoweaponfighting.checked==true) {
  if ((dexterity<17)
  |((document.form1.twoweaponfighting.checked==false) && ((rangercombattrack!=2) || (ranger_levels + epic_ranger_levels<2)))
  |((rangercombattrack==2) && (ranger_levels + epic_ranger_levels>=6)))
    { document.form1.improvedtwoweaponfighting.checked=false; }
    else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}
 if (document.form1.greatertwoweaponfighting.checked==true) {
  if ((dexterity<19) || ((rangercombattrack==2) && (ranger_levels + epic_ranger_levels>=11))
     |((document.form1.improvedtwoweaponfighting.checked==false) && ((rangercombattrack!=2) || (ranger_levels + epic_ranger_levels<11)))
     |(base_attack_bonus<11)
     )
    { document.form1.greatertwoweaponfighting.checked=false; }
    else {total_fighter_feats++; total_psiwarrior_feats++; x++; }}

 if ((npcother_class_name=="Swashbuckler") && (document.form1.weaponfinesse_list.checked==false))
  { document.form1.weaponfinesse_list.checked=true; }

 if (document.form1.weaponfinesse_list.checked==true) {
  if ((base_attack_bonus<1) && (wererat_template==false)) { document.form1.weaponfinesse_list.checked=false;}
  else
   {
    x+=1;
   }}

 if (document.form1.urbantracking.checked==true) {
  if ((ranger_levels + epic_ranger_levels>0) && (ranger_totem==2)) { document.form1.urbantracking.checked=false; }
  else { x++; }}

if (spellcraft/spellcraft_class<5) { document.form1.antipsionicmagic.checked=false; }
if ((charisma<15) || (alignment==1) || (alignment==2) || (alignment==4) || (alignment==5) || (alignment==6) || (alignment==7)) { document.form1.chaoticmind.checked=false; }
if ((hide/hide_class<10) || (perform_1/perform_1_class<2)) { document.form1.cloakdance.checked=false; }
if ((dexterity<15) || (base_attack_bonus<5)) { document.form1.deadlyprecision.checked=false; }
if (document.form1.ironwill.checked==false) { document.form1.forceofwill.checked=false; }
if (
    (dexterity<17)
    || ((document.form1.rapidshot.checked==false) && ((rangercombattrack!=1) || (ranger_levels + epic_ranger_levels<2)))
    || ((document.form1.manyshot.checked==false) && ((rangercombattrack!=1) || (ranger_levels + epic_ranger_levels<6)))
    || (base_attack_bonus<6))
    { document.form1.greatermanyshot.checked=false; }
if (charisma<15) { document.form1.hostilemind.checked=false; }
if (base_will_bonus<2) { document.form1.mentalresistance.checked=false; }
if (constitution<15) { document.form1.psionichole.checked=false; }
if (constitution<13) { document.form1.rapidmetabolism.checked=false; }
if (base_attack_bonus<1) { document.form1.recklessoffense.checked=false; }
if ((dexterity<13) || ((document.form1.dodge.checked==false) && (monk_totem!=1))) { document.form1.sidestepcharge.checked=false; }
if (base_attack_bonus<6) { document.form1.alignedattack.checked=false; }
if (manifester_level()<3) { document.form1.expandedknowledge_list.selectedIndex=0; }
if ((strength<13) || (document.form1.improvedsunder.checked==false)) { document.form1.focusedsunder.checked=false; }
if (base_attack_bonus<3) { document.form1.ghostattack.checked=false; }
if (wisdom<13) { document.form1.inquisitor.checked=false; }
if ((strength<13) || (jump/jump_class<5)) { document.form1.mentalleap.checked=false; }
if ((wisdom<13) || (manifester_level()<5)) { document.form1.metamorphictransfer_list.selectedIndex=0; }
if (wisdom<13) { document.form1.narrowmind.checked=false; }
if (document.form1.overchannel.checked==false) { document.form1.talented.checked=false; }
if ((document.form1.overchannel.checked==false) || ((document.form1.talented.checked==false))) { document.form1.bodyfuel.checked=false; }
if (document.form1.powerpenetration.checked==false) { document.form1.greaterpowerpenetration.checked=false; }
if ((document.form1.weaponfocus_list.selectedIndex==0) || (manifester_level()<4)) { document.form1.powerspecialization.checked=false; }
if ((document.form1.powerspecialization.checked==false) || (manifester_level()<12)) { document.form1.greaterpowerspecialization.checked=false; }
if (document.form1.psicrystalaffinity.checked==false) { document.form1.improvedpsicrystal.checked=false; }
if ((document.form1.psicrystalaffinity.checked==false) || (manifester_level()<12)) { document.form1.psicrystalcontainment.checked=false; }
if ((dexterity<13) || ((document.form1.dodge.checked==false) && (monk_totem!=1))) { document.form1.psionicdodge.checked=false; }
if (document.form1.psionicendowment.checked==false) { document.form1.greaterpsionicendowment.checked=false; }
if (strength<13) { document.form1.psionicfist.checked=false; }
if ((document.form1.psionicfist.checked==false) || (base_attack_bonus<5)) { document.form1.greaterpsionicfist.checked=false; }
if ((document.form1.psionicfist.checked==false) || (base_attack_bonus<5)) { document.form1.unavoidablestrike.checked=false; }
if ((wisdom<13) || (concentration/concentration_class<7)) { document.form1.psionicmeditation.checked=false; }
if (document.form1.pointblankshot.checked==false) { document.form1.psionicshot.checked=false; }
if ((document.form1.psionicshot.checked==false) || (base_attack_bonus<5)) { document.form1.greaterpsionicshot.checked=false; }
if ((document.form1.psionicshot.checked==false) || (dexterity<13) || (base_attack_bonus<5)) { document.form1.fellshot.checked=false; }
if (document.form1.fellshot.checked==false) { document.form1.returnshot.checked=false; }
if (strength<13) { document.form1.psionicweapon.checked=false; }
if ((document.form1.psionicweapon.checked==false) || (base_attack_bonus<5)) { document.form1.greaterpsionicweapon.checked=false; }
if ((document.form1.psionicweapon.checked==false) || (base_attack_bonus<5)) { document.form1.deepimpact.checked=false; }
if (wisdom<13) { document.form1.speedofthought.checked=false; }
if (document.form1.speedofthought.checked==false) { document.form1.psioniccharge.checked=false; }
if (wisdom<13) { document.form1.upthewalls.checked=false; }
if (base_attack_bonus<8) { document.form1.woundingattack.checked=false; }
if (manifester_level()<3) { document.form1.craftcognizancecrystal.checked=false; }
if (manifester_level()<5) { document.form1.craftdorje.checked=false; }
if (manifester_level()<12) { document.form1.craftpsicrown.checked=false; }
if (manifester_level()<5) { document.form1.craftpsionicarmsandarmor.checked=false; }
if (manifester_level()<3) { document.form1.craftuniversalitem.checked=false; }
if ((document.form1.craftuniversalitem.checked==false) || (document.form1.craftpsionicarmsandarmor.checked==false)) { document.form1.craftpsionicconstruct.checked=false; }
if (manifester_level()<1) { document.form1.imprintstone.checked=false; }
if (manifester_level()<3) { document.form1.scribetattoo.checked=false; }

if (document.form1.antipsionicmagic.checked==true) {
 { x++; }}
if (document.form1.autonomous.checked==true) {
 { x++; }}
if (document.form1.chaoticmind.checked==true) {
 { x++; }}
if (document.form1.cloakdance.checked==true) {
 { x++; }}
if (document.form1.closedmind.checked==true) {
 { x++; }}
if (document.form1.deadlyprecision.checked==true) {
 { x++; }}
if (document.form1.forceofwill.checked==true) {
 { x++; }}
if (document.form1.greatermanyshot.checked==true) {
 {total_fighter_feats++; x++; }}
if (document.form1.hostilemind.checked==true) {
 { x++; }}
if (document.form1.mentalresistance.checked==true) {
 { x++; }}
if (document.form1.mindoverbody.checked==true) {
 { x++; }}
x=x+document.form1.openminded_list.selectedIndex;
if (document.form1.psionicaffinity.checked==true) {
 { x++; }}
if (document.form1.psionichole.checked==true) {
 { x++; }}
if (document.form1.rapidmetabolism.checked==true) {
 { x++; }}
if (document.form1.recklessoffense.checked==true) {
 { x++; }}
if (document.form1.sidestepcharge.checked==true) {
 { x++; }}
if (document.form1.standstill.checked==true) {
 { x++; }}
if (document.form1.wildtalent.checked==true) {
 { x++; }}
if (document.form1.alignedattack.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.boostconstruct.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.combatmanifestation.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
x+=document.form1.expandedknowledge_list.selectedIndex;
total_psion_feats+=document.form1.expandedknowledge_list.selectedIndex;
total_psiwarrior_feats+=document.form1.expandedknowledge_list.selectedIndex;
if (document.form1.focusedsunder.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.ghostattack.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.inquisitor.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.mentalleap.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}

x+=document.form1.metamorphictransfer_list.selectedIndex;
total_psion_feats+=document.form1.metamorphictransfer_list.selectedIndex;
total_psiwarrior_feats+=document.form1.metamorphictransfer_list.selectedIndex;

if (document.form1.narrowmind.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.overchannel.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.talented.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.bodyfuel.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.powerpenetration.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.greaterpowerpenetration.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.powerspecialization.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.greaterpowerspecialization.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.psicrystalaffinity.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.improvedpsicrystal.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.psicrystalcontainment.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.psionicbody.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.psionicdodge.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.psionicendowment.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.greaterpsionicendowment.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.psionicfist.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.greaterpsionicfist.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.unavoidablestrike.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.psionicmeditation.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.psionicshot.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.greaterpsionicshot.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.fellshot.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.returnshot.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}

x+=document.form1.psionictalent_list.selectedIndex;
total_psion_feats+=document.form1.psionictalent_list.selectedIndex;
total_psiwarrior_feats+=document.form1.psionictalent_list.selectedIndex;

if (document.form1.psionicweapon.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.greaterpsionicweapon.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.deepimpact.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.speedofthought.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.psioniccharge.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.upthewalls.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.woundingattack.checked==true) {
 {total_psion_feats++; total_psiwarrior_feats++; total_psiwarrior_feats++; x++; }}
if (document.form1.burrowingpower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.chainpower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.delaypower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.empowerpower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.enlargepower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.extendpower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.maximizepower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.opportunitypower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.quickenpower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.splitpsionicray.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.twinpower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.unconditionalpower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.widenpower.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.craftcognizancecrystal.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.craftdorje.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.craftpsicrown.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.craftpsionicarmsandarmor.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.craftpsionicconstruct.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.craftuniversalitem.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.imprintstone.checked==true) {
 {total_psion_feats++; x++; }}
if (document.form1.scribetattoo.checked==true) {
 {total_psion_feats++; x++; }}

if ((rayce==112) && ((cleric_levels>0) || (druid_levels>0) || (paladin_levels>4) || (ranger_levels>4) || (wizard_levels>0) || (sorcerer_levels>0)))
 { document.form1.nonverbalspell.checked=true; }
if ((dexterity<15) || (wisdom<15) || ((document.form1.improvedunarmedstrike.checked==false) && ((rangercombattrack!=3) || (ranger_levels + epic_ranger_levels<2))) || (knowledgeplanes/knowledgeplanes_class<4)) { document.form1.acheronflurry.checked=false; }
if ((knowledgeplanes/knowledgeplanes_class<2) || (knowledgereligion<2) || (alignment>6) || (wizard_levels + sorcerer_levels + npcother_levels + epic_npcother_levels ==0))
 { document.form1.celestialsummoningspecialist.checked=false; }
if (knowledgeplanes/knowledgeplanes_class<2)
 {
  document.form1.elementalspellcastingair.checked=false;
  document.form1.elementalspellcastingearth.checked=false;
  document.form1.elementalspellcastingfire.checked=false;
  document.form1.elementalspellcastingwater.checked=false;
 }
if ((knowledgeplanes/knowledgeplanes_class<2) || (knowledgereligion<2) || (alignment<4) || (wizard_levels + sorcerer_levels + npcother_levels + epic_npcother_levels==0))
 { document.form1.fiendishsummoningspecialist.checked=false; }
if ((wisdom<15) || (knowledgeplanes/knowledgeplanes_class<5)) { document.form1.neraphcharge.checked=false; }
if ((dexterity<15) || (knowledgeplanes/knowledgeplanes_class<5)) { document.form1.neraphthrow.checked=false; }
if (knowledgeplanes/knowledgeplanes_class<8) { document.form1.planartouchstone_list.selectedIndex=0; }
if ((wizard_levels + sorcerer_levels + npcother_levels + epic_npcother_levels ==0) || (knowledgeplanes/knowledgeplanes_class<5)) { document.form1.planarfamiliar.checked=false; }
if (document.form1.personaltouchstone_list.selectedIndex>document.form1.planartouchstone_list.selectedIndex)
 { document.form1.personaltouchstone_list.selectedIndex=document.form1.planartouchstone_list.selectedIndex; }
if ((charisma<13) || (spellcraft<5) || (document.form1.planartouchstone_list.selectedIndex==0)) { document.form1.stalwartplanarally.checked=false; }
if ((alignment==1) || (alignment==4) || (alignment==7) || (inherited_template_count>0)) { document.form1.anarchicheritage.checked=false; }
if ((alignment==3) || (alignment==6) || (alignment==9) || (inherited_template_count>0)) { document.form1.axiomaticheritage.checked=false; }
if ((alignment>6) || (inherited_template_count>0)) { document.form1.celestialheritage.checked=false; }
if ((alignment<4) || (inherited_template_count>0)) { document.form1.fiendishheritage.checked=false; }

if (document.form1.acheronflurry.checked==true) {
  x++; }
if (document.form1.celestialsummoningspecialist.checked==true) {
  x++; }
if (document.form1.elementalspellcastingair.checked==true) {
  x++; }
if (document.form1.elementalspellcastingearth.checked==true) {
  x++; }
if (document.form1.elementalspellcastingfire.checked==true) {
  x++; }
if (document.form1.elementalspellcastingwater.checked==true) {
  x++; }
if (document.form1.fiendishsummoningspecialist.checked==true) {
  x++; }
if (document.form1.neraphcharge.checked==true) {
  x++; }
if (document.form1.neraphthrow.checked==true) {
  x++; }
if (document.form1.nonverbalspell.checked==true) {
  x++; }
if (document.form1.planarfamiliar.checked==true) {
  x++; }
if (document.form1.stalwartplanarally.checked==true) {
  x++; }
x=x+document.form1.planartouchstone_list.selectedIndex;
x=x+document.form1.personaltouchstone_list.selectedIndex;

has_a_heritage_feat=false;
if (document.form1.airheritage.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.airheritage.checked=false; }
  else { has_a_heritage_feat=true; x++; }}
if (document.form1.anarchicheritage.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.anarchicheritage.checked=false; }
  else { has_a_heritage_feat=true; x++; }}
if (document.form1.axiomaticheritage.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.axiomaticheritage.checked=false; }
  else { has_a_heritage_feat=true; x++; }}
if (document.form1.celestialheritage.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.celestialheritage.checked=false; }
  else { has_a_heritage_feat=true; x++; }}
if (document.form1.earthheritage.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.earthheritage.checked=false; }
  else { has_a_heritage_feat=true; x++; }}
if (document.form1.fiendishheritage.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.fiendishheritage.checked=false; }
  else { has_a_heritage_feat=true; x++; }}
if (document.form1.fireheritage.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.fireheritage.checked=false; }
  else { has_a_heritage_feat=true; x++; }}
if (document.form1.naturalheavyweight.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.naturalheavyweight.checked=false; }
  else { has_a_heritage_feat=true; x++; }}
if (document.form1.shadowheritage.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.shadowheritage.checked=false; }
  else { has_a_heritage_feat=true; x++; }}
if (document.form1.waterheritage.checked==true) {
 if ((has_a_heritage_feat==true)) { document.form1.waterheritage.checked=false; }
  else { has_a_heritage_feat=true; x++; }}

if (
   (document.form1.airheritage.checked==false)&
   (document.form1.earthheritage.checked==false)&
   (document.form1.fireheritage.checked==false)&
   (document.form1.waterheritage.checked==false)
   ) { document.form1.improvedelementalheritage.checked=false; }
if (
   (document.form1.celestialheritage.checked==false)&
   (document.form1.fiendishheritage.checked==false)&
   (document.form1.anarchicheritage.checked==false)&
   (document.form1.axiomaticheritage.checked==false)
   ) { document.form1.improvedouterplanarheritage.checked=false; }
if (document.form1.improvedelementalheritage.checked==true) {
  x++; }
if (document.form1.improvedouterplanarheritage.checked==true) {
  x++; }

if (
    (speaklanguage/speaklanguage_class==0)
    &
    (
      (intelligence<12)
      |
      ((draconic_nativespeaker==false) && (draconic_friendly=false))
    )
   )
 {
  document.form1.dragoncohort.checked=false;
  document.form1.dragonfamiliar.checked=false;
  document.form1.dragonsteed.checked=false;
  document.form1.dragonthrall.checked=false;
  document.form1.dragonsong.checked=false;
  document.form1.dragonfriend.checked=false;
 }

if (((has_improvedunarmedstrike==false) && ((rangercombattrack!=3) || (ranger_levels + epic_ranger_levels<2)) && (monk_levels + epic_monk_levels==0)) || (large==true)) { document.form1.cleverwrestling.checked=false; }
if (document.form1.cleverwrestling.checked==false) { document.form1.cunningsidestep.checked=false; }
if (base_attack_bonus<3) { document.form1.closequartersfighting.checked=false; }
if ((document.form1.closequartersfighting.checked==false) || (base_attack_bonus<6) || (has_powerattack==false)) { document.form1.overheadthrust.checked=false; }
if ((intelligence<13) || (has_combatexpertise==false) || (spot<10) || ((rogue_levels + prestige_levels==0) && (rayce!=87))) { document.form1.deftstrike.checked=false; }
if (total_levels<9) { document.form1.dragoncohort.checked=false; }

if ((charisma<13) || ((wizard_levels<7) && (sorcerer_levels<7) && (npcother_levels + epic_npcother_levels<7))) { document.form1.dragonfamiliar.checked=false; }
if (wisdom<13) { document.form1.dragonhunter.checked=false; }
if (document.form1.dragonhunter.checked==false)
 {
  document.form1.dragonhunterbravery.checked=false;
  document.form1.dragonhunterdefense.checked=false;
 }
if ((document.form1.dragonfriend.checked==true) && (document.form1.dragonthrall.checked==true))
 {
  document.form1.dragonfriend.checked=false;
  document.form1.dragonthrall.checked=false;
 }
if ((charisma<13) || (ride/ride_class<8)) { document.form1.dragonsteed.checked=false; }
if ((wisdom<19) || (knowledgenature/knowledgenature_class<15) || (druid_levels +  prestige_levels<5)) { document.form1.dragonwildshape.checked=false; }
if (knowledgearcana/knowledgearcana_class<2) { document.form1.dragoncrafter.checked=false; }
if (intelligence<13) { document.form1.dragonfoe.checked=false; }
if ((document.form1.dragonfoe.checked==false) || (base_attack_bonus<6)) { document.form1.dragonbane.checked=false; }
if ((document.form1.dragonbane.checked==false) || (base_attack_bonus<10)) { document.form1.dragondoom.checked=false; }
if (charisma<11) { document.form1.dragonfriend.checked=false; }
if ((charisma<13) || (knowledgearcana/knowledgearcana_class<6) || ((perform_1/perform_1_class<6) && (perform_2/perform_2_class<6) && (perform_3/perform_3_class<6) && (perform_4/perform_4_class<6) && (perform_5/perform_5_class<6))) { document.form1.dragonsong.checked=false; }

if ((charisma<15) || (intimidate/intimidate_class<9)) { document.form1.frightfulpresence.checked=false; }

if ((has_weaponfocus==0) || (has_combatexpertise==false) || (intelligence<13)) { document.form1.senseweakness.checked=false; }

if ((paladin_levels==0) && (npcother_class_name!="Paladin of Freedom")) { document.form1.exaltedsmite.checked=false; }
if ((alignment>3) || (druid_levels<5)) { document.form1.exaltedwildshape.checked=false; }
if ((alignment>3) || (document.form1.subduingstrike.checked==false)) { document.form1.holysubdual.checked=false; }
if ((paladin_levels==0) && (npcother_class_name!="Paladin of Freedom")) { document.form1.rangedsmiteevil.checked=false; }
if ((alignment>3) || (barbarian_levels==0)) { document.form1.righteouswrath.checked=false; }
if ((alignment>3) || (rogue_levels==0)) { document.form1.sacredstrike.checked=false; }
if ((alignment>3)) { document.form1.consecratespell.checked=false; }
if ((alignment>3) || (knowledgearcana/knowledgearcana_class<5)) { document.form1.nonlethalsubstitution.checked=false; }
if (alignment>3) { document.form1.purifyspell.checked=false; }

if (document.form1.cleverwrestling.checked==true) { x++; }
if (document.form1.cunningsidestep.checked==true) { x++; }
if (document.form1.closequartersfighting.checked==true) { x++; }
if (document.form1.overheadthrust.checked==true) { x++; }
if (document.form1.deftstrike.checked==true) { x++; }
if (document.form1.dragoncohort.checked==true) { x++; }
if (document.form1.dragonfamiliar.checked==true) { x++; }
if (document.form1.dragonhunter.checked==true) { x++; }
if (document.form1.dragonhunterbravery.checked==true) { x++; }
if (document.form1.dragonhunterdefense.checked==true) { x++; }
if (document.form1.dragonsteed.checked==true) { x++; }
if (document.form1.dragonwildshape.checked==true) { x++; }
if (document.form1.dragoncrafter.checked==true) { x++; }
if (document.form1.dragonfoe.checked==true) { x++; }
if (document.form1.dragonbane.checked==true) { x++; }
if (document.form1.dragondoom.checked==true) { x++; }
if (document.form1.dragonfriend.checked==true) { x++; }
if (document.form1.dragonsong.checked==true) { x++; }
if (document.form1.dragonthrall.checked==true) { x++; }
if (document.form1.frightfulpresence.checked==true) { x++; }
if (document.form1.senseweakness.checked==true) { x++; }
if (document.form1.subduingstrike.checked==true) { x++; total_fighter_feats++; }
if (document.form1.exaltedsmite.checked==true) { x++; }
if (cleric_levels + paladin_levels==0) { document.form1.exaltedturning.checked=false; }
if (document.form1.exaltedturning.checked==true) { x++; }
if (document.form1.exaltedwildshape.checked==true) { x++; }
if (document.form1.holysubdual.checked==true) { x++; total_fighter_feats++; }
if (document.form1.rangedsmiteevil.checked==true) { x++; }
if (document.form1.righteouswrath.checked==true) { x++; }
if (document.form1.sacredstrike.checked==true) { x++; }
if (document.form1.consecratespell.checked==true) { x++; total_wizard_feats++; }
if (document.form1.nonlethalsubstitution.checked==true) { x++; total_wizard_feats++; }
if (document.form1.purifyspell.checked==true) { x++; total_wizard_feats++; }
if (document.form1.improvedtoughness.checked==true) { x++; total_fighter_feats++; }
if (document.form1.spellcastingprodigyintelligence.checked==true) { x++; }
if (document.form1.spellcastingprodigywisdom.checked==true) { x++; }
if (document.form1.spellcastingprodigycharisma.checked==true) { x++; }
if (document.form1.zenarchery.checked==true) { x++; }
   if (npcother_class_name=="Warmage")
    {
     if (npcother_levels + epic_npcother_levels>=7) { document.form1.suddenempower.checked=true; }
     if (npcother_levels + epic_npcother_levels>=10) { document.form1.suddenenlarge.checked=true; }
     if (npcother_levels + epic_npcother_levels>=15) { document.form1.suddenwiden.checked=true; }
     if (npcother_levels + epic_npcother_levels>=20) { document.form1.suddenmaximize.checked=true; }
    }

if (document.form1.suddenempower.checked==true) { x++; total_wizard_feats++; }
if (document.form1.suddenenlarge.checked==true) { x++; total_wizard_feats++; }
if (document.form1.suddenextend.checked==true) { x++; total_wizard_feats++; }
if (document.form1.suddenmaximize.checked==true) { x++; total_wizard_feats++; }
if (document.form1.suddensilent.checked==true) { x++; total_wizard_feats++; }
if (document.form1.suddenstill.checked==true) { x++; total_wizard_feats++; }
if (document.form1.suddenwiden.checked==true) { x++; total_wizard_feats++; }
if (document.form1.energysubstitutionacid.checked==true) { x++; total_wizard_feats++; }
if (document.form1.energysubstitutioncold.checked==true) { x++; total_wizard_feats++; }
if (document.form1.energysubstitutionelectricity.checked==true) { x++; total_wizard_feats++; }
if (document.form1.energysubstitutionfire.checked==true) { x++; total_wizard_feats++; }
if (document.form1.energysubstitutionsonic.checked==true) { x++; total_wizard_feats++; }
if (document.form1.subdualsubstitution.checked==true) { x++; total_wizard_feats++; }
if (document.form1.enduringlife.checked==true) { x++; }
if ((document.form1.endurance.checked==false) && (monk_totem!=8) && (barbarian_totem!=6) && (ranger_levels + epic_ranger_levels<=2))
 { document.form1.lastinglife.checked=false; }
if (document.form1.enduringlife.checked==false)
 { document.form1.lastinglife.checked=false; }
if (document.form1.lastinglife.checked==true) { x++; }
if ((cleric_levels==0) && (paladin_levels<4) && (npcother_class_name!="Paladin of Freedom"))
 {
  document.form1.empowerturning.checked=false;
  document.form1.sacredvitality.checked=false;
  document.form1.spurndeathstouch.checked=false;
  document.form1.quickenturning.checked=false;
 }
if (channels_energy!=1)
 {
  document.form1.sacredvitality.checked=false;
  document.form1.spurndeathstouch.checked=false;
 }
if (document.form1.empowerturning.checked==true) { x++; }
if (knowledgereligion<8) { document.form1.ghostscarred.checked=false; }
if (document.form1.ghostscarred.checked==true) { x++; }
if ((charisma<13) || (document.form1.extraturning_list.selectedIndex==0))
 { document.form1.heightenturning.checked=false; }
if (document.form1.heightenturning.checked==true) { x++; }
if (document.form1.quickenturning.checked==true) { x++; }
if ((bard_levels==0) || ((perform_1<8) && (perform_2<8) && (perform_3<8) && (perform_4<8) && (perform_5<8)))
 { document.form1.requiem.checked=false; }
if (document.form1.requiem.checked==true) { x++; }
if (knowledgereligion<6) { document.form1.vampirehunter.checked=false; }
if (document.form1.vampirehunter.checked==true) { x++; }
if (document.form1.sacredvitality.checked==true) { x++; }
if (document.form1.spurndeathstouch.checked==true) { x++; }


total_epic_feats=0;
x+=document.form1.familiarspell_list.selectedIndex;
total_epic_feats+=document.form1.familiarspell_list.selectedIndex;
x+=document.form1.greatsmiting_list.selectedIndex;
total_epic_feats+=document.form1.greatsmiting_list.selectedIndex;
x+=document.form1.improvedfavoredenemy_list.selectedIndex;
total_epic_feats+=document.form1.improvedfavoredenemy_list.selectedIndex;
x+=document.form1.improvedmetamagic_list.selectedIndex;
total_epic_feats+=document.form1.improvedmetamagic_list.selectedIndex;
x+=document.form1.improvedsneakattack_list.selectedIndex;
total_epic_feats+=document.form1.improvedsneakattack_list.selectedIndex;
x+=document.form1.improvedspellcapacity_list.selectedIndex;
total_epic_feats+=document.form1.improvedspellcapacity_list.selectedIndex;
x+=document.form1.improvedstunningfist_list.selectedIndex;
total_epic_feats+=document.form1.improvedstunningfist_list.selectedIndex;
if ((strength<23) || (has_greatcleave==false) || (has_powerattack==false))
 { document.form1.overwhelmingcritical_list.selectedIndex=0; }
if (document.form1.weaponfocus_list.selectedIndex<document.form1.overwhelmingcritical_list.selectedIndex)
 { document.form1.overwhelmingcritical_list.selectedIndex=document.form1.weaponfocus_list.selectedIndex; }
if (document.form1.improvedcritical_list.selectedIndex<document.form1.overwhelmingcritical_list.selectedIndex)
 { document.form1.overwhelmingcritical_list.selectedIndex=document.form1.improvedcritical_list.selectedIndex; }
x+=document.form1.overwhelmingcritical_list.selectedIndex;
total_epic_feats+=document.form1.overwhelmingcritical_list.selectedIndex;
x+=document.form1.spellknowledge_list.selectedIndex;
total_epic_feats+=document.form1.spellknowledge_list.selectedIndex;
x+=document.form1.epicexpandedknowledge_list.selectedIndex;
total_epic_feats+=document.form1.epicexpandedknowledge_list.selectedIndex;
x+=document.form1.epicpsionicfocus_list.selectedIndex;
total_epic_feats+=document.form1.epicpsionicfocus_list.selectedIndex;
x+=document.form1.improvedmanifestation_list.selectedIndex;
total_epic_feats+=document.form1.improvedmanifestation_list.selectedIndex;
x+=document.form1.improvedmetapsionics_list.selectedIndex;
total_epic_feats+=document.form1.improvedmetapsionics_list.selectedIndex;
x+=document.form1.powerknowledge_list.selectedIndex;
total_epic_feats+=document.form1.powerknowledge_list.selectedIndex;
x+=document.form1.psicrystalpower_list.selectedIndex;
total_epic_feats+=document.form1.psicrystalpower_list.selectedIndex;

if (epic_feat_allowance==0)
 {
  document.form1.improvedelementalwildshape.checked=false;
  document.form1.lastinginspiration.checked=false;
  document.form1.planarturning.checked=false;
  document.form1.terrifyingrage.checked=false;
 }
if ((druid_levels + epic_druid_levels<16) || (wisdom<25))
 { document.form1.improvedelementalwildshape.checked=false; }
if ((bard_levels + epic_bard_levels==0) || ((perform_1/perform_1_class<25) && (perform_2/perform_2_class<25) && (perform_3/perform_3_class<25) && (perform_4/perform_4_class<25) && (perform_5/perform_5_class<25)) )
 { document.form1.lastinginspiration.checked=false; }
if ((wisdom<25) || (charisma<25) || (cleric_levels + paladin_levels + epic_cleric_levels + epic_paladin_levels ==0))
 { document.form1.planarturning.checked=false; }
if ((intimidate<25) || (barbarian_levels + epic_barbarian_levels<16))
 { document.form1.terrifyingrage.checked=false; }
if (document.form1.improvedelementalwildshape.checked==true) {total_epic_feats++; x++; }
if (document.form1.lastinginspiration.checked==true) {total_epic_feats++; x++; }
if (document.form1.planarturning.checked==true) {total_epic_feats++; x++; }
if (document.form1.terrifyingrage.checked==true) {total_epic_feats++; x++; }
if ((climb<4) || (jump<4)) { document.form1.brachiation.checked=false; }
if (document.form1.brachiation.checked==true) {total_scout_feats++; x++; }
if ((document.form1.improvedinitiative.checked==false)) { document.form1.dangersense.checked=false; }
if (document.form1.dangersense.checked==true) {total_scout_feats++; x++; }
if ((listen<5) || (document.form1.blindfight.checked==false)) { document.form1.heartheunseen.checked=false; }
if (document.form1.heartheunseen.checked==true) {total_scout_feats++; x++; }
if (swim<6) { document.form1.improvedswimming.checked=false; }
if (document.form1.improvedswimming.checked==true) {total_scout_feats++; x++; }
if ((listen<5) || (spot<5)) { document.form1.quickreconnoiter.checked=false; }
if (document.form1.quickreconnoiter.checked==true) {total_scout_feats++; x++; }


 if (document.form1.otherfeat1.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.otherfeat2.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.otherfeat3.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.otherfeat4.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.otherfeat5.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.otherfeat6.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.otherfeat7.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.otherfeat8.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.otherfeat9.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }
 if (document.form1.otherfeat10.checked==true) {total_fighter_feats++; total_wizard_feats++; total_psion_feats++; total_psiwarrior_feats++; x++; }

 if (has_war_domain)
  {
   if (document.form1.weaponfocus_list.selectedIndex==0)
    { document.form1.weaponfocus_list.selectedIndex=1; }
  }
 if (document.form1.weaponfocus_list.selectedIndex>0)
       {
         total_fighter_feats+=document.form1.weaponfocus_list.selectedIndex;
         total_psiwarrior_feats+=document.form1.weaponfocus_list.selectedIndex;
         x+=document.form1.weaponfocus_list.selectedIndex;
       }
 z=0;
 if (document.form1.weaponspecialization_list.selectedIndex>document.form1.weaponfocus_list.selectedIndex+z)
  { document.form1.weaponspecialization_list.selectedIndex=document.form1.weaponfocus_list.selectedIndex+z; }
 if (fighter_levels<4)
  { document.form1.weaponspecialization_list.selectedIndex=0; }
 total_fighter_feats+=document.form1.weaponspecialization_list.selectedIndex;
 total_psiwarrior_feats+=document.form1.weaponspecialization_list.selectedIndex;
 x+=document.form1.weaponspecialization_list.selectedIndex;

 if (document.form1.greaterweaponfocus_list.selectedIndex>document.form1.weaponfocus_list.selectedIndex)
  { document.form1.greaterweaponfocus_list.selectedIndex=document.form1.weaponfocus_list.selectedIndex; }
 if (fighter_levels<8)
  { document.form1.greaterweaponfocus_list.selectedIndex=0; }
 total_fighter_feats+=document.form1.greaterweaponfocus_list.selectedIndex;
 total_psiwarrior_feats+=document.form1.greaterweaponfocus_list.selectedIndex;
 x+=document.form1.greaterweaponfocus_list.selectedIndex;

 if (document.form1.greaterweaponspecialization_list.selectedIndex>document.form1.greaterweaponfocus_list.selectedIndex)
  { document.form1.greaterweaponspecialization_list.selectedIndex=document.form1.greaterweaponfocus_list.selectedIndex; }
 if (document.form1.greaterweaponspecialization_list.selectedIndex>document.form1.weaponspecialization_list.selectedIndex)
  { document.form1.greaterweaponspecialization_list.selectedIndex=document.form1.weaponspecialization_list.selectedIndex; }
 if (document.form1.necropotent_list.selectedIndex>document.form1.weaponspecialization_list.selectedIndex)
  { document.form1.necropotent_list.selectedIndex=document.form1.weaponspecialization_list.selectedIndex; }
 if (fighter_levels<12)
  { document.form1.greaterweaponspecialization_list.selectedIndex=0; }
 total_fighter_feats+=document.form1.greaterweaponspecialization_list.selectedIndex;
 total_psiwarrior_feats+=document.form1.greaterweaponspecialization_list.selectedIndex;
 total_fighter_feats+=document.form1.necropotent_list.selectedIndex;
 total_psiwarrior_feats+=document.form1.necropotent_list.selectedIndex;
 x+=document.form1.greaterweaponspecialization_list.selectedIndex;
 x+=document.form1.necropotent_list.selectedIndex;

 RecordFeats();
   z=fighterfeatentitlement + scoutfeatentitlement + wizardfeatentitlement + psionfeatentitlement + genericfeatentitlement + psiwarriorfeatentitlement;

  if (SkillPointsAreLocked==false) {
   document.form1.feat.value="Wait to choose your feats.";
   } else {
  document.form1.feat.value+="You must choose "+z+" feats.  You have "+x+".\r";
  if (npcother_class_name=="Wu Jen") { document.form1.feat.value+="A Wu Jen is expected to bring at least one metamagic feat.  You are on your honor here.\r"; }
  if (improved_familiar==true) { document.form1.feat.value+="Your improved familiar counts for one feat.\r"; }
  if (wizardfeatentitlement>0) { document.form1.feat.value+="There must be "+wizardfeatentitlement+" wizard feats (W).  You have "+total_wizard_feats+".\r"; }
  if (psionfeatentitlement>0) { document.form1.feat.value+="There must be "+psionfeatentitlement+" psion feats (psi).  You have "+total_psion_feats+".\r"; }
  if (fighterfeatentitlement>0) { document.form1.feat.value+="There must be "+fighterfeatentitlement+" fighter feats (F).  You have "+total_fighter_feats+".\r"; }
  if (scoutfeatentitlement>0) { document.form1.feat.value+="There must be "+scoutfeatentitlement+" scout feats (S).  You have "+total_scout_feats+".\r"; }
  if (psiwarriorfeatentitlement>0) { document.form1.feat.value+="There must be "+psiwarriorfeatentitlement+" psi-warrior feats (F or psi, no metapsionic or item creation).  You have "+total_psiwarrior_feats+".\r"; }
  if (rogue_levels>12) { document.form1.feat.value+="High-level rogue special abilities are recommended.\r"; }
  if (epic_feat_allowance>0) { document.form1.feat.value+="You may take up to " + epic_feat_allowance+" epic feats.  You have "+total_epic_feats+".\r"; }
   if ((x==z)
    && (total_fighter_feats>=fighterfeatentitlement)
    && (total_scout_feats>=scoutfeatentitlement)
    && (total_psiwarrior_feats>=psiwarriorfeatentitlement)
    && (total_wizard_feats>=wizardfeatentitlement)
    && (total_psion_feats>=psionfeatentitlement)
    && (total_epic_feats<=epic_feat_allowance)
    && (x>0))
     {
      document.form1.feat.value+="You can accept these."
      document.form1.sixth_comment_box.value="You can accept these."
      document.form1.acceptfeatsarrow.src="dragonarrowleft.gif";
      document.form1.featsarrow.src="dragongrayright.gif";
      document.form1.flawsarrow.src="dragongrayleft.gif";
      return true;
     }
     else
     {
      document.form1.feat.value+="Keep working."
      document.form1.sixth_comment_box.value="Keep working."
      document.form1.acceptfeatsarrow.src="dragonblank.gif";
      document.form1.featsarrow.src="dragonarrowright.gif";
      document.form1.flawsarrow.src="dragongrayleft.gif";
      return false;
     }
  }
 }
}

function RacialSubstitutionLevelSkills() {
 if (rayce==7)
  {
   if (druid_levels+paladin_levels>0)
    {
     intimidate_class=1; document.form1.intimidate_ics.checked=true;
    }
  }
 if (rayce==2)
  {
   if (fighter_levels>0)
    {
     bluff_class=1; document.form1.bluff_ics.checked=true;
     diplomacy_class=1; document.form1.diplomacy_ics.checked=true;
     sensemotive_class=1; document.form1.sensemotive_ics.checked=true;
    }
   if (ranger_levels>0)
    {
     gatherinformation_class=1; document.form1.gatherinformation_ics.checked=true;
     speaklanguage_class=1; document.form1.speaklanguage_ics.checked=true;
    }
  }
 if (rayce==3)
  {
   if (paladin_levels>0) {survival_class=1; document.form1.survival_ics.checked=true; }
   if (ranger_levels>0) {balance_class=1; document.form1.balance_ics.checked=true; }
   if (wizard_levels>0) {search_class=1; document.form1.search_ics.checked=true; }
  }
 if (rayce==6)
  {
   if (druid_levels>0)
    {
     climb_class=1; document.form1.climb_ics.checked=true;
     hide_class=1; document.form1.hide_ics.checked=true;
     jump_class=1; document.form1.jump_ics.checked=true;
     movesilently_class=1; document.form1.movesilently_ics.checked=true;
    }
  }
 if (rayce==4)
  {
   if (cleric_levels>0) {knowledgedungeoneering_class=1; document.form1.knowledgedungeoneering_ics.checked=true; }
   if (fighter_levels>0) {knowledgedungeoneering_class=1; document.form1.knowledgedungeoneering_ics.checked=true; }
   if (sorcerer_levels>0) {knowledgedungeoneering_class=1; document.form1.knowledgedungeoneering_ics.checked=true; }
  }
 if (rayce==5)
  {
   if (bard_levels>0) {knowledgedungeoneering_class=1; document.form1.knowledgedungeoneering_ics.checked=true; }
  }
 if (rayce==126)
  {
   if (barbarian_levels>0) {knowledgenature_class=1; document.form1.knowledgenature_ics.checked=true; }
   if (rogue_levels>0) {survival_class=1; document.form1.survival_ics.checked=true; }
  }
 if (rayce==109)
  {
   if (egoist==true)
    {
     bluff_class=1; document.form1.bluff_ics.checked=true;
     disguise_class=1; document.form1.disguise_ics.checked=true;
    }
   if (rogue_levels>0) {AllKnowledgeClasses(); }
   if (wizard_levels>0)
    {
     bluff_class=1; document.form1.bluff_ics.checked=true;
     disguise_class=1; document.form1.disguise_ics.checked=true;
     sleightofhand_class=1; document.form1.sleightofhand_ics.checked=true;
    }
  }
 if (rayce==110)
  {
   if (monk_levels>0)
    {
     autohypnosis_class=1; document.form1.autohypnosis_ics.checked=true;
     knowpsi_class=1; document.form1.knowpsi_ics.checked=true;
    }
   if ((soulknife_levels>0) && (alignment<4))
    {
     disguise_class=1; document.form1.disguise_ics.checked=true;
     knowledgeplanes_class=1; document.form1.knowledgeplanes_ics.checked=true;
     perform_1_class=1; document.form1.perform_1_ics.checked=true;
     perform_2_class=1; document.form1.perform_2_ics.checked=true;
     perform_3_class=1; document.form1.perform_3_ics.checked=true;
     perform_4_class=1; document.form1.perform_4_ics.checked=true;
     perform_5_class=1; document.form1.perform_5_ics.checked=true;
    }
   if (telepath==true>0) {intimidate_class=1; document.form1.intimidate_ics.checked=true; }
  }
 if (rayce==111)
  {
   if (druid_levels>0)
    {
     balance_class=1; document.form1.balance_ics.checked=true;
     climb_class=1; document.form1.climb_ics.checked=true;
     jump_class=1; document.form1.jump_ics.checked=true;
    }
   if (ranger_levels>0) {balance_class=1; document.form1.balance_ics.checked=true; }
   if (wilder_levels>0) {survival_class=1; document.form1.survival_ics.checked=true; }
  }
 }

function NotYourSkills() {
 appraise_class=2;
 balance_class=2;
 bluff_class=2;
 climb_class=2;
 concentration_class=2;
 craft_1_class=2;
 craft_2_class=2;
 craft_3_class=2;
 decipherscript_class=2;
 diplomacy_class=2;
 disabledevice_class=2;
 disguise_class=2;
 escapeartist_class=2;
 forgery_class=2;
 gatherinformation_class=2;
 handleanimal_class=2;
 heal_class=2;
 hide_class=2;
 intimidate_class=2;
 jump_class=2;
 knowledgearcana_class=2;
 knowledgearchitecture_class=2;
 knowledgedungeoneering_class=2;
 knowledgegeography_class=2;
 knowledgehistory_class=2;
 knowledgelocal_class=2;
 knowledgenature_class=2;
 knowledgenobility_class=2;
 knowledgereligion_class=2;
 knowledgeplanes_class=2;
 listen_class=2;
 movesilently_class=2;
 openlock_class=2;
 perform_1_class=2;
 perform_2_class=2;
 perform_3_class=2;
 perform_4_class=2;
 perform_5_class=2;
 profession_class=2;
 ride_class=2;
 search_class=2;
 sensemotive_class=2;
 sleightofhand_class=2;
 speaklanguage_class=2;
 spellcraft_class=2;
 spot_class=2;
 survival_class=2;
 swim_class=2;
 tumble_class=2;
 usemagicdevice_class=2;
 userope_class=2;
 autohypnosis_class=2;
 knowpsi_class=2;
 psicraft_class=2;
 usepsionicdevice_class=2;
 otherskill1_class=1;
 otherskill2_class=1;
 otherskill3_class=1;
}

function modifier_number(skillo) {
 if (skillo<2) { return -5}
 else if (skillo<4) { return -4}
 else if (skillo<6) { return -3}
 else if (skillo<8) { return -2}
 else if (skillo<10) { return -1}
 else if (skillo<12) { return 0}
 else if (skillo<14) { return 1}
 else if (skillo<16) { return 2}
 else if (skillo<18) { return 3}
 else if (skillo<20) { return 4}
 else if (skillo<22) { return 5}
 else if (skillo<24) { return 6}
 else if (skillo<26) { return 7}
 else if (skillo<28) { return 8}
 else if (skillo<30) { return 9}
 else if (skillo<32) { return 10}
 else if (skillo<34) { return 11}
 else if (skillo<36) { return 12}
 else if (skillo<38) { return 13}
 else if (skillo<40) { return 14}
 else if (skillo<42) { return 15}
 else if (skillo<44) { return 16}
 else if (skillo<46) { return 17}
 else if (skillo<48) { return 18}
 else if (skillo<50) { return 19}
 else if (skillo<52) { return 20}
 else if (skillo<54) { return 21}
 else if (skillo<56) { return 22}
 else if (skillo<58) { return 23}
 else if (skillo<60) { return 24}
 else if (skillo<62) { return 25}
 else if (skillo<64) { return 26}
 else if (skillo<66) { return 27}
 else if (skillo<68) { return 28}
 else if (skillo<70) { return 29}
 else if (skillo<72) { return 30}
 else if (skillo<74) { return 31}
 else if (skillo<76) { return 32}
 else if (skillo<78) { return 33}
 else if (skillo<80) { return 34}
 else return 69;
 }

function modifier_string(skillo) {
 if (skillo<2) { return "-5"; }
 else if (skillo<4) { return "-4"; }
 else if (skillo<6) { return "-3"; }
 else if (skillo<8) { return "-2"; }
 else if (skillo<10) { return "-1"; }
 else if (skillo<12) { return "+0"; }
 else if (skillo<14) { return "+1"; }
 else if (skillo<16) { return "+2"; }
 else if (skillo<18) { return "+3"; }
 else if (skillo<20) { return "+4"; }
 else if (skillo<22) { return "+5"; }
 else if (skillo<24) { return "+6"; }
 else if (skillo<26) { return "+7"; }
 else if (skillo<28) { return "+8"; }
 else if (skillo<30) { return "+9"; }
 else if (skillo<32) { return "+10"; }
 else if (skillo<34) { return "+11"; }
 else if (skillo<36) { return "+12"; }
 else if (skillo<38) { return "+13"; }
 else if (skillo<40) { return "+14"; }
 else if (skillo<42) { return "+15"; }
 else if (skillo<44) { return "+16"; }
 else if (skillo<46) { return "+17"; }
 else if (skillo<48) { return "+18"; }
 else if (skillo<50) { return "+19"; }
 else if (skillo<52) { return "+20"; }
 else if (skillo<54) { return "+21"; }
 else if (skillo<56) { return "+22"; }
 else if (skillo<58) { return "+23"; }
 else if (skillo<60) { return "+24"; }
 else if (skillo<62) { return "+25"; }
 else if (skillo<64) { return "+26"; }
 else if (skillo<66) { return "+27"; }
 else if (skillo<68) { return "+28"; }
 else if (skillo<70) { return "+29"; }
 else if (skillo<72) { return "+30"; }
 else if (skillo<74) { return "+31"; }
 else if (skillo<76) { return "+32"; }
 else if (skillo<78) { return "+33"; }
 else if (skillo<80) { return "+34"; }
 else return "69";
 }

function SkillPointsPerLevel(klasso) {
 if (klasso==0) { return 0; }
 else if (klasso==1) { return 4; }
 else if (klasso==2) { return 6; }
 else if (klasso==3) {if (cleric_totem==1) { return 6; } else return 2; }
 else if (klasso==4) { return 4; }
 else if (klasso==5) {if (fighter_totem==1) { return 4; } else return 2; }
 else if (klasso==6) { return 4; }
 else if (klasso==7) { return 2; }
 else if (klasso==8) { return 6; }
 else if (klasso==9) { return 8; }
 else if (klasso==10) { return 2; }
 else if (klasso==11) { return 2; }
 else if (klasso==12) { return 4; }
 else if (klasso==13) { return 2; }
 else if (klasso==14) { return 4; }
 else if (klasso==15) { return 4; }
 else if (klasso==16) { return 4; }
 else if (klasso==24) { return prestige_skill_points_per_level; }
 else if (klasso==25)
  {
//racialstuff
   if (rayce==173) { return 2; }
   if (rayce==141) { return 2; }
   if (rayce==142) { return 2; }
   if (rayce==143) { return 2; }
   if (rayce==144) { return 2; }
   if (rayce==145) { return 2; }
   if (rayce==146) { return 1; } // giants
   if (rayce==147) { return 1; } // giants
   if (rayce==149) { return 2; }
   if (rayce==90) { return 6; }  //dragon
   if (rayce==89) { return 6; }  //dragon
   if (rayce==88) { return 6; }  //dragon
   if (rayce==87) { return 6; }  //dragon
   if (rayce==86) { return 6; }   //dragon
   if ((rayce==20) || (rayce==121) || (rayce==122) || (rayce==123) || (rayce==131) || (rayce==132)) { return 2; }
   //if (rayce==124) { return 3; } // hornhead
   if (rayce==23) { return 2; }
   if (rayce==24) { return 2; }
   if (rayce==27) { return 2; }
   if (rayce==74) { return 2; }
   if (rayce==168) { return 2; }
   if (rayce==169) { return 2; }
   if (rayce==166) { return 2; }
   if (rayce==131) { return 2; }
   if (rayce==75) { return 2; }
   if (rayce==175) { return 5; }
   if (rayce==176) { return 12; }
   if (rayce==78) { return 8; }   // outsider
   if (rayce==165) { return 8; }  // outsider
   if (rayce==152) { return 8; } // outsider
   if (rayce==178) { return 8; } // outsider
   if (rayce==153) { return 8; }  // outsider
   if (rayce==154) { return 8; }  // outsider
   if (rayce==132) { return 8; }  // outsider
   if (rayce==34) { return intelligence; }
   else return 2;
  }
 else if (klasso==26)
  {
   if (npcother_class_name=="Aristocrat") { return 4; }
   if (npcother_class_name=="Expert") { return 6; }
   return npcother_skill_points_per_level;
  }
  else return 0;
 }

function FigureClassSkillsAndTotalSkillPoints() {
  x=4*(SkillPointsPerLevel(class01)+modifier_number(intelligence01));
  if (x<4) { x=4; }
  total_skill_points=x;
  if (total_levels>=2) { x=SkillPointsPerLevel(class02)+modifier_number(intelligence01); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=3) { x=SkillPointsPerLevel(class03)+modifier_number(intelligence01); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=4) { x=SkillPointsPerLevel(class04)+modifier_number(intelligence04); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=5) { x=SkillPointsPerLevel(class05)+modifier_number(intelligence04); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=6) { x=SkillPointsPerLevel(class06)+modifier_number(intelligence04); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=7) { x=SkillPointsPerLevel(class07)+modifier_number(intelligence04); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=8) { x=SkillPointsPerLevel(class08)+modifier_number(intelligence08); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=9) { x=SkillPointsPerLevel(class09)+modifier_number(intelligence08); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=10) { x=SkillPointsPerLevel(class10)+modifier_number(intelligence08); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=11) { x=SkillPointsPerLevel(class11)+modifier_number(intelligence08); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=12) { x=SkillPointsPerLevel(class12)+modifier_number(intelligence12); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=13) { x=SkillPointsPerLevel(class13)+modifier_number(intelligence12); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=14) { x=SkillPointsPerLevel(class14)+modifier_number(intelligence12); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=15) { x=SkillPointsPerLevel(class15)+modifier_number(intelligence12); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=16) { x=SkillPointsPerLevel(class16)+modifier_number(intelligence16); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=17) { x=SkillPointsPerLevel(class17)+modifier_number(intelligence16); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=18) { x=SkillPointsPerLevel(class18)+modifier_number(intelligence16); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=19) { x=SkillPointsPerLevel(class19)+modifier_number(intelligence16); if (x<1) { x=1; } total_skill_points+=x; }
  if (total_levels>=20) { x=SkillPointsPerLevel(class20)+modifier_number(intelligence20); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=1) { x=SkillPointsPerLevel(class21)+modifier_number(intelligence20); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=2) { x=SkillPointsPerLevel(class22)+modifier_number(intelligence20); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=3) { x=SkillPointsPerLevel(class23)+modifier_number(intelligence20); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=4) { x=SkillPointsPerLevel(class24)+modifier_number(intelligence24); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=5) { x=SkillPointsPerLevel(class25)+modifier_number(intelligence24); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=6) { x=SkillPointsPerLevel(class26)+modifier_number(intelligence24); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=7) { x=SkillPointsPerLevel(class27)+modifier_number(intelligence24); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=8) { x=SkillPointsPerLevel(class28)+modifier_number(intelligence28); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=9) { x=SkillPointsPerLevel(class29)+modifier_number(intelligence28); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=10) { x=SkillPointsPerLevel(class30)+modifier_number(intelligence28); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=11) { x=SkillPointsPerLevel(class31)+modifier_number(intelligence28); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=12) { x=SkillPointsPerLevel(class32)+modifier_number(intelligence32); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=13) { x=SkillPointsPerLevel(class33)+modifier_number(intelligence32); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=14) { x=SkillPointsPerLevel(class34)+modifier_number(intelligence32); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=15) { x=SkillPointsPerLevel(class35)+modifier_number(intelligence32); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=16) { x=SkillPointsPerLevel(class36)+modifier_number(intelligence36); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=17) { x=SkillPointsPerLevel(class37)+modifier_number(intelligence36); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=18) { x=SkillPointsPerLevel(class38)+modifier_number(intelligence36); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=19) { x=SkillPointsPerLevel(class39)+modifier_number(intelligence36); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=20) { x=SkillPointsPerLevel(class40)+modifier_number(intelligence40); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=21) { x=SkillPointsPerLevel(class41)+modifier_number(intelligence40); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=22) { x=SkillPointsPerLevel(class42)+modifier_number(intelligence40); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=23) { x=SkillPointsPerLevel(class43)+modifier_number(intelligence40); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=24) { x=SkillPointsPerLevel(class44)+modifier_number(intelligence44); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=25) { x=SkillPointsPerLevel(class45)+modifier_number(intelligence44); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=26) { x=SkillPointsPerLevel(class46)+modifier_number(intelligence44); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=27) { x=SkillPointsPerLevel(class47)+modifier_number(intelligence44); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=28) { x=SkillPointsPerLevel(class48)+modifier_number(intelligence48); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=29) { x=SkillPointsPerLevel(class49)+modifier_number(intelligence48); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=30) { x=SkillPointsPerLevel(class50)+modifier_number(intelligence48); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=31) { x=SkillPointsPerLevel(class51)+modifier_number(intelligence48); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=32) { x=SkillPointsPerLevel(class52)+modifier_number(intelligence52); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=33) { x=SkillPointsPerLevel(class53)+modifier_number(intelligence52); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=34) { x=SkillPointsPerLevel(class54)+modifier_number(intelligence52); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=35) { x=SkillPointsPerLevel(class55)+modifier_number(intelligence52); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=36) { x=SkillPointsPerLevel(class56)+modifier_number(intelligence56); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=37) { x=SkillPointsPerLevel(class57)+modifier_number(intelligence56); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=38) { x=SkillPointsPerLevel(class58)+modifier_number(intelligence56); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=39) { x=SkillPointsPerLevel(class59)+modifier_number(intelligence56); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=40) { x=SkillPointsPerLevel(class60)+modifier_number(intelligence60); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=41) { x=SkillPointsPerLevel(class61)+modifier_number(intelligence60); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=42) { x=SkillPointsPerLevel(class62)+modifier_number(intelligence60); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=43) { x=SkillPointsPerLevel(class63)+modifier_number(intelligence60); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=44) { x=SkillPointsPerLevel(class64)+modifier_number(intelligence64); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=45) { x=SkillPointsPerLevel(class65)+modifier_number(intelligence64); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=46) { x=SkillPointsPerLevel(class66)+modifier_number(intelligence64); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=47) { x=SkillPointsPerLevel(class67)+modifier_number(intelligence64); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=48) { x=SkillPointsPerLevel(class68)+modifier_number(intelligence68); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=49) { x=SkillPointsPerLevel(class69)+modifier_number(intelligence68); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=50) { x=SkillPointsPerLevel(class70)+modifier_number(intelligence68); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=51) { x=SkillPointsPerLevel(class71)+modifier_number(intelligence68); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=52) { x=SkillPointsPerLevel(class72)+modifier_number(intelligence72); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=53) { x=SkillPointsPerLevel(class73)+modifier_number(intelligence72); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=54) { x=SkillPointsPerLevel(class74)+modifier_number(intelligence72); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=55) { x=SkillPointsPerLevel(class75)+modifier_number(intelligence72); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=56) { x=SkillPointsPerLevel(class76)+modifier_number(intelligence76); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=57) { x=SkillPointsPerLevel(class77)+modifier_number(intelligence76); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=58) { x=SkillPointsPerLevel(class78)+modifier_number(intelligence76); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=59) { x=SkillPointsPerLevel(class79)+modifier_number(intelligence76); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=60) { x=SkillPointsPerLevel(class80)+modifier_number(intelligence80); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=61) { x=SkillPointsPerLevel(class81)+modifier_number(intelligence80); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=62) { x=SkillPointsPerLevel(class82)+modifier_number(intelligence80); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=63) { x=SkillPointsPerLevel(class83)+modifier_number(intelligence80); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=64) { x=SkillPointsPerLevel(class84)+modifier_number(intelligence84); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=65) { x=SkillPointsPerLevel(class85)+modifier_number(intelligence84); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=66) { x=SkillPointsPerLevel(class86)+modifier_number(intelligence84); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=67) { x=SkillPointsPerLevel(class87)+modifier_number(intelligence84); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=68) { x=SkillPointsPerLevel(class88)+modifier_number(intelligence88); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=69) { x=SkillPointsPerLevel(class89)+modifier_number(intelligence88); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=70) { x=SkillPointsPerLevel(class90)+modifier_number(intelligence88); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=71) { x=SkillPointsPerLevel(class91)+modifier_number(intelligence88); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=72) { x=SkillPointsPerLevel(class92)+modifier_number(intelligence92); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=73) { x=SkillPointsPerLevel(class93)+modifier_number(intelligence92); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=74) { x=SkillPointsPerLevel(class94)+modifier_number(intelligence92); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=75) { x=SkillPointsPerLevel(class95)+modifier_number(intelligence92); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=76) { x=SkillPointsPerLevel(class96)+modifier_number(intelligence96); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=77) { x=SkillPointsPerLevel(class97)+modifier_number(intelligence96); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=78) { x=SkillPointsPerLevel(class98)+modifier_number(intelligence96); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=79) { x=SkillPointsPerLevel(class99)+modifier_number(intelligence96); if (x<1) { x=1; } total_skill_points+=x; }
  if (epic_total_levels>=80) { x=SkillPointsPerLevel(class100)+modifier_number(intelligence100); if (x<1) { x=1; } total_skill_points+=x; }
  if ((rayce==1) || (rayce==44) || (rayce==171) || (rayce==174)) {total_skill_points+=total_levels + epic_total_levels +3; }

  x=2+modifier_number(intelligence); if (x<1) { x=1; }
   if ((werebear_template==true) || (wereboar_template==true) || (wererat_template==true) || (weretiger_template==true) || (werewolf_template==true))
    {total_skill_points+=lycanthrope_hit_dice*x; }

  x=barbarian_levels +humanoid_levels;
  if (bard_totem==3) { x=x+ bard_levels + epic_bard_levels; }
  if ((x==total_levels) && (can_read==true)) {total_skill_points=total_skill_points-2; }
  NotYourSkills();
  RacialSubstitutionLevelSkills();
  if ((shaper==true) || (total_levels>psion_levels +psiwarrior_levels))
  {
   craft_1_class=1;
   craft_2_class=1;
   craft_3_class=1;
  }
  if (barbarian_levels + epic_barbarian_levels>0)
   {
    climb_class=1; document.form1.climb_ics.checked=false;
    handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    ride_class=1; document.form1.ride_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
   }
  if (bard_levels + epic_bard_levels>0)
   {
    appraise_class=1; document.form1.appraise_ics.checked=false;
    balance_class=1; document.form1.balance_ics.checked=false;
    bluff_class=1; document.form1.bluff_ics.checked=false;
    climb_class=1; document.form1.climb_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    if (bard_totem!=3) {decipherscript_class=1; document.form1.decipherscript_ics.checked=false; }
    diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
    disguise_class=1; document.form1.disguise_ics.checked=false;
    escapeartist_class=1; document.form1.escapeartist_ics.checked=false;
    gatherinformation_class=1; document.form1.gatherinformation_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    AllKnowledgeClasses();
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    AllPerformanceClasses();
    profession_class=1; document.form1.profession_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    sleightofhand_class=1; document.form1.sleightofhand_ics.checked=false;
    if (bard_totem!=3) {speaklanguage_class=1; document.form1.speaklanguage_ics.checked=false; }
    spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
    tumble_class=1; document.form1.tumble_ics.checked=false;
    usemagicdevice_class=1; document.form1.usemagicdevice_ics.checked=false;
    usepsionicdevice_class=1; document.form1.usepsionicdevice_ics.checked=false;
    if (bard_totem==3)
     {
      survival_class=1; document.form1.survival_ics.checked=false;
     }
   }

  if (rayce==109) {speaklanguage_class=1; document.form1.speaklanguage_ics.checked=false; }
  if (cleric_levels + epic_cleric_levels>0)
   {
    concentration_class=1; document.form1.concentration_ics.checked=false;
    diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
    heal_class=1; document.form1.heal_ics.checked=false;
    knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
    knowledgehistory_class=1; document.form1.knowledgehistory_ics.checked=false;
    knowledgereligion_class=1; document.form1.knowledgereligion_ics.checked=false;
    knowledgeplanes_class=1; document.form1.knowledgeplanes_ics.checked=false;
    profession_class=1; document.form1.profession_ics.checked=false;
    spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
    if (cleric_totem==1)
     {
       knowledgearchitecture_class=1; document.form1.knowledgearchitecture_ics.checked=false;
       knowledgedungeoneering_class=1; document.form1.knowledgedungeoneering_ics.checked=false;
       knowledgegeography_class=1; document.form1.knowledgegeography_ics.checked=false;
       knowledgelocal_class=1; document.form1.knowledgelocal_ics.checked=false;
       knowledgenature_class=1; document.form1.knowledgenature_ics.checked=false;
       knowledgenobility_class=1; document.form1.knowledgenobility_ics.checked=false;
       decipherscript_class=1; document.form1.decipherscript_ics.checked=false;
       speaklanguage_class=1; document.form1.speaklanguage_ics.checked=false;
     }
   }
  if (druid_levels + epic_druid_levels>0)
   {
    concentration_class=1; document.form1.concentration_ics.checked=false;
    if (druid_totem!=1) {diplomacy_class=1; document.form1.diplomacy_ics.checked=false; }
    if (druid_totem==1) {intimidate_class=1; document.form1.intimidate_ics.checked=false; }
    handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
    heal_class=1; document.form1.heal_ics.checked=false;
    knowledgenature_class=1; document.form1.knowledgenature_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    profession_class=1; document.form1.profession_ics.checked=false;
    ride_class=1; document.form1.ride_ics.checked=false;
    spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
   }
  if (fighter_levels + epic_fighter_levels>0)
   {
    climb_class=1; 
    document.form1.climb_ics.checked=false;
    handleanimal_class=1; 
    document.form1.handleanimal_ics.checked=false;
    intimidate_class=1; 
    document.form1.intimidate_ics.checked=false;
    jump_class=1; 
    document.form1.jump_ics.checked=false;
    ride_class=1; 
    document.form1.ride_ics.checked=false;
    swim_class=1; 
    document.form1.swim_ics.checked=false;
    if (fighter_totem==1)
     {
      bluff_class=1; 
      document.form1.bluff_ics.checked=false;
      knowledgelocal_class=1; 
      document.form1.knowledgelocal_ics.checked=false;
      gatherinformation_class=1; 
      document.form1.gatherinformation_ics.checked=false;
      sleightofhand_class=1; 
      document.form1.sleightofhand_ics.checked=false;
     }
   }

  if (monk_levels + epic_monk_levels>0) {
    balance_class=1; 
    document.form1.balance_ics.checked=false;
    climb_class=1; 
    document.form1.climb_ics.checked=false;
    concentration_class=1; 
    document.form1.concentration_ics.checked=false;
    diplomacy_class=1; 
    document.form1.diplomacy_ics.checked=false;
    escapeartist_class=1; 
    document.form1.escapeartist_ics.checked=false;
    hide_class=1; 
    document.form1.hide_ics.checked=false;
    jump_class=1; 
    document.form1.jump_ics.checked=false;
    knowledgearcana_class=1; 
    document.form1.knowledgearcana_ics.checked=false;
    knowledgereligion_class=1; 
    document.form1.knowledgereligion_ics.checked=false;
    listen_class=1; 
    document.form1.listen_ics.checked=false;
    movesilently_class=1; 
    document.form1.movesilently_ics.checked=false;
    AllPerformanceClasses();
    profession_class=1; 
    document.form1.profession_ics.checked=false;
    sensemotive_class=1; 
    document.form1.sensemotive_ics.checked=false;
    spot_class=1; 
    document.form1.spot_ics.checked=false;
    swim_class=1; 
    document.form1.swim_ics.checked=false;
    tumble_class=1; 
    document.form1.tumble_ics.checked=false;
    if (monk_totem==5) { intimidate_class=1; document.form1.intimidate_ics.checked=false; }
    if (monk_totem==6) { bluff_class=1; document.form1.bluff_ics.checked=false; }
   }
  if (paladin_levels + epic_paladin_levels>0)
   {
    concentration_class=1; 
    document.form1.concentration_ics.checked=false;
    diplomacy_class=1; 
    document.form1.diplomacy_ics.checked=false;
    handleanimal_class=1; 
    document.form1.handleanimal_ics.checked=false;
    heal_class=1; 
    document.form1.heal_ics.checked=false;
    knowledgenobility_class=1; 
    document.form1.knowledgenobility_ics.checked=false;
    knowledgereligion_class=1; 
    document.form1.knowledgereligion_ics.checked=false;
    profession_class=1; 
    document.form1.profession_ics.checked=false;
    ride_class=1; 
    document.form1.ride_ics.checked=false;
    sensemotive_class=1; 
    document.form1.sensemotive_ics.checked=false;
   }
  if (ranger_levels + epic_ranger_levels>0)
   {
    climb_class=1; document.form1.climb_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
    heal_class=1; document.form1.heal_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    if (ranger_totem!=2) {knowledgedungeoneering_class=1; document.form1.knowledgedungeoneering_ics.checked=false; }
    knowledgegeography_class=1; document.form1.knowledgegeography_ics.checked=false;
    if (ranger_totem!=2) {knowledgenature_class=1; document.form1.knowledgenature_ics.checked=false; }
    if (ranger_totem==2) {knowledgeplanes_class=1; document.form1.knowledgeplanes_ics.checked=false; }
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    profession_class=1; document.form1.profession_ics.checked=false;
    ride_class=1; document.form1.ride_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
    userope_class=1; document.form1.userope_ics.checked=false;
   }
  if (rogue_levels + epic_rogue_levels>0)
   {
    if (rogue_totem!=1) {
    	appraise_class=1; 
    	document.form1.appraise_ics.checked=false; 
    	}
    balance_class=1; 
    document.form1.balance_ics.checked=false;
    bluff_class=1; 
    document.form1.bluff_ics.checked=false;
    climb_class=1; 
    document.form1.climb_ics.checked=false;
    if (rogue_totem!=1) {decipherscript_class=1; document.form1.decipherscript_ics.checked=false; }
    if (rogue_totem!=1) {diplomacy_class=1; document.form1.diplomacy_ics.checked=false; }
    disabledevice_class=1; 
    document.form1.disabledevice_ics.checked=false;
    disguise_class=1; 
    document.form1.disguise_ics.checked=false;
    escapeartist_class=1; 
    document.form1.escapeartist_ics.checked=false;
    if (rogue_totem!=1) {forgery_class=1; document.form1.forgery_ics.checked=false; }
    if (rogue_totem!=1) {gatherinformation_class=1; document.form1.gatherinformation_ics.checked=false; }
    hide_class=1; 
    document.form1.hide_ics.checked=false;
    intimidate_class=1; 
    document.form1.intimidate_ics.checked=false;
    jump_class=1; 
    document.form1.jump_ics.checked=false;
    knowledgelocal_class=1; 
    document.form1.knowledgelocal_ics.checked=false;
    listen_class=1; 
    document.form1.listen_ics.checked=false;
    movesilently_class=1; 
    document.form1.movesilently_ics.checked=false;
    openlock_class=1; 
    document.form1.openlock_ics.checked=false;
    AllPerformanceClasses();
    profession_class=1; 
    document.form1.profession_ics.checked=false;
    search_class=1; 
    document.form1.search_ics.checked=false;
    sensemotive_class=1; 
    document.form1.sensemotive_ics.checked=false;
    sleightofhand_class=1; 
    document.form1.sleightofhand_ics.checked=false;
    spot_class=1; 
    document.form1.spot_ics.checked=false;
    swim_class=1; 
    document.form1.swim_ics.checked=false;
    tumble_class=1; 
    document.form1.tumble_ics.checked=false;
    usemagicdevice_class=1; 
    document.form1.usemagicdevice_ics.checked=false;
    usepsionicdevice_class=1; 
    document.form1.usepsionicdevice_ics.checked=false;
    userope_class=1; 
    document.form1.userope_ics.checked=false;
    if (rogue_totem==1) {ride_class=1; document.form1.ride_ics.checked=false; }
    if (rogue_totem==1) {handleanimal_class=1; document.form1.handleanimal_ics.checked=false; }
    if (rogue_totem==1) {knowledgegeography_class=1; document.form1.knowledgegeography_ics.checked=false; }
    if (rogue_totem==1) {knowledgenature_class=1; document.form1.knowledgenature_ics.checked=false; }
    if (rogue_totem==1) {survival_class=1; document.form1.survival_ics.checked=false; }
   }
  if (sorcerer_levels + epic_sorcerer_levels>0)
   {
    if (sorcerer_totem==0) { bluff_class=1; document.form1.bluff_ics.checked=false; }
    if (sorcerer_totem==1) {intimidate_class=1; document.form1.intimidate_ics.checked=false; }
    concentration_class=1; document.form1.concentration_ics.checked=false;
    knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
    profession_class=1; document.form1.profession_ics.checked=false;
    spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
   }
  if (wizard_levels + epic_wizard_levels>0)
   {
    concentration_class=1; 
    document.form1.concentration_ics.checked=false;
    decipherscript_class=1; 
    document.form1.decipherscript_ics.checked=false;
    AllKnowledgeClasses();
    profession_class=1; 
    document.form1.profession_ics.checked=false;
    spellcraft_class=1; 
    document.form1.spellcraft_ics.checked=false;
   }

  if (psion_levels + epic_psion_levels>0)
   {
    knowpsi_class=1; 
    document.form1.knowpsi_ics.checked=false;
    psicraft_class=1; 
    document.form1.psicraft_ics.checked=false;
    concentration_class=1; 
    document.form1.concentration_ics.checked=false;
  if (egoist==true)
   {
    autohypnosis_class=1; document.form1.autohypnosis_ics.checked=false;
    balance_class=1; document.form1.balance_ics.checked=false;
    climb_class=1; document.form1.climb_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
//    stabilizeself_class=1; document.form1.stabilizeself_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
   }
  if (nomad==true)
   {
    climb_class=1; document.form1.climb_ics.checked=false;
    escapeartist_class=1; document.form1.escapeartist_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
//    remoteview_class=1; document.form1.remoteview_ics.checked=false;
    ride_class=1; document.form1.ride_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
    userope_class=1; document.form1.userope_ics.checked=false;
   }
  if (kineticist==true)
   {
    autohypnosis_class=1; document.form1.autohypnosis_ics.checked=false;
    disabledevice_class=1; document.form1.disabledevice_ics.checked=false;
    openlock_class=1; document.form1.openlock_ics.checked=false;
    sleightofhand_class=1; document.form1.sleightofhand_ics.checked=false;
//    remoteview_class=1; document.form1.remoteview_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
   }
  if (shaper==true)
   {
    appraise_class=1; document.form1.appraise_ics.checked=false;
    disguise_class=1; document.form1.disguise_ics.checked=false;
    AllPerformanceClasses();
//    remoteview_class=1; document.form1.remoteview_ics.checked=false;
   }
  if (seer==true)
   {
    gatherinformation_class=1; document.form1.gatherinformation_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
//    remoteview_class=1; document.form1.remoteview_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (telepath==true)
   {
    handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
    bluff_class=1; document.form1.bluff_ics.checked=false;
    diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
    gatherinformation_class=1; document.form1.gatherinformation_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
   }}
  if (psiwarrior_levels + epic_psiwarrior_levels>0)
   {
    autohypnosis_class=1; document.form1.autohypnosis_ics.checked=false;
    balance_class=1; document.form1.balance_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
//    stabilizeself_class=1; document.form1.stabilizeself_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
    tumble_class=1; document.form1.tumble_ics.checked=false;
    userope_class=1; document.form1.userope_ics.checked=false;
   }

  if (soulknife_levels + epic_soulknife_levels>0)
   {
    autohypnosis_class=1; document.form1.autohypnosis_ics.checked=false;
    climb_class=1; document.form1.climb_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    knowpsi_class=1; document.form1.knowpsi_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    profession_class=1; document.form1.profession_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    tumble_class=1; document.form1.tumble_ics.checked=false;
   }

  if (wilder_levels + epic_wilder_levels>0)
   {
    autohypnosis_class=1; document.form1.autohypnosis_ics.checked=false;
    balance_class=1; document.form1.balance_ics.checked=false;
    bluff_class=1; document.form1.bluff_ics.checked=false;
    climb_class=1; document.form1.climb_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    escapeartist_class=1; document.form1.escapeartist_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    knowpsi_class=1; document.form1.knowpsi_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    profession_class=1; document.form1.profession_ics.checked=false;
    psicraft_class=1; document.form1.psicraft_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
    tumble_class=1; document.form1.tumble_ics.checked=false;
   }

  if (artificer_levels + epic_artificer_levels>0)
   {
    appraise_class=1; document.form1.appraise_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    disabledevice_class=1; document.form1.disabledevice_ics.checked=false;
    knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
    knowledgearchitecture_class=1; document.form1.knowledgearchitecture_ics.checked=false;
    knowledgeplanes_class=1; document.form1.knowledgeplanes_ics.checked=false;
    openlock_class=1; document.form1.openlock_ics.checked=false;
    profession_class=1; document.form1.profession_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
    usemagicdevice_class=1; document.form1.usemagicdevice_ics.checked=false;
   }
  if (npcother_levels + epic_npcother_levels>0)
   {
    if (npcother_class_name=="Adept")
     {
      concentration_class=1; document.form1.concentration_ics.checked=false;
      handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
      heal_class=1; document.form1.heal_ics.checked=false;
      AllKnowledgeClasses();
      profession_class=1; document.form1.profession_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
      survival_class=1; document.form1.survival_ics.checked=false;
     }
    if (npcother_class_name=="Aristocrat")
     {
      appraise_class=1; document.form1.appraise_ics.checked=false;
      bluff_class=1; document.form1.bluff_ics.checked=false;
      diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
      disguise_class=1; document.form1.disguise_ics.checked=false;
      forgery_class=1; document.form1.forgery_ics.checked=false;
      gatherinformation_class=1; document.form1.gatherinformation_ics.checked=false;
      handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
      intimidate_class=1; document.form1.intimidate_ics.checked=false;
      AllKnowledgeClasses();
      AllPerformanceClasses();
      listen_class=1; document.form1.listen_ics.checked=false;
      ride_class=1; document.form1.ride_ics.checked=false;
      sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
      speaklanguage_class=1; document.form1.speaklanguage_ics.checked=false;
      spot_class=1; document.form1.spot_ics.checked=false;
      swim_class=1; document.form1.swim_ics.checked=false;
      survival_class=1; document.form1.survival_ics.checked=false;
      if (npcother_levels==total_levels)
       {
        craft_1_class=2;
        craft_2_class=2;
        craft_3_class=2;
       }
     }
    if (npcother_class_name=="Commoner")
     {
      climb_class=1; document.form1.climb_ics.checked=false;
      handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
      jump_class=1; document.form1.jump_ics.checked=false;
      listen_class=1; document.form1.listen_ics.checked=false;
      profession_class=1; document.form1.profession_ics.checked=false;
      ride_class=1; document.form1.ride_ics.checked=false;
      spot_class=1; document.form1.spot_ics.checked=false;
      swim_class=1; document.form1.swim_ics.checked=false;
      userope_class=1; document.form1.userope_ics.checked=false;
     }
    if (npcother_class_name=="Warrior")
     {
      climb_class=1; document.form1.climb_ics.checked=false;
      handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
      intimidate_class=1; document.form1.intimidate_ics.checked=false;
      jump_class=1; document.form1.jump_ics.checked=false;
      ride_class=1; document.form1.ride_ics.checked=false;
      swim_class=1; document.form1.swim_ics.checked=false;
      if (npcother_levels==total_levels)
       {
        craft_1_class=2;
        craft_2_class=2;
        craft_3_class=2;
       }
     }
    if (npcother_class_name=="Chaos Mage")
     {
      bluff_class=1; document.form1.bluff_ics.checked=false;
      concentration_class=1; document.form1.concentration_ics.checked=false;
      knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
      profession_class=1; document.form1.profession_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
     }

    if (npcother_class_name=="Favored Soul")
     {
      concentration_class=1; document.form1.concentration_ics.checked=false;
      diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
      heal_class=1; document.form1.heal_ics.checked=false;
      jump_class=1; document.form1.jump_ics.checked=false;
      knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
      profession_class=1; document.form1.profession_ics.checked=false;
      sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
     }
    if (npcother_class_name=="Shugenja")
     {
      concentration_class=1; document.form1.concentration_ics.checked=false;
      diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
      heal_class=1; document.form1.heal_ics.checked=false;
      AllKnowledgeClasses();
      profession_class=1; document.form1.profession_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
     }
    if (npcother_class_name=="Spirit Shaman")
     {
      concentration_class=1; document.form1.concentration_ics.checked=false;
      diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
      handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
      heal_class=1; document.form1.heal_ics.checked=false;
      knowledgegeography_class=1; document.form1.knowledgegeography_ics.checked=false;
      knowledgehistory_class=1; document.form1.knowledgehistory_ics.checked=false;
      knowledgelocal_class=1; document.form1.knowledgelocal_ics.checked=false;
      knowledgenature_class=1; document.form1.knowledgenature_ics.checked=false;
      listen_class=1; document.form1.listen_ics.checked=false;
      profession_class=1; document.form1.profession_ics.checked=false;
      ride_class=1; document.form1.ride_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
      spot_class=1; document.form1.spot_ics.checked=false;
      survival_class=1; document.form1.survival_ics.checked=false;
      swim_class=1; document.form1.swim_ics.checked=false;
     }

    if (npcother_class_name=="Samurai")
     {
      ride_class=1; document.form1.ride_ics.checked=false;
      knowledgehistory_class=1; document.form1.knowledgehistory_ics.checked=false;
      knowledgenobility_class=1; document.form1.knowledgenobility_ics.checked=false;
      sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
      concentration_class=1; document.form1.concentration_ics.checked=false;
      diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
      intimidate_class=1; document.form1.intimidate_ics.checked=false;
     }
    if (npcother_class_name=="Swashbuckler")
     {
      climb_class=1; 
      document.form1.climb_ics.checked=false;
      jump_class=1; 
      document.form1.jump_ics.checked=false;
      swim_class=1; 
      document.form1.swim_ics.checked=false;
      balance_class=1; 
      document.form1.balance_ics.checked=false;
      escapeartist_class=1; 
      document.form1.escapeartist_ics.checked=false;
      tumble_class=1; 
      document.form1.tumble_ics.checked=false;
      userope_class=1; 
      document.form1.userope_ics.checked=false;
      profession_class=1; 
      document.form1.profession_ics.checked=false;
      sensemotive_class=1; 
      document.form1.sensemotive_ics.checked=false;
      bluff_class=1; 
      document.form1.bluff_ics.checked=false;
      diplomacy_class=1; 
      document.form1.diplomacy_ics.checked=false;
     }
    if (npcother_class_name=="Sohei")
     {
      concentration_class=1; document.form1.concentration_ics.checked=false;
      heal_class=1; document.form1.heal_ics.checked=false;
      knowledgereligion_class=1; document.form1.knowledgereligion_ics.checked=false;
      profession_class=1; document.form1.profession_ics.checked=false;
      diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
     }
    if (npcother_class_name=="Warlock")
     {
      bluff_class=1; document.form1.bluff_ics.checked=false;
      concentration_class=1; document.form1.concentration_ics.checked=false;
      disguise_class=1; document.form1.disguise_ics.checked=false;
      intimidate_class=1; document.form1.intimidate_ics.checked=false;
      jump_class=1; document.form1.jump_ics.checked=false;
      knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
      knowledgeplanes_class=1; document.form1.knowledgeplanes_ics.checked=false;
      knowledgereligion_class=1; document.form1.knowledgereligion_ics.checked=false;
      profession_class=1; document.form1.profession_ics.checked=false;
      sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
      usemagicdevice_class=1; document.form1.usemagicdevice_ics.checked=false;
     }
    if (npcother_class_name=="Warmage")
     {
      concentration_class=1; document.form1.concentration_ics.checked=false;
      intimidate_class=1; document.form1.intimidate_ics.checked=false;
      knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
      knowledgehistory_class=1; document.form1.knowledgehistory_ics.checked=false;
      profession_class=1; document.form1.profession_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
     }
    if (npcother_class_name=="Wu Jen")
     {
      AllKnowledgeClasses();
      concentration_class=1; document.form1.concentration_ics.checked=false;
      profession_class=1; document.form1.profession_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
     }
    if (npcother_class_name=="Spellthief")
     {
      appraise_class=1; document.form1.appraise_ics.checked=false;
      bluff_class=1; document.form1.bluff_ics.checked=false;
      concentration_class=1; document.form1.concentration_ics.checked=false;
      decipherscript_class=1; document.form1.decipherscript_ics.checked=false;
      disabledevice_class=1; document.form1.disabledevice_ics.checked=false;
      escapeartist_class=1; document.form1.escapeartist_ics.checked=false;
      gatherinformation_class=1; document.form1.gatherinformation_ics.checked=false;
      hide_class=1; document.form1.hide_ics.checked=false;
      jump_class=1; document.form1.jump_ics.checked=false;
      knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
      knowledgelocal_class=1; document.form1.knowledgelocal_ics.checked=false;
      listen_class=1; document.form1.listen_ics.checked=false;
      movesilently_class=1; document.form1.movesilently_ics.checked=false;
      openlock_class=1; document.form1.openlock_ics.checked=false;
      search_class=1; document.form1.search_ics.checked=false;
      speaklanguage_class=1; document.form1.speaklanguage_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
      spot_class=1; document.form1.spot_ics.checked=false;
      swim_class=1; document.form1.swim_ics.checked=false;
      tumble_class=1; document.form1.tumble_ics.checked=false;
      usemagicdevice_class=1; document.form1.usemagicdevice_ics.checked=false;
     }
    if (npcother_class_name=="Scout")
     {
      balance_class=1;
      document.form1.balance_ics.checked=false;
      climb_class=1;
      document.form1.climb_ics.checked=false;
      escapeartist_class=1;
      document.form1.escapeartist_ics.checked=false;
      hide_class=1;
      document.form1.hide_ics.checked=false;
      jump_class=1;
      document.form1.jump_ics.checked=false;
      knowledgedungeoneering_class=1;
      document.form1.knowledgedungeoneering_ics.checked=false;
      knowledgenature_class=1;
      document.form1.knowledgenature_ics.checked=false;
      listen_class=1;
      document.form1.listen_ics.checked=false;
      movesilently_class=1;
      document.form1.movesilently_ics.checked=false;
      ride_class=1;
      document.form1.ride_ics.checked=false;
      search_class=1;
      document.form1.search_ics.checked=false;
      sensemotive_class=1;
      document.form1.sensemotive_ics.checked=false;
      speaklanguage_class=1;
      document.form1.speaklanguage_ics.checked=false;
      spot_class=1;
      document.form1.spot_ics.checked=false;
      survival_class=1;
      document.form1.survival_ics.checked=false;
      swim_class=1;
      document.form1.swim_ics.checked=false;
      tumble_class=1;
      document.form1.tumble_ics.checked=false;
      userope_class=1;
      document.form1.userope_ics.checked=false;
     }
    if (npcother_class_name=="Ninja")
     {
      balance_class=1;
      document.form1.balance_ics.checked=false;
      bluff_class=1;
      document.form1.bluff_ics.checked=false;
      climb_class=1;
      document.form1.climb_ics.checked=false;
      concentration_class=1;
      document.form1.concentration_ics.checked=false;
      disabledevice_class=1;
      document.form1.disabledevice_ics.checked=false;
      disguise_class=1;
      document.form1.disguise_ics.checked=false;
      escapeartist_class=1;
      document.form1.escapeartist_ics.checked=false;
      gatherinformation_class=1;
      document.form1.gatherinformation_ics.checked=false;
      hide_class=1;
      document.form1.hide_ics.checked=false;
      jump_class=1;
      document.form1.jump_ics.checked=false;
      listen_class=1;
      document.form1.listen_ics.checked=false;
      movesilently_class=1;
      document.form1.movesilently_ics.checked=false;
      openlock_class=1;
      document.form1.openlock_ics.checked=false;
      search_class=1;
      document.form1.search_ics.checked=false;
      sensemotive_class=1;
      document.form1.sensemotive_ics.checked=false;
      sleightofhand_class=1;
      document.form1.sleightofhand_ics.checked=false;
      spot_class=1;
      document.form1.spot_ics.checked=false;
      swim_class=1;
      document.form1.swim_ics.checked=false;
      tumble_class=1;
      document.form1.tumble_ics.checked=false;
     }

    if (npcother_class_name=="Paladin of Freedom")
     {
      concentration_class=1; document.form1.concentration_ics.checked=false;
      bluff_class=1; document.form1.bluff_ics.checked=false;
      handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
      heal_class=1; document.form1.heal_ics.checked=false;
      knowledgenobility_class=1; document.form1.knowledgenobility_ics.checked=false;
      knowledgereligion_class=1; document.form1.knowledgereligion_ics.checked=false;
      ride_class=1; document.form1.ride_ics.checked=false;
      sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
     }
    if (npcother_class_name=="Sha_ir")
     {
      bluff_class=1; document.form1.bluff_ics.checked=false;
      concentration_class=1; document.form1.concentration_ics.checked=false;
      decipherscript_class=1; document.form1.decipherscript_ics.checked=false;
      diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
      knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
      knowledgeplanes_class=1; document.form1.knowledgeplanes_ics.checked=false;
      listen_class=1; document.form1.listen_ics.checked=false;
      profession_class=1; document.form1.profession_ics.checked=false;
      sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
      spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
     }
   }
//racialstuff
  if (rayce==151)
   {
      ride_class=1; document.form1.ride_ics.checked=false;
   }
  if (rayce==166)
   {
    hide_class=1; document.form1.hide_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
   }
  if (rayce==167)
   {
    bluff_class=1; document.form1.bluff_ics.checked=false;
    disabledevice_class=1; document.form1.disabledevice_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    userope_class=1; document.form1.userope_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
   }
  if (rayce==74)
   {
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
   }
  if (rayce==169)
   {
    escapeartist_class=1; document.form1.escapeartist_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    AllKnowledgeClasses();
   }
  if (rayce==168)
   {
    listen_class=1; document.form1.listen_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==131)
   {
    climb_class=1; document.form1.climb_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
   }
  if (rayce==132)
   {
    craft_1_class=1; document.form1.craft_1_ics.checked=false;
    appraise_class=1; document.form1.appraise_ics.checked=false;
    climb_class=1; document.form1.climb_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    knowledgehistory_class=1; document.form1.knowledgehistory_ics.checked=false;
    knowledgeplanes_class=1; document.form1.knowledgeplanes_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
   }
  if (rayce==86)
   {
    if (gender==1) {bluff_class=1; document.form1.bluff_ics.checked=false; }
    if (gender==2) {diplomacy_class=1; document.form1.diplomacy_ics.checked=false; }
    disguise_class=1; document.form1.disguise_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }

  if (rayce==87)
   {
    listen_class=1; document.form1.listen_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }

  if (rayce==88)
   {
    concentration_class=1; document.form1.concentration_ics.checked=false;
    diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==89)
   {
    bluff_class=1; document.form1.bluff_ics.checked=false;
    climb_class=1; document.form1.climb_ics.checked=false;
    diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
    disguise_class=1; document.form1.disguise_ics.checked=false;
    gatherinformation_class=1; document.form1.gatherinformation_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
   }

  if (rayce==90)
   {
    bluff_class=1; document.form1.bluff_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    knowledgearcana_class=1; document.form1.knowledgearcana_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }


  if (rayce==141)
   {
    bluff_class=1; document.form1.bluff_ics.checked=false;
    disguise_class=1; document.form1.disguise_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==173)
   {
    hide_class=1; document.form1.hide_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
   }
  if (rayce==142)
   {
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==143)
   {
    climb_class=1; document.form1.climb_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==144)
   {
    concentration_class=1; document.form1.concentration_ics.checked=false;
    disguise_class=1; document.form1.disguise_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    AllKnowledgeClasses();
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==145)
   {
    AllKnowledgeClasses();
    bluff_class=1; document.form1.bluff_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==146)
   {
    concentration_class=1; document.form1.concentration_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    spellcraft_class=1; document.form1.spellcraft_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==147)
   {
    listen_class=1; document.form1.listen_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==148)
   {
    bluff_class=1; document.form1.bluff_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    escapeartist_class=1; document.form1.escapeartist_ics.checked=false;
    heal_class=1; document.form1.heal_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    ride_class=1; document.form1.ride_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==149)
   {
    bluff_class=1; document.form1.bluff_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    AllPerformanceClasses();
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==150)
   {
    climb_class=1; document.form1.climb_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }

  if (rayce==75)
   {
    climb_class=1; document.form1.climb_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }

  if (rayce==176)
   {
    balance_class=1; document.form1.balance_ics.checked=false;
    climb_class=1; document.form1.climb_ics.checked=false;
    handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    ride_class=1; document.form1.ride_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    tumble_class=1; document.form1.tumble_ics.checked=false;
    userope_class=1; document.form1.userope_ics.checked=false;
   }

  if (rayce==177)
   {
    climb_class=1; document.form1.climb_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
   }

  if (rayce==152)
   {
    bluff_class=1; document.form1.bluff_ics.checked=false;
    disguise_class=1; document.form1.disguise_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    AllPerformanceClasses();
   }
  if (rayce==178)
   {
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    AllKnowledgeClasses();
   }

  if (rayce==154)
   {
    appraise_class=1; document.form1.appraise_ics.checked=false;
    concentration_class=1; document.form1.concentration_ics.checked=false;
    escapeartist_class=1; document.form1.escapeartist_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    ride_class=1; document.form1.ride_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==153)
   {
    concentration_class=1; document.form1.concentration_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
   }

  if (rayce==78)
   {
    handleanimal_class=1; document.form1.handleanimal_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    sensemotive_class=1; document.form1.sensemotive_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
   }

  if (rayce==165)
   {
    hide_class=1; document.form1.hide_ics.checked=false;
    intimidate_class=1; document.form1.intimidate_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }

  if (rayce==34)
   {
    balance_class=1; document.form1.balance_ics.checked=false;
    climb_class=1; document.form1.climb_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
   }
  if (rayce==20)
   {
    balance_class=1; document.form1.balance_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
   }
  if (rayce==121)
   {
    diplomacy_class=1; document.form1.diplomacy_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
   }
  if ((rayce==122) || (rayce==123))
   {
    balance_class=1; document.form1.balance_ics.checked=false;
    jump_class=1; document.form1.jump_ics.checked=false;
   }
  if (rayce==124)
   {
    jump_class=1; document.form1.jump_ics.checked=false;
    knowledgearchitecture_class=1; document.form1.knowledgearchitecture_ics.checked=false;
   }
  if (rayce==23)
   {
    climb_class=1; document.form1.climb_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==24)
   {
    listen_class=1; document.form1.listen_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (rayce==27)
   {
    listen_class=1; document.form1.listen_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
   }

  if (werebear_template==true)
   {
    swim_class=1; document.form1.swim_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
   }
  if (wereboar_template==true)
   {
    listen_class=1; document.form1.listen_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (wererat_template==true)
   {
    hide_class=1; document.form1.hide_ics.checked=false;
    climb_class=1; document.form1.climb_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
   }
  if (weretiger_template==true)
   {
    balance_class=1; document.form1.balance_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    swim_class=1; document.form1.swim_ics.checked=false;
   }
  if (werewolf_template==true)
   {
    hide_class=1; document.form1.hide_ics.checked=false;
    listen_class=1; document.form1.listen_ics.checked=false;
    movesilently_class=1; document.form1.movesilently_ics.checked=false;
    search_class=1; document.form1.search_ics.checked=false;
    spot_class=1; document.form1.spot_ics.checked=false;
    survival_class=1; document.form1.survival_ics.checked=false;
   }

  if (has_animal_domain==true) {knowledgenature_class=1; document.form1.knowledgenature_ics.checked=false; }
  if (has_plant_domain==true) {knowledgenature_class=1; document.form1.knowledgenature_ics.checked=false; }
  if (has_knowledge_domain==true)
   {
    AllKnowledgeClasses();
   }
  if (has_travel_domain==true) {survival_class=1; document.form1.survival_ics.checked=false; }
  if (has_trickery_domain==true)
   {
    bluff_class=1; document.form1.bluff_ics.checked=false;
    disguise_class=1; document.form1.disguise_ics.checked=false;
    hide_class=1; document.form1.hide_ics.checked=false;
   }
 }

function NumberToAbility(numb) {
 if (numb==1) { return "strength"; } else
 if (numb==2) { return "dexterity"; } else
 if (numb==3) { return "constitution"; } else
 if (numb==4) { return "intelligence"; } else
 if (numb==5) { return "wisdom"; } else
 if (numb==6) { return "charisma"; } else return "???";
 }

function RecordFighterFeatsEtc() {
 if (document.form1.monkish_1[0].checked==true) {monkish_improved_grapple=true; }
 if (document.form1.monkish_1[1].checked==true) {monkish_stunning_fist=true; };
 if (document.form1.monkish_2[0].checked==true) {monkish_combat_reflexes=true; };
 if (document.form1.monkish_2[1].checked==true) {monkish_deflect_arrows=true; };
 if (document.form1.monkish_3[0].checked==true) {monkish_improved_disarm=true; };
 if (document.form1.monkish_3[1].checked==true) {monkish_improved_trip=true; };

 if (document.form1.air_domain.checked==true) { has_air_domain=true; }
 if (document.form1.animal_domain.checked==true) { has_animal_domain=true; }
 if (document.form1.chaos_domain.checked==true) { has_chaos_domain=true; }
 if (document.form1.death_domain.checked==true) { has_death_domain=true; }
 if (document.form1.destruction_domain.checked==true) { has_destruction_domain=true; }
 if (document.form1.earth_domain.checked==true) { has_earth_domain=true; }
 if (document.form1.evil_domain.checked==true) { has_evil_domain=true; }
 if (document.form1.fire_domain.checked==true) { has_fire_domain=true; }
 if (document.form1.good_domain.checked==true) { has_good_domain=true; }
 if (document.form1.healing_domain.checked==true) { has_healing_domain=true; }
 if (document.form1.knowledge_domain.checked==true) { has_knowledge_domain=true; }
 if (document.form1.law_domain.checked==true) { has_law_domain=true; }
 if (document.form1.luck_domain.checked==true) { has_luck_domain=true; }
 if (document.form1.magic_domain.checked==true) { has_magic_domain=true; }
 if (document.form1.plant_domain.checked==true) { has_plant_domain=true; }
 if (document.form1.protection_domain.checked==true) { has_protection_domain=true; }
 if (document.form1.strength_domain.checked==true) { has_strength_domain=true; }
 if (document.form1.sun_domain.checked==true) { has_sun_domain=true; }
 if (document.form1.travel_domain.checked==true) { has_travel_domain=true; }
 if (document.form1.trickery_domain.checked==true) { has_trickery_domain=true; }
 if (document.form1.war_domain.checked==true) { has_war_domain=true; }
 if (document.form1.water_domain.checked==true) { has_water_domain=true; }
 if (document.form1.other_domain_1.checked==true) { has_other_domain_1=true; }
 if (document.form1.other_domain_2.checked==true) { has_other_domain_2=true; }
 if (document.form1.choose_energy[0].checked==true)
  {
   if (alignment>6)
    {
     document.form1.choose_energy[0].checked==false
     document.form1.choose_energy[1].checked==true
     channels_energy=2;
    }
   else {channels_energy=1; }
  }
 if (document.form1.choose_energy[1].checked==true)
  {
   if (alignment<4)
    {
     document.form1.choose_energy[0].checked==true
     document.form1.choose_energy[1].checked==false
     channels_energy=1;
    }
   else {channels_energy=2; }
  }
 RecordGestaltClasses();
 RememberFighterFeatsEtc();
}

function RecordGestaltClasses() {
 barbarian_gestalt=document.form1.barbariangestalt.checked;
 bard_gestalt=document.form1.bardgestalt.checked;
 cleric_gestalt=document.form1.clericgestalt.checked;
 druid_gestalt=document.form1.druidgestalt.checked;
 fighter_gestalt=document.form1.fightergestalt.checked;
 monk_gestalt=document.form1.monkgestalt.checked;
 paladin_gestalt=document.form1.paladingestalt.checked;
 ranger_gestalt=document.form1.rangergestalt.checked;
 rogue_gestalt=document.form1.roguegestalt.checked;
 sorcerer_gestalt=document.form1.sorcerergestalt.checked;
 wizard_gestalt=document.form1.wizardgestalt.checked;
 psion_gestalt=document.form1.psiongestalt.checked;
 }

function WipeDomains() {
 document.form1.air_domain.checked=false;
 document.form1.animal_domain.checked=false;
 document.form1.chaos_domain.checked=false;
 document.form1.death_domain.checked=false;
 document.form1.destruction_domain.checked=false;
 document.form1.earth_domain.checked=false;
 document.form1.evil_domain.checked=false;
 document.form1.fire_domain.checked=false;
 document.form1.good_domain.checked=false;
 document.form1.healing_domain.checked=false;
 document.form1.knowledge_domain.checked=false;
 document.form1.law_domain.checked=false;
 document.form1.luck_domain.checked=false;
 document.form1.magic_domain.checked=false;
 document.form1.plant_domain.checked=false;
 document.form1.protection_domain.checked=false;
 document.form1.strength_domain.checked=false;
 document.form1.sun_domain.checked=false;
 document.form1.travel_domain.checked=false;
 document.form1.trickery_domain.checked=false;
 document.form1.war_domain.checked=false;
 document.form1.water_domain.checked=false;
 document.form1.other_domain_1.checked=false;
 document.form1.other_domain_2.checked=false;
 document.form1.choose_energy[0].checked=false;
 document.form1.choose_energy[1].checked=false;
 }

function AbilitiesWellIncreased() {
 if (total_levels<4) { return true; }
 else if ((total_levels>=4)
         && (document.form1.upat04[0].checked==false)
         && (document.form1.upat04[1].checked==false)
         && (document.form1.upat04[2].checked==false)
         && (document.form1.upat04[3].checked==false)
         && (document.form1.upat04[4].checked==false)
         && (document.form1.upat04[5].checked==false)) { return false; }
 else if ((total_levels>=8)
         && (document.form1.upat08[0].checked==false)
         && (document.form1.upat08[1].checked==false)
         && (document.form1.upat08[2].checked==false)
         && (document.form1.upat08[3].checked==false)
         && (document.form1.upat08[4].checked==false)
         && (document.form1.upat08[5].checked==false)) { return false; }
 else if ((total_levels>=12)
         && (document.form1.upat12[0].checked==false)
         && (document.form1.upat12[1].checked==false)
         && (document.form1.upat12[2].checked==false)
         && (document.form1.upat12[3].checked==false)
         && (document.form1.upat12[4].checked==false)
         && (document.form1.upat12[5].checked==false)) { return false; }
 else if ((total_levels>=16)
         && (document.form1.upat16[0].checked==false)
         && (document.form1.upat16[1].checked==false)
         && (document.form1.upat16[2].checked==false)
         && (document.form1.upat16[3].checked==false)
         && (document.form1.upat16[4].checked==false)
         && (document.form1.upat16[5].checked==false)) { return false; }
 else if ((total_levels>=20)
         && (document.form1.upat20[0].checked==false)
         && (document.form1.upat20[1].checked==false)
         && (document.form1.upat20[2].checked==false)
         && (document.form1.upat20[3].checked==false)
         && (document.form1.upat20[4].checked==false)
         && (document.form1.upat20[5].checked==false)) { return false; }
 else return true;
 }

function upsky(klass) {
 if (klass==1) {barbarian_levels++; }
 if (klass==2) {bard_levels++; }
 if (klass==3) {cleric_levels++; }
 if (klass==4) {druid_levels++; }
 if (klass==5) {fighter_levels++; }
 if (klass==6) {monk_levels++; }
 if (klass==7) {paladin_levels++; }
 if (klass==8) {ranger_levels++; }
 if (klass==9) {rogue_levels++; }
 if (klass==10) {sorcerer_levels++; }
 if (klass==11) {wizard_levels++; }
 if (klass==12) {psion_levels++; }
 if (klass==13) {psiwarrior_levels++; }
 if (klass==14) {soulknife_levels++; }
 if (klass==15) {wilder_levels++; }
 if (klass==16) {artificer_levels++; }
 if (klass==24) {prestige_levels++; }
 if (klass==25) {humanoid_levels++; }
 if (klass==26) {npcother_levels++; }
}

function NegateSkills() {
  appraise=0; document.form1.appraise_list.selectedIndex=0;
  balance=0; document.form1.balance_list.selectedIndex=0;
  bluff=0; document.form1.bluff_list.selectedIndex=0;
  climb=0; document.form1.climb_list.selectedIndex=0;
  concentration=0; document.form1.concentration_list.selectedIndex=0;
  craft_1=0; document.form1.craft_1_list.selectedIndex=0;
  craft_2=0; document.form1.craft_2_list.selectedIndex=0;
  craft_3=0; document.form1.craft_3_list.selectedIndex=0;
  decipherscript=0; document.form1.decipherscript_list.selectedIndex=0;
  diplomacy=0; document.form1.diplomacy_list.selectedIndex=0;

  disabledevice=0; document.form1.disabledevice_list.selectedIndex=0;
  disguise=0; document.form1.disguise_list.selectedIndex=0;
  escapeartist=0; document.form1.escapeartist_list.selectedIndex=0;
  forgery=0; document.form1.forgery_list.selectedIndex=0;
  gatherinformation=0; document.form1.gatherinformation_list.selectedIndex=0;
  handleanimal=0; document.form1.handleanimal_list.selectedIndex=0;
  heal=0; document.form1.heal_list.selectedIndex=0;
  hide=0; document.form1.hide_list.selectedIndex=0;
  intimidate=0; document.form1.intimidate_list.selectedIndex=0;
  jump=0; document.form1.jump_list.selectedIndex=0;
  knowledgearcana=0; document.form1.knowledgearcana_list.selectedIndex=0;
  knowledgearchitecture=0; document.form1.knowledgearchitecture_list.selectedIndex=0;
  knowledgedungeoneering=0; document.form1.knowledgedungeoneering_list.selectedIndex=0;
  knowledgegeography=0; document.form1.knowledgegeography_list.selectedIndex=0;
  knowledgehistory=0; document.form1.knowledgehistory_list.selectedIndex=0;
  knowledgelocal=0; document.form1.knowledgelocal_list.selectedIndex=0;

  knowledgenature=0; document.form1.knowledgenature_list.selectedIndex=0;

  knowledgenobility=0; document.form1.knowledgenobility_list.selectedIndex=0;
  knowledgereligion=0; document.form1.knowledgereligion_list.selectedIndex=0;
  knowledgeplanes=0; document.form1.knowledgeplanes_list.selectedIndex=0;

  listen=0; document.form1.listen_list.selectedIndex=0;
  movesilently=0; document.form1.movesilently_list.selectedIndex=0;
  openlock=0; document.form1.openlock_list.selectedIndex=0;
      perform_1=0; document.form1.perform_1_list.selectedIndex=0;
      perform_2=0; document.form1.perform_2_list.selectedIndex=0;
      perform_3=0; document.form1.perform_3_list.selectedIndex=0;
      perform_4=0; document.form1.perform_4_list.selectedIndex=0;
      perform_5=0; document.form1.perform_5_list.selectedIndex=0;
  profession=0; document.form1.profession_list.selectedIndex=0;
  ride=0; document.form1.ride_list.selectedIndex=0;
  search=0; document.form1.search_list.selectedIndex=0;
  sensemotive=0; document.form1.sensemotive_list.selectedIndex=0;
  sleightofhand=0; document.form1.sleightofhand_list.selectedIndex=0;
  speaklanguage=0; document.form1.speaklanguage_list.selectedIndex=0;
  spellcraft=0; document.form1.spellcraft_list.selectedIndex=0;
  spot=0; document.form1.spot_list.selectedIndex=0;
  survival=0; document.form1.survival_list.selectedIndex=0;
  swim=0; document.form1.swim_list.selectedIndex=0;
  tumble=0; document.form1.tumble_list.selectedIndex=0;
  usemagicdevice=0; document.form1.usemagicdevice_list.selectedIndex=0;
  userope=0; document.form1.userope_list.selectedIndex=0;
  autohypnosis=0; document.form1.autohypnosis_list.selectedIndex=0;
  knowpsi=0; document.form1.knowpsi_list.selectedIndex=0;
  psicraft=0; document.form1.psicraft_list.selectedIndex=0;
//  remoteview=0; document.form1.remoteview_list.selectedIndex=0;
//  stabilizeself=0; document.form1.stabilizeself_list.selectedIndex=0;
  usepsionicdevice=0; document.form1.usepsionicdevice_list.selectedIndex=0;
  otherskill1=0; document.form1.otherskill1_list.selectedIndex=0;
  otherskill2=0; document.form1.otherskill2_list.selectedIndex=0;
  otherskill3=0; document.form1.otherskill3_list.selectedIndex=0;

  figure_skills();
  }

 function MandatoryTotemMinimums() {
  if (monk_levels>=6)
   {
    if (monk_totem==1)
     {
      if (document.form1.escapeartist_list.selectedIndex<9)
       { document.form1.escapeartist_list.selectedIndex=9; escapeartist=9; }
      if (document.form1.balance_list.selectedIndex<4)
       { document.form1.balance_list.selectedIndex=4; balance=4; }
     }

    if (monk_totem==2)
     {
      if (document.form1.tumble_list.selectedIndex<9)
       { document.form1.tumble_list.selectedIndex=9; tumble=9; }
     }

    if (monk_totem==3)
     {
      if (document.form1.balance_list.selectedIndex<9)
       { document.form1.balance_list.selectedIndex=9; balance=9; }
      if (document.form1.tumble_list.selectedIndex<4)
       { document.form1.tumble_list.selectedIndex=4; tumble=4; }
     }

    if (monk_totem==4)
     {
      if (document.form1.listen_list.selectedIndex<9)
       { document.form1.listen_list.selectedIndex=9; listen=9; }
     }

    if (monk_totem==5)
     {
      if (document.form1.intimidate_list.selectedIndex<4)
       { document.form1.intimidate_list.selectedIndex=4; intimidate=4; }
      if (document.form1.perform_1_list.selectedIndex<4)
       { document.form1.perform_1_list.selectedIndex=4; perform_1=4; }
     }

    if (monk_totem==6)
     {
      if (document.form1.bluff_list.selectedIndex<4)
       { document.form1.bluff_list.selectedIndex=4; bluff=4; }
      if (document.form1.sensemotive_list.selectedIndex<4)
       { document.form1.sensemotive_list.selectedIndex=4; sensemotive=4; }
     }

    if (monk_totem==7)
     {
      if (document.form1.hide_list.selectedIndex<9)
       { document.form1.hide_list.selectedIndex=9; hide=9; }
     }

    if (monk_totem==8)
     {
      if (document.form1.concentration_list.selectedIndex<9)
       { document.form1.concentration_list.selectedIndex=9; concentration=9; }
     }
   }
  if ((monk_levels>0) && (monk_levels<6))
   {
    if (monk_totem==1)
     {
      if (document.form1.escapeartist_list.selectedIndex<monk_levels +3)
       { document.form1.escapeartist_list.selectedIndex=monk_levels +3; escapeartist=monk_levels +3; }
      if (document.form1.balance_list.selectedIndex<monk_levels-2)
       { document.form1.balance_list.selectedIndex=monk_levels-2; balance=monk_levels-2; }
     }

    if (monk_totem==2)
     {
      if (document.form1.tumble_list.selectedIndex<monk_levels +3)
       { document.form1.tumble_list.selectedIndex=monk_levels +3; tumble=monk_levels +3; }
     }

    if (monk_totem==3)
     {
      if (document.form1.balance_list.selectedIndex<monk_levels +3)
       { document.form1.balance_list.selectedIndex=monk_levels +3; balance=monk_levels +3; }
      if (document.form1.tumble_list.selectedIndex<monk_levels-2)
       { document.form1.tumble_list.selectedIndex=monk_levels-2; tumble=monk_levels-2; }
     }

    if (monk_totem==4)
     {
      if (document.form1.listen_list.selectedIndex<monk_levels +3)
       { document.form1.listen_list.selectedIndex=monk_levels +3; listen=monk_levels +3; }
     }

    if (monk_totem==5)
     {
      if (document.form1.intimidate_list.selectedIndex<monk_levels-2)
       { document.form1.intimidate_list.selectedIndex=monk_levels-2; intimidate=monk_levels-2; }
      if (document.form1.perform_1_list.selectedIndex<monk_levels-2)
       { document.form1.perform_1_list.selectedIndex=monk_levels-2; perform_1=monk_levels-2; }
     }

    if (monk_totem==6)
     {
      if (document.form1.bluff_list.selectedIndex<monk_levels-2)
       { document.form1.bluff_list.selectedIndex=monk_levels-2; bluff=monk_levels-2; }
      if (document.form1.sensemotive_list.selectedIndex<monk_levels-2)
       { document.form1.sensemotive_list.selectedIndex=monk_levels-2; sensemotive=monk_levels-2; }
     }

    if (monk_totem==7)
     {
      if (document.form1.hide_list.selectedIndex<monk_levels +3)
       { document.form1.hide_list.selectedIndex=monk_levels +3; hide=monk_levels +3; }
     }

    if (monk_totem==8)
     {
      if (document.form1.concentration_list.selectedIndex<monk_levels +3)
       { document.form1.concentration_list.selectedIndex=monk_levels +3; concentration=monk_levels +3; }
     }
   }
}

 function figure_skills() {
  if (SkillPointsAreLocked==true) { return; }
  if (FighterFeatsEtcFrozen==true) {
  MandatoryTotemMinimums();
  x=0;
  x+=appraise;
  x+=balance;
  x+=bluff;
  x+=climb;
  x+=concentration;
  x+=craft_1;
  x+=craft_2;
  x+=craft_3;
  x+=decipherscript;
  x+=diplomacy;
  x+=disabledevice;
  x+=disguise;
  x+=escapeartist;
  x+=forgery;
  x+=gatherinformation;
  x+=handleanimal;
  x+=heal;
  x+=hide;
  x+=intimidate;
  x+=jump;
  x+=knowledgearcana;
  x+=knowledgearchitecture;
  x+=knowledgedungeoneering;
  x+=knowledgegeography;
  x+=knowledgehistory;
  x+=knowledgelocal;
  x+=knowledgenature;
  x+=knowledgenobility;
  x+=knowledgereligion;
  x+=knowledgeplanes;
  x+=listen;
  x+=movesilently;
  x+=openlock;
  x+=perform_1;
  x+=perform_2;
  x+=perform_3;
  x+=perform_4;
  x+=perform_5;
  x+=profession;
  x+=ride;
  x+=search;
  x+=sensemotive;
  x+=sleightofhand;
  x+=speaklanguage;
  x+=spellcraft;
  x+=spot;
  x+=survival;
  x+=swim;
  x+=tumble;
  x+=usemagicdevice;
  x+=userope;
  x+=autohypnosis;
  x+=knowpsi;
  x+=psicraft;
  x+=usepsionicdevice;
  x+=otherskill1;
  x+=otherskill2;
  x+=otherskill3;

  skill_points_spent=x;
  document.form1.skillpointcount.value="You have spent "+x+" of "+total_skill_points+" skill points.";
  if (x==0) { document.form1.fifth_comment_box.value="Not ready yet."; }
   else if (x==total_skill_points) { document.form1.fifth_comment_box.value="You can accept these skills."; }
    else { document.form1.fifth_comment_box.value="Keep working."; }

  document.form1.about_appraise.value=(appraise/appraise_class)+" ranks";
  if (appraise_class==2) { document.form1.about_appraise.value+=" (cross-class)"; }
  document.form1.about_balance.value=(balance/balance_class)+" ranks";
  if (balance_class==2) { document.form1.about_balance.value+=" (cross-class)"; }
  document.form1.about_bluff.value=(bluff/bluff_class)+" ranks";
  if (bluff_class==2) { document.form1.about_bluff.value+=" (cross-class)"; }
  document.form1.about_climb.value=(climb/climb_class)+" ranks";
  if (climb_class==2) { document.form1.about_climb.value+=" (cross-class)"; }
  document.form1.about_concentration.value=(concentration/concentration_class)+" ranks";
  if (concentration_class==2) { document.form1.about_concentration.value+=" (cross-class)"; }
  document.form1.about_craft_1.value=(craft_1/craft_1_class)+" ranks";
  if (craft_1_class==2) { document.form1.about_craft_1.value+=" (cross-class)"; }
  document.form1.about_craft_2.value=(craft_2/craft_2_class)+" ranks";
  if (craft_2_class==2) { document.form1.about_craft_2.value+=" (cross-class)"; }
  document.form1.about_craft_3.value=(craft_3/craft_3_class)+" ranks";
  if (craft_3_class==2) { document.form1.about_craft_3.value+=" (cross-class)"; }
  document.form1.about_decipherscript.value=(decipherscript/decipherscript_class)+" ranks";
  if (decipherscript_class==2) { document.form1.about_decipherscript.value+=" (cross-class)"; }
  document.form1.about_diplomacy.value=(diplomacy/diplomacy_class)+" ranks";
  if (diplomacy_class==2) { document.form1.about_diplomacy.value+=" (cross-class)"; }

  document.form1.about_disabledevice.value=(disabledevice/disabledevice_class)+" ranks";
  if (disabledevice_class==2) { document.form1.about_disabledevice.value+=" (cross-class)"; }
  document.form1.about_disguise.value=(disguise/disguise_class)+" ranks";
  if (disguise_class==2) { document.form1.about_disguise.value+=" (cross-class)"; }
  document.form1.about_escapeartist.value=(escapeartist/escapeartist_class)+" ranks";
  if (escapeartist_class==2) { document.form1.about_escapeartist.value+=" (cross-class)"; }
  document.form1.about_forgery.value=(forgery/forgery_class)+" ranks";
  if (forgery_class==2) { document.form1.about_forgery.value+=" (cross-class)"; }
  document.form1.about_gatherinformation.value=(gatherinformation/gatherinformation_class)+" ranks";
  if (gatherinformation_class==2) { document.form1.about_gatherinformation.value+=" (cross-class)"; }
  document.form1.about_handleanimal.value=(handleanimal/handleanimal_class)+" ranks";
  if (handleanimal_class==2) { document.form1.about_handleanimal.value+=" (cross-class)"; }
  document.form1.about_heal.value=(heal/heal_class)+" ranks";
  if (heal_class==2) { document.form1.about_heal.value+=" (cross-class)"; }
  document.form1.about_hide.value=(hide/hide_class)+" ranks";
  if (hide_class==2) { document.form1.about_hide.value+=" (cross-class)"; }
  document.form1.about_intimidate.value=(intimidate/intimidate_class)+" ranks";
  if (intimidate_class==2) { document.form1.about_intimidate.value+=" (cross-class)"; }
  document.form1.about_jump.value=(jump/jump_class)+" ranks";
  if (jump_class==2) { document.form1.about_jump.value+=" (cross-class)"; }
  document.form1.about_knowledgearcana.value=(knowledgearcana/knowledgearcana_class)+" ranks";
  if (knowledgearcana_class==2) { document.form1.about_knowledgearcana.value+=" (cross-class)"; }
  document.form1.about_knowledgearchitecture.value=(knowledgearchitecture/knowledgearchitecture_class)+" ranks";
  if (knowledgearchitecture_class==2) { document.form1.about_knowledgearchitecture.value+=" (cross-class)"; }
  document.form1.about_knowledgedungeoneering.value=(knowledgedungeoneering/knowledgedungeoneering_class)+" ranks";
  if (knowledgedungeoneering_class==2) { document.form1.about_knowledgedungeoneering.value+=" (cross-class)"; }
  document.form1.about_knowledgegeography.value=(knowledgegeography/knowledgegeography_class)+" ranks";
  if (knowledgegeography_class==2) { document.form1.about_knowledgegeography.value+=" (cross-class)"; }
  document.form1.about_knowledgehistory.value=(knowledgehistory/knowledgehistory_class)+" ranks";
  if (knowledgehistory_class==2) { document.form1.about_knowledgehistory.value+=" (cross-class)"; }
  document.form1.about_knowledgelocal.value=(knowledgelocal/knowledgelocal_class)+" ranks";
  if (knowledgelocal_class==2) { document.form1.about_knowledgelocal.value+=" (cross-class)"; }
  document.form1.about_knowledgenature.value=(knowledgenature/knowledgenature_class)+" ranks";
  if (knowledgenature_class==2) { document.form1.about_knowledgenature.value+=" (cross-class)"; }
  document.form1.about_knowledgenobility.value=(knowledgenobility/knowledgenobility_class)+" ranks";
  if (knowledgenobility_class==2) { document.form1.about_knowledgenobility.value+=" (cross-class)"; }
  document.form1.about_knowledgereligion.value=(knowledgereligion/knowledgereligion_class)+" ranks";
  if (knowledgereligion_class==2) { document.form1.about_knowledgereligion.value+=" (cross-class)"; }
  document.form1.about_knowledgeplanes.value=(knowledgeplanes/knowledgeplanes_class)+" ranks";
  if (knowledgeplanes_class==2) { document.form1.about_knowledgeplanes.value+=" (cross-class)"; }
  document.form1.about_listen.value=(listen/listen_class)+" ranks";
  if (listen_class==2) { document.form1.about_listen.value+=" (cross-class)"; }
  document.form1.about_movesilently.value=(movesilently/movesilently_class)+" ranks";
  if (movesilently_class==2) { document.form1.about_movesilently.value+=" (cross-class)"; }
  document.form1.about_openlock.value=(openlock/openlock_class)+" ranks";
  if (openlock_class==2) { document.form1.about_openlock.value+=" (cross-class)"; }
  document.form1.about_perform_1.value=(perform_1/perform_1_class)+" ranks";
  if (perform_1_class==2) { document.form1.about_perform_1.value+=" (cross-class)"; }
  document.form1.about_perform_2.value=(perform_2/perform_2_class)+" ranks";
  if (perform_2_class==2) { document.form1.about_perform_2.value+=" (cross-class)"; }
  document.form1.about_perform_3.value=(perform_3/perform_3_class)+" ranks";
  if (perform_3_class==2) { document.form1.about_perform_3.value+=" (cross-class)"; }
  document.form1.about_perform_4.value=(perform_4/perform_4_class)+" ranks";
  if (perform_4_class==2) { document.form1.about_perform_4.value+=" (cross-class)"; }
  document.form1.about_perform_5.value=(perform_5/perform_5_class)+" ranks";
  if (perform_5_class==2) { document.form1.about_perform_5.value+=" (cross-class)"; }
  document.form1.about_profession.value=(profession/profession_class)+" ranks";
  if (profession_class==2) { document.form1.about_profession.value+=" (cross-class)"; }
  document.form1.about_ride.value=(ride/ride_class)+" ranks";
  if (ride_class==2) { document.form1.about_ride.value+=" (cross-class)"; }
  document.form1.about_search.value=(search/search_class)+" ranks";
  if (search_class==2) { document.form1.about_search.value+=" (cross-class)"; }
  document.form1.about_sensemotive.value=(sensemotive/sensemotive_class)+" ranks";
  if (sensemotive_class==2) { document.form1.about_sensemotive.value+=" (cross-class)"; }
  document.form1.about_sleightofhand.value=(sleightofhand/sleightofhand_class)+" ranks";
  if (sleightofhand_class==2) { document.form1.about_sleightofhand.value+=" (cross-class)"; }
  document.form1.about_speaklanguage.value=(speaklanguage/speaklanguage_class)+" ranks";
  if (speaklanguage_class==2) { document.form1.about_speaklanguage.value+=" (cross-class)"; }
  document.form1.about_spellcraft.value=(spellcraft/spellcraft_class)+" ranks";
  if (spellcraft_class==2) { document.form1.about_spellcraft.value+=" (cross-class)"; }
  document.form1.about_spot.value=(spot/spot_class)+" ranks";
  if (spot_class==2) { document.form1.about_spot.value+=" (cross-class)"; }
  document.form1.about_survival.value=(survival/survival_class)+" ranks";
  if (survival_class==2) { document.form1.about_survival.value+=" (cross-class)"; }
  document.form1.about_swim.value=(swim/swim_class)+" ranks";
  if (swim_class==2) { document.form1.about_swim.value+=" (cross-class)"; }
  document.form1.about_tumble.value=(tumble/tumble_class)+" ranks";
  if (tumble_class==2) { document.form1.about_tumble.value+=" (cross-class)"; }
  document.form1.about_usemagicdevice.value=(usemagicdevice/usemagicdevice_class)+" ranks";
  if (usemagicdevice_class==2) { document.form1.about_usemagicdevice.value+=" (cross-class)"; }
  document.form1.about_userope.value=(userope/userope_class)+" ranks";
  if (userope_class==2) { document.form1.about_userope.value+=" (cross-class)"; }
  document.form1.about_autohypnosis.value=(autohypnosis/autohypnosis_class)+" ranks";
  if (autohypnosis_class==2) { document.form1.about_autohypnosis.value+=" (cross-class)"; }
  document.form1.about_knowpsi.value=(knowpsi/knowpsi_class)+" ranks";
  if (knowpsi_class==2) { document.form1.about_knowpsi.value+=" (cross-class)"; }
  document.form1.about_psicraft.value=(psicraft/psicraft_class)+" ranks";
  if (psicraft_class==2) { document.form1.about_psicraft.value+=" (cross-class)"; }
  document.form1.about_usepsionicdevice.value=(usepsionicdevice/usepsionicdevice_class)+" ranks";
  if (usepsionicdevice_class==2) { document.form1.about_usepsionicdevice.value+=" (cross-class)"; }
  document.form1.about_otherskill1.value=otherskill1+" ranks";
  document.form1.about_otherskill2.value=otherskill2+" ranks";
  document.form1.about_otherskill3.value=otherskill3+" ranks";
  ArrowShow();
  }
}

 function count_epic_levels() {
  if (CharacterTypeHasBeenEstablished==true) { document.form1.epic_levels_list.selectedIndex=epic_total_levels; return; }
  if (document.form1.totallevels[20].checked==false) { document.form1.epic_levels_list.selectedIndex=0; return; }
   else 
   	{
   		if (document.form1.epic_levels_list.selectedIndex==0) { document.form1.epic_levels_list.selectedIndex=1; }
   	}
  }

 function figure_appraise() {
  if ((document.form1.appraise_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.appraise_list.selectedIndex=appraise; }
  else {appraise=document.form1.appraise_list.selectedIndex; }
   figure_skills();
  }

 function figure_balance() {
  if ((document.form1.balance_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.balance_list.selectedIndex=balance; }
  else {balance=document.form1.balance_list.selectedIndex; }
   figure_skills();
  }

 function figure_bluff() {
  if ((document.form1.bluff_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.bluff_list.selectedIndex=bluff; }
  else {bluff=document.form1.bluff_list.selectedIndex; }
   figure_skills();
  }

 function figure_climb() {
  if ((wraith_template==true) || (spectral_template==true) || (umbral_template==true)) { document.form1.climb_list.selectedIndex=0; }
  if ((document.form1.climb_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.climb_list.selectedIndex=climb; }
  else {climb=document.form1.climb_list.selectedIndex; }
   figure_skills();
  }

 function figure_concentration() {
  if ((document.form1.concentration_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.concentration_list.selectedIndex=concentration; }
  else {concentration=document.form1.concentration_list.selectedIndex; }
   figure_skills();
  }

 function figure_craft_1() {
  if ((document.form1.craft_1_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.craft_1_list.selectedIndex=craft_1; }
  else {craft_1=document.form1.craft_1_list.selectedIndex; }
   figure_skills();
  }

 function figure_craft_2() {
  if ((document.form1.craft_2_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.craft_2_list.selectedIndex=craft_2; }
  else {craft_2=document.form1.craft_2_list.selectedIndex; }
   figure_skills();
  }


 function figure_craft_3() {
  if ((document.form1.craft_3_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.craft_3_list.selectedIndex=craft_3; }
  else {craft_3=document.form1.craft_3_list.selectedIndex; }
   figure_skills();
  }

 function figure_decipherscript() {
  if ((document.form1.decipherscript_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.decipherscript_list.selectedIndex=decipherscript; }
  else {decipherscript=document.form1.decipherscript_list.selectedIndex; }
   figure_skills();
  }

 function figure_diplomacy() {
  if ((document.form1.diplomacy_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.diplomacy_list.selectedIndex=diplomacy; }
  else {diplomacy=document.form1.diplomacy_list.selectedIndex; }
   figure_skills();
  }

 function figure_disabledevice() {
  if ((document.form1.disabledevice_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.disabledevice_list.selectedIndex=disabledevice; }
  else {disabledevice=document.form1.disabledevice_list.selectedIndex; }
   figure_skills();
  }

 function figure_disguise() {
  if ((document.form1.disguise_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.disguise_list.selectedIndex=disguise; }
  else {disguise=document.form1.disguise_list.selectedIndex; }
   figure_skills();
  }

 function figure_escapeartist() {
  if ((document.form1.escapeartist_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.escapeartist_list.selectedIndex=escapeartist; }
  else {escapeartist=document.form1.escapeartist_list.selectedIndex; }
   figure_skills();
  }

 function figure_forgery() {
  if ((document.form1.forgery_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.forgery_list.selectedIndex=forgery; }
  else {forgery=document.form1.forgery_list.selectedIndex; }
   figure_skills();
  }

 function figure_gatherinformation() {
  if ((document.form1.gatherinformation_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.gatherinformation_list.selectedIndex=gatherinformation; }
  else {gatherinformation=document.form1.gatherinformation_list.selectedIndex; }
   figure_skills();
  }

 function figure_handleanimal() {
  if ((document.form1.handleanimal_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.handleanimal_list.selectedIndex=handleanimal; }
  else {handleanimal=document.form1.handleanimal_list.selectedIndex; }
   figure_skills();
  }

 function figure_heal() {
  if ((document.form1.heal_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.heal_list.selectedIndex=heal; }
  else {heal=document.form1.heal_list.selectedIndex; }
   figure_skills();
  }

 function figure_hide() {
  if ((document.form1.hide_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.hide_list.selectedIndex=hide; }
  else {hide=document.form1.hide_list.selectedIndex; }
   figure_skills();
  }

 function figure_intimidate() {
  if ((document.form1.intimidate_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.intimidate_list.selectedIndex=intimidate; }
  else {intimidate=document.form1.intimidate_list.selectedIndex; }
   figure_skills();
  }

 function figure_jump() {
  if ((wraith_template==true) || (spectral_template==true) || (umbral_template==true)) { document.form1.jump_list.selectedIndex=0; }
  if ((document.form1.jump_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.jump_list.selectedIndex=jump; }
  else {jump=document.form1.jump_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgearcana() {
  if ((document.form1.knowledgearcana_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgearcana_list.selectedIndex=knowledgearcana; }
  else {knowledgearcana=document.form1.knowledgearcana_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgearchitecture() {
  if ((document.form1.knowledgearchitecture_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgearchitecture_list.selectedIndex=knowledgearchitecture; }
  else {knowledgearchitecture=document.form1.knowledgearchitecture_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgedungeoneering() {
  if ((document.form1.knowledgedungeoneering_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgedungeoneering_list.selectedIndex=knowledgedungeoneering; }
  else {knowledgedungeoneering=document.form1.knowledgedungeoneering_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgegeography() {
  if ((document.form1.knowledgegeography_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgegeography_list.selectedIndex=knowledgegeography; }
  else {knowledgegeography=document.form1.knowledgegeography_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgehistory() {
  if ((document.form1.knowledgehistory_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgehistory_list.selectedIndex=knowledgehistory; }
  else {knowledgehistory=document.form1.knowledgehistory_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgelocal() {
  if ((document.form1.knowledgelocal_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgelocal_list.selectedIndex=knowledgelocal; }
  else {knowledgelocal=document.form1.knowledgelocal_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgenature() {
  if ((document.form1.knowledgenature_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgenature_list.selectedIndex=knowledgenature; }
  else {knowledgenature=document.form1.knowledgenature_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgenobility() {
  if ((document.form1.knowledgenobility_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgenobility_list.selectedIndex=knowledgenobility; }
  else {knowledgenobility=document.form1.knowledgenobility_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgereligion() {
  if ((document.form1.knowledgereligion_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgereligion_list.selectedIndex=knowledgereligion; }
  else {knowledgereligion=document.form1.knowledgereligion_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowledgeplanes() {
  if ((document.form1.knowledgeplanes_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowledgeplanes_list.selectedIndex=knowledgeplanes; }
  else {knowledgeplanes=document.form1.knowledgeplanes_list.selectedIndex; }
   figure_skills();
  }

 function figure_listen() {
  if ((document.form1.listen_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.listen_list.selectedIndex=listen; }
  else {listen=document.form1.listen_list.selectedIndex; }
   figure_skills();
  }

 function figure_movesilently() {
  if ((document.form1.movesilently_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.movesilently_list.selectedIndex=movesilently; }
  else {movesilently=document.form1.movesilently_list.selectedIndex; }
   figure_skills();
  }

 function figure_openlock() {
  if ((document.form1.openlock_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.openlock_list.selectedIndex=openlock; }
  else {openlock=document.form1.openlock_list.selectedIndex; }
   figure_skills();
  }

 function figure_perform_1() {
  if ((document.form1.perform_1_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.perform_1_list.selectedIndex=perform_1; }
  else {perform_1=document.form1.perform_1_list.selectedIndex; }
   figure_skills();
  }

 function figure_perform_2() {
  if ((document.form1.perform_2_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.perform_2_list.selectedIndex=perform_2; }
  else {perform_2=document.form1.perform_2_list.selectedIndex; }
   figure_skills();
  }

 function figure_perform_3() {
  if ((document.form1.perform_3_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.perform_3_list.selectedIndex=perform_3; }
  else {perform_3=document.form1.perform_3_list.selectedIndex; }
   figure_skills();
  }

 function figure_perform_4() {
  if ((document.form1.perform_4_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.perform_4_list.selectedIndex=perform_4; }
  else {perform_4=document.form1.perform_4_list.selectedIndex; }
   figure_skills();
  }

 function figure_perform_5() {
  if ((document.form1.perform_5_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.perform_5_list.selectedIndex=perform_5; }
  else {perform_5=document.form1.perform_5_list.selectedIndex; }
   figure_skills();
  }

 function figure_profession() {
  if ((document.form1.profession_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.profession_list.selectedIndex=profession; }
  else {profession=document.form1.profession_list.selectedIndex; }
   figure_skills();
  }

 function figure_ride() {
  if ((document.form1.ride_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.ride_list.selectedIndex=ride; }
  else {ride=document.form1.ride_list.selectedIndex; }
   figure_skills();
  }

 function figure_search() {
  if ((document.form1.search_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.search_list.selectedIndex=search; }
  else {search=document.form1.search_list.selectedIndex; }
   figure_skills();
  }

 function figure_sensemotive() {
  if ((document.form1.sensemotive_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.sensemotive_list.selectedIndex=sensemotive; }
  else {sensemotive=document.form1.sensemotive_list.selectedIndex; }
   figure_skills();
  }

 function figure_sleightofhand() {
  if ((document.form1.sleightofhand_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.sleightofhand_list.selectedIndex=sleightofhand; }
  else {sleightofhand=document.form1.sleightofhand_list.selectedIndex; }
   figure_skills();
  }

 function figure_speaklanguage() {
  if ((document.form1.speaklanguage_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.speaklanguage_list.selectedIndex=speaklanguage; }
  else {speaklanguage=document.form1.speaklanguage_list.selectedIndex; }
   figure_skills();
  }

 function figure_spellcraft() {
  if ((document.form1.spellcraft_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.spellcraft_list.selectedIndex=spellcraft; }
  else {spellcraft=document.form1.spellcraft_list.selectedIndex; }
   figure_skills();
  }

 function figure_spot() {
  if ((document.form1.spot_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.spot_list.selectedIndex=spot; }
  else {spot=document.form1.spot_list.selectedIndex; }
   figure_skills();
  }

 function figure_survival() {
  if ((document.form1.survival_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.survival_list.selectedIndex=survival; }
  else {survival=document.form1.survival_list.selectedIndex; }
   figure_skills();
  }

 function figure_swim() {
  if ((wraith_template==true) || (spectral_template==true) || (umbral_template==true)) { document.form1.swim_list.selectedIndex=0; }
  if ((document.form1.swim_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.swim_list.selectedIndex=swim; }
  else {swim=document.form1.swim_list.selectedIndex; }
   figure_skills();
  }

 function figure_tumble() {
  if ((document.form1.tumble_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.tumble_list.selectedIndex=tumble; }
  else {tumble=document.form1.tumble_list.selectedIndex; }
   figure_skills();
  }

 function figure_usemagicdevice() {
  if ((document.form1.usemagicdevice_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.usemagicdevice_list.selectedIndex=usemagicdevice; }
  else {usemagicdevice=document.form1.usemagicdevice_list.selectedIndex; }
   figure_skills();
  }

 function figure_userope() {
  if ((document.form1.userope_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.userope_list.selectedIndex=userope; }
  else {userope=document.form1.userope_list.selectedIndex; }
   figure_skills();
  }

 function figure_autohypnosis() {
  if ((document.form1.autohypnosis_list.selectedIndex>3+psion_levels + epic_psion_levels +psiwarrior_levels + epic_psiwarrior_levels) || (psion_levels + epic_psion_levels +psiwarrior_levels + epic_psiwarrior_levels +wilder_levels +soulknife_levels + epic_soulknife_levels==0))
   { document.form1.autohypnosis_list.selectedIndex=autohypnosis; }
  else {autohypnosis=document.form1.autohypnosis_list.selectedIndex; }
   figure_skills();
  }

 function figure_knowpsi() {
  if ((document.form1.knowpsi_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.knowpsi_list.selectedIndex=knowpsi; }
  else {knowpsi=document.form1.knowpsi_list.selectedIndex; }
   figure_skills();
  }

 function figure_psicraft() {
  if ((document.form1.psicraft_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.psicraft_list.selectedIndex=psicraft; }
  else {psicraft=document.form1.psicraft_list.selectedIndex; }
   figure_skills();
  }

 function figure_usepsionicdevice() {
  if ((document.form1.usepsionicdevice_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.usepsionicdevice_list.selectedIndex=usepsionicdevice; }
  else {usepsionicdevice=document.form1.usepsionicdevice_list.selectedIndex; }
   figure_skills();
  }

 function figure_otherskill1() {
  if ((document.form1.otherskill1_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.otherskill1_list.selectedIndex=otherskill1; }
  else {otherskill1=document.form1.otherskill1_list.selectedIndex; }
   figure_skills();
  }

 function figure_otherskill2() {
  if ((document.form1.otherskill2_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.otherskill2_list.selectedIndex=otherskill2; }
  else {otherskill2=document.form1.otherskill2_list.selectedIndex; }
   figure_skills();
  }

 function figure_otherskill3() {
  if ((document.form1.otherskill3_list.selectedIndex>3+total_levels + epic_total_levels) || (FighterFeatsEtcFrozen==false) || (SkillPointsAreLocked==true))
   { document.form1.otherskill3_list.selectedIndex=otherskill3; }
  else {otherskill3=document.form1.otherskill3_list.selectedIndex; }
   figure_skills();
  }

function barbariantotemname() {
 if (barbarian_totem==1) { return "Ape-Totem "; }
 if (barbarian_totem==2) { return "Bear-Totem "; }
 if (barbarian_totem==3) { return "Boar-Totem "; }
 if (barbarian_totem==4) { return "Dragon-Totem "; }
 if (barbarian_totem==5) { return "Eagle-Totem "; }
 if (barbarian_totem==6) { return "Horse-Totem "; }
 if (barbarian_totem==7) { return "Jaguar-Totem "; }
 if (barbarian_totem==8) { return "Lion-Totem "; }
 if (barbarian_totem==9) { return "Serpent-Totem "; }
 if (barbarian_totem==10) { return "Wolf-Totem "; }
 return "";
 }

function bardtotemname() {
 if (bard_totem==1) { return "Sage "; }
 if (bard_totem==2) { return "Divine "; }
 if (bard_totem==3) { return "Savage "; }
 return "";
 }

function sorcerertotemname() {
 if (sorcerer_totem==1) { return "Battle "; }
 return "";
 }

function clerictotemname() {
 if (cleric_totem==1) { return "Cloistered "; }
 return "";
 }

function druidtotemname() {
 if (druid_totem==1) { return "Avenging "; }
 return "";
 }

function roguetotemname() {
 if (rogue_totem==1) { return "Wilderness "; }
 return "";
 }

function rangertotemname() {
 if (ranger_totem==1) { return "Planar "; }
 if (ranger_totem==2) { return "Urban "; }
 if (ranger_totem==3) { return "Wildshaping "; }
 return "";
 }

function fightertotemname() {
 if (fighter_totem==1) { return "Thug "; }
 return "";
 }

function monktotemname() {
 if (monk_totem==1) { return "Cobra Strike "; }
 if (monk_totem==2) { return "Denying Stance "; }
 if (monk_totem==3) { return "Hand and Foot "; }
 if (monk_totem==4) { return "Invisible Eye "; }
 if (monk_totem==5) { return "Overwhelming Attack "; }
 if (monk_totem==6) { return "Passive Way "; }
 if (monk_totem==7) { return "Sleeping Tiger "; }
 if (monk_totem==8) { return "Undying Way "; }
 return "";
 }

function GenerateClassString() {
   class_string="";
//racialstuff
   if (humanoid_levels>0) {
    if ((rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (halfdragon_template==true)) {class_string+="Dragon "+humanoid_levels; }
     else if ((rayce==78) || (rayce==152) || (rayce==178) || (rayce==153) || (rayce==154) || (rayce==165) || (halfair_template==true) || (halfearth_template==true) || (halffire_template==true) || (rayce==132) || (halfwater_template==true) || (halfcelestial_template==true) || (halffiend_template==true))
      {class_string+="Outsider "+humanoid_levels; }
     else if (rayce==145) { class_string+="Aberration "+humanoid_levels; }
     else if ((rayce==75) || (rayce==146) || (rayce==147)) {class_string+="Giant "+humanoid_levels; }
     else if ((rayce==141) || (rayce==168) || (rayce==169) || (rayce==74) || (rayce==166) || (rayce==131) || (rayce==142) || (rayce==143) || (rayce==144) || (rayce==151) || (rayce==34) || (rayce==176) || (rayce==177)) {class_string+="Monstrous Humanoid "+humanoid_levels; }
     else if ((rayce==148) || (rayce==149) || (rayce==167)) {class_string+="Fey "+humanoid_levels; }
     else if ((rayce==20) || (rayce==121) || (rayce==122) || (rayce==123) || (rayce==124)) {class_string+="Reptilian Humanoid "+humanoid_levels; }
     else {class_string+="Humanoid "+humanoid_levels; }
   if ((barbarian_levels + epic_barbarian_levels>0) || (bard_levels + epic_bard_levels>0) || (cleric_levels + epic_cleric_levels>0) || (druid_levels + epic_druid_levels>0) || (fighter_levels + epic_fighter_levels>0) || (monk_levels + epic_monk_levels>0) || (paladin_levels + epic_paladin_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (barbarian_levels + epic_barbarian_levels>0) {class_string+=barbariantotemname()+"Barbarian "+(barbarian_levels + epic_barbarian_levels);
   if ((bard_levels + epic_bard_levels>0) || (cleric_levels + epic_cleric_levels>0) || (druid_levels + epic_druid_levels>0) || (fighter_levels + epic_fighter_levels>0) || (monk_levels + epic_monk_levels>0) || (paladin_levels + epic_paladin_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (bard_levels + epic_bard_levels>0) {class_string+=bardtotemname()+"Bard "+(bard_levels + epic_bard_levels);
   if ((cleric_levels + epic_cleric_levels>0) || (druid_levels + epic_druid_levels>0) || (fighter_levels + epic_fighter_levels>0) || (monk_levels + epic_monk_levels>0) || (paladin_levels + epic_paladin_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (cleric_levels + epic_cleric_levels>0) {class_string+=clerictotemname()+"Cleric "+(cleric_levels + epic_cleric_levels);
   if ((druid_levels + epic_druid_levels>0) || (fighter_levels + epic_fighter_levels>0) || (monk_levels + epic_monk_levels>0) || (paladin_levels + epic_paladin_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (druid_levels + epic_druid_levels>0) {class_string+=druidtotemname()+"Druid "+(druid_levels + epic_druid_levels);
   if ((fighter_levels + epic_fighter_levels>0) || (monk_levels + epic_monk_levels>0) || (paladin_levels + epic_paladin_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (fighter_levels + epic_fighter_levels>0) {class_string+=fightertotemname()+"Fighter "+(fighter_levels + epic_fighter_levels);
   if ((monk_levels + epic_monk_levels>0) || (paladin_levels + epic_paladin_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (monk_levels + epic_monk_levels>0) {class_string+=monktotemname()+"Monk "+(monk_levels + epic_monk_levels);
   if ((paladin_levels + epic_paladin_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (paladin_levels + epic_paladin_levels>0) {class_string+="Paladin "+(paladin_levels + epic_paladin_levels);
   if ((ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (ranger_levels + epic_ranger_levels>0) {class_string+=rangertotemname()+"Ranger "+(ranger_levels + epic_ranger_levels);
   if ((rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (rogue_levels + epic_rogue_levels>0) {class_string+=roguetotemname()+"Rogue "+(rogue_levels + epic_rogue_levels);
   if ((sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (sorcerer_levels + epic_sorcerer_levels>0) {class_string+=sorcerertotemname()+"Sorcerer "+(sorcerer_levels + epic_sorcerer_levels);
   if ((wizard_levels + epic_wizard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (wizard_levels + epic_wizard_levels>0) {class_string+=wizard_specialty_name+" "+(wizard_levels + epic_wizard_levels);
   if ((psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (psion_levels + epic_psion_levels>0) {class_string+=psion_specialty_name+" "+(psion_levels + epic_psion_levels);
   if ((psiwarrior_levels + epic_psiwarrior_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (psiwarrior_levels + epic_psiwarrior_levels>0) {class_string+="Psi_Warrior "+(psiwarrior_levels + epic_psiwarrior_levels);
   if ((soulknife_levels + epic_soulknife_levels>0) || (wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (soulknife_levels + epic_soulknife_levels>0) {class_string+="Soulknife "+(soulknife_levels + epic_soulknife_levels);
   if ((wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (wilder_levels + epic_wilder_levels>0) {class_string+="Wilder "+(wilder_levels + epic_wilder_levels);
   if ((prestige_levels + epic_prestige_levels>0) || (artificer_levels + epic_artificer_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (artificer_levels + epic_artificer_levels>0) {class_string+="Artificer "+(artificer_levels + epic_artificer_levels);
   if ((prestige_levels + epic_prestige_levels>0) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if (prestige_levels + epic_prestige_levels>0) {class_string+=prestige_class_name+" "+ (prestige_levels + epic_prestige_levels);
   if (((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt"))) {class_string+=" / "; }}
   if ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name!="Gestalt")) {class_string+=npcother_class_name+" " +(npcother_levels + epic_npcother_levels); }
 }

 function rollHP(klasso) {
  if ((vampire_template==true) || (mummy_template==true) || (spectral_template==true) || (umbral_template==true) || (wraith_template==true) || (wight_template==true) || (lich_template==true) || (ghost_template==true) || (deathknight_template) || (deathless_template)) { return Math.floor (12*Math.random()+1); }
  if ((rayce==82) || (halfdragon_template==true)) { return rollHPhalfdragon(klasso); }
  if (klasso==1) { return Math.floor (12*Math.random()+1); }
  else if (klasso==2) { return Math.floor (6*Math.random()+1); }
  else if (klasso==3) {if (cleric_totem==1) { return Math.floor (6*Math.random()+1)} else return Math.floor (8*Math.random()+1); }
  else if (klasso==4) { return Math.floor (8*Math.random()+1); }
  else if (klasso==5) { return Math.floor (10*Math.random()+1); }
  else if (klasso==6) { return Math.floor (8*Math.random()+1); }
  else if (klasso==7) { return Math.floor (10*Math.random()+1); }
  else if (klasso==8) { return Math.floor (8*Math.random()+1); }
  else if (klasso==9) { return Math.floor (6*Math.random()+1); }
  else if (klasso==10) {if (sorcerer_totem==1) { return Math.floor (8*Math.random()+1)} else return Math.floor (4*Math.random()+1); }
  else if (klasso==11) { return Math.floor (4*Math.random()+1); }
  else if (klasso==12) { return Math.floor (4*Math.random()+1); }
  else if (klasso==13) { return Math.floor (8*Math.random()+1); }
  else if (klasso==14) { return Math.floor (10*Math.random()+1); }
  else if (klasso==15) { return Math.floor (6*Math.random()+1); }
  else if (klasso==16) { return Math.floor (6*Math.random()+1); }
  else if (klasso==24) { return Math.floor (prestige_hit_point_dice*Math.random()+1); }
  else if (klasso==25)
   {
//racialstuff
     if ((rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90)) { return Math.floor (12*Math.random()+1); }
     if ((rayce==148) || (rayce==149)) { return Math.floor (6*Math.random()+1); }
     return Math.floor (8*Math.random()+1);
   }
  else if (klasso==26) { return Math.floor (npcother_hit_point_dice*Math.random()+1); }
  else return 0;
  }

 function rollHPhalfdragon(klasso) {
  if (klasso==1) { return Math.floor (12*Math.random()+1); }
  else if (klasso==2) { return Math.floor (8*Math.random()+1); }
  else if (klasso==3) {if (cleric_totem==1) { return Math.floor (8*Math.random()+1)} else return Math.floor (10*Math.random()+1); }
  else if (klasso==4) { return Math.floor (10*Math.random()+1); }
  else if (klasso==5) { return Math.floor (12*Math.random()+1); }
  else if (klasso==6) { return Math.floor (10*Math.random()+1); }
  else if (klasso==7) { return Math.floor (12*Math.random()+1); }
  else if (klasso==8) { return Math.floor (10*Math.random()+1); }
  else if (klasso==9) { return Math.floor (8*Math.random()+1); }
  else if (klasso==10) {if (sorcerer_totem==1) { return Math.floor (10*Math.random()+1)} else return Math.floor (6*Math.random()+1); }
  else if (klasso==11) { return Math.floor (6*Math.random()+1); }
  else if (klasso==12) { return Math.floor (6*Math.random()+1); }
  else if (klasso==13) { return Math.floor (10*Math.random()+1); }
  else if (klasso==14) { return Math.floor (12*Math.random()+1); }
  else if (klasso==15) { return Math.floor (8*Math.random()+1); }
  else if (klasso==16) { return Math.floor (8*Math.random()+1); }
  else if (klasso==24) { return Math.floor (prestige_hit_point_dice*Math.random()+1); }
  else if (klasso==25) { return Math.floor (10*Math.random()+1); }
  else if (klasso==26) { return Math.floor ((npcother_hit_point_dice+2)*Math.random()+1); }
  else return 0;
  }

 function ClassName(klasso) {
  if (klasso==1) { return "Barbarian"; }
  else if (klasso==2) { return "Bard"; }
  else if (klasso==3) { return "Cleric"; }
  else if (klasso==4) { return "Druid"; }
  else if (klasso==5) { return "Fighter"; }
  else if (klasso==6) { return "Monk"; }
  else if (klasso==7) { return "Paladin"; }
  else if (klasso==8) { return "Ranger"; }
  else if (klasso==9) { return "Rogue"; }
  else if (klasso==10) { return "Sorcerer"; }
  else if (klasso==11) { return wizard_specialty_name; }
  else if (klasso==12) { return psion_specialty_name; }
  else if (klasso==13) { return "Psi_Warrior"; }
  else if (klasso==14) { return "Soulknife"; }
  else if (klasso==15) { return "Wilder"; }
  else if (klasso==16) { return "Artificer"; }
  else if (klasso==24) { return prestige_class_name; }
  else if (klasso==25)
   {
    if (rayce==6969) { return "kurwa"; }
    if ((rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90)) { return "Dragon"; }
    if ((rayce==131) || (rayce==168) || (rayce==169) || (rayce==27) || (rayce==141) || (rayce==142) || (rayce==143) || (rayce==144) || (rayce==151) || (rayce==74) || (rayce==27) || (rayce==166)) { return "Monstrous Humanoid"; }
    if ((rayce==75) || (rayce==146) || (rayce==147)) { return "Giant"; }
    if ((rayce==148) || (rayce==149) || (rayce==167)) { return "Fey"; }
    if ((rayce==121) || (rayce==122) || (rayce==123) || (rayce==124) || (rayce==20)) { return "Reptilian Humanoid"; }
    if ((rayce==132) || (rayce==78) || (rayce==152) || (rayce==178) || (rayce==153) || (rayce==154) || (rayce==165)) { return "Outsider"; }
    if (rayce==145) { return "Aberration"; }
      return "Humanoid";
   }
  else if (klasso==26) { return npcother_class_name; }
  else return "Adventurer";
  }

 function DoHPAndOtherClassStuff() {
   if (class01==1) {newHP01=12; }
   if (class01==2) {newHP01=6; }
   if (class01==3) {newHP01=8; if (cleric_totem==1) {newHP01=6; }}
   if (class01==4) {newHP01=8; }
   if (class01==5) {newHP01=10; }
   if (class01==6) {newHP01=8; }
   if (class01==7) {newHP01=10; }
   if (class01==8) {newHP01=8; }
   if (class01==9) {newHP01=6; }
   if (class01==10) {newHP01=4; if (sorcerer_totem==1) {newHP01=8; }}
   if (class01==11) {newHP01=4; }
   if (class01==12) {newHP01=4; }
   if (class01==13) {newHP01=8; }
   if (class01==14) {newHP01=10; }
   if (class01==15) {newHP01=6; }
   if (class01==16) {newHP01=6; }
   if (class01==24) {newHP01=prestige_hit_point_dice; }
   if (class01==25)
    {
//racialstuff
     if ((rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90)) {newHP01=12; }
     else if ((rayce==148) || (rayce==149)) {newHP01=6; }
      else {newHP01=8; }
    }
   if (class01==26) {newHP01=npcother_hit_point_dice; }
   if (((rayce==82) || (halfdragon_template==true)) && (newHP01<12)) {newHP01+=2; }
   if (document.form1.methods_list.selectedIndex==5) {newHP01=rollHP(class01); }
   newHP02=rollHP(class02);
   newHP03=rollHP(class03);
   newHP04=rollHP(class04);
   newHP05=rollHP(class05);
   newHP06=rollHP(class06);
   newHP07=rollHP(class07);
   newHP08=rollHP(class08);
   newHP09=rollHP(class09);
   newHP10=rollHP(class10);
   newHP11=rollHP(class11);
   newHP12=rollHP(class12);
   newHP13=rollHP(class13);
   newHP14=rollHP(class14);
   newHP15=rollHP(class15);
   newHP16=rollHP(class16);
   newHP17=rollHP(class17);
   newHP18=rollHP(class18);
   newHP19=rollHP(class19);
   newHP20=rollHP(class20);
   newHP21=rollHP(class21);
   newHP22=rollHP(class22);
   newHP23=rollHP(class23);
   newHP24=rollHP(class24);
   newHP25=rollHP(class25);
   newHP26=rollHP(class26);
   newHP27=rollHP(class27);
   newHP28=rollHP(class28);
   newHP29=rollHP(class29);
   newHP30=rollHP(class30);
   newHP31=rollHP(class31);
   newHP32=rollHP(class32);
   newHP33=rollHP(class33);
   newHP34=rollHP(class34);
   newHP35=rollHP(class35);
   newHP36=rollHP(class36);
   newHP37=rollHP(class37);
   newHP38=rollHP(class38);
   newHP39=rollHP(class39);
   newHP40=rollHP(class40);
   newHP41=rollHP(class41);
   newHP42=rollHP(class42);
   newHP43=rollHP(class43);
   newHP44=rollHP(class44);
   newHP45=rollHP(class45);
   newHP46=rollHP(class46);
   newHP47=rollHP(class47);
   newHP48=rollHP(class48);
   newHP49=rollHP(class49);
   newHP50=rollHP(class50);
   newHP51=rollHP(class51);
   newHP52=rollHP(class52);
   newHP53=rollHP(class53);
   newHP54=rollHP(class54);
   newHP55=rollHP(class55);
   newHP56=rollHP(class56);
   newHP57=rollHP(class57);
   newHP58=rollHP(class58);
   newHP59=rollHP(class59);
   newHP60=rollHP(class60);
   newHP61=rollHP(class61);
   newHP62=rollHP(class62);
   newHP63=rollHP(class63);
   newHP64=rollHP(class64);
   newHP65=rollHP(class65);
   newHP66=rollHP(class66);
   newHP67=rollHP(class67);
   newHP68=rollHP(class68);
   newHP69=rollHP(class69);
   newHP70=rollHP(class70);
   newHP71=rollHP(class71);
   newHP72=rollHP(class72);
   newHP73=rollHP(class73);
   newHP74=rollHP(class74);
   newHP75=rollHP(class75);
   newHP76=rollHP(class76);
   newHP77=rollHP(class77);
   newHP78=rollHP(class78);
   newHP79=rollHP(class79);
   newHP80=rollHP(class80);
   newHP81=rollHP(class81);
   newHP82=rollHP(class82);
   newHP83=rollHP(class83);
   newHP84=rollHP(class84);
   newHP85=rollHP(class85);
   newHP86=rollHP(class86);
   newHP87=rollHP(class87);
   newHP88=rollHP(class88);
   newHP89=rollHP(class89);
   newHP90=rollHP(class90);
   newHP91=rollHP(class91);
   newHP92=rollHP(class92);
   newHP93=rollHP(class93);
   newHP94=rollHP(class94);
   newHP95=rollHP(class95);
   newHP96=rollHP(class96);
   newHP97=rollHP(class97);
   newHP98=rollHP(class98);
   newHP99=rollHP(class99);
   newHP100=rollHP(class100);
  }

 function lock_classes() {
  if (ClassesHaveBeenEstablished==true) { return; }
  if (class01 == 0) { 
  	document.form1.third_comment_box.value="Not yet"; 
  	} else
  if (barbarian_levels + epic_barbarian_levels
    + bard_levels + epic_bard_levels
    + cleric_levels + epic_cleric_levels
    + druid_levels + epic_druid_levels
    + fighter_levels + epic_fighter_levels
    + monk_levels + epic_monk_levels
    + paladin_levels + epic_paladin_levels
    + ranger_levels + epic_ranger_levels
    + rogue_levels + epic_rogue_levels
    + sorcerer_levels + epic_sorcerer_levels
    + wizard_levels + epic_wizard_levels
    + psion_levels + epic_psion_levels
    + psiwarrior_levels + epic_psiwarrior_levels
    + soulknife_levels + epic_soulknife_levels
    + wilder_levels + epic_wilder_levels
    + artificer_levels + epic_artificer_levels
    + humanoid_levels
    + prestige_levels  + epic_prestige_levels + npcother_levels + epic_npcother_levels<total_levels + epic_total_levels)
    { document.form1.third_comment_box.value="Keep working on your classes"; }
   else
    {

     if ((cleric_levels<11) && (bard_levels<11) && (npcother_levels + epic_npcother_levels<11) && (psion_levels<11)
      && (wizard_levels<11) && (sorcerer_levels<11))
       {lich_template=false;document.form1.template_lich.checked=false; }
     if (total_levels<6) {deathknight_template=false;document.form1.template_deathknight.checked=false; }
     AddUpTheClasses();
     DistributeEpicClasses();
     GenerateClassString();
     ClassesHaveBeenEstablished=true;
     UncheckForbiddenClassTotems();
     document.form1.third_comment_box.value="You chose a "+class_string+".\r";
     xp_penalty();
     document.form1.third_comment_box.value+=stringy+"\r";
     document.form1.third_comment_box.value+="Now complete the following as applicable.";
     DoHPAndOtherClassStuff()
     Domains();
     DoYourFeatEntitlements();
     AdjustRangerFoes();
     AdjustEpicAbilityGains();
   if (wizard_levels + epic_wizard_levels>0) { document.form1.choose_specialty[0].checked=true; }
   if ((wizard_levels + epic_wizard_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || ((npcother_levels + epic_npcother_levels>1) && (npcother_class_name=="Adept"))) { document.form1.choose_familiar[0].checked=true; }
   if ((wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (barbarian_levels + epic_barbarian_levels>0) || (bard_levels + epic_bard_levels>0) || (psion_levels + epic_psion_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (cleric_levels + epic_cleric_levels>0) || (fighter_levels + epic_fighter_levels>0) || (paladin_levels + epic_paladin_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (sorcerer_levels + epic_sorcerer_levels>0) || (rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==132))
    {already_knows_simple_weapons=true; }
   if ((barbarian_levels + epic_barbarian_levels>0) || (fighter_levels + epic_fighter_levels>0) || (paladin_levels + epic_paladin_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rayce==132) || (rayce==165))
    {already_knows_martial_weapons=true; }
   if ((wilder_levels + epic_wilder_levels>0) || (artificer_levels + epic_artificer_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (barbarian_levels + epic_barbarian_levels>0) || (fighter_levels + epic_fighter_levels>0) || (sorcerer_totem==1) || ((cleric_levels + epic_cleric_levels>0) && (cleric_totem==1)) || (bard_levels + epic_bard_levels>0) || (druid_levels + epic_druid_levels>0) || (fighter_levels + epic_fighter_levels>0) || (paladin_levels + epic_paladin_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rogue_levels + epic_rogue_levels>0) || (rayce==86) || (rayce==87) || (rayce==88) || (rayce==89) || (rayce==90) || (rayce==132))
    {
     already_knows_light_armor=true;
    }

  if ((barbarian_levels + epic_barbarian_levels>0) || (artificer_levels + epic_artificer_levels>0) || (druid_levels + epic_druid_levels>0) || ((fighter_levels + epic_fighter_levels>0) && (fighter_totem!=1)) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (paladin_levels + epic_paladin_levels>0) || (rayce==90) || (rayce==132))
    {already_knows_medium_armor=true; }
   if (((cleric_levels + epic_cleric_levels>0) && (cleric_totem!=1)) || ((fighter_levels + epic_fighter_levels>0) && (fighter_totem!=1)) || (paladin_levels + epic_paladin_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (rayce==90))
    {already_knows_heavy_armor=true; }
   if ((wilder_levels + epic_wilder_levels>0) || (soulknife_levels + epic_soulknife_levels>0) || (barbarian_levels + epic_barbarian_levels>0) || (bard_levels + epic_bard_levels>0) || (cleric_levels + epic_cleric_levels>0) || (druid_levels + epic_druid_levels>0) || ((fighter_levels + epic_fighter_levels>0) && (fighter_totem!=1)) || (paladin_levels + epic_paladin_levels>0) || (psiwarrior_levels + epic_psiwarrior_levels>0) || (ranger_levels + epic_ranger_levels>0) || (rayce==86) || (rayce==90) || (rayce==132))
    {already_knows_shields=true; }
   if ((fighter_levels + epic_fighter_levels>0) && (fighter_totem!=1)) {already_knows_tower_shield=true; }
   if (already_knows_heavy_armor==true) {already_knows_medium_armor=true; }
   if (already_knows_medium_armor==true) {already_knows_light_armor=true; }
   if (already_knows_martial_weapons==true) {already_knows_simple_weapons=true; }
   if ((spectral_template==true) || (wraith_template==true) || (umbral_template==true))
    {
         already_knows_simple_weapons=false;
         already_knows_martial_weapons=false;
         already_knows_light_armor=false;
         already_knows_medium_armor=false;
         already_knows_heavy_armor=false;
         already_knows_shields=false;
         already_knows_tower_shield=false;
    }
   }
  ArrowShow();
  }

 function StartingHumanoidLevels() {
//racialstuff
  if ((rayce==167) || (rayce==148))
   {
    document.form1.choose_class01[16].checked=true; class01=25;
   }
  if ((rayce==20) || (rayce==169) || (rayce==24) || (rayce==27) || (rayce==34) || (rayce==86) || (rayce==87) || (rayce==121) || (rayce==122) || (rayce==123) || (rayce==124) || (rayce==131) || (rayce==132) || (rayce==143) || (rayce==173))
   {
    document.form1.choose_class01[16].checked=true; class01=25;
    if (total_levels>1) { document.form1.choose_class02[16].checked=true; class02=25; }
   }
  if ((rayce==23) || (rayce==78))
   {
    document.form1.choose_class01[16].checked=true; class01=25;
    if (total_levels>1) { document.form1.choose_class02[16].checked=true; class02=25; }
    if (total_levels>2) { document.form1.choose_class03[16].checked=true; class03=25; }
   }
  if ((rayce==74) || (rayce==75) || (rayce==89) || (rayce==141) || (rayce==142) || (rayce==144))
   {
    document.form1.choose_class01[16].checked=true; class01=25;
    if (total_levels>1) { document.form1.choose_class02[16].checked=true; class02=25; }
    if (total_levels>2) { document.form1.choose_class03[16].checked=true; class03=25; }
    if (total_levels>3) { document.form1.choose_class04[16].checked=true; class04=25; }
   }
  if ((rayce==146) || (rayce==149) || (rayce==165) || (rayce==166) || (rayce==177))
   {
    document.form1.choose_class01[16].checked=true; class01=25;
    if (total_levels>1) { document.form1.choose_class02[16].checked=true; class02=25; }
    if (total_levels>2) { document.form1.choose_class03[16].checked=true; class03=25; }
    if (total_levels>3) { document.form1.choose_class04[16].checked=true; class04=25; }
    if (total_levels>4) { document.form1.choose_class05[16].checked=true; class05=25; }
   }
  if ((rayce==90) || (rayce==147) || (rayce==153) || (rayce==154))
   {
    document.form1.choose_class01[16].checked=true; class01=25;
    if (total_levels>1) { document.form1.choose_class02[16].checked=true; class02=25; }
    if (total_levels>2) { document.form1.choose_class03[16].checked=true; class03=25; }
    if (total_levels>3) { document.form1.choose_class04[16].checked=true; class04=25; }
    if (total_levels>4) { document.form1.choose_class05[16].checked=true; class05=25; }
    if (total_levels>5) { document.form1.choose_class06[16].checked=true; 
    	document.form1.choose_class06[16].checked=false; class06=25; }
   }
  if (rayce==152)
   {
    document.form1.choose_class01[16].checked=true; class01=25;
    if (total_levels>1) { document.form1.choose_class02[16].checked=true; class02=25; }
    if (total_levels>2) { document.form1.choose_class03[16].checked=true; class03=25; }
    if (total_levels>3) { document.form1.choose_class04[16].checked=true; class04=25; }
    if (total_levels>4) { document.form1.choose_class05[16].checked=true; class05=25; }
    if (total_levels>5) { document.form1.choose_class06[16].checked=true; 
    	document.form1.choose_class06[16].checked=false; 
    	class06=25; }
    if (total_levels>6) { document.form1.choose_class07[16].checked=true; 
    	document.form1.choose_class07[16].checked=false; 
    	class07=25; }
   }
  if ((rayce==88) || (rayce==145))
   {
    document.form1.choose_class01[16].checked=true; class01=25;
    if (total_levels>1) { document.form1.choose_class02[16].checked=true; class02=25; }
    if (total_levels>2) { document.form1.choose_class03[16].checked=true; class03=25; }
    if (total_levels>3) { document.form1.choose_class04[16].checked=true; class04=25; }
    if (total_levels>4) { document.form1.choose_class05[16].checked=true; class05=25; }
    if (total_levels>5) { document.form1.choose_class06[16].checked=true; 
    	document.form1.choose_class06[16].checked=false; 
    	class06=25; }
    if (total_levels>6) { document.form1.choose_class07[16].checked=true; 
    	document.form1.choose_class07[16].checked=false; 
    	class07=25; }
    if (total_levels>7) { document.form1.choose_class08[16].checked=true; 
    	document.form1.choose_class08[16].checked=false; 
    	class08=25; }
   }
  if (rayce==168)
   {
    document.form1.choose_class01[16].checked=true; class01=25;
    if (total_levels>1) { document.form1.choose_class02[16].checked=true; class02=25; }
    if (total_levels>2) { document.form1.choose_class03[16].checked=true; class03=25; }
    if (total_levels>3) { document.form1.choose_class04[16].checked=true; class04=25; }
    if (total_levels>4) { document.form1.choose_class05[16].checked=true; class05=25; }
    if (total_levels>5) { document.form1.choose_class06[16].checked=true; document.form1.choose_class06[16].checked=false; class06=25; }
    if (total_levels>6) { document.form1.choose_class07[16].checked=true; document.form1.choose_class07[16].checked=false; class07=25; }
    if (total_levels>7) { document.form1.choose_class08[16].checked=true; document.form1.choose_class08[16].checked=false; class08=25; }
    if (total_levels>8) { document.form1.choose_class09[16].checked=true; document.form1.choose_class09[16].checked=false; class09=25; }
   }
  if ((rayce==176) || (rayce==178))
   {
    document.form1.choose_class01[16].checked=true; class01=25;
    if (total_levels>1) { document.form1.choose_class02[16].checked=true; class02=25; }
    if (total_levels>2) { document.form1.choose_class03[16].checked=true; class03=25; }
    if (total_levels>3) { document.form1.choose_class04[16].checked=true; class04=25; }
    if (total_levels>4) { document.form1.choose_class05[16].checked=true; class05=25; }
    if (total_levels>5) { document.form1.choose_class06[16].checked=true; document.form1.choose_class06[16].checked=false; class06=25; }
    if (total_levels>6) { document.form1.choose_class07[16].checked=true; document.form1.choose_class07[16].checked=false; class07=25; }
    if (total_levels>7) { document.form1.choose_class08[16].checked=true; document.form1.choose_class08[16].checked=false; class08=25; }
    if (total_levels>8) { document.form1.choose_class09[16].checked=true; document.form1.choose_class09[16].checked=false; class09=25; }
    if (total_levels>9) { document.form1.choose_class10[16].checked=true; document.form1.choose_class10[16].checked=false; class10=25; }
    if (total_levels>10) { document.form1.choose_class11[16].checked=true; document.form1.choose_class11[16].checked=false; class11=25; }
    if (total_levels>11) { document.form1.choose_class12[16].checked=true; document.form1.choose_class12[16].checked=false; class12=25; }
   }

  AddUpTheClasses();
  }

function HowManyMonstrousLevels() {
  if (rayce==173) { return 2; }
  if (rayce==90) { return 6; }
  if (rayce==89) { return 4; }
  if (rayce==88) { return 8; }
  if (rayce==87) { return 2; }
  if (rayce==86) { return 2; }
  if (rayce==20) { return 2; }
  if (rayce==121) { return 2; }
  if (rayce==122) { return 2; }
  if (rayce==123) { return 2; }
  if (rayce==124) { return 3; }
  if (rayce==78) { return 3; }
  if (rayce==165) { return 5; }
  if (rayce==152) { return 7; }
  if (rayce==178) { return 12; }
  if (rayce==153) { return 6; }
  if (rayce==154) { return 6; }
  if (rayce==131) { return 2; }
  if (rayce==132) { return 2; }
  if (rayce==24) { return 2; }
  if (rayce==27) { return 2; }
  if (rayce==34) { return 2; }
  if (rayce==74) { return 4; }
  if (rayce==168) { return 9; }
  if (rayce==169) { return 2; }
  if (rayce==167) { return 1; }
  if (rayce==166) { return 5; }
  if (rayce==75) { return 4; }
  if (rayce==176) { return 12; }
  if (rayce==177) { return 5; }
  if (rayce==141) { return 4; }
  if (rayce==142) { return 4; }
  if (rayce==143) { return 2; }
  if (rayce==144) { return 4; }
  if (rayce==145) { return 8; }
  if (rayce==146) { return 5; }
  if (rayce==147) { return 6; }
  if (rayce==149) { return 5; }
  return 0;
 }

 function assignclass(whatlevel,whatclass) {
  StartingHumanoidLevels();
//racialstuff
  if (whatlevel<=HowManyMonstrousLevels(rayce))
   {
    if (whatlevel==1) { document.form1.choose_class01[16].checked=true; }
    if (whatlevel==2) { document.form1.choose_class02[16].checked=true; }
    if (whatlevel==3) { document.form1.choose_class03[16].checked=true; }
    if (whatlevel==4) { document.form1.choose_class04[16].checked=true; }
    if (whatlevel==5) { document.form1.choose_class05[16].checked=true; }
    if (whatlevel==6)
     {
      document.form1.choose_class06[0].checked=true;
      document.form1.choose_class06[0].checked=false;
     }
    if (whatlevel==7)
     {
      document.form1.choose_class07[0].checked=true;
      document.form1.choose_class07[0].checked=false;
     }
    if (whatlevel==8)
     {
      document.form1.choose_class08[0].checked=true;
      document.form1.choose_class08[0].checked=false;
     }
    if (whatlevel==9)
     {
      document.form1.choose_class09[0].checked=true;
      document.form1.choose_class09[0].checked=false;
     }
    if (whatlevel==10)
     {
      document.form1.choose_class10[0].checked=true;
      document.form1.choose_class10[0].checked=false;
     }
    if (whatlevel==11)
     {
      document.form1.choose_class11[0].checked=true;
      document.form1.choose_class11[0].checked=false;
     }
    if (whatlevel==12)
     {
      document.form1.choose_class12[0].checked=true;
      document.form1.choose_class12[0].checked=false;
     }
    return;
   }
  if (ClassesHaveBeenEstablished==true) {ShowHowWeChoseClasses(); }
  else if (CharacterTypeHasBeenEstablished==false) {NegateAllClassChoicesHereAndBelow(1); }
  else if ((class01==0) && (whatlevel>1)) {NegateAllClassChoicesHereAndBelow(1); }
  else if ((whatclass==25) && (HowManyMonstrousLevels()==0)) {ShowHowWeChoseClasses(); }
  else if (((alignment==1) || (alignment==4) || (alignment==7)) && ((whatclass==1) || (whatclass==2))) {
  	alert("Cannot be lawful");
  	ShowHowWeChoseClasses(); }
  else if ((whatclass==12) && (intelligence<11)) {
  	alert("Low intelligence");
  	ShowHowWeChoseClasses(); }
  else if ((whatclass==16) && (intelligence<11)) {
  	alert("Low intelligence");
  	ShowHowWeChoseClasses(); }
  else if ((whatclass==13) && (wisdom<11)) {
  	alert("Low wisdom");
  	ShowHowWeChoseClasses(); }
  else if ((whatclass==15) && (charisma<11)) {
  	alert("Low charisma");
  	ShowHowWeChoseClasses(); }
  else if ((whatclass==15) && ((charisma<11) || (intelligence<13))) {
  	alert("Low intelligence");
  	ShowHowWeChoseClasses(); }
  else if (((alignment==1) || (alignment==3) || (alignment==7) || (alignment==9)) && (whatclass==4)) {alert("Wrong alignment");ShowHowWeChoseClasses(); }
  else if (((alignment==2) || (alignment==3) || (alignment==5) || (alignment==6) || (alignment==8) || (alignment==9)) && (whatclass==6)) {
  	alert("Must be lawful");
  	ShowHowWeChoseClasses(); }
  else if ((alignment!=1) && (whatclass==7)) {
  	alert("Must be lawful good");
  	ShowHowWeChoseClasses(); }
  else if ((whatlevel>total_levels) && (whatlevel!=21)) {
  	alert("Not available"); 
  	ShowHowWeChoseClasses(); }
  else
   {
      if (whatlevel<2) {class01=whatclass; }
      if ((whatlevel<3) && (total_levels>=2)) {class02=whatclass; }
      if ((whatlevel<4) && (total_levels>=3)) {class03=whatclass; }
      if ((whatlevel<5) && (total_levels>=4)) {class04=whatclass; }
      if ((whatlevel<6) && (total_levels>=5)) {class05=whatclass; }
      if ((whatlevel<7) && (total_levels>=6)) {class06=whatclass; }
      if ((whatlevel<8) && (total_levels>=7)) {class07=whatclass; }
      if ((whatlevel<9) && (total_levels>=8)) {class08=whatclass; }
      if ((whatlevel<10) && (total_levels>=9)) {class09=whatclass; }
      if ((whatlevel<11) && (total_levels>=10)) {class10=whatclass; }
      if ((whatlevel<12) && (total_levels>=11)) {class11=whatclass; }
      if ((whatlevel<13) && (total_levels>=12)) {class12=whatclass; }
      if ((whatlevel<14) && (total_levels>=13)) {class13=whatclass; }
      if ((whatlevel<15) && (total_levels>=14)) {class14=whatclass; }
      if ((whatlevel<16) && (total_levels>=15)) {class15=whatclass; }
      if ((whatlevel<17) && (total_levels>=16)) {class16=whatclass; }
      if ((whatlevel<18) && (total_levels>=17)) {class17=whatclass; }
      if ((whatlevel<19) && (total_levels>=18)) {class18=whatclass; }
      if ((whatlevel<20) && (total_levels>=19)) {class19=whatclass; }
      if ((whatlevel<21) && (total_levels>=20)) {class20=whatclass; }
      if ((whatlevel<22) && (epic_total_levels>0)) {class_epic=whatclass; if (class_epic>13) {class_epic=5; }}
      ShowHowWeChoseClasses();
   }
  ArrowShow();
  }

function ShowHowWeChoseClasses() {
      NegateAllClassChoicesHereAndBelow(1);
      if (class01>0)
       {
        if (class01==26) { document.form1.choose_class01[17].checked=true; } else
        if (class01==25) { document.form1.choose_class01[16].checked=true; }
         else { document.form1.choose_class01[class01-1].checked=true; }
       }
      if (class02>0)
       {
        if (class02==26) { document.form1.choose_class02[17].checked=true; } else
        if (class02==25) { document.form1.choose_class02[16].checked=true; }
         else { document.form1.choose_class02[class02-1].checked=true; }
       }
      if (class03>0)
       {
        if (class03==26) { document.form1.choose_class03[17].checked=true; } else
        if (class03==25) { document.form1.choose_class03[16].checked=true; }
         else { document.form1.choose_class03[class03-1].checked=true; }
       }
      if (class04>0)
       {
        if (class04==26) { document.form1.choose_class04[17].checked=true; } else
        if (class04==25) { document.form1.choose_class04[16].checked=true; }
         else { document.form1.choose_class04[class04-1].checked=true; }
       }
      if (class05>0)
       {
        if (class05==26) { document.form1.choose_class05[17].checked=true; } else
        if (class05==25) { document.form1.choose_class05[16].checked=true; }
         else { document.form1.choose_class05[class05-1].checked=true; }
       }
     if (class06==26) { document.form1.choose_class06[17].checked=true; } else
      if (class06==24) { document.form1.choose_class06[16].checked=true; } else
      if (class06==25) { document.form1.choose_class06[0].checked=true;document.form1.choose_class06[0].checked=false; } else
      if (class06>0) { document.form1.choose_class06[class06-1].checked=true; }
     if (class07==26) { document.form1.choose_class07[17].checked=true; } else
      if (class07==24) { document.form1.choose_class07[16].checked=true; } else
      if (class07==25) { document.form1.choose_class07[0].checked=true;document.form1.choose_class07[0].checked=false; } else
      if (class07>0) { document.form1.choose_class07[class07-1].checked=true; }
     if (class08==26) { document.form1.choose_class08[17].checked=true; } else
      if (class08==24) { document.form1.choose_class08[16].checked=true; } else
      if (class08==25) { document.form1.choose_class08[0].checked=true;document.form1.choose_class08[0].checked=false; } else
      if (class08>0) { document.form1.choose_class08[class08-1].checked=true; }
     if (class09==26) { document.form1.choose_class09[17].checked=true; } else
      if (class09==24) { document.form1.choose_class09[16].checked=true; } else
      if (class09==25) { document.form1.choose_class09[0].checked=true;document.form1.choose_class09[0].checked=false; } else
      if (class09>0) { document.form1.choose_class09[class09-1].checked=true; }
     if (class10==26) { document.form1.choose_class10[17].checked=true; } else
      if (class10==24) { document.form1.choose_class10[16].checked=true; } else
      if (class10==25) { document.form1.choose_class10[0].checked=true;document.form1.choose_class10[0].checked=false; } else
      if (class10>0) { document.form1.choose_class10[class10-1].checked=true; }
     if (class11==26) { document.form1.choose_class11[17].checked=true; } else
      if (class11==24) { document.form1.choose_class11[16].checked=true; } else
      if (class11==25) { document.form1.choose_class11[0].checked=true;document.form1.choose_class11[0].checked=false; } else
      if (class11>0) { document.form1.choose_class11[class11-1].checked=true; }
     if (class12==26) { document.form1.choose_class12[17].checked=true; } else
      if (class12==24) { document.form1.choose_class12[16].checked=true; } else
      if (class12==25) { document.form1.choose_class12[0].checked=true;document.form1.choose_class12[0].checked=false; } else
      if (class12>0) { document.form1.choose_class12[class12-1].checked=true; }
     if (class13==26) { document.form1.choose_class13[17].checked=true; } else
      if (class13==24) { document.form1.choose_class13[16].checked=true; } else
      if (class13>0) { document.form1.choose_class13[class13-1].checked=true; }
     if (class14==26) { document.form1.choose_class14[17].checked=true; } else
      if (class14==24) { document.form1.choose_class14[16].checked=true; } else
      if (class14>0) { document.form1.choose_class14[class14-1].checked=true; }
     if (class15==26) { document.form1.choose_class15[17].checked=true; } else
      if (class15==24) { document.form1.choose_class15[16].checked=true; } else
      if (class15>0) { document.form1.choose_class15[class15-1].checked=true; }
     if (class16==26) { document.form1.choose_class16[17].checked=true; } else
      if (class16==24) { document.form1.choose_class16[16].checked=true; } else
      if (class16>0) { document.form1.choose_class16[class16-1].checked=true; }
     if (class17==26) { document.form1.choose_class17[17].checked=true; } else
      if (class17==24) { document.form1.choose_class17[16].checked=true; } else
      if (class17>0) { document.form1.choose_class17[class17-1].checked=true; }
     if (class18==26) { document.form1.choose_class18[17].checked=true; } else
      if (class18==24) { document.form1.choose_class18[16].checked=true; } else
      if (class18>0) { document.form1.choose_class18[class18-1].checked=true; }
     if (class19==26) { document.form1.choose_class19[17].checked=true; } else
      if (class19==24) { document.form1.choose_class19[16].checked=true; } else
      if (class19>0) { document.form1.choose_class19[class19-1].checked=true; }
     if (class20==26) { document.form1.choose_class20[17].checked=true; } else
      if (class20==24) { document.form1.choose_class20[16].checked=true; } else
      if (class20>0) { document.form1.choose_class20[class20-1].checked=true; }

      document.form1.third_comment_box.value="";
      NegateNonEpicClassLevels();
      AddUpTheClasses();
      document.form1.epic_levels_list.selectedIndex=epic_total_levels;
      EpicClasses();
      if ((bard_levels>=2) && (charisma<11)) { document.form1.third_comment_box.value+="Charisma is low for these bard levels.\r"; } else
      if ((bard_levels>=5) && (charisma==12)) { document.form1.third_comment_box.value+="Charisma is low for these bard levels.\r"; } else
      if ((bard_levels>=7) && (charisma==13)) { document.form1.third_comment_box.value+="Charisma is low for these bard levels.\r"; } else
      if ((bard_levels>=10) && (charisma==14)) { document.form1.third_comment_box.value+="Charisma is low for these bard levels.\r"; } else
      if ((bard_levels>=13) && (charisma==15)) { document.form1.third_comment_box.value+="Charisma is low for these bard levels.\r"; }

      if ((sorcerer_levels>=1) && (charisma<11)) { document.form1.third_comment_box.value+="Charisma is low for these sorcerer levels.\r"; } else
      if ((sorcerer_levels>=5) && (charisma==12)) { document.form1.third_comment_box.value+="Charisma is low for these sorcerer levels.\r"; } else
      if ((sorcerer_levels>=7) && (charisma==13)) { document.form1.third_comment_box.value+="Charisma is low for these sorcerer levels.\r"; } else
      if ((sorcerer_levels>=10) && (charisma==14)) { document.form1.third_comment_box.value+="Charisma is low for these sorcerer levels.\r"; } else
      if ((sorcerer_levels>=13) && (charisma==15)) { document.form1.third_comment_box.value+="Charisma is low for these sorcerer levels.\r"; }


      if ((wizard_levels + epic_wizard_levels>=1) && (intelligence<11)) { document.form1.third_comment_box.value+="Intelligence is low for these wizard levels.\r"; } else
      if ((wizard_levels + epic_wizard_levels>=3) && (intelligence==12)) { document.form1.third_comment_box.value+="Intelligence is low for these wizard levels.\r"; } else
      if ((wizard_levels + epic_wizard_levels>=5) && (intelligence==13)) { document.form1.third_comment_box.value+="Intelligence is low for these wizard levels.\r"; } else
      if ((wizard_levels + epic_wizard_levels>=7) && (intelligence==14)) { document.form1.third_comment_box.value+="Intelligence is low for these wizard levels.\r"; } else
      if ((wizard_levels>=11) && (intelligence==15)) { document.form1.third_comment_box.value+="Intelligence is low for these wizard levels.\r"; }
      if ((cleric_levels>=1) && (wisdom<11)) { document.form1.third_comment_box.value+="Wisdom is low for these cleric levels.\r"; } else
      if ((cleric_levels>=3) && (wisdom==12)) { document.form1.third_comment_box.value+="Wisdom is low for these cleric levels.\r"; } else
      if ((cleric_levels>=5) && (wisdom==13)) { document.form1.third_comment_box.value+="Wisdom is low for these cleric levels.\r"; } else
      if ((cleric_levels>=7) && (wisdom==14)) { document.form1.third_comment_box.value+="Wisdom is low for these cleric levels.\r"; } else
      if ((cleric_levels>=11) && (wisdom==15)) { document.form1.third_comment_box.value+="Wisdom is low for these cleric levels.\r"; }
      if ((druid_levels + epic_druid_levels>=1) && (wisdom<11)) { document.form1.third_comment_box.value+="Wisdom is low for these druid levels.\r"; } else
      if ((druid_levels + epic_druid_levels>=3) && (wisdom==12)) { document.form1.third_comment_box.value+="Wisdom is low for these druid levels.\r"; } else
      if ((druid_levels + epic_druid_levels>=5) && (wisdom==13)) { document.form1.third_comment_box.value+="Wisdom is low for these druid levels.\r"; } else
      if ((druid_levels + epic_druid_levels>=7) && (wisdom==14)) { document.form1.third_comment_box.value+="Wisdom is low for these druid levels.\r"; } else
      if ((druid_levels + epic_druid_levels>=11) && (wisdom==15)) { document.form1.third_comment_box.value+="Wisdom is low for these druid levels.\r"; }
      if ((barbarian_levels + epic_barbarian_levels>0) && (strength + dexterity + constitution<=30)) { document.form1.third_comment_box.value+="Low scores will handicap a barbarian.\r"; }
      if ((artificer_levels + epic_artificer_levels>0) && (intelligence<13)) { document.form1.third_comment_box.value+="Intelligence is low for an artificer.\r"; }
      if ((artificer_levels + epic_artificer_levels>0) && (charisma<11)) { document.form1.third_comment_box.value+="Charisma is low for an artificer.\r"; }
      if ((bard_levels>0) && (charisma<16) && ((charisma + dexterity+intelligence<=20) || (charisma<12))) { document.form1.third_comment_box.value+="Low scores may limit your bard.\r"; }
      if (
         (fighter_levels + epic_fighter_levels>0) &&
      (   ((strength + dexterity<22) && (strength<14) && (dexterity<14))
          |((constitution<10) && (strength + dexterity<28)) )
         )
          { document.form1.third_comment_box.value+="Low scores will handicap a fighter.\r"; }
      if ((paladin_levels + epic_paladin_levels>0) && (charisma + wisdom + constitution+ strength<=40)) { document.form1.third_comment_box.value+="Low scores will handicap a paladin.\r"; }
      if ((ranger_levels + epic_ranger_levels>0) && (dexterity + wisdom + constitution+ strength<=40)) { document.form1.third_comment_box.value+="Low scores will handicap a ranger.\r"; }
      if ((rogue_levels + epic_rogue_levels>0) && (dexterity+intelligence<=20) && (dexterity<16)) { document.form1.third_comment_box.value+="Low scores will handicap a rogue.\r"; }
}

function NegateAllClassChoicesHereAndBelow(herehere) {
 if (herehere< 2) { document.form1.choose_class01[0].checked=true; document.form1.choose_class01[0].checked=false; }
 if (herehere< 3) { document.form1.choose_class02[0].checked=true; document.form1.choose_class02[0].checked=false; }
 if (herehere< 4) { document.form1.choose_class03[0].checked=true; document.form1.choose_class03[0].checked=false; }
 if (herehere< 5) { document.form1.choose_class04[0].checked=true; document.form1.choose_class04[0].checked=false; }
 if (herehere< 6) { document.form1.choose_class05[0].checked=true; document.form1.choose_class05[0].checked=false; }
 if (herehere< 7) { document.form1.choose_class06[0].checked=true; document.form1.choose_class06[0].checked=false; }
 if (herehere< 8) { document.form1.choose_class07[0].checked=true; document.form1.choose_class07[0].checked=false; }
 if (herehere< 9) { document.form1.choose_class08[0].checked=true; document.form1.choose_class08[0].checked=false; }
 if (herehere<10) { document.form1.choose_class09[0].checked=true; document.form1.choose_class09[0].checked=false; }
 if (herehere<11) { document.form1.choose_class10[0].checked=true; document.form1.choose_class10[0].checked=false; }
 if (herehere<12) { document.form1.choose_class11[0].checked=true; document.form1.choose_class11[0].checked=false; }
 if (herehere<13) { document.form1.choose_class12[0].checked=true; document.form1.choose_class12[0].checked=false; }
 if (herehere<14) { document.form1.choose_class13[0].checked=true; document.form1.choose_class13[0].checked=false; }
 if (herehere<15) { document.form1.choose_class14[0].checked=true; document.form1.choose_class14[0].checked=false; }
 if (herehere<16) { document.form1.choose_class15[0].checked=true; document.form1.choose_class15[0].checked=false; }
 if (herehere<17) { document.form1.choose_class16[0].checked=true; document.form1.choose_class16[0].checked=false; }
 if (herehere<18) { document.form1.choose_class17[0].checked=true; document.form1.choose_class17[0].checked=false; }
 if (herehere<19) { document.form1.choose_class18[0].checked=true; document.form1.choose_class18[0].checked=false; }
 if (herehere<20) { document.form1.choose_class19[0].checked=true; document.form1.choose_class19[0].checked=false; }
 if (herehere<21) { document.form1.choose_class20[0].checked=true; document.form1.choose_class20[0].checked=false; }
 }

function ClearTotalLevels() {
 z=0; while (z<21) {
  document.form1.totallevels[z].checked=false;
  document.form1.totallevels[1].checked=false;
  document.form1.epic_levels_list.selectedIndex=0;
  z++;
  }
 }

function ClearRace() {
  document.form1.racechoice[0].checked=true;
  document.form1.racechoice[0].checked=false;
 }

function ClearGender() {
 z=0; while (z<2) {
  document.form1.sexchoice[z].checked=false;
  z++;
  }
 }

function ClearAlignment() {
 z=0; while (z<9) {
  document.form1.alignments[z].checked=false;
  z++;
  }
 }

function ClearAllAbilityAssignments() {
 z=0; while (z<6) {
  document.form1.firststat[z].checked=false;
  document.form1.secondstat[z].checked=false;
  document.form1.thirdstat[z].checked=false;
  document.form1.fourthstat[z].checked=false;
  document.form1.fifthstat[z].checked=false;
  document.form1.sixthstat[z].checked=false;
 z++; }
 }

function roll4d6() {
 d1=Math.floor (6*Math.random()+1);
 d2=Math.floor (6*Math.random()+1);
 d3=Math.floor (6*Math.random()+1);
 d4=Math.floor (6*Math.random()+1);
 if ((d4<=d3) && (d4<=d2) && (d4<=d1)) { return d1+d2+d3; }
 else if ((d3<=d4) && (d3<=d2) && (d3<=d1)) { return d1+d2+d4; }
 else if ((d2<=d4) && (d2<=d2) && (d2<=d1)) { return d1+d3+d4; }
 else { return d2+d3+d4; }
 }

function roll5d6() {

 d1=Math.floor (6*Math.random()+1);
 d2=Math.floor (6*Math.random()+1);
 d3=Math.floor (6*Math.random()+1);
 d4=Math.floor (6*Math.random()+1);
 d5=Math.floor (6*Math.random()+1);
 if (d2>d1) { x=d2; d2=d1; d1=x; }
 if (d3>d2) { x=d3; d3=d2; d2=x; }
 if (d4>d3) { x=d4; d4=d3; d3=x; }
 if (d5>d4) { x=d5; d5=d4; d4=x; }
 if (d2>d1) { x=d2; d2=d1; d1=x; }
 if (d3>d2) { x=d3; d3=d2; d2=x; }
 if (d4>d3) { x=d4; d4=d3; d3=x; }
 if (d5>d4) { x=d5; d5=d4; d4=x; }
 if (d2>d1) { x=d2; d2=d1; d1=x; }
 if (d3>d2) { x=d3; d3=d2; d2=x; }
 if (d4>d3) { x=d4; d4=d3; d3=x; }
 if (d5>d4) { x=d5; d5=d4; d4=x; }
 if (d2>d1) { x=d2; d2=d1; d1=x; }
 if (d3>d2) { x=d3; d3=d2; d2=x; }
 if (d4>d3) { x=d4; d4=d3; d3=x; }
 if (d5>d4) { x=d5; d5=d4; d4=x; }

 return (d1+d2+d3);
 }

function roll3d6() {
 d1=Math.floor (6*Math.random()+1);
 d2=Math.floor (6*Math.random()+1);
 d3=Math.floor (6*Math.random()+1);
 return d1+d2+d3;
 }

function RollTheDice() {
 stat1=roll4d6();
 stat2=roll4d6();
 stat3=roll4d6();
 stat4=roll4d6();
 stat5=roll4d6();
 stat6=roll4d6();
 AdjustIfTooLow4();
 if (document.form1.methods_list.selectedIndex==1)
  {
   stat1=roll5d6();
   stat2=roll5d6();
   stat3=roll5d6();
   stat4=roll5d6();
   stat5=roll5d6();
   stat6=roll5d6();
   AdjustIfTooLow5();
  }
 if (document.form1.methods_list.selectedIndex==5)
  {
   stat1=roll3d6();
   stat2=roll3d6();
   stat3=roll3d6();
   stat4=roll3d6();
   stat5=roll3d6();
   stat6=roll3d6();
   AdjustIfTooLow3();
  }
 if (document.form1.methods_list.selectedIndex==2)
  {
   stat1=15;
   stat2=14;
   stat3=13;
   stat4=12;
   stat5=10;
   stat6=8;
  }
 if (document.form1.methods_list.selectedIndex==4)
  {
   stat1=13;
   stat2=12;
   stat3=11;
   stat4=10;
   stat5=9;
   stat6=8;
  }
 if (document.form1.methods_list.selectedIndex==3)
  {
   stat1=8;
   stat2=8;
   stat3=8;
   stat4=8;
   stat5=8;
   stat6=8;
   document.form1.stat1_list.selectedIndex=5;
   document.form1.stat2_list.selectedIndex=5;
   document.form1.stat3_list.selectedIndex=5;
   document.form1.stat4_list.selectedIndex=5;
   document.form1.stat5_list.selectedIndex=5;
   document.form1.stat6_list.selectedIndex=5;
   DiceHaveBeenRolled=true;
   DisplayTrueStatistics();

  }
 if (document.form1.methods_list.selectedIndex==6)
  {
   stat1=3;
   stat2=3;
   stat3=3;
   stat4=3;
   stat5=3;
   stat6=3;
   document.form1.stat1_list.selectedIndex=0;
   document.form1.stat2_list.selectedIndex=0;
   document.form1.stat3_list.selectedIndex=0;
   document.form1.stat4_list.selectedIndex=0;
   document.form1.stat5_list.selectedIndex=0;
   document.form1.stat6_list.selectedIndex=0;
   DiceHaveBeenRolled=true;
   DisplayTrueStatistics();
  }
}

// Assign Total Levels
function assignlevel(i) {

  if (CharacterTypeHasBeenEstablished==true) {
	ClearTotalLevels();
		if (epic_total_levels>0) {
		document.form1.totallevels[20].checked=true;
		document.form1.epic_levels_list.selectedIndex=epic_total_levels;
		return;
		}
		else { document.form1.totallevels[total_levels-1].checked=true; return; }
	}
	else if (AbilitiesHaveBeenEstablished==false) { ClearTotalLevels(); }
	else {
	total_levels=i;
	ThisTakesAMoment();
	count_epic_levels();
	}
  ArrowShow();
}

function assigngender(i) {
  if ((rayce==99) || (rayce==80)) {
	ClearGender();
	return; }
  if (CharacterTypeHasBeenEstablished==true) {
    ClearGender();
    document.form1.sexchoice[2-gender].checked=true;
   }
  else if (AbilitiesHaveBeenEstablished==false) {ClearGender(); }
  else { gender=i; ThisTakesAMoment(); }
  ArrowShow();
}

function assignrace(i) {
//  rayce=i; BasicEyeColor(); BasicSkinColor(); BasicHairColor();

if (CharacterTypeHasBeenEstablished==true) {
	ClearRace();
	if (rayce==1) { document.form1.racechoice[0].checked=true; }
	if (rayce==4) { document.form1.racechoice[1].checked=true; }
	if (rayce==3) { document.form1.racechoice[2].checked=true; }
	if (rayce==5) { document.form1.racechoice[3].checked=true; }
	if (rayce==6) { document.form1.racechoice[4].checked=true; }
	if (rayce==2) { document.form1.racechoice[5].checked=true; }
	if (rayce==7) { document.form1.racechoice[6].checked=true; }
	if (rayce==101) { document.form1.racechoice[7].checked=true; }
	if (rayce==28) { document.form1.racechoice[8].checked=true; }
	if (rayce==29) { document.form1.racechoice[9].checked=true; }
	if (rayce==113) { document.form1.racechoice[10].checked=true; }
	if (rayce==168) { document.form1.racechoice[11].checked=true; }
	if (rayce==38) { document.form1.racechoice[12].checked=true; }
	if (rayce==158) { document.form1.racechoice[13].checked=true; }
	if (rayce==39) { document.form1.racechoice[14].checked=true; }
	if (rayce==40) { document.form1.racechoice[15].checked=true; }
	if (rayce==43) { document.form1.racechoice[16].checked=true; }
	if (rayce==42) { document.form1.racechoice[17].checked=true; }
	if (rayce==41) { document.form1.racechoice[18].checked=true; }
	if (rayce==44) { document.form1.racechoice[19].checked=true; }
	if (rayce==45) { document.form1.racechoice[20].checked=true; }
	if (rayce==46) { document.form1.racechoice[21].checked=true; }
	if (rayce==47) { document.form1.racechoice[22].checked=true; }
	if (rayce==155) { document.form1.racechoice[23].checked=true; }
	if (rayce==48) { document.form1.racechoice[24].checked=true; }
	if (rayce==49) { document.form1.racechoice[25].checked=true; }
	if (rayce==50) { document.form1.racechoice[26].checked=true; }
	if (rayce==52) { document.form1.racechoice[27].checked=true; }
	if (rayce==53) { document.form1.racechoice[28].checked=true; }
	if (rayce==51) { document.form1.racechoice[29].checked=true; }
	if (rayce==54) { document.form1.racechoice[30].checked=true; }
	if (rayce==55) { document.form1.racechoice[31].checked=true; }
	if (rayce==178) { document.form1.racechoice[32].checked=true; }
	if (rayce==88) { document.form1.racechoice[33].checked=true; }
	if (rayce==86) { document.form1.racechoice[34].checked=true; }
	if (rayce==136) { document.form1.racechoice[35].checked=true; }
	if (rayce==78) { document.form1.racechoice[36].checked=true; }
	if (rayce==121) { document.form1.racechoice[37].checked=true; }
	if (rayce==89) { document.form1.racechoice[38].checked=true; }
	if (rayce==23) { document.form1.racechoice[39].checked=true; }
	if (rayce==112) { document.form1.racechoice[40].checked=true; }
	if (rayce==74) { document.form1.racechoice[41].checked=true; }
	if (rayce==109) { document.form1.racechoice[42].checked=true; }
	if (rayce==35) { document.form1.racechoice[43].checked=true; }
	if (rayce==129) { document.form1.racechoice[44].checked=true; }
	if (rayce==96) { document.form1.racechoice[45].checked=true; }
	if (rayce==12) { document.form1.racechoice[46].checked=true; }
	if (rayce==91) { document.form1.racechoice[47].checked=true; }
	if (rayce==14) { document.form1.racechoice[48].checked=true; }
	if (rayce==16) { document.form1.racechoice[49].checked=true; }
	if (rayce==18) { document.form1.racechoice[50].checked=true; }
	if (rayce==163) { document.form1.racechoice[51].checked=true; }
	if (rayce==56) { document.form1.racechoice[52].checked=true; }
	if (rayce==57) { document.form1.racechoice[53].checked=true; }
	if (rayce==58) { document.form1.racechoice[54].checked=true; }
	if (rayce==59) { document.form1.racechoice[55].checked=true; }
	if (rayce==61) { document.form1.racechoice[56].checked=true; }
	if (rayce==60) { document.form1.racechoice[57].checked=true; }
	if (rayce==62) { document.form1.racechoice[58].checked=true; }
	if (rayce==63) { document.form1.racechoice[59].checked=true; }
	if (rayce==64) { document.form1.racechoice[60].checked=true; }
	if (rayce==176) { document.form1.racechoice[61].checked=true; }
	if (rayce==97) { document.form1.racechoice[62].checked=true; }
	if (rayce==141) { document.form1.racechoice[63].checked=true; }
	if (rayce==130) { document.form1.racechoice[64].checked=true; }
	if (rayce==99) { document.form1.racechoice[65].checked=true; }
	if (rayce==30) { document.form1.racechoice[66].checked=true; }
	if (rayce==114) { document.form1.racechoice[67].checked=true; }
	if (rayce==100) { document.form1.racechoice[68].checked=true; }
	if (rayce==131) { document.form1.racechoice[69].checked=true; }
	if (rayce==164) { document.form1.racechoice[70].checked=true; }
	if (rayce==122) { document.form1.racechoice[71].checked=true; }
	if (rayce==31) { document.form1.racechoice[72].checked=true; }
	if (rayce==115) { document.form1.racechoice[73].checked=true; }
	if (rayce==123) { document.form1.racechoice[74].checked=true; }
	if (rayce==37) { document.form1.racechoice[75].checked=true; }
	if (rayce==142) { document.form1.racechoice[76].checked=true; }
	if (rayce==83) { document.form1.racechoice[77].checked=true; }
	if (rayce==84) { document.form1.racechoice[78].checked=true; }
	if (rayce==24) { document.form1.racechoice[79].checked=true; }
	if (rayce==26) { document.form1.racechoice[80].checked=true; }
	if (rayce==162) { document.form1.racechoice[81].checked=true; }
	if (rayce==126) { document.form1.racechoice[82].checked=true; }
	if (rayce==15) { document.form1.racechoice[83].checked=true; }
	if (rayce==9) { document.form1.racechoice[84].checked=true; }
	if (rayce==127) { document.form1.racechoice[85].checked=true; }
	if (rayce==140) { document.form1.racechoice[86].checked=true; }
	if (rayce==143) { document.form1.racechoice[87].checked=true; }
	if (rayce==92) { document.form1.racechoice[88].checked=true; }
	if (rayce==160) { document.form1.racechoice[89].checked=true; }
	if (rayce==82) { document.form1.racechoice[90].checked=true; }
	if (rayce==161) { document.form1.racechoice[91].checked=true; }
	if (rayce==102) { document.form1.racechoice[92].checked=true; }
	if (rayce==175) { document.form1.racechoice[93].checked=true; }
	if (rayce==76) { document.form1.racechoice[94].checked=true; }
	if (rayce==133) { document.form1.racechoice[95].checked=true; }
	if (rayce==85) { document.form1.racechoice[96].checked=true; }
	if (rayce==21) { document.form1.racechoice[97].checked=true; }
	if (rayce==124) { document.form1.racechoice[98].checked=true; }
	if (rayce==153) { document.form1.racechoice[99].checked=true; }
	if (rayce==167) { document.form1.racechoice[100].checked=true; }
	if (rayce==170) { document.form1.racechoice[101].checked=true; }
	if (rayce==154) { document.form1.racechoice[102].checked=true; }
	if (rayce==65) { document.form1.racechoice[103].checked=true; }
	if (rayce==66) { document.form1.racechoice[104].checked=true; }
	if (rayce==67) { document.form1.racechoice[105].checked=true; }
	if (rayce==68) { document.form1.racechoice[106].checked=true; }
	if (rayce==71) { document.form1.racechoice[107].checked=true; }
	if (rayce==70) { document.form1.racechoice[108].checked=true; }
	if (rayce==69) { document.form1.racechoice[109].checked=true; }
	if (rayce==72) { document.form1.racechoice[110].checked=true; }
	if (rayce==73) { document.form1.racechoice[111].checked=true; }
	if (rayce==93) { document.form1.racechoice[112].checked=true; }
	if (rayce==110) { document.form1.racechoice[113].checked=true; }
	if (rayce==87) { document.form1.racechoice[114].checked=true; }
	if (rayce==81) { document.form1.racechoice[115].checked=true; }
	if (rayce==25) { document.form1.racechoice[116].checked=true; }
	if (rayce==134) { document.form1.racechoice[117].checked=true; }
	if (rayce==169) { document.form1.racechoice[118].checked=true; }
	if (rayce==20) { document.form1.racechoice[119].checked=true; }
	if (rayce==107) { document.form1.racechoice[120].checked=true; }
	if (rayce==177) { document.form1.racechoice[121].checked=true; }
	if (rayce==151) { document.form1.racechoice[122].checked=true; }
	if (rayce==103) { document.form1.racechoice[123].checked=true; }
	if (rayce==79) { document.form1.racechoice[124].checked=true; }
	if (rayce==145) { document.form1.racechoice[125].checked=true; }
	if (rayce==77) { document.form1.racechoice[126].checked=true; }
	if (rayce==125) { document.form1.racechoice[127].checked=true; }
	if (rayce==105) { document.form1.racechoice[128].checked=true; }
	if (rayce==117) { document.form1.racechoice[129].checked=true; }
	if (rayce==75) { document.form1.racechoice[130].checked=true; }
	if (rayce==146) { document.form1.racechoice[131].checked=true; }
	if (rayce==22) { document.form1.racechoice[132].checked=true; }
	if (rayce==148) { document.form1.racechoice[133].checked=true; }
	if (rayce==106) { document.form1.racechoice[134].checked=true; }
	if (rayce==94) { document.form1.racechoice[135].checked=true; }
	if (rayce==152) { document.form1.racechoice[136].checked=true; }
	if (rayce==179) { document.form1.racechoice[137].checked=true; }
	if (rayce==135) { document.form1.racechoice[138].checked=true; }
	if (rayce==137) { document.form1.racechoice[139].checked=true; }
	if (rayce==108) { document.form1.racechoice[140].checked=true; }
	if (rayce==149) { document.form1.racechoice[141].checked=true; }
	if (rayce==13) { document.form1.racechoice[142].checked=true; }
	if (rayce==171) { document.form1.racechoice[143].checked=true; }
	if (rayce==138) { document.form1.racechoice[144].checked=true; }
	if (rayce==118) { document.form1.racechoice[145].checked=true; }
	if (rayce==172) { document.form1.racechoice[146].checked=true; }
	if (rayce==111) { document.form1.racechoice[147].checked=true; }
	if (rayce==95) { document.form1.racechoice[148].checked=true; }
	if (rayce==90) { document.form1.racechoice[149].checked=true; }
	if (rayce==173) { document.form1.racechoice[150].checked=true; }
	if (rayce==119) { document.form1.racechoice[151].checked=true; }
	if (rayce==132) { document.form1.racechoice[152].checked=true; }
	if (rayce==17) { document.form1.racechoice[153].checked=true; }
	if (rayce==165) { document.form1.racechoice[154].checked=true; }
	if (rayce==150) { document.form1.racechoice[155].checked=true; }
	if (rayce==34) { document.form1.racechoice[156].checked=true; }
	if (rayce==33) { document.form1.racechoice[157].checked=true; }
	if (rayce==98) { document.form1.racechoice[158].checked=true; }
	if (rayce==27) { document.form1.racechoice[159].checked=true; }
	if (rayce==147) { document.form1.racechoice[160].checked=true; }
	if (rayce==174) { document.form1.racechoice[161].checked=true; }
	if (rayce==156) { document.form1.racechoice[162].checked=true; }
	if (rayce==139) { document.form1.racechoice[163].checked=true; }
	if (rayce==80) { document.form1.racechoice[164].checked=true; }
	if (rayce==32) { document.form1.racechoice[165].checked=true; }
	if (rayce==116) { document.form1.racechoice[166].checked=true; }
	if (rayce==166) { document.form1.racechoice[167].checked=true; }
	if (rayce==128) { document.form1.racechoice[168].checked=true; }
	if (rayce==10) { document.form1.racechoice[169].checked=true; }
	if (rayce==157) { document.form1.racechoice[170].checked=true; }
	if (rayce==19) { document.form1.racechoice[171].checked=true; }
	if (rayce==120) { document.form1.racechoice[172].checked=true; }
	if (rayce==159) { document.form1.racechoice[173].checked=true; }
	if (rayce==11) { document.form1.racechoice[174].checked=true; }
	if (rayce==104) { document.form1.racechoice[175].checked=true; }
	if (rayce==144) { document.form1.racechoice[176].checked=true; }
	if (rayce==36) { document.form1.racechoice[177].checked=true; }
	if (rayce==180) { document.form1.racechoice[178].checked=true; }
	if (rayce==181) { document.form1.racechoice[179].checked=true; }
	if (rayce==8) { document.form1.racechoice[180].checked=true; }
   }
	else if (AbilitiesHaveBeenEstablished==false) { ClearRace(); }

	else {
	rayce=i;
	ThisTakesAMoment();
	if (rayce==117) { document.form1.second_comment_box.value="All Neraphim are chaotic."; }
	if (rayce==119) { document.form1.second_comment_box.value="Most spikers are lawful."; }
	if (rayce==129) { document.form1.second_comment_box.value="Most chaos gnomes are chaotic."; }
	if (rayce==120) { document.form1.second_comment_box.value="Most wildren are chaotic good."; }
	if (rayce==118) { document.form1.second_comment_box.value="Most shadowswyfts are chaotic."; }
	if ((rayce==121) || (rayce==122) || (rayce==123) || (rayce==124)) { document.form1.second_comment_box.value="Most saurials are good."; }
	if (rayce==28) { document.form1.second_comment_box.value="Most aasimar are good."; }
	if (rayce==35) { document.form1.second_comment_box.value="Most chaonds are chaotic."; }
	if (rayce==78) { document.form1.second_comment_box.value="Most bariaur are chaotic good."; }
	if (rayce==152) { document.form1.second_comment_box.value="Most rakshasas are lawful and tend to evil."; }
	if (rayce==178) { document.form1.second_comment_box.value="All astral devas are good-aligned."; }
	if (rayce==153) { document.form1.second_comment_box.value="Probably all hound archons are lawful good."; }
	if (rayce==36) { document.form1.second_comment_box.value="Most zenythri are lawful."; }
	}

// if (AbilitiesHaveBeenEstablished==false) {produceCharacterSheet(); }
  ArrowShow();
  FriendlyLanguages();
}

function assignalignment(i) {
  if (CharacterTypeHasBeenEstablished==true) {
    ClearAlignment();
    document.form1.alignments[alignment-1].checked=true;
   }
  else if (AbilitiesHaveBeenEstablished==false) {ClearAlignment(); }
  else { alignment=i;
	if (rayce==153) {
    if ((alignment==3) || (alignment==6) || (alignment==9) || (alignment==5))
     {alignment=2; }
    if ((alignment==7) || (alignment==8))
     {alignment=4; }
    document.form1.alignments[alignment-1].checked=true;
   }
  ThisTakesAMoment(); }
  ArrowShow();
}

function WriteTextForCharacterSheet() {
  if ((vampire_template==true) || (lich_template==true) || (mummy_template==true) || (umbral_template==true) || (spectral_template==true) || (wight_template==true) || (wraith_template==true) || (ghost_template==true) || (deathknight_template==true) || (deathless_template==true)) { constitution=10; }
   wt=0;
   CalculateHitPoints();
   CalculateArmorClass();
   intelligence_for_bonus_spells=intelligence; 
   if (has_spellcastingprodigyintelligence==true) { intelligence_for_bonus_spells+=2; }
   wisdom_for_bonus_spells=wisdom; 
   if (has_spellcastingprodigywisdom==true) { wisdom_for_bonus_spells+=2; }
   charisma_for_bonus_spells=charisma; 
   if (has_spellcastingprodigycharisma==true) { charisma_for_bonus_spells+=2; }
   PrepareBardSpellArrays();
   PrepareClericSpellArrays();
   PrepareAdeptSpellArrays();
   PrepareArtificerSpellArrays();
   PrepareDruidSpellArrays();
   PreparePaladinSpellArrays();
   PrepareRangerSpellArrays();
   PrepareSorcererSpellArrays();
   PrepareShamanSpellArrays();
   PrepareShairSpellArrays();
   PrepareSpellthiefSpellArrays();
   PrepareFSSpellArrays();
   PrepareWizardSpellArrays();

   SecondWindowDefinition="<html><head><title>Dungeons & Dragons Character Sheet</title></head>\r<body>";

   if (FeatsAreLocked==false)
    {
     SecondWindowDefinition+="<b>Your character is not yet completed.</b><p>";
    }
   else {my_character_is_done=true; ArrowShow(); document.form1.want_another_character.src="another_character.jpg"; }
   SecondWindowDefinition+="<center><b><font size=\"+2\">";
   SecondWindowDefinition+=document.form1.moniker.value;
   x=document.form1.title_list.selectedIndex;
   if (x>0) { SecondWindowDefinition+=document.form1.title_list.options[x].value; }
   SecondWindowDefinition+="</font size></b></center><p>\r";

   if (gender==1) { SecondWindowDefinition+="Male "; }
   if (gender==2) { SecondWindowDefinition+="Female "; }
   if (gender==0) { SecondWindowDefinition+="Genderless "; }

   if (celestial_template==true) { SecondWindowDefinition+="Celestial "; }
   if (fiendish_template==true) { SecondWindowDefinition+="Fiendish "; }
   if (axiomatic_template==true) { SecondWindowDefinition+="Axiomatic "; }
   if (anarchic_template==true) { SecondWindowDefinition+="Anarchic "; }
   if (halfdragon_template==true) { SecondWindowDefinition+="Half-Dragon "; }
   if (werebear_template==true) { SecondWindowDefinition+="Werebear "; }
   if (wereboar_template==true) { SecondWindowDefinition+="Wereboar "; }
   if (wererat_template==true) { SecondWindowDefinition+="Wererat "; }
   if (weretiger_template==true) { SecondWindowDefinition+="Weretiger "; }
   if (werewolf_template==true) { SecondWindowDefinition+="Werewolf "; }
   if (vampire_template==true) { SecondWindowDefinition+="Vampire "; }
   if (deathless_template==true) { SecondWindowDefinition+="Deathless "; }
   if (ghost_template==true) { SecondWindowDefinition+="Ghost "; }
   if (saint_template==true) { SecondWindowDefinition+="Saint "; }
   if (lich_template==true) { SecondWindowDefinition+="Lich "; }
   if (mummy_template==true) { SecondWindowDefinition+="Mummy "; }
   if (spectral_template==true) { SecondWindowDefinition+="Spectral "; }
   if (umbral_template==true) { SecondWindowDefinition+="Umbral "; }
   if (wight_template==true) { SecondWindowDefinition+="Wight "; }
   if (wraith_template==true) { SecondWindowDefinition+="Wraith "; }
   if (deathknight_template==true) { SecondWindowDefinition+="Death Knight "; }
   if (halfair_template==true) { SecondWindowDefinition+="Half-Air Elemental "; }
   if (halffire_template==true) { SecondWindowDefinition+="Half-Fire Elemental "; }
   if (halfearth_template==true) { SecondWindowDefinition+="Half-Earth Elemental "; }
   if (halfwater_template==true) { SecondWindowDefinition+="Half-Water Elemental "; }
   if (halfcelestial_template==true) { SecondWindowDefinition+="Half-Celestial "; }
   if (halffiend_template==true) { SecondWindowDefinition+="Half-Fiend "; }

if (rayce==133)
 {
   if (badger_hengeyokai==true) { SecondWindowDefinition+="Badger"; }
   if (carp_hengeyokai==true) { SecondWindowDefinition+="Carp "; }
   if (cat_hengeyokai==true) { SecondWindowDefinition+="Cat "; }
   if (crab_hengeyokai==true) { SecondWindowDefinition+="Crab "; }
   if (crane_hengeyokai==true) { SecondWindowDefinition+="Crane "; }
   if (dog_hengeyokai==true) { SecondWindowDefinition+="Dog "; }
   if (fox_hengeyokai==true) { SecondWindowDefinition+="Fox "; }
   if (hare_hengeyokai==true) { SecondWindowDefinition+="Hare "; }
   if (monkey_hengeyokai==true) { SecondWindowDefinition+="Monkey "; }
   if (raccoondog_hengeyokai==true) { SecondWindowDefinition+="Raccoon&nbsp;Dog "; }
   if (rat_hengeyokai==true) { SecondWindowDefinition+="Rat "; }
   if (sparrow_hengeyokai==true) { SecondWindowDefinition+="Sparrow "; }
   if (weasel_hengeyokai==true) { SecondWindowDefinition+="Weasel "; }
 }

//racialstuff
   if (rayce==1) { SecondWindowDefinition+="Human "; }
   if (rayce==2) { SecondWindowDefinition+="Half-Elf "; }
   if (rayce==3) { SecondWindowDefinition+="Elf "; }
   if (rayce==4) { SecondWindowDefinition+="Dwarf "; }
   if (rayce==5) { SecondWindowDefinition+="Gnome "; }
   if (rayce==6) { SecondWindowDefinition+="Halfling "; }
   if (rayce==7) { SecondWindowDefinition+="Half-Orc "; }
   if (rayce==8) { SecondWindowDefinition+=document.form1.otherrace_name.value+" "; }
   if (rayce==9) { SecondWindowDefinition+="Gray Elf "; }
   if (rayce==10) { SecondWindowDefinition+="Wild Elf "; }
   if (rayce==11) { SecondWindowDefinition+="Wood Elf "; }
   if (rayce==12) { SecondWindowDefinition+="Dark Elf "; }
   if (rayce==13) { SecondWindowDefinition+="Sea Elf "; }
   if (rayce==14) { SecondWindowDefinition+="Deep Dwarf "; }
   if (rayce==15) { SecondWindowDefinition+="Gray Dwarf "; }
   if (rayce==16) { SecondWindowDefinition+="Deep Gnome "; }
   if (rayce==17) { SecondWindowDefinition+="Tallfellow Halfling "; }
   if (rayce==18) { SecondWindowDefinition+="Deep Halfling "; }
   if (rayce==19) { SecondWindowDefinition+="Wild Gnome "; }
   if (rayce==20) { SecondWindowDefinition+="Lizard Folk "; }
   if (rayce==21) { SecondWindowDefinition+="Hobgoblin "; }
   if (rayce==22) { SecondWindowDefinition+="Orc "; }
   if (rayce==23) { SecondWindowDefinition+="Bugbear "; }
   if (rayce==24) { SecondWindowDefinition+="Gnoll "; }
   if (rayce==25) { SecondWindowDefinition+="Kobold "; }
   if (rayce==26) { SecondWindowDefinition+="Goblin "; }
   if (rayce==27) { SecondWindowDefinition+="Troglodyte "; }
   if (rayce==28) { SecondWindowDefinition+="Aasimar "; }
   if (rayce==29) { SecondWindowDefinition+="Air Genasi "; }
   if (rayce==30) { SecondWindowDefinition+="Earth Genasi "; }
   if (rayce==31) { SecondWindowDefinition+="Fire Genasi "; }
   if (rayce==32) { SecondWindowDefinition+="Water Genasi "; }
   if (rayce==33) { SecondWindowDefinition+="Tiefling "; }
   if (rayce==34) { SecondWindowDefinition+="Thri-Kreen "; }
   if (rayce==35) { SecondWindowDefinition+="Chaond "; }
   if (rayce==36) { SecondWindowDefinition+="Zenythr "; }
   if (rayce==37) { SecondWindowDefinition+="Forest Gnome "; }
   if (rayce==38) { SecondWindowDefinition+="Aquatic Dwarf "; }
   if (rayce==39) { SecondWindowDefinition+="Aquatic Gnome "; }
   if (rayce==40) { SecondWindowDefinition+="Aquatic Goblin "; }
   if (rayce==41) { SecondWindowDefinition+="Aquatic Half-Elf "; }
   if (rayce==42) { SecondWindowDefinition+="Aquatic Half-Orc "; }
   if (rayce==43) { SecondWindowDefinition+="Aquatic Halfling "; }
   if (rayce==44) { SecondWindowDefinition+="Aquatic Human "; }
   if (rayce==45) { SecondWindowDefinition+="Aquatic Kobold "; }
   if (rayce==46) { SecondWindowDefinition+="Aquatic Orc "; }
   if (rayce==47) { SecondWindowDefinition+="Arctic Dwarf "; }
   if (rayce==48) { SecondWindowDefinition+="Arctic Elf "; }
   if (rayce==49) { SecondWindowDefinition+="Arctic Gnome "; }
   if (rayce==50) { SecondWindowDefinition+="Arctic Goblin "; }
   if (rayce==51) { SecondWindowDefinition+="Arctic Half-Elf "; }
   if (rayce==52) { SecondWindowDefinition+="Arctic Half-Orc "; }
   if (rayce==53) { SecondWindowDefinition+="Arctic Halfling "; }
   if (rayce==54) { SecondWindowDefinition+="Arctic Kobold "; }
   if (rayce==55) { SecondWindowDefinition+="Arctic Orc "; }
   if (rayce==56) { SecondWindowDefinition+="Desert Dwarf "; }
   if (rayce==57) { SecondWindowDefinition+="Desert Elf "; }
   if (rayce==58) { SecondWindowDefinition+="Desert Gnomes "; }
   if (rayce==59) { SecondWindowDefinition+="Desert Goblins "; }
   if (rayce==60) { SecondWindowDefinition+="Desert Half-Elf "; }
   if (rayce==61) { SecondWindowDefinition+="Desert Half-Orc "; }
   if (rayce==62) { SecondWindowDefinition+="Desert Halfling "; }
   if (rayce==63) { SecondWindowDefinition+="Desert Kobold "; }
   if (rayce==64) { SecondWindowDefinition+="Desert Orc "; }
   if (rayce==65) { SecondWindowDefinition+="Jungle Dwarf "; }
   if (rayce==66) { SecondWindowDefinition+="Jungle Elf "; }
   if (rayce==67) { SecondWindowDefinition+="Jungle Gnome "; }
   if (rayce==68) { SecondWindowDefinition+="Jungle Goblin "; }
   if (rayce==69) { SecondWindowDefinition+="Jungle Half-Elf "; }
   if (rayce==70) { SecondWindowDefinition+="Jungle Half-Orc "; }
   if (rayce==71) { SecondWindowDefinition+="Jungle Halfling "; }
   if (rayce==72) { SecondWindowDefinition+="Jungle Kobold "; }
   if (rayce==73) { SecondWindowDefinition+="Jungle Orc "; }
   if (rayce==74) { SecondWindowDefinition+="Centaur "; }
   if (rayce==75) { SecondWindowDefinition+="Ogre "; }
   if (rayce==76) { SecondWindowDefinition+="Half-Ogre "; }
   if (rayce==77) { SecondWindowDefinition+="Minotaur "; }
   if (rayce==78) { SecondWindowDefinition+="Bariaur "; }
   if ((rayce==79) && (gender==1)) { SecondWindowDefinition+="Merman "; }
   if ((rayce==79) && (gender==2)) { SecondWindowDefinition+="Mermaid "; }
   if (rayce==80) { SecondWindowDefinition+="Warforged "; }
   if (rayce==81) { SecondWindowDefinition+="Kender "; }
   if (rayce==82) { SecondWindowDefinition+="Half-Dragon "; }
   if (rayce==83) { SecondWindowDefinition+="Githyanki "; }
   if (rayce==84) { SecondWindowDefinition+="Githzerai "; }
   if (rayce==85) { SecondWindowDefinition+="High Ogre "; }
   if (rayce==86) { SecondWindowDefinition+="Baaz Draconian "; }
   if (rayce==87) { SecondWindowDefinition+="Kapak Draconian "; }
   if (rayce==88) { SecondWindowDefinition+="Aurak Draconian "; }
   if (rayce==89) { SecondWindowDefinition+="Bozak Draconian "; }
   if (rayce==90) { SecondWindowDefinition+="Sivak Draconian "; }
   if (rayce==91) { SecondWindowDefinition+="Deep Dwarf "; }
   if (rayce==92) { SecondWindowDefinition+="Gully Dwarf "; }
   if (rayce==93) { SecondWindowDefinition+="Kagonesti Elf "; }
   if (rayce==94) { SecondWindowDefinition+="Qualinesti Elf "; }
   if (rayce==95) { SecondWindowDefinition+="Silvanesti Elf "; }
   if (rayce==96) { SecondWindowDefinition+="Dargonesti Elf "; }
   if (rayce==97) { SecondWindowDefinition+="Dimernesti Elf "; }
   if (rayce==98) { SecondWindowDefinition+="Tinker Gnome "; }
   if (rayce==99) { SecondWindowDefinition+="Dromite "; }
   if (rayce==100) { SecondWindowDefinition+="Elan "; }
   if (rayce==101) { SecondWindowDefinition+="Aarakocra "; }
   if (rayce==102) { SecondWindowDefinition+="Half-Giant "; }
   if (rayce==103) { SecondWindowDefinition+="Maenad "; }
   if (rayce==104) { SecondWindowDefinition+="Xeph "; }
   if (rayce==105) { SecondWindowDefinition+="Mul "; }
   if (rayce==106) { SecondWindowDefinition+="Pterran "; }
   if (rayce==107) { SecondWindowDefinition+="Locathah "; }
   if (rayce==108) { SecondWindowDefinition+="Sahuagin "; }
   if (rayce==109) { SecondWindowDefinition+="Changeling "; }
   if (rayce==110) { SecondWindowDefinition+="Kalashtar "; }
   if (rayce==111) { SecondWindowDefinition+="Shifter "; }
   if (rayce==112) { SecondWindowDefinition+="Buomman "; }
   if (rayce==113) { SecondWindowDefinition+="Air Mephling "; }
   if (rayce==114) { SecondWindowDefinition+="Earth Mephling "; }
   if (rayce==115) { SecondWindowDefinition+="Fire Mephling "; }
   if (rayce==116) { SecondWindowDefinition+="Water Mephling "; }
   if (rayce==117) { SecondWindowDefinition+="Neraph "; }
   if (rayce==118) { SecondWindowDefinition+="Shadowswyft "; }
   if (rayce==119) { SecondWindowDefinition+="Spiker "; }
   if (rayce==120) { SecondWindowDefinition+="Wildren "; }
   if (rayce==121) { SecondWindowDefinition+="Bladeback saurial "; }
   if (rayce==122) { SecondWindowDefinition+="Finhead saurial "; }
   if (rayce==123) { SecondWindowDefinition+="Flyer saurial "; }
   if (rayce==124) { SecondWindowDefinition+="Hornhead saurial "; }
   if (rayce==125) { SecondWindowDefinition+="Mongrelfolk "; }
   if (rayce==126) { SecondWindowDefinition+="Goliath "; }
   if (rayce==127) { SecondWindowDefinition+="Gray Orc "; }
   if (rayce==128) { SecondWindowDefinition+="Whisper Gnome "; }
   if (rayce==129) { SecondWindowDefinition+="Chaos Gnome "; }
   if (rayce==130) { SecondWindowDefinition+="Dream Dwarf "; }
   if (rayce==131) { SecondWindowDefinition+="Feral Gargun "; }
   if (rayce==132) { SecondWindowDefinition+="Stonechild "; }
   if (rayce==133) { SecondWindowDefinition+="Hengeyokai "; }
   if (rayce==134) { SecondWindowDefinition+="Korobokuru "; }
   if (rayce==135) { SecondWindowDefinition+="Ratling "; }
   if (rayce==136) { SecondWindowDefinition+="Bamboo Spiritfolk "; }
   if (rayce==137) { SecondWindowDefinition+="River Spiritfolk "; }
   if (rayce==138) { SecondWindowDefinition+="Sea Spiritfolk "; }
   if (rayce==139) { SecondWindowDefinition+="Vanara "; }
   if (rayce==140) { SecondWindowDefinition+="Grippli "; }
   if (rayce==141) { SecondWindowDefinition+="Doppelganger "; }
   if (rayce==142) { SecondWindowDefinition+="Gargoyle "; }
   if (rayce==143) { SecondWindowDefinition+="Grimlock "; }
   if (rayce==144) { SecondWindowDefinition+="YuanTi Pureblood "; }
   if (rayce==145) { SecondWindowDefinition+="Mind Flayer "; }
   if (rayce==146) { SecondWindowDefinition+="Ogre Mage "; }
   if (rayce==147) { SecondWindowDefinition+="Troll "; }
   if (rayce==148) { SecondWindowDefinition+="Pixie "; }
   if (rayce==149) { SecondWindowDefinition+="Satyr "; }
   if (rayce==150) { SecondWindowDefinition+="Tasloi "; }
   if (rayce==151) { SecondWindowDefinition+="Lupin "; }
   if (rayce==152) { SecondWindowDefinition+="Rakshasa "; }
   if (rayce==153) { SecondWindowDefinition+="Hound Archon "; }
   if (rayce==154) { SecondWindowDefinition+="Jann "; }
   if (rayce==155) { SecondWindowDefinition+="Arctic Dwarf "; }
   if (rayce==156) { SecondWindowDefinition+="Urdunnir Dwarf "; }
   if (rayce==157) { SecondWindowDefinition+="Wild Dwarf "; }
   if (rayce==158) { SecondWindowDefinition+="Aquatic Elf "; }
   if (rayce==159) { SecondWindowDefinition+="Winged Elf "; }
   if (rayce==160) { SecondWindowDefinition+="Half Aquatic Elf "; }
   if (rayce==161) { SecondWindowDefinition+="Half-Drow "; }
   if (rayce==162) { SecondWindowDefinition+="Gold Dwarf "; }
   if (rayce==163) { SecondWindowDefinition+="Deep Orc (Orog) "; }
   if (rayce==164) { SecondWindowDefinition+="Fey'ri "; }
   if (rayce==165) { SecondWindowDefinition+="Tanarruk "; }
   if (rayce==166) { SecondWindowDefinition+="Wemic "; }
   if (rayce==167) { SecondWindowDefinition+="Hybsil "; }
   if (rayce==168) { SecondWindowDefinition+="Alaghi "; }
   if (rayce==169) { SecondWindowDefinition+="Kuo-Toa "; }
   if (rayce==170) { SecondWindowDefinition+="Illumian "; }
   if (rayce==171) { SecondWindowDefinition+="Sea Kin "; }
   if (rayce==172) { SecondWindowDefinition+="Sharakim "; }
   if (rayce==173) { SecondWindowDefinition+="Skulk "; }
   if (rayce==174) { SecondWindowDefinition+="Underfolk "; }
   if (rayce==175) { SecondWindowDefinition+="Half-Ogre "; }
   if (rayce==176) { SecondWindowDefinition+="Desmodu "; }
   if (rayce==177) { SecondWindowDefinition+="Loxo "; }
   if (rayce==178) { SecondWindowDefinition+="Astral Deva "; }
   if (rayce==179) { SecondWindowDefinition+="Raptoran "; }
   if (rayce==180) { SecondWindowDefinition+="Catfolk "; }
   if (rayce==181) { SecondWindowDefinition+="Killoren "; }

  SecondWindowDefinition+=class_string+"<br>";
   if (alignment==1) { SecondWindowDefinition+="Lawful Good"; }
   if (alignment==2) { SecondWindowDefinition+="Neutral Good"; }
   if (alignment==3) { SecondWindowDefinition+="Chaotic Good"; }
   if (alignment==4) { SecondWindowDefinition+="Lawful Neutral"; }
   if (alignment==5) { SecondWindowDefinition+="True Neutral"; }
   if (alignment==6) { SecondWindowDefinition+="Chaotic Neutral"; }
   if (alignment==7) { SecondWindowDefinition+="Lawful Evil"; }
   if (alignment==8) { SecondWindowDefinition+="Neutral Evil"; }
   if (alignment==9) { SecondWindowDefinition+="Chaotic Evil"; }
   SecondWindowDefinition+="<br>";
   if (document.form1.sect.value!="") { SecondWindowDefinition+=document.form1.sect.value+"<p>"; }
   if (document.form1.playerName.value!="") { SecondWindowDefinition+="Representing "+document.form1.playerName.value; }
   
	SecondWindowDefinition+="<p>\r";
	SecondWindowDefinition+="<p><table width=\"100%\"><tr valign=\"top\"><td width=\"50%\">";
	SecondWindowDefinition+="<table><tr><td>";

   if ((spectral_template==true) || (wraith_template==true) || (umbral_template==true))
    {
     SecondWindowDefinition+="Strength</td> <td align=\"right\">---</td><td>[incorporeal]</td></tr>\r<tr> <td>"
    } else
   SecondWindowDefinition+="Strength</td> <td align=\"right\">" + strength+"</td><td>("+modifier_string(strength)+")</td></tr>\r<tr> <td>";
   SecondWindowDefinition+="Dexterity</td> <td align=\"right\">" + dexterity+"</td><td>("+modifier_string(dexterity)+")</td></tr>\r<tr> <td>";

   if ((vampire_template==true) || (lich_template==true) || (mummy_template==true) || (wight_template==true) || (wraith_template==true) || (spectral_template==true) || (umbral_template==true) || (ghost_template==true) || (deathknight_template==true))
    {
     SecondWindowDefinition+="Constitution</td> <td align=\"right\">---</td><td>[undead]</td></tr>\r<tr> <td>";
    }
   else
   if ((deathless_template==true))
    {
     SecondWindowDefinition+="Constitution</td> <td align=\"right\">---</td><td>[deathless]</td></tr>\r<tr> <td>";
    }
   else
    {
     SecondWindowDefinition+="Constitution</td> <td align=\"right\">" + constitution+"</td><td>("+modifier_string(constitution)+")</td></tr>\r<tr> <td>";
    }
   SecondWindowDefinition+="Intelligence</td> <td align=\"right\">" + intelligence+"</td><td>("+modifier_string(intelligence)+")</td></tr>\r<tr> <td>";
   SecondWindowDefinition+="Wisdom</td> <td align=\"right\">" + wisdom+"</td><td>("+modifier_string(wisdom)+")</td></tr>\r<tr> <td>";
   SecondWindowDefinition+="Charisma</td> <td align=\"right\">" + charisma+"</td><td>("+modifier_string(charisma)+")</td></tr>\r</table>\r";

   SecondWindowDefinition+="</td><td width=50%>";
   SecondWindowDefinition+="<table>";

   if (small==true) { stringy="Small"; } else if (large==true) { stringy="Large"; } else { stringy="Medium"; }
   SecondWindowDefinition+="<tr> <td>Size:</td> <td>" + stringy+"</td></tr>\r";
   stringy="";
   switch(document.form1.how_tall.selectedIndex) {
    case 0:{ stringy="---"; break; }
    case 1:{ stringy="2' 8\""; break; }
    case 2:{ stringy="2' 9\""; break; }
    case 3:{ stringy="2' 10\""; break; }
    case 4:{ stringy="2' 11\""; break; }
    case 5:{ stringy="3' 0\""; break; }
    case 6:{ stringy="3' 1\""; break; }
    case 7:{ stringy="3' 2\""; break; }
    case 8:{ stringy="3' 3\""; break; }
    case 9:{ stringy="3' 4\""; break; }
    case 10:{ stringy="3' 5\""; break; }
    case 11:{ stringy="3' 6\""; break; }
    case 12:{ stringy="3' 7\""; break; }
    case 13:{ stringy="3' 8\""; break; }
    case 14:{ stringy="3' 9\""; break; }
    case 15:{ stringy="3' 10\""; break; }
    case 16:{ stringy="3' 11\""; break; }
    case 17:{ stringy="4' 0\""; break; }
    case 18:{ stringy="4' 1\""; break; }
    case 19:{ stringy="4' 2\""; break; }
    case 20:{ stringy="4' 3\""; break; }
    case 21:{ stringy="4' 4\""; break; }
    case 22:{ stringy="4' 5\""; break; }
    case 23:{ stringy="4' 6\""; break; }
    case 24:{ stringy="4' 7\""; break; }
    case 25:{ stringy="4' 8\""; break; }
    case 26:{ stringy="4' 9\""; break; }
    case 27:{ stringy="4' 10\""; break; }
    case 28:{ stringy="4' 11\""; break; }
    case 29:{ stringy="5' 0\""; break; }
    case 30:{ stringy="5' 1\""; break; }
    case 31:{ stringy="5' 2\""; break; }
    case 32:{ stringy="5' 3\""; break; }
    case 33:{ stringy="5' 4\""; break; }
    case 34:{ stringy="5' 5\""; break; }
    case 35:{ stringy="5' 6\""; break; }
    case 36:{ stringy="5' 7\""; break; }
    case 37:{ stringy="5' 8\""; break; }
    case 38:{ stringy="5' 9\""; break; }
    case 39:{ stringy="5' 10\""; break; }
    case 40:{ stringy="5' 11\""; break; }
    case 41:{ stringy="6' 0\""; break; }
    case 42:{ stringy="6' 1\""; break; }
    case 43:{ stringy="6' 2\""; break; }
    case 44:{ stringy="6' 3\""; break; }
    case 45:{ stringy="6' 4\""; break; }
    case 46:{ stringy="6' 5\""; break; }
    case 47:{ stringy="6' 6\""; break; }
    case 48:{ stringy="6' 7\""; break; }
    case 49:{ stringy="6' 8\""; break; }
    case 50:{ stringy="6' 9\""; break; }
    case 51:{ stringy="6' 10\""; break; }
    case 52:{ stringy="6' 11\""; break; }
    case 53:{ stringy="7' 0\""; break; }
    case 54:{ stringy="7' 1\""; break; }
    case 55:{ stringy="7' 2\""; break; }
    case 56:{ stringy="7' 3\""; break; }
    case 57:{ stringy="7' 4\""; break; }
    case 58:{ stringy="7' 5\""; break; }
    case 59:{ stringy="7' 6\""; break; }
    case 60:{ stringy="7' 7\""; break; }
    case 61:{ stringy="7' 8\""; break; }
    case 62:{ stringy="7' 9\""; break; }
    case 63:{ stringy="7' 10\""; break; }
    case 64:{ stringy="7' 11\""; break; }
    case 65:{ stringy="8' 0\""; break; }
    case 66:{ stringy="8' 1\""; break; }
    case 67:{ stringy="8' 2\""; break; }
    case 68:{ stringy="8' 3\""; break; }
    case 69:{ stringy="8' 4\""; break; }
    case 70:{ stringy="8' 5\""; break; }
    }
   SecondWindowDefinition+="<tr> <td>Height:</td> <td>" + stringy+"</td></tr>\r";
   stringy="";
   switch(document.form1.how_heavy.selectedIndex) {
    case 0:{ stringy="--- lb."; break; }
    case 1:{ stringy=" 30 lb."; break; }
    case 2:{ stringy=" 31 lb."; break; }
    case 3:{ stringy=" 32 lb."; break; }
    case 4:{ stringy=" 33 lb."; break; }
    case 5:{ stringy=" 34 lb."; break; }
    case 6:{ stringy=" 35 lb."; break; }
    case 7:{ stringy=" 36 lb."; break; }
    case 8:{ stringy=" 37 lb."; break; }
    case 9:{ stringy=" 38 lb."; break; }
    case 10:{ stringy=" 39 lb."; break; }
    case 11:{ stringy=" 40 lb."; break; }
    case 12:{ stringy=" 41 lb."; break; }
    case 13:{ stringy=" 42 lb."; break; }
    case 14:{ stringy=" 43 lb."; break; }
    case 15:{ stringy=" 44 lb."; break; }
    case 16:{ stringy=" 45 lb."; break; }
    case 17:{ stringy=" 46 lb."; break; }
    case 18:{ stringy=" 47 lb."; break; }
    case 19:{ stringy=" 48 lb."; break; }
    case 20:{ stringy=" 49 lb."; break; }
    case 21:{ stringy=" 50 lb."; break; }
    case 22:{ stringy=" 55 lb."; break; }
    case 23:{ stringy=" 60 lb."; break; }
    case 24:{ stringy=" 65 lb."; break; }
    case 25:{ stringy=" 70 lb."; break; }
    case 26:{ stringy=" 75 lb."; break; }
    case 27:{ stringy=" 80 lb."; break; }
    case 28:{ stringy=" 85 lb."; break; }
    case 29:{ stringy=" 90 lb."; break; }
    case 30:{ stringy=" 95 lb."; break; }
    case 31:{ stringy="100 lb."; break; }
    case 32:{ stringy="105 lb."; break; }
    case 33:{ stringy="110 lb."; break; }
    case 34:{ stringy="115 lb."; break; }
    case 35:{ stringy="120 lb."; break; }
    case 36:{ stringy="125 lb."; break; }
    case 37:{ stringy="130 lb."; break; }
    case 38:{ stringy="135 lb."; break; }
    case 39:{ stringy="140 lb."; break; }
    case 40:{ stringy="145 lb."; break; }
    case 41:{ stringy="150 lb."; break; }
    case 42:{ stringy="155 lb."; break; }
    case 43:{ stringy="160 lb."; break; }
    case 44:{ stringy="165 lb."; break; }
    case 45:{ stringy="170 lb."; break; }
    case 46:{ stringy="175 lb."; break; }
    case 47:{ stringy="180 lb."; break; }
    case 48:{ stringy="185 lb."; break; }
    case 49:{ stringy="190 lb."; break; }
    case 50:{ stringy="195 lb."; break; }
    case 51:{ stringy="200 lb."; break; }
    case 52:{ stringy="210 lb."; break; }
    case 53:{ stringy="220 lb."; break; }
    case 54:{ stringy="230 lb."; break; }
    case 55:{ stringy="240 lb."; break; }
    case 56:{ stringy="250 lb."; break; }
    case 57:{ stringy="260 lb."; break; }
    case 58:{ stringy="270 lb."; break; }
    case 59:{ stringy="280 lb."; break; }
    case 60:{ stringy="290 lb."; break; }
    case 61:{ stringy="300 lb."; break; }
    case 62:{ stringy="310 lb."; break; }
    case 63:{ stringy="320 lb."; break; }
    case 64:{ stringy="330 lb."; break; }
    case 65:{ stringy="340 lb."; break; }
    case 66:{ stringy="350 lb."; break; }
    case 67:{ stringy="360 lb."; break; }
    case 68:{ stringy="370 lb."; break; }
    case 69:{ stringy="380 lb."; break; }
    case 70:{ stringy="390 lb."; break; }
    case 71:{ stringy="400 lb."; break; }
    case 72:{ stringy="410 lb."; break; }
    case 73:{ stringy="420 lb."; break; }
    case 74:{ stringy="430 lb."; break; }
    case 75:{ stringy="440 lb."; break; }
    case 76:{ stringy="450 lb."; break; }
    case 77:{ stringy="460 lb."; break; }
    case 78:{ stringy="470 lb."; break; }
    case 79:{ stringy="480 lb."; break; }
    case 80:{ stringy="490 lb."; break; }
    case 81:{ stringy="500 lb."; break; }
    case 82:{ stringy="510 lb."; break; }
    }
   if (rayce==74) { stringy="around 800 lb."; }
   if (rayce==166) { stringy="around 600 lb."; }
   if (wraith_template==true || spectral_template==true || umbral_template==true) { stringy="incorporeal"; }
   SecondWindowDefinition+="<tr><td>Weight:</td> <td>"+stringy+"</td></tr>\r";
   stringy="";
   if (document.form1.skin_color[0].checked==true) { stringy="Pale"; }
   if (document.form1.skin_color[1].checked==true) { stringy="Light"; }
   if (document.form1.skin_color[2].checked==true) { stringy="Yellow"; }
   if (document.form1.skin_color[3].checked==true) { stringy="Tan"; }
   if (document.form1.skin_color[4].checked==true) { stringy="Brown"; }
   if (document.form1.skin_color[5].checked==true) { stringy="Black"; }
   if (document.form1.skin_color[6].checked==true) { stringy="Silvery"; }
   if (document.form1.skin_color[7].checked==true) { stringy="Gray"; }
   if (document.form1.skin_color[8].checked==true) { stringy="Green"; }
   if (document.form1.skin_color[9].checked==true) { stringy="Blue"; }
   if (rayce==86) { stringy="Brass"; }
   if (rayce==87) { stringy="Coppery"; }
   if (rayce==88) { stringy="Golden"; }
   if (rayce==89) { stringy="Bronze"; }
   if (rayce==90) { stringy="Silver"; }
   if (rayce==96) { stringy="Deep Blue"; }
   if (rayce==97) { stringy="Pale Blue"; }
   SecondWindowDefinition+="<tr><td>Skin:</td> <td>"+stringy+"</td></tr>\r";
   stringy="";
//racialstuff
   if (document.form1.eye_color[0].checked==true) { stringy="Red"; }
   if (document.form1.eye_color[1].checked==true) { stringy="Green"; }
   if (document.form1.eye_color[2].checked==true) { stringy="Blue"; }
   if (document.form1.eye_color[3].checked==true) { stringy="Hazel"; }
   if (document.form1.eye_color[4].checked==true) { stringy="Light Brown"; }
   if (document.form1.eye_color[5].checked==true) { stringy="Dark Brown"; }
   if (document.form1.eye_color[6].checked==true) { stringy="Black"; }
   if (document.form1.eye_color[7].checked==true) { stringy="Gray"; }
   if (document.form1.eye_color[8].checked==true) { stringy="Amber"; }
   if (document.form1.eye_color[9].checked==true) { stringy="Violet"; }
   if (document.form1.eye_color[10].checked==true) { stringy="Silver"; }
   SecondWindowDefinition+="<tr><td>Eyes:</td> <td>"+ stringy+"</td></tr>\r";
   stringy="";
   if (document.form1.hair_color[0].checked==true) { stringy="White"; }
   if (document.form1.hair_color[1].checked==true) { stringy="Blonde"; }
   if (document.form1.hair_color[2].checked==true) { stringy="Red"; }
   if (document.form1.hair_color[3].checked==true) { stringy="Light Brown"; }
   if (document.form1.hair_color[4].checked==true) { stringy="Dark Brown"; }
   if (document.form1.hair_color[5].checked==true) { stringy="Black"; }
   if (document.form1.hair_color[6].checked==true) { stringy="Gray"; }
   if (document.form1.hair_color[7].checked==true) { stringy="Silver"; }
   if (document.form1.hair_color[8].checked==true) { stringy="Gold"; }
   if (document.form1.hair_color[9].checked==true) { stringy="Green"; }
   if (document.form1.hair_color[10].checked==true) { stringy="Blue"; }
   if (document.form1.hair_color[11].checked==true) { stringy="None"; NegateHairType(); }
   if (document.form1.hair_type[0].checked==true) { stringy+="; Straight"; }
   if (document.form1.hair_type[1].checked==true) { stringy+="; Wavy"; }
   if (document.form1.hair_type[2].checked==true) { stringy+="; Curly"; }
   if (document.form1.beard_type[0].checked==true) { stringy+="; Beardless"; }
   if (document.form1.beard_type[1].checked==true) { stringy+="; Light Beard"; }
   if (document.form1.beard_type[2].checked==true) { stringy+="; Average Beard"; }
   if (document.form1.beard_type[3].checked==true) { stringy+="; Thick Beard / Hirsute"; }

   if (rayce==179) {
   	SecondWindowDefinition+="<tr> <td valign=\"top\">Head Feathers:</td> <td>"+stringy+"</td></tr>\r";
   	}
   else {
   	SecondWindowDefinition+="<tr> <td valign=\"top\">Hair:</td> <td>"+stringy+"</td></tr>\r";
   	}

	SecondWindowDefinition+="</td></tr>\r</table>\r";
	SecondWindowDefinition+="</td></tr>\r</table>\r";
	SecondWindowDefinition+="<p>\r";
	
if (npcother_class_name=="Gestalt")
 {
  SecondWindowDefinition+="Gestalt combination: ";
  if (barbarian_gestalt==true) { SecondWindowDefinition+="Barbarian "; }
  if (bard_gestalt==true) { SecondWindowDefinition+="Bard "; }
  if (cleric_gestalt==true) { SecondWindowDefinition+="Cleric "; }
  if (druid_gestalt==true) { SecondWindowDefinition+="Druid "; }
  if (fighter_gestalt==true) { SecondWindowDefinition+="Fighter "; }
  if (monk_gestalt==true) { SecondWindowDefinition+="Monk "; }
  if (paladin_gestalt==true) { SecondWindowDefinition+="Paladin "; }
  if (ranger_gestalt==true) { SecondWindowDefinition+="Ranger "; }
  if (rogue_gestalt==true) { SecondWindowDefinition+="Rogue "; }
  if (sorcerer_gestalt==true) { SecondWindowDefinition+="Sorcerer "; }
  if (wizard_gestalt==true) { SecondWindowDefinition+="Wizard "; }
  if (psion_gestalt==true) { SecondWindowDefinition+="Psion "; }
  SecondWindowDefinition+="<p>\r";
 }
if (cleric_levels + epic_cleric_levels>0) {
 SecondWindowDefinition+="Domains: ";
 if (has_air_domain==true) { SecondWindowDefinition+=" Air "; }
 if (has_animal_domain==true) { SecondWindowDefinition+=" Animal "; }
 if (has_chaos_domain==true) { SecondWindowDefinition+=" Chaos "; }
 if (has_death_domain==true) { SecondWindowDefinition+=" Death "; }
 if (has_destruction_domain==true) { SecondWindowDefinition+=" Destruction "; }
 if (has_earth_domain==true) { SecondWindowDefinition+=" Earth "; }
 if (has_evil_domain==true) { SecondWindowDefinition+=" Evil "; }
 if (has_fire_domain==true) { SecondWindowDefinition+=" Fire "; }
 if (has_good_domain==true) { SecondWindowDefinition+=" Good "; }
 if (has_healing_domain==true) { SecondWindowDefinition+=" Healing "; }
 if ((has_knowledge_domain==true) || (cleric_totem==1)) { SecondWindowDefinition+=" Knowledge "; }
 if (has_law_domain==true) { SecondWindowDefinition+=" Law "; }
 if (has_luck_domain==true) { SecondWindowDefinition+=" Luck "; }
 if (has_magic_domain==true) { SecondWindowDefinition+=" Magic "; }
 if (has_plant_domain==true) { SecondWindowDefinition+=" Plant "; }
 if (has_protection_domain==true) { SecondWindowDefinition+=" Protection "; }
 if (has_strength_domain==true) { SecondWindowDefinition+=" Strength "; }
 if (has_sun_domain==true) { SecondWindowDefinition+=" Sun "; }
 if (has_travel_domain==true) { SecondWindowDefinition+=" Travel "; }
 if (has_trickery_domain==true) { SecondWindowDefinition+=" Trickery "; }
 if (has_war_domain==true) { SecondWindowDefinition+=" War "; }
 if (has_water_domain==true) { SecondWindowDefinition+=" Water "; }
 if (has_other_domain_1==true) { SecondWindowDefinition+=" "+document.form1.other_domain_name_1.value+" "; }
 if (has_other_domain_2==true) { SecondWindowDefinition+=" "+document.form1.other_domain_name_2.value+" "; }
 SecondWindowDefinition+="<p>Energy: "
 if (channels_energy==1) { SecondWindowDefinition+="Positive [Healing / Turns Undead]<p>\r"; }
 if (channels_energy==2) { SecondWindowDefinition+="Negative [Harmful / Rebukes Undead]<p>\r"; }
 }

if ((wizard_levels + epic_wizard_levels>0) && (no_specialist==false))
 {
  if (abjuration_specialist==true) { SecondWindowDefinition+="Specialty: Abjuration<p>"; }
  if (conjuration_specialist==true) { SecondWindowDefinition+="Specialty: Conjuration<p>"; }
  if (divination_specialist==true) { SecondWindowDefinition+="Specialty: Divination<p>"; }
  if (enchantment_specialist==true) { SecondWindowDefinition+="Specialty: Enchantment<p>"; }
  if (evocation_specialist==true) { SecondWindowDefinition+="Specialty: Evocation<p>"; }
  if (illusion_specialist==true) { SecondWindowDefinition+="Specialty: Illusion<p>"; }
  if (necromancy_specialist==true) { SecondWindowDefinition+="Specialty: Necromancy<p>"; }
  if (transmutation_specialist==true) { SecondWindowDefinition+="Specialty: Transmutation<p>"; }
  SecondWindowDefinition+="Gave up: ";

  if (gave_up_abjuration==true) { SecondWindowDefinition+=" Abjuration "; }
  if (gave_up_conjuration==true) { SecondWindowDefinition+=" Conjuration "; }
  if (gave_up_enchantment==true) { SecondWindowDefinition+=" Enchantment "; }
  if (gave_up_evocation==true) { SecondWindowDefinition+=" Evocation "; }
  if (gave_up_illusion==true) { SecondWindowDefinition+=" Illusion "; }
  if (gave_up_necromancy==true) { SecondWindowDefinition+=" Necromancy "; }
  if (gave_up_transmutation==true) { SecondWindowDefinition+=" Transmutation "; }
 }
SecondWindowDefinition+="\r<p>Total Hit Points: "+(total_hit_points + lycanthrope_hit_points);
if (has_toughness>0) { SecondWindowDefinition+=" [includes toughness x" + has_toughness+"] "; }
if (lycanthrope_hit_points>0) { SecondWindowDefinition+=" [includes "+lycanthrope_hit_points+" for lycanthropy] "; }
if (has_improvedtoughness==true) { SecondWindowDefinition+=" [includes improved toughness] "; }
if (has_psionicbody==true) { SecondWindowDefinition+=" [includes psionic body bonus: "+total_psion_feats+" psionic feats]"; }
if (barbarian_totem==2) { SecondWindowDefinition+=" [includes bear totem bonus] "; }
if (monk_totem==8) { SecondWindowDefinition+=" [includes undying way bonus] "; }
if (toad_familiar==true) { SecondWindowDefinition+=" [includes toad bonus] "; }

SecondWindowDefinition+="<p>Speed: "+speed_string+"</p>\r";

// Armor Class
SecondWindowDefinition+="<p>Armor Class: "+total_armor_class;
if (armor_class_string!="") { SecondWindowDefinition+=" = 10 "+armor_class_string; }

SecondWindowDefinition+="<br>Touch AC: "+touch_armor_class;
SecondWindowDefinition+="&nbsp; Flat-footed: "+flatfooted_armor_class;
if (has_uncanny_dodge==true) { SecondWindowDefinition+=" [uncanny dodge] "; }
if (document.form1.classdefensebonus_option.checked==true)
 {
   SecondWindowDefinition+="<p>Class Defense Bonus Option: +"+ClassDefenseBonusOption()+" [no stacking with armor]<br>";
 }
if (document.form1.armorasdamagereduction_option.checked==true && damage_reduction_string!="")
 {
   SecondWindowDefinition+="<p>"+damage_reduction_string+"</p>";
 }
 
SecondWindowDefinition+="</p>\r";
SecondWindowDefinition+="<p><table>";
SecondWindowDefinition+="<tr><td>Initiative modifier:</td><td>"+initiative_string_1+"</td><td>"+initiative_string_2+"</td></tr>\r";
SecondWindowDefinition+="<tr><td>Fortitude save:</td><td>"+fortitude_string_1+"</td><td>"+fortitude_string_2+"</td></tr>\r";
SecondWindowDefinition+="<tr><td>Reflex save:</td><td>"+reflex_string_1+"</td><td>"+reflex_string_2+"</td></tr>\r";
SecondWindowDefinition+="<tr><td>Will save:</td><td>"+will_string_1+"</td><td>"+will_string_2+"</td></tr>\r";
SecondWindowDefinition+="<tr><td>Attack (handheld):</td><td>"+handheld_attack_string_1+"</td><td>"+handheld_attack_string_2+"</td></tr>\r";
SecondWindowDefinition+="<tr><td>Attack (unarmed):</td><td>"+unarmed_attack_string_1+"</td><td>"+unarmed_attack_string_2+"</td></tr>\r";

if (monk_levels + epic_monk_levels>0) {
SecondWindowDefinition+="<tr><td>Flurry of Blows:</td><td>"+flurry_of_blows_string+"</td><td></td></tr>\r";
}

SecondWindowDefinition+="<tr><td>Attack (missile):</td><td>"+missile_attack_string_1+"</td><td>"+missile_attack_string_2+"</td></tr>\r";
SecondWindowDefinition+="<tr><td>Grapple check:</td><td>"+grapple_attack_string_1+"</td><td>"+grapple_attack_string_2+"</td></tr>\r";
SecondWindowDefinition+="</table></p>\r";

if (document.form1.allthedice_option.checked==true)
 {
   SecondWindowDefinition+="\"Players Roll All the Dice\": (Unearthed Arcana)<p><ul><table><tr><td>\r";
   SecondWindowDefinition+="Attack Score (handheld):<br>\r";
   SecondWindowDefinition+="Attack Score (unarmed):<br>\r";
   SecondWindowDefinition+="Attack Score (missile):<br>\r";
   SecondWindowDefinition+="Defense Check:<br>\r";
   SecondWindowDefinition+="Defense Check (touch):<br>\r";
   SecondWindowDefinition+="Defense Check (flat-footed):</td><td>\r";
   SecondWindowDefinition+=(11+handheld_attack)+"<br>";
   SecondWindowDefinition+=(11+unarmed_attack)+"<br>";
   SecondWindowDefinition+=(11+missile_attack)+"<br>";
   if (total_armor_class-10>=0) { stringy="+" + stringy; }
   stringy=total_armor_class-10;
   SecondWindowDefinition+="1d20" + stringy+"<br>";
   stringy=touch_armor_class-10;
   if (touch_armor_class-10>0) { stringy="+" + stringy; }
   SecondWindowDefinition+="1d20" + stringy+"<br>";
   stringy=flatfooted_armor_class-10;
   if (flatfooted_armor_class-10>0) { stringy="+" + stringy; }
   SecondWindowDefinition+="1d20" + stringy+"<br>";
   SecondWindowDefinition+="</td></tr></table></ul></p><br>\r";
}

SecondWindowDefinition+="<br><p><table><tr><td>Light load:<br>Medium load:<br>Heavy load:<br>Lift over head:<br>Lift off ground:<br>Push or drag:<br></td><td>";
x=0;
z=0;
x_and_heft();
if ((small==false) && (large==false)) { SecondWindowDefinition+=x+" lb. or less<br>"; }
if (small==true) { SecondWindowDefinition+=Math.round(x*3/4)+" lb. or less<br>"; }
if (large==true) { SecondWindowDefinition+=x*2+" lb. or less<br>"; }
x++;
z=0;
if (strength== 1) {z=6; }
if (strength== 2) {z=13; }
if (strength== 3) {z=20; }
if (strength== 4) {z=26; }
if (strength== 5) {z=33; }
if (strength== 6) {z=40; }
if (strength== 7) {z=46; }
if (strength== 8) {z=53; }
if (strength== 9) {z=60; }
if (strength==10) {z=66; }
if (strength==11) {z=76; }
if (strength==12) {z=86; }
if (strength==13) {z=100; }
if (strength==14) {z=116; }
if (strength==15) {z=133; }
if (strength==16) {z=153; }
if (strength==17) {z=173; }
if (strength==18) {z=200; }
if (strength==19) {z=233; }
if (strength==20) {z=266; }
if (strength==21) {z=306; }
if (strength==22) {z=346; }
if (strength==23) {z=400; }
if (strength==24) {z=466; }
if (strength==25) {z=533; }
if (strength==26) {z=613; }
if (strength==27) {z=693; }
if (strength==28) {z=800; }
if (strength==29) {z=933; }
if (strength==30) {z=266*4; }
if (strength==31) {z=306*4; }
if (strength==32) {z=346*4; }
if (strength==33) {z=400*4; }
if (strength==34) {z=466*4; }
if (strength==35) {z=533*4; }
if (strength==36) {z=613*4; }
if (strength==37) {z=693*4; }
if (strength==38) {z=800*4; }
if (strength==39) {z=933*4; }
if (strength==40) {z=266*4*4; }
if (strength==41) {z=306*4*4; }
if (strength==42) {z=346*4*4; }
if (strength==43) {z=400*4*4; }
if (strength==44) {z=466*4*4; }
if (strength==45) {z=533*4*4; }
if (strength==46) {z=613*4*4; }
if (strength==47) {z=693*4*4; }
if (strength==48) {z=800*4*4; }
if (strength==49) {z=933*4*4; }
if (strength==50) {z=266*4*4*4; }
if (strength==51) {z=306*4*4*4; }
if (strength==52) {z=346*4*4*4; }
if (strength==53) {z=400*4*4*4; }
if (strength==54) {z=466*4*4*4; }
if (strength==55) {z=533*4*4*4; }
if (strength==56) {z=613*4*4*4; }
if (strength==57) {z=693*4*4*4; }
if (strength==58) {z=800*4*4*4; }
if (strength==59) {z=933*4*4*4; }
if (strength==60) {z=266*4*4*4*4; }
if (strength==61) {z=306*4*4*4*4; }
if (strength==62) {z=346*4*4*4*4; }
if (strength==63) {z=400*4*4*4*4; }
if (strength==64) {z=466*4*4*4*4; }
if (strength==65) {z=533*4*4*4*4; }
if (strength==66) {z=613*4*4*4*4; }
if (strength==67) {z=693*4*4*4*4; }
if (strength==68) {z=800*4*4*4*4; }
if (strength==69) {z=933*4*4*4*4; }
if ((rayce==74) || (rayce==58) || (rayce==78)) {z=Math.round(z*3/2); }
if ((small==false) && (large==false)) { SecondWindowDefinition+=x+"-"+z+" lb.<br>"; }
if (small==true) { SecondWindowDefinition+=Math.round(x*3/4)+"-"+Math.round(z*3/4)+" lb.<br>"; }
if (large==true) { SecondWindowDefinition+=x*2+"-"+z*2+" lb.<br>"; }
x=z+1;
if (strength== 1) {z=10; }
if (strength== 2) {z=20; }
if (strength== 3) {z=30; }
if (strength== 4) {z=40; }
if (strength== 5) {z=50; }
if (strength== 6) {z=60; }
if (strength== 7) {z=70; }
if (strength== 8) {z=80; }
if (strength== 9) {z=90; }
if (strength==10) {z=100; }
if (strength==11) {z=115; }
if (strength==12) {z=130; }
if (strength==13) {z=150; }
if (strength==14) {z=175; }
if (strength==15) {z=200; }
if (strength==16) {z=230; }
if (strength==17) {z=260; }
if (strength==18) {z=300; }
if (strength==19) {z=350; }
if (strength==20) {z=400; }
if (strength==21) {z=460; }
if (strength==22) {z=520; }
if (strength==23) {z=600; }
if (strength==24) {z=700; }
if (strength==25) {z=800; }
if (strength==26) {z=920; }
if (strength==27) {z=1040; }
if (strength==28) {z=1200; }
if (strength==29) {z=1400; }
if (strength==30) {z=400*4; }
if (strength==31) {z=460*4; }
if (strength==32) {z=520*4; }
if (strength==33) {z=600*4; }
if (strength==34) {z=700*4; }
if (strength==35) {z=800*4; }
if (strength==36) {z=920*4; }
if (strength==37) {z=1040*4; }
if (strength==38) {z=1200*4; }
if (strength==39) {z=1400*4; }
if (strength==40) {z=400*4*4; }
if (strength==41) {z=460*4*4; }
if (strength==42) {z=520*4*4; }
if (strength==43) {z=600*4*4; }
if (strength==44) {z=700*4*4; }
if (strength==45) {z=800*4*4; }
if (strength==46) {z=920*4*4; }
if (strength==47) {z=1040*4*4; }
if (strength==48) {z=1200*4*4; }
if (strength==49) {z=1400*4*4; }
if (strength==50) {z=400*4*4*4; }
if (strength==51) {z=460*4*4*4; }
if (strength==52) {z=520*4*4*4; }
if (strength==53) {z=600*4*4*4; }
if (strength==54) {z=700*4*4*4; }
if (strength==55) {z=800*4*4*4; }
if (strength==56) {z=920*4*4*4; }
if (strength==57) {z=1040*4*4*4; }
if (strength==58) {z=1200*4*4*4; }
if (strength==59) {z=1400*4*4*4; }
if (strength==60) {z=400*4*4*4*4; }
if (strength==61) {z=460*4*4*4*4; }
if (strength==62) {z=520*4*4*4*4; }
if (strength==63) {z=600*4*4*4*4; }
if (strength==64) {z=700*4*4*4*4; }
if (strength==65) {z=800*4*4*4*4; }
if (strength==66) {z=920*4*4*4*4; }
if (strength==67) {z=1040*4*4*4*4; }
if (strength==68) {z=1200*4*4*4*4; }
if (strength==69) {z=1400*4*4*4*4; }
if ((rayce==74) || (rayce==58) || (rayce==78)) {z=Math.round(z*3/2); }
if ((small==false) && (large==false)) { SecondWindowDefinition+=x+"-"+z+" lb.<br>"; }
if (small==true) { SecondWindowDefinition+=Math.round(x*3/4)+"-"+Math.round(z*3/4)+" lb.<br>"; }
if (large==true) { SecondWindowDefinition+=x*2+"-"+z*2+" lb.<br>"; }

if ((small==false) && (large==false)) { SecondWindowDefinition+=z+" lb.<br>"; }
if (small==true) { SecondWindowDefinition+=Math.round(z*3/4)+" lb.<br>"; }
if (large==true) { SecondWindowDefinition+=z*2+" lb.<br>"; }

if ((small==false) && (large==false)) { SecondWindowDefinition+=(2*z)+" lb.<br>"; }
if (small==true) { SecondWindowDefinition+=Math.round(z*3/2)+" lb.<br>"; }
if (large==true) { SecondWindowDefinition+=Math.round(z*4)+" lb.<br>"; }

if ((small==false) && (large==false)) { SecondWindowDefinition+=(5*z)+" lb.<br>"; }
if (small==true) { SecondWindowDefinition+=Math.round(z*15/4)+" lb.<br>"; }
if (large==true) { SecondWindowDefinition+=Math.round(z*10)+" lb.<br>"; }

SecondWindowDefinition+="</td></tr></table></p><br>";

SecondWindowDefinition+="<p>Languages: ";
if ((document.form1.speak_abyssal.checked==true) || (abyssal_nativespeaker==true)) { SecondWindowDefinition+="Abyssal. "; }
if ((document.form1.speak_aquan.checked==true) || (aquan_nativespeaker==true)) { SecondWindowDefinition+="Aquan. "; }
if ((document.form1.speak_auran.checked==true) || (auran_nativespeaker==true)) { SecondWindowDefinition+="Auran. "; }
if ((document.form1.speak_celestial.checked==true) || (celestial_nativespeaker==true)) { SecondWindowDefinition+="Celestial. "; }
SecondWindowDefinition+="Common. ";
if ((document.form1.speak_draconic.checked==true) || (draconic_nativespeaker==true)) { SecondWindowDefinition+="Draconic. "; }
if (druid_levels + epic_druid_levels>0) { SecondWindowDefinition+="Druidic. "; }

//racialstuff
if ((document.form1.speak_xeph.checked==true) || (xeph_nativespeaker==true)) { SecondWindowDefinition+="Xeph. "; }
if ((document.form1.speak_yuanti.checked==true) || (yuanti_nativespeaker==true)) { SecondWindowDefinition+="YuanTi. "; }
if ((document.form1.speak_illithid.checked==true) || (illithid_nativespeaker==true)) { SecondWindowDefinition+="Illithid (Mind Flayer). "; }
if ((document.form1.speak_illumian.checked==true) || (illumian_nativespeaker==true)) { SecondWindowDefinition+="Illumian. "; }
if ((document.form1.speak_tasloi.checked==true) || (tasloi_nativespeaker==true)) { SecondWindowDefinition+="Tasloi. "; }
if ((document.form1.speak_sahuagin.checked==true) || (sahuagin_nativespeaker==true)) { SecondWindowDefinition+="Sahuagin. "; }
if ((document.form1.speak_lupin.checked==true) || (lupin_nativespeaker==true)) { SecondWindowDefinition+="Lupin. "; }
if ((document.form1.speak_hengeyokai.checked==true) || (hengeyokai_nativespeaker==true)) { SecondWindowDefinition+="Hengeyokai. "; }
if ((document.form1.speak_spiritfolk.checked==true) || (spiritfolk_nativespeaker==true)) { SecondWindowDefinition+="Spiritfolk. "; }
if ((document.form1.speak_ratling.checked==true) || (ratling_nativespeaker==true)) { SecondWindowDefinition+="Ratling. "; }
if ((document.form1.speak_vanara.checked==true) || (vanara_nativespeaker==true)) { SecondWindowDefinition+="Vanara. "; }
if ((document.form1.speak_grippli.checked==true) || (grippli_nativespeaker==true)) { SecondWindowDefinition+="Grippli. "; }
if ((document.form1.speak_beholder.checked==true) || (beholder_nativespeaker==true)) { SecondWindowDefinition+="Beholder. "; }
if ((document.form1.speak_kuotoa.checked==true) || (kuotoa_nativespeaker==true)) { SecondWindowDefinition+="Kuo-Toa. "; }
if ((document.form1.speak_maenad.checked==true) || (maenad_nativespeaker==true)) { SecondWindowDefinition+="Maenad. "; }
if ((document.form1.speak_mongrelfolk.checked==true) || (mongrelfolk_nativespeaker==true)) { SecondWindowDefinition+="Mongrelfolk. "; }
if ((document.form1.speak_thrikreen.checked==true) || (thrikreen_nativespeaker)) { SecondWindowDefinition+="Thri-Kreen. "; }
if ((document.form1.speak_aarakocra.checked==true) || (aarakocra_nativespeaker==true)) { SecondWindowDefinition+="Aarakocra. "; }
if ((document.form1.speak_buomman.checked==true) || (buomman_nativespeaker==true)) { SecondWindowDefinition+="Buomman. "; }
if ((document.form1.speak_neraphim.checked==true) || (neraphim_nativespeaker==true)) { SecondWindowDefinition+="Neraph. "; }
if ((document.form1.speak_shadowswyft.checked==true) || (shadowswyft_nativespeaker==true)) { SecondWindowDefinition+="Shadowswyft. "; }
if ((document.form1.speak_pterran.checked==true) || (pterran_nativespeaker)) { SecondWindowDefinition+="Pterran. "; }
if ((document.form1.speak_raptoran.checked==true) || (raptoran_nativespeaker)) { SecondWindowDefinition+="Raptoran. "; }
if ((document.form1.speak_catfolk.checked==true) || (catfolk_nativespeaker)) { SecondWindowDefinition+="Catfolk. "; }
if ((document.form1.speak_slaad.checked==true)) { SecondWindowDefinition+="Slaad. "; }
if ((document.form1.speak_gith.checked==true) || (gith_nativespeaker==true)) { SecondWindowDefinition+="Gith. "; }
if ((document.form1.speak_dwarven.checked==true) || (dwarven_nativespeaker==true)) { SecondWindowDefinition+="Dwarven. "; }
if ((document.form1.speak_elven.checked==true) || (elven_nativespeaker==true)) { SecondWindowDefinition+="Elven. "; }
if ((document.form1.speak_darkelfsilent.checked==true) || (darkelfsilent_nativespeaker==true)) { SecondWindowDefinition+="Dark_Elf_Silent. "; }
if ((document.form1.speak_giant.checked==true) || (giant_nativespeaker==true)) { SecondWindowDefinition+="Giant. "; }
if ((document.form1.speak_gnoll.checked==true) || (gnoll_nativespeaker)) { SecondWindowDefinition+="Gnoll. "; }
if ((document.form1.speak_gnome.checked==true) || (gnome_nativespeaker==true)) { SecondWindowDefinition+="Gnome. "; }
if ((document.form1.speak_goblin.checked==true) || (goblin_nativespeaker==true)) { SecondWindowDefinition+="Goblin. "; }
if ((document.form1.speak_goliath.checked==true) || (goliath_nativespeaker==true)) { SecondWindowDefinition+="Goliath. "; }
if ((document.form1.speak_halfling.checked==true) || (halfling_nativespeaker==true)) { SecondWindowDefinition+="Halfling. "; }
if ((document.form1.speak_ignan.checked==true) || (ignan_nativespeaker==true)) { SecondWindowDefinition+="Ignan. "; }
if ((document.form1.speak_infernal.checked==true) || (infernal_nativespeaker==true)) { SecondWindowDefinition+="Infernal. "; }
if ((document.form1.speak_orc.checked==true) || (orc_nativespeaker==true)) { SecondWindowDefinition+="Orc. "; }
if ((document.form1.speak_sylvan.checked==true) || (sylvan_nativespeaker)) { SecondWindowDefinition+="Sylvan. "; }
if ((document.form1.speak_terran.checked==true) || (terran_nativespeaker==true)) { SecondWindowDefinition+="Terran. "; }
if ((document.form1.speak_undercommon.checked==true) || (undercommon_nativespeaker==true)) { SecondWindowDefinition+="Undercommon. "; }
if (document.form1.speak_otherlanguage1.checked==true) { SecondWindowDefinition+=document.form1.other_language_1_name.value+". "; }
if (document.form1.speak_otherlanguage2.checked==true) { SecondWindowDefinition+=document.form1.other_language_2_name.value+". "; }
if (document.form1.speak_otherlanguage3.checked==true) { SecondWindowDefinition+=document.form1.other_language_3_name.value+". "; }
if (document.form1.speak_otherlanguage4.checked==true) { SecondWindowDefinition+=document.form1.other_language_4_name.value+". "; }
if (document.form1.speak_otherlanguage5.checked==true) { SecondWindowDefinition+=document.form1.other_language_5_name.value+". "; }
if (document.form1.speak_otherlanguage6.checked==true) { SecondWindowDefinition+=document.form1.other_language_6_name.value+". "; }

Languages();

if (total_bonus_languages<total_bonus_language_entitlement)
 { SecondWindowDefinition+=" (? "+(total_bonus_language_entitlement-total_bonus_languages)+" more)"; }

SecondWindowDefinition+="</p>\r";

// Figure damage modifier
if (modifier_string(strength)!="+0") {
damage_bonus = modifier_string(strength);
var bow_st_penalty = "";
var modprefix = damage_bonus.charAt(0);
var modnumeral = damage_bonus.substring(1,damage_bonus.length);
	if (modprefix == "-") {
	twoh_damage_bonus = modprefix + Math.ceil(modnumeral * 1.5);
	offh_damage_bonus = modprefix + Math.ceil(modnumeral / 2);
	bow_st_penalty = damage_bonus;
	}
	if (modprefix == "+") {
	twoh_damage_bonus = modprefix + Math.floor(modnumeral * 1.5);
	offh_damage_bonus = modprefix + Math.floor(modnumeral / 2);
	bow_st_penalty = "";
	}
}
else {
damage_bonus = "";
twoh_damage_bonus = "";
offh_damage_bonus = "";
bow_st_penalty = "";
}

//  Display Unarmed Damage
SecondWindowDefinition+="<p>Unarmed: ["+unarmed_attack_string_1+", ";

if (monk_levels + epic_monk_levels > 0) {
	if ( (monk_levels + epic_monk_levels >= 1) && (monk_levels + epic_monk_levels <= 3) ) {
		if ((small==false) && (large==false)) { SecondWindowDefinition+="1d6"+damage_bonus+", "; }
		if (small==true) { SecondWindowDefinition+="1d4"+damage_bonus+", "; }
		if (large==true) { SecondWindowDefinition+="1d8"+damage_bonus+", "; }
	}

	if ( (monk_levels + epic_monk_levels >= 4) && (monk_levels + epic_monk_levels <= 7) ) {
		if ((small==false) && (large==false)) { SecondWindowDefinition+="1d8"+damage_bonus+", "; }
		if (small==true) { SecondWindowDefinition+="1d6"+damage_bonus+", "; }
		if (large==true) { SecondWindowDefinition+="2d6"+damage_bonus+", "; }
	}

	if ( (monk_levels + epic_monk_levels >= 8) && (monk_levels + epic_monk_levels <= 11) ) {
		if ((small==false) && (large==false)) { SecondWindowDefinition+="1d10"+damage_bonus+", "; }
		if (small==true) { SecondWindowDefinition+="1d8"+damage_bonus+", "; }
		if (large==true) { SecondWindowDefinition+="2d8"+damage_bonus+", "; }
	}

	if ( (monk_levels + epic_monk_levels >= 12) && (monk_levels + epic_monk_levels <= 15) ) {
		if ((small==false) && (large==false)) { SecondWindowDefinition+="2d6"+damage_bonus+", "; }
		if (small==true) { SecondWindowDefinition+="1d10"+damage_bonus+", "; }
		if (large==true) { SecondWindowDefinition+="3d6"+damage_bonus+", "; }
	}

	if ( (monk_levels + epic_monk_levels >= 16) && (monk_levels + epic_monk_levels <= 19) ) {
		if ((small==false) && (large==false)) { SecondWindowDefinition+="2d8"+damage_bonus+", "; }
		if (small==true) { SecondWindowDefinition+="2d6"+damage_bonus+", "; }
		if (large==true) { SecondWindowDefinition+="3d8"+damage_bonus+", "; }
	}

	if (monk_levels + epic_monk_levels >= 20)	{
		if ((small==false) && (large==false)) { SecondWindowDefinition+="2d10"+damage_bonus+", "; }
		if (small==true) { SecondWindowDefinition+="2d8"+damage_bonus+", "; }
		if (large==true) { SecondWindowDefinition+="4d8"+damage_bonus+", "; }
	}

// if not monk
} else {
	if (small==true) { SecondWindowDefinition+="1d2"+damage_bonus+" nonlethal, "; }
	if (large==true) { SecondWindowDefinition+="1d4"+damage_bonus+" nonlethal, "; }
	if (small==false && large==false) { SecondWindowDefinition+="1d3"+damage_bonus+" nonlethal, "; }
}
  SecondWindowDefinition+="crit x2, light, bludgeoning]</p>\r";

if (rayce==34) {
  SecondWindowDefinition+="Gythka [2d6/2d6, crit x2, 25 lb,  slashing]<p>\r"; wt+=25;
  SecondWindowDefinition+="Chatkcha [1d6, crit x2, 3 lb,  light, piercing]<p>\r"; wt+=3; }

if (document.form1.gauntlet.checked==true) {
	if (small==true) { SecondWindowDefinition+="Gauntlet ["+handheld_attack_string_1+", 1d2"+damage_bonus+", crit x2, 1/2 lb., light, bludgeoning]<p>\r";
	wt+=0.5; }
	if (large==true) { SecondWindowDefinition+="Gauntlet ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x2, 2 lb., light, bludgeoning]<p>\r";
	wt+=2; }
	if (small==false && large==false) { SecondWindowDefinition+="Gauntlet ["+handheld_attack_string_1+", 1d3"+damage_bonus+", crit x2, 1 lb., light, bludgeoning]<p>\r";
	wt+=1; }
}
if (document.form1.dagger.checked==true) {
	if (small==true) { SecondWindowDefinition+="Dagger ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d3"+damage_bonus+", crit 19-20/x2, range 10 ft., 1/2 lb., light, piercing]<p>\r";
	wt+=0.5; }
	if (large==true) { SecondWindowDefinition+="Dagger ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d6"+damage_bonus+", crit 19-20/x2, range 10 ft., 2 lb., light, piercing]<p>\r";
	wt+=2; }
	if (small==false && large==false) { SecondWindowDefinition+="Dagger ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d4"+damage_bonus+", crit 19-20/x2, range 10 ft., 1 lb., light, piercing]<p>\r";
	wt+=1; }
}
if (document.form1.punchingdagger.checked==true) {
	if (small==true) { SecondWindowDefinition+="Punching Dagger ["+handheld_attack_string_1+", 1d3"+damage_bonus+", crit x3, 1/2 lb.,  light, piercing or slashing]<p>\r";
	wt+=0.5; }
	if (large==true) { SecondWindowDefinition+="Punching Dagger ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x3, 2 lb.,  light, piercing or slashing]<p>\r";
	wt+=2; }
	if (small==false && large==false) { SecondWindowDefinition+="Punching Dagger ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x3, 1 lb.,  light, piercing or slashing]<p>\r";
	wt+=1; }
}
if (document.form1.spikedgauntlet.checked==true) {
	if (small==true) { SecondWindowDefinition+="Spiked Gauntlet ["+handheld_attack_string_1+", 1d3"+damage_bonus+", crit x2, 1/2 lb.,  light, piercing]<p>\r";
	wt+=0.5; }
	if (large==true) { SecondWindowDefinition+="Spiked Gauntlet ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2, 2 lb., light, piercing]<p>\r";
	wt+=2; }
	if (small==false && large==false) { SecondWindowDefinition+="Spiked Gauntlet ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x2, 1 lb., light, piercing]<p>\r";
	wt+=1; }
}
if (document.form1.lightmace.checked==true) {
	if (small==true) { SecondWindowDefinition+="Light Mace ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x2, 1/2 lb., light, bludgeoning]<p>\r";
	wt+=0.5; }
	if (large==true) { SecondWindowDefinition+="Light Mace ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x2, 2 lb., light, bludgeoning]<p>\r";
	wt+=2; }
	if ((small==false) && (large==false)) { SecondWindowDefinition+="Light Mace ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2, 1 lb., light, bludgeoning]<p>\r";
	wt+=1; }
}
if (document.form1.sickle.checked==true) {
  if (small==true) { SecondWindowDefinition+="Sickle ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x2, 1 lb., light, slashing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Sickle ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x2, 4 lb., light, slashing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Sickle ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2, 2 lb., light, slashing]<p>\r";
  wt+=2; }
}
if (document.form1.club.checked==true) {
  if (small==true) { SecondWindowDefinition+="Club ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d4"+damage_bonus+", crit x2, range 10 ft., 1 1/2 lb., one-handed, bludgeoning]<p>\r";
  wt+=1.5; }
  if (large==true) { SecondWindowDefinition+="Club ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d8"+damage_bonus+", crit x2, range 10 ft., 6 lb., one-handed, bludgeoning]<p>\r";
  wt+=6; }
  if (small==false && large==false) { SecondWindowDefinition+="Club ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d6"+damage_bonus+", crit x2, range 10 ft., 3 lb., one-handed, bludgeoning]<p>\r";
  wt+=3; }
}
if (document.form1.heavymace.checked==true) {
  if (small==true) { SecondWindowDefinition+="Heavy Mace ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2, 4 lb., one-handed, bludgeoning]<p>\r";
  wt+=4; }
  if (large==true) { SecondWindowDefinition+="Heavy Mace ["+handheld_attack_string_1+", 2d6"+damage_bonus+", crit x2, 16 lb., one-handed, bludgeoning]<p>\r";
  wt+=16; }
  if (small==false && large==false) { SecondWindowDefinition+="Heavy Mace ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x2, 8 lb., one-handed, bludgeoning]<p>\r";
  wt+=8; }
}
if (document.form1.morningstar.checked==true) {
  if (small==true) { SecondWindowDefinition+="Morningstar ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2, 3 lb.,  one-handed, bludgeoning]<p>\r";
  wt+=3; }
  if (large==true) { SecondWindowDefinition+="Morningstar ["+handheld_attack_string_1+", 2d6"+damage_bonus+", crit x2, 12 lb.,  one-handed, bludgeoning]<p>\r";
  wt+=12; }
  if (small==false && large==false) { SecondWindowDefinition+="Morningstar ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x2, 6 lb.,  one-handed, bludgeoning]<p>\r";
  wt+=6; }
}
if (document.form1.shortspear.checked==true) {
  if (small==true) { SecondWindowDefinition+="Short Spear ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d4"+damage_bonus+", crit x2, range 20 ft., 1 1/2 lb., one-handed, piercing]<p>\r";
  wt+=1.5; }
  if (large==true) { SecondWindowDefinition+="Short Spear ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d8"+damage_bonus+", crit x2, range 20 ft., 6 lb., one-handed, piercing]<p>\r";
  wt+=6; }
  if (small==false && large==false) { SecondWindowDefinition+="Short Spear ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d6"+damage_bonus+", crit x2, range 20 ft., 3 lb., one-handed, piercing]<p>\r";
  wt+=3; }
}
if (document.form1.longspear.checked==true) {
  if (small==true) { SecondWindowDefinition+="Long Spear ["+handheld_attack_string_1+", 1d6"+twoh_damage_bonus+", crit x3, 4 1/2 lb.,  two-handed, piercing]<p>\r";
  	wt+=4.5; }
  if (large==true) { SecondWindowDefinition+="Long Spear ["+handheld_attack_string_1+", 2d6"+twoh_damage_bonus+", crit x3, 18 lb.,  two-handed, piercing]<p>\r";
  	wt+=18; }
  if (small==false && large==false) { SecondWindowDefinition+="Long Spear ["+handheld_attack_string_1+", 1d8"+twoh_damage_bonus+", crit x3, 9 lb., two-handed, piercing]<p>\r";
  wt+=9; }
}
if (document.form1.quarterstaff.checked==true) {
  if (small==true) { SecondWindowDefinition+="Quarterstaff ["+handheld_attack_string_1+", 1d4"+damage_bonus+"/1d4"+offh_damage_bonus+", crit x2, 2 lb., two-handed, bludgeoning]<p>\r";
  wt+=2; }
  if (large==true) { SecondWindowDefinition+="Quarterstaff ["+handheld_attack_string_1+", 1d8"+damage_bonus+"/1d8"+offh_damage_bonus+", crit x2, 8 lb., two-handed, bludgeoning]<p>\r";
  wt+=8; }
  if (small==false && large==false) { SecondWindowDefinition+="Quarterstaff ["+handheld_attack_string_1+", 1d6"+damage_bonus+"/1d6"+offh_damage_bonus+", crit x2, 4 lb., two-handed, bludgeoning]<p>\r";
  wt+=4; }
}

if (document.form1.spear.checked==true) {
  if (small==true) { SecondWindowDefinition+="Spear ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d6"+twoh_damage_bonus+", crit x3, range 20 ft., 3 lb.,  two-handed, piercing]<p>\r";
  wt+=3; }
  if (large==true) { SecondWindowDefinition+="Spear ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 2d6"+twoh_damage_bonus+", crit x3, range 20 ft., 12 lb.,  two-handed, piercing]<p>\r";
  wt+=12; }
  if (small==false && large==false) { SecondWindowDefinition+="Spear ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d8"+twoh_damage_bonus+", crit x3, range 20 ft., 6 lb.,  two-handed, piercing]<p>\r";
  wt+=6; }
}
if (document.form1.heavycrossbow.checked==true) {
  if (small==true) { SecondWindowDefinition+="Heavy Crossbow ["+missile_attack_string_1+", 1d8"+bow_st_penalty+", crit 19-20/x2, range 120 ft., 4 lb., piercing]<p>\r";
  wt+=4; }
  if (large==true) { SecondWindowDefinition+="Heavy Crossbow ["+missile_attack_string_1+", 2d8"+bow_st_penalty+", crit 19-20/x2, range 120 ft., 16 lb., piercing]<p>\r";
  wt+=16; }
  if (small==false && large==false) { SecondWindowDefinition+="Heavy Crossbow ["+missile_attack_string_1+", 1d10"+bow_st_penalty+", crit 19-20/x2, range 120 ft., 8 lb., piercing]<p>\r";
  wt+=8; }
}
if (document.form1.lightcrossbow.checked==true) {
  if (small==true) { SecondWindowDefinition+="Light Crossbow ["+missile_attack_string_1+", 1d6"+bow_st_penalty+", crit 19-20/x2, range 80 ft., 2 lb., piercing]<p>\r";
  wt+=2; }
  if (large==true) { SecondWindowDefinition+="Light Crossbow ["+missile_attack_string_1+", 2d6"+bow_st_penalty+", crit 19-20/x2, range 80 ft., 8 lb., piercing]<p>\r";
  wt+=8; }
  if (small==false && large==false) { SecondWindowDefinition+="Light Crossbow ["+missile_attack_string_1+", 1d8"+bow_st_penalty+", crit 19-20/x2, range 80 ft., 4 lb., piercing]<p>\r";
  wt+=4; }
}
if (document.form1.dart.checked==true) {
  if (small==true) { SecondWindowDefinition+="Dart ["+missile_attack_string_1+", 1d3"+damage_bonus+", crit x2, range 20 ft., 1/4 lb., piercing]<p>\r";
  wt+=0.25; }
  if (large==true) { SecondWindowDefinition+="Dart ["+missile_attack_string_1+", 1d6"+damage_bonus+", crit x2, range 20 ft., 1 lb., piercing]<p>\r";
  wt+=1; }
  if (small==false && large==false) { SecondWindowDefinition+="Dart ["+missile_attack_string_1+", 1d4"+damage_bonus+", crit x2, range 20 ft., 1/2 lb., piercing]<p>\r";
  wt+=0.50; }
}
if (document.form1.javelin.checked==true) {
  if (small==true) { SecondWindowDefinition+="Javelin ["+missile_attack_string_1+", 1d4"+damage_bonus+", crit x2, range 30 ft., 1 lb., piercing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Javelin ["+missile_attack_string_1+", 1d8"+damage_bonus+", crit x2, range 30 ft., 4 lb., piercing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Javelin ["+missile_attack_string_1+", 1d6"+damage_bonus+", crit x2, range 30 ft., 2 lb., piercing]<p>\r";
  wt+=2; }
}
if (document.form1.sling.checked==true) {
  if (small==true) { SecondWindowDefinition+="Sling ["+missile_attack_string_1+", 1d3"+damage_bonus+", crit x2, range 50 ft., 0 lb., bludgeoning]<p>\r";
  wt+=0; }
  if (large==true) { SecondWindowDefinition+="Sling ["+missile_attack_string_1+", 1d6"+damage_bonus+", crit x2, range 50 ft., 0 lb., bludgeoning]<p>\r";
  wt+=0; }
  if (small==false && large==false) { SecondWindowDefinition+="Sling ["+missile_attack_string_1+", 1d4"+damage_bonus+", crit x2, range 50 ft., 0 lb., bludgeoning]<p>\r";
  wt+=0; }
}
if (document.form1.throwingaxe.checked==true) {
  if (small==true) { SecondWindowDefinition+="Throwing Axe ["+missile_attack_string_1+", 1d4"+damage_bonus+", crit x2, range 10 ft., 1 lb., light, slashing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Throwing Axe ["+missile_attack_string_1+", 1d8"+damage_bonus+", crit x2, range 10 ft., 4 lb., light, slashing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Throwing Axe ["+missile_attack_string_1+", 1d6"+damage_bonus+", crit x2, range 10 ft., 2 lb., light, slashing]<p>\r";
  wt+=2; }
}
if (document.form1.lighthammer.checked==true) {
  if (small==true) { SecondWindowDefinition+="Light Hammer ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d3"+damage_bonus+", crit x2, range 20 ft., 1 lb., light,  bludgeoning]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Light Hammer ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d6"+damage_bonus+", crit x2, range 20 ft., 4 lb., light,  bludgeoning]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Light Hammer ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d4"+damage_bonus+", crit x2, range 20 ft., 2 lb., light,  bludgeoning]<p>\r";
  wt+=2; }
}
if (document.form1.handaxe.checked==true) {
  if (small==true) { SecondWindowDefinition+="Hand Axe ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x3, crit x2., 1 1/2 lb.,  light, slashing]<p>\r";
  wt+=1.5; }
  if (large==true) { SecondWindowDefinition+="Hand Axe ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x3, crit x2., 6 lb.,  light, slashing]<p>\r";
  wt+=6; }
  if (small==false && large==false) { SecondWindowDefinition+="Hand Axe ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x3, crit x2., 3 lb.,  light, slashing]<p>\r";
  wt+=3; }
}
if (document.form1.kukri.checked==true) {
  if (small==true) { SecondWindowDefinition+="Kukri ["+handheld_attack_string_1+", 1d3"+damage_bonus+", crit 18-20/x2, 1 lb.,  light, slashing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Kukri ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit 18-20/x2, 4 lb.,  light, slashing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Kukri ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit 18-20/x2, 2 lb.,  light, slashing]<p>\r";
  wt+=2; }
}
if (document.form1.lightpick.checked==true) {
  if (small==true) { SecondWindowDefinition+="Light Pick ["+handheld_attack_string_1+", 1d3"+damage_bonus+", crit x4, 1 1/2 lb., light,  piercing]<p>\r";
  wt+=1.5; }
  if (large==true) { SecondWindowDefinition+="Light Pick ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x4, 6 lb., light, piercing]<p>\r";
  wt+=6; }
  if (small==false && large==false) { SecondWindowDefinition+="Light Pick ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x4, 3 lb., light,  piercing]<p>\r";
  wt+=3; }
}
if (document.form1.sap.checked==true) {
  if (small==true) { SecondWindowDefinition+="Sap ["+handheld_attack_string_1+", 1d4"+damage_bonus+" nonlethal, crit x2, 1 lb., light, bludgeoning]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Sap ["+handheld_attack_string_1+", 1d8"+damage_bonus+" nonlethal, crit x2, 4 lb., light, bludgeoning]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Sap ["+handheld_attack_string_1+", 1d6"+damage_bonus+" nonlethal, crit x2, 2 lb., light, bludgeoning]<p>\r";
  wt+=2; }
}
if (document.form1.lightshield.checked==true) {
  if (small==true) { SecondWindowDefinition+="Light Shield ["+handheld_attack_string_1+", 1d2"+offh_damage_bonus+", crit x2., light, bludgeoning]<p>\r"; }
  if (large==true) { SecondWindowDefinition+="Light Shield ["+handheld_attack_string_1+", 1d4"+offh_damage_bonus+", crit x2., light, bludgeoning]<p>\r"; }
  if (small==false && large==false) { SecondWindowDefinition+="Light Shield ["+handheld_attack_string_1+", 1d3"+offh_damage_bonus+", crit x2., light, bludgeoning]<p>\r"; }
}
if (document.form1.spikedarmor.checked==true) {
  if (small==true) { SecondWindowDefinition+="Spiked Armor ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x2., light, piercing]<p>\r"; }
  if (large==true) { SecondWindowDefinition+="Spiked Armor ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x2., light, piercing]<p>\r"; }
  if (small==false && large==false) { SecondWindowDefinition+="Spiked Armor ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2., light, piercing]<p>\r"; }
}
if (document.form1.lightspikedshield.checked==true) {
  if (small==true) { SecondWindowDefinition+="Light Spiked Shield ["+handheld_attack_string_1+", 1d3"+offh_damage_bonus+", crit x2, light, piercing]<p>\r"; }
  if (large==true) { SecondWindowDefinition+="Light Spiked Shield ["+handheld_attack_string_1+", 1d6"+offh_damage_bonus+", crit x2, light, piercing]<p>\r"; }
  if (small==false && large==false) { SecondWindowDefinition+="Light Spiked Shield ["+handheld_attack_string_1+", 1d4"+offh_damage_bonus+", crit x2, light, piercing]<p>\r"; }
}
if (document.form1.shortsword.checked==true) {
  if (small==true) { SecondWindowDefinition+="Short Sword ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit 1-20/x2, 1/2 lb., light, piercing]<p>\r";
  wt+=0.5; }
  if (large==true) { SecondWindowDefinition+="Short Sword ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit 1-20/x2, 2 lb., light, piercing]<p>\r";
  wt+=2; }
  if (small==false && large==false) { SecondWindowDefinition+="Short Sword ["+handheld_attack_string_1+",1d6"+damage_bonus+", crit 1-20/x2, 1 lb., light, piercing]<p>\r";
  wt+=1; }
}
if (document.form1.battleaxe.checked==true) {
  if (small==true) { SecondWindowDefinition+="Battle Axe ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x3, 3 lb., one-handed, slashing]<p>\r";
  wt+=3; }
  if (large==true) { SecondWindowDefinition+="Battle Axe ["+handheld_attack_string_1+", 2d6"+damage_bonus+", crit x3, 12 lb., one-handed, slashing]<p>\r";
  wt+=12; }
  if (small==false && large==false) { SecondWindowDefinition+="Battle Axe ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x3, 6 lb., one-handed, slashing]<p>\r";
  wt+=6; }
}
if (document.form1.flail.checked==true) {
  if (small==true) { SecondWindowDefinition+="Flail ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2, 2 1/2 lb.,  one-handed, bludgeoning]<p>\r";
  wt+=2.5; }
  if (large==true) { SecondWindowDefinition+="Flail ["+handheld_attack_string_1+", 2d6"+damage_bonus+", crit x2, 10 lb.,  one-handed, bludgeoning]<p>\r";
  wt+=10; }
  if (small==false && large==false) { SecondWindowDefinition+="Flail ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x2, 5 lb.,  one-handed, bludgeoning]<p>\r";
  wt+=5; }
}
if (document.form1.longsword.checked==true) {
  if (small==true) { SecondWindowDefinition+="Longsword ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit 19-20/x2, 2 lb., one-handed, slashing]<p>\r";
  wt+=2; }
  if (large==true) { SecondWindowDefinition+="Longsword ["+handheld_attack_string_1+", 2d6"+damage_bonus+", crit 19-20/x2, 8 lb., one-handed, slashing]<p>\r";
  wt+=8; }
  if (small==false && large==false) { SecondWindowDefinition+="Longsword ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit 19-20/x2, 4 lb., one-handed, slashing]<p>\r";
  wt+=4; }
}
if (document.form1.heavypick.checked==true) {
  if (small==true) { SecondWindowDefinition+="Heavy Pick ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x4, 3 lb.,  one-handed, piercing]<p>\r";
  wt+=3; }
  if (large==true) { SecondWindowDefinition+="Heavy Pick ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x4, 12 lb.,  one-handed, piercing]<p>\r";
  wt+=12; }
  if (small==false && large==false) { SecondWindowDefinition+="Heavy Pick ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x4, 6 lb.,  one-handed, piercing]<p>\r";
  wt+=6; }
}
if (document.form1.rapier.checked==true) {
  if (small==true) { SecondWindowDefinition+="Rapier ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit 18-20/x2, 1 lb.,  one-handed, piercing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Rapier ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit 18-20/x2, 4 lb.,  one-handed, piercing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Rapier ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit 18-20/x2, 2 lb.,  one-handed, piercing]<p>\r";
  wt+=2; }
}
if (document.form1.scimitar.checked==true) {
  if (small==true) { SecondWindowDefinition+="Scimitar ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit 18-20/x2, 2 lb., one-handed, slashing]<p>\r";
  wt+=2; }
  if (large==true) { SecondWindowDefinition+="Scimitar ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit 18-20/x2, 8 lb., one-handed, slashing]<p>\r";
  wt+=8; }
  if (small==false && large==false) { SecondWindowDefinition+="Scimitar ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit 18-20/x2, 4 lb., one-handed, slashing]<p>\r";
  wt+=4; }
}

if (document.form1.heavyshield.checked==true) {
  if (small==true) { SecondWindowDefinition+="Heavy Shield ["+handheld_attack_string_1+", 1d3"+offh_damage_bonus+", crit x2, one-handed, bludgeoning]<p>\r"; }
  if (large==true) { SecondWindowDefinition+="Heavy Shield ["+handheld_attack_string_1+", 1d6"+offh_damage_bonus+", crit x2, one-handed, bludgeoning]<p>\r"; }
  if (small==false && large==false) { SecondWindowDefinition+="Heavy Shield ["+handheld_attack_string_1+", 1d4"+offh_damage_bonus+", crit x2, one-handed, bludgeoning]<p>\r"; }
}

if (document.form1.heavyspikedshield.checked==true) {
  if (small==true) { SecondWindowDefinition+="Heavy Spiked Shield ["+handheld_attack_string_1+", 1d4"+offh_damage_bonus+", crit x2, one-handed, piercing]<p>\r"; }
  if (large==true) { SecondWindowDefinition+="Heavy Spiked Shield ["+handheld_attack_string_1+", 1d8"+offh_damage_bonus+", crit x2, one-handed, piercing]<p>\r"; }
  if (small==false && large==false) { SecondWindowDefinition+="Heavy Spiked Shield ["+handheld_attack_string_1+", 1d6"+offh_damage_bonus+", crit x2, one-handed, piercing]<p>\r"; }
}

if (document.form1.trident.checked==true) {
  if (small==true) { SecondWindowDefinition+="Trident ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d6"+damage_bonus+", crit x2, range 10 ft., 2 lb.,  one-handed, piercing]<p>\r";
  wt+=2; }
  if (large==true) { SecondWindowDefinition+="Trident ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 2d6"+damage_bonus+", crit x2, range 10 ft., 8 lb.,  one-handed, piercing]<p>\r";
  wt+=8; }
  if (small==false && large==false) { SecondWindowDefinition+="Trident ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d8"+damage_bonus+", crit x2, range 10 ft., 4 lb.,  one-handed, piercing]<p>\r";
  wt+=4; }
}
if (document.form1.warhammer.checked==true) {
  if (small==true) { SecondWindowDefinition+="War Hammer ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x3., 2 1/2 lb., one-handed, bludgeoning]<p>\r";
  wt+=2.5; }
  if (large==true) { SecondWindowDefinition+="War Hammer ["+handheld_attack_string_1+", 2d6"+damage_bonus+", crit x3., 10 lb., one-handed, bludgeoning]<p>\r";
  wt+=10; }
  if (small==false && large==false) { SecondWindowDefinition+="War Hammer ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x3., 5 lb., one-handed, bludgeoning]<p>\r";
  wt+=5; }
}
if (document.form1.falchion.checked==true) {
  if (small==true) { SecondWindowDefinition+="Falchion ["+handheld_attack_string_1+", 1d6"+twoh_damage_bonus+", crit 18-20/x2, 4 lb., two-handed, slashing]<p>\r";
  wt+=4; }
  if (large==true) { SecondWindowDefinition+="Falchion ["+handheld_attack_string_1+", 2d6"+twoh_damage_bonus+", crit 18-20/x2, 16 lb., two-handed, slashing]<p>\r";
  wt+=16; }
  if (small==false && large==false) { SecondWindowDefinition+="Falchion ["+handheld_attack_string_1+", 2d4"+twoh_damage_bonus+", crit 18-20/x2, 8 lb., two-handed, slashing]<p>\r";
  wt+=8; }
}
if (document.form1.glaive.checked==true) {
  if (small==true) { SecondWindowDefinition+="Glaive ["+handheld_attack_string_1+", 1d8"+twoh_damage_bonus+", crit x3, 5 lb., two-handed, slashing]<p>\r";
  wt+=5; }
  if (large==true) { SecondWindowDefinition+="Glaive ["+handheld_attack_string_1+", 2d8"+twoh_damage_bonus+", crit x3, 20 lb., two-handed, slashing]<p>\r";
  wt+=20; }
  if (small==false && large==false) { SecondWindowDefinition+="Glaive ["+handheld_attack_string_1+", 1d10"+twoh_damage_bonus+", crit x3, 10 lb., two-handed, slashing]<p>\r";
  wt+=10; }
}
if (document.form1.greataxe.checked==true) {
  if (small==true) { SecondWindowDefinition+="Greataxe ["+handheld_attack_string_1+", 1d10"+twoh_damage_bonus+", crit x3, 6 lb., two-handed, slashing]<p>\r";
  wt+=6; }
  if (large==true) { SecondWindowDefinition+="Greataxe ["+handheld_attack_string_1+", 3d6"+twoh_damage_bonus+", crit x3, 24 lb., two-handed, slashing]<p>\r";
  wt+=24; }
  if (small==false && large==false) { SecondWindowDefinition+="Greataxe ["+handheld_attack_string_1+", 1d12"+twoh_damage_bonus+", crit x3, 12 lb., two-handed, slashing]<p>\r";
  wt+=12; }
}
if (document.form1.heavyflail.checked==true) {
  if (small==true) { SecondWindowDefinition+="Heavy Flail ["+handheld_attack_string_1+", 1d8"+twoh_damage_bonus+", crit 19-20/x2, 5 lb., two-handed, bludgeoning]<p>\r";
  wt+=5; }
  if (large==true) { SecondWindowDefinition+="Heavy Flail ["+handheld_attack_string_1+", 2d8"+twoh_damage_bonus+", crit 19-20/x2, 20 lb., two-handed, bludgeoning]<p>\r";
  wt+=20; }
  if (small==false && large==false) { SecondWindowDefinition+="Heavy Flail ["+handheld_attack_string_1+", 1d10"+twoh_damage_bonus+", crit 19-20/x2, 10 lb., two-handed,  ludgeoning]<p>\r";
  wt+=10; }
}
if (document.form1.greatsword.checked==true) {
  if (small==true) { SecondWindowDefinition+="Greatsword ["+handheld_attack_string_1+", 1d10"+twoh_damage_bonus+", crit 19-20/x2, 4 lb., two-handed, slashing]<p>\r";
  wt+=4; }
  if (large==true) { SecondWindowDefinition+="Greatsword ["+handheld_attack_string_1+", 3d6"+twoh_damage_bonus+", crit 19-20/x2, 16 lb., two-handed, slashing]<p>\r";
  wt+=16; }
  if (small==false && large==false) { SecondWindowDefinition+="Greatsword ["+handheld_attack_string_1+", 2d6"+twoh_damage_bonus+", crit 19-20/x2, 8 lb., two-handed, slashing]<p>\r";
  wt+=8; }
}
if (document.form1.guisarme.checked==true) {
  if (small==true) { SecondWindowDefinition+="Guisarme ["+handheld_attack_string_1+", 1d6"+twoh_damage_bonus+", crit x3, 6 lb.,  two-handed, slashing]<p>\r";
  wt+=6; }
  if (large==true) { SecondWindowDefinition+="Guisarme ["+handheld_attack_string_1+", 2d6"+twoh_damage_bonus+", crit x3, 24 lb.,  two-handed, slashing]<p>\r";
  wt+=24; }
  if (small==false && large==false) { SecondWindowDefinition+="Guisarme ["+handheld_attack_string_1+", 2d4"+twoh_damage_bonus+", crit x3, 12 lb.,  two-handed, slashing]<p>\r";
  wt+=12; }
}
if (document.form1.halberd.checked==true) {
  if (small==true) { SecondWindowDefinition+="Halberd ["+handheld_attack_string_1+", 1d8"+twoh_damage_bonus+", crit x3, 6 lb., two-handed, piercing or slashing]<p>\r";
  wt+=6; }
  if (large==true) { SecondWindowDefinition+="Halberd ["+handheld_attack_string_1+", 2d8"+twoh_damage_bonus+", crit x3, 24 lb., two-handed, piercing or slashing]<p>\r";
  wt+=24; }
  if (small==false && large==false) { SecondWindowDefinition+="Halberd ["+handheld_attack_string_1+", 1d10"+twoh_damage_bonus+", crit x3, 12 lb., two-handed, piercing or slashing]<p>\r";
  wt+=12; }
}
if (document.form1.lance.checked==true) {
  if (small==true) { SecondWindowDefinition+="Lance ["+handheld_attack_string_1+", 1d6"+twoh_damage_bonus+", crit x3, 6 lb., two-handed, piercing]<p>\r";
  wt+=6; }
  if (large==true) { SecondWindowDefinition+="Lance ["+handheld_attack_string_1+", 2d6"+twoh_damage_bonus+", crit x3, 24 lb., two-handed, piercing]<p>\r";
  wt+=24; }
  if (small==false && large==false) { SecondWindowDefinition+="Lance ["+handheld_attack_string_1+", 2d4"+twoh_damage_bonus+", crit x3, 12 lb., two-handed, piercing]<p>\r";
  wt+=12; }
}
if (document.form1.ranseur.checked==true) {
  if (small==true) { SecondWindowDefinition+="Ranseur ["+handheld_attack_string_1+", 1d6"+twoh_damage_bonus+", crit x3, 6 lb., two-handed, piercing]<p>\r";
  wt+=6; }
  if (large==true) { SecondWindowDefinition+="Ranseur ["+handheld_attack_string_1+", 2d6"+twoh_damage_bonus+", crit x3, 24 lb., two-handed, piercing]<p>\r";
  wt+=24; }
  if (small==false && large==false) { SecondWindowDefinition+="Ranseur ["+handheld_attack_string_1+", 2d4"+twoh_damage_bonus+", crit x3, 12 lb.,  two-handed, piercing]<p>\r";
  wt+=12; }
}
if (document.form1.scythe.checked==true) {
  if (small==true) { SecondWindowDefinition+="Scythe ["+handheld_attack_string_1+", 1d6"+twoh_damage_bonus+", crit x4, 5 lb., two-handed, piercing or slashing]<p>\r";
  wt+=5; }
  if (large==true) { SecondWindowDefinition+="Scythe ["+handheld_attack_string_1+", 2d6"+twoh_damage_bonus+", crit x4, 20 lb., two-handed, piercing or slashing]<p>\r";
  wt+=20; }
  if (small==false && large==false) { SecondWindowDefinition+="Scythe ["+handheld_attack_string_1+", 2d4"+twoh_damage_bonus+", crit x4, 10 lb., two-handed, piercing or slashing]<p>\r";
  wt+=10; }
}
if (document.form1.longbow.checked==true) {
  if (small==true) { SecondWindowDefinition+="Longbow ["+missile_attack_string_1+", 1d6"+bow_st_penalty+", crit x3, range 100 ft., 1 1/2 lb., piercing]<p>\r";
  wt+=1.5; }
  if (large==true) { SecondWindowDefinition+="Longbow ["+missile_attack_string_1+", 2d6"+bow_st_penalty+", crit x3, range 100 ft., 6 lb., piercing]<p>\r";
  wt+=6; }
  if (small==false && large==false) { SecondWindowDefinition+="Longbow ["+missile_attack_string_1+", 1d8"+bow_st_penalty+", crit x3, range 100 ft., 3 lb., piercing]<p>\r";
  wt+=3; }
}
if (document.form1.compositelongbow.checked==true) {
  if (small==true) { SecondWindowDefinition+="Composite Longbow ["+missile_attack_string_1+", 1d6"+damage_bonus+", crit x3, range 100 ft., 1 1/2 lb., piercing]<p>\r";
  wt+=1.5; }
  if (large==true) { SecondWindowDefinition+="Composite Longbow ["+missile_attack_string_1+", 2d6"+damage_bonus+", crit x3, range 100 ft., 6 lb., piercing]<p>\r";
  wt+=6; }
  if (small==false && large==false) { SecondWindowDefinition+="Composite Longbow ["+missile_attack_string_1+", 1d8"+damage_bonus+", crit x3, range 100 ft., 3 lb., piercing]<p>\r";
  wt+=3; }
}
if (document.form1.shortbow.checked==true) {
  if (small==true) { SecondWindowDefinition+="Shortbow ["+missile_attack_string_1+", 1d4"+bow_st_penalty+", crit x3, range 60 ft., 1 lb., piercing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Shortbow ["+missile_attack_string_1+", 1d8"+bow_st_penalty+", crit x3, range 60 ft., 4 lb., piercing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Shortbow ["+missile_attack_string_1+", 1d6"+bow_st_penalty+", crit x3, range 60 ft., 2 lb., piercing]<p>\r";
  wt+=2; }
}
if (document.form1.compositeshortbow.checked==true) {
  if (small==true) { SecondWindowDefinition+="Composite Shortbow ["+missile_attack_string_1+", 1d4"+damage_bonus+", crit x3, range 70 ft., 1 lb., piercing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Composite Shortbow ["+missile_attack_string_1+", 1d8"+damage_bonus+", crit x3, range 70 ft., 4 lb., piercing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Composite Shortbow ["+missile_attack_string_1+", 1d6"+damage_bonus+", crit x3, range 70 ft., 2 lb., piercing]<p>\r";
  wt+=2; }
}
if (document.form1.kama.checked==true) {
  if (small==true) { SecondWindowDefinition+="Kama ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x2, 1 lb., light, slashing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Kama ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x2, 4 lb., light, slashing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Kama ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2, 2 lb., light, slashing]<p>\r";
  wt+=2; }
}
if (document.form1.nunchaku.checked==true) {
  if (small==true) { SecondWindowDefinition+="Nunchaku ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x2, 1 lb., light, bludgeoning]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Nunchaku ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x2, 4 lb., light, bludgeoning]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Nunchaku ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2, 2 lb., light, bludgeoning]<p>\r";
  wt+=2; }
}
if (document.form1.sai.checked==true) {
  if (small==true) { SecondWindowDefinition+="Sai ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d3"+damage_bonus+", crit x2, range 10 ft., 1/2 lb., light, bludgeoning]<p>\r";
  wt+=0.5; }
  if (large==true) { SecondWindowDefinition+="Sai ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d6"+damage_bonus+", crit x2, range 10 ft., 2 lb., light, bludgeoning]<p>\r";
  wt+=2; }
  if (small==false && large==false) { SecondWindowDefinition+="Sai ["+handheld_attack_string_1+"/"+missile_attack_string_1+", 1d4"+damage_bonus+", crit x2, range 10 ft., 1 lb., light, bludgeoning]<p>\r";
  wt+=1; }
}
if (document.form1.siangham.checked==true) {
  if (small==true) { SecondWindowDefinition+="Siangham ["+handheld_attack_string_1+", 1d4"+damage_bonus+", crit x2, 1/2 lb., light, piercing]<p>\r";
  wt+=0.5; }
  if (large==true) { SecondWindowDefinition+="Siangham ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x2, 2 lb., light, piercing]<p>\r";
  wt+=2; }
  if (small==false && large==false) { SecondWindowDefinition+="Siangham ["+handheld_attack_string_1+", 1d6"+damage_bonus+", crit x2, 1 lb., light, piercing]<p>\r";
  wt+=1; }
}
if (document.form1.bastardsword.checked==true) {
  if (small==true) { SecondWindowDefinition+="Bastard Sword ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit 19-20/x2, 3 lb., one-handed, slashing]<p>\r";
  wt+=3; }
  if (large==true) { SecondWindowDefinition+="Bastard Sword ["+handheld_attack_string_1+", 2d8"+damage_bonus+", crit 19-20/x2, 12 lb., one-handed, slashing]<p>\r";
  wt+=12; }
  if (small==false && large==false) { SecondWindowDefinition+="Bastard Sword ["+handheld_attack_string_1+", 1d10"+damage_bonus+", crit 19-20/x2, 6 lb., one-handed, slashing]<p>\r";
  wt+=6; }
}
if (document.form1.dwarvenwaraxe.checked==true) {
  if (small==true) { SecondWindowDefinition+="Dwarven Waraxe ["+handheld_attack_string_1+", 1d8"+damage_bonus+", crit x3, 4 lb., one-handed, slashing]<p>\r";
  wt+=4; }
  if (large==true) { SecondWindowDefinition+="Dwarven Waraxe ["+handheld_attack_string_1+", 2d8"+damage_bonus+", crit x3, 16 lb., one-handed, slashing]<p>\r";
  wt+=16; }
  if (small==false && large==false) { SecondWindowDefinition+="Dwarven Waraxe ["+handheld_attack_string_1+", 1d10"+damage_bonus+", crit x3, 8 lb., one-handed, slashing]<p>\r";
  wt+=8; }
}
if (document.form1.whip.checked==true) {
  if (small==true) { SecondWindowDefinition+="Whip ["+handheld_attack_string_1+", 1d2"+damage_bonus+" nonlethal, crit x2, 1 lb., one-handed,  slashing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Whip ["+handheld_attack_string_1+", 1d4"+damage_bonus+" nonlethal, crit x2, 4 lb., one-handed,  slashing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Whip ["+handheld_attack_string_1+", 1d3"+damage_bonus+" nonlethal, crit x2, 2 lb., one-handed,  slashing]<p>\r";
  wt+=2; }
}
if (document.form1.orcdoubleaxe.checked==true) {
  if (small==true) { SecondWindowDefinition+="Orc Double Axe ["+handheld_attack_string_1+", 1d6"+damage_bonus+"/1d6"+offh_damage_bonus+", crit x3, 7 1/2 lb., two-handed, slashing]<p>\r";
  wt+=7.5; }
  if (large==true) { SecondWindowDefinition+="Orc Double Axe ["+handheld_attack_string_1+", 2d6"+damage_bonus+"/2d6"+offh_damage_bonus+", crit x3, 30 lb., two-handed, slashing]<p>\r";
  wt+=30; }
  if (small==false && large==false) { SecondWindowDefinition+="Orc Double Axe ["+handheld_attack_string_1+", 1d8"+damage_bonus+"/1d8"+offh_damage_bonus+", crit x3, 15 lb., two-handed, slashing]<p>\r";
  wt+=15; }
}
if (document.form1.spikedchain.checked==true) {
  if (small==true) { SecondWindowDefinition+="Spiked Chain ["+handheld_attack_string_1+", 1d6"+twoh_damage_bonus+", crit x2, 5 lb.,  two-handed, piercing]<p>\r";
  wt+=5; }
  if (large==true) { SecondWindowDefinition+="Spiked Chain ["+handheld_attack_string_1+", 2d6"+twoh_damage_bonus+", crit x2, 20 lb.,  two-handed, piercing]<p>\r";
  wt+=20; }
  if (small==false && large==false) { SecondWindowDefinition+="Spiked Chain ["+handheld_attack_string_1+", 2d4"+twoh_damage_bonus+", crit x2, 10 lb.,  two-handed, piercing]<p>\r";
  wt+=10; }
}
if (document.form1.direflail.checked==true) {
  if (small==true) { SecondWindowDefinition+="Dire Flail ["+handheld_attack_string_1+", 1d6"+damage_bonus+"/1d6"+offh_damage_bonus+", crit x2, 5 lb., two-handed,  bludgeoning]<p>\r";
  wt+=5; }
  if (large==true) { SecondWindowDefinition+="Dire Flail ["+handheld_attack_string_1+", 2d6"+damage_bonus+"/2d6"+offh_damage_bonus+", crit x2, 20 lb., two-handed,  bludgeoning]<p>\r";
  wt+=20; }
  if (small==false && large==false) { SecondWindowDefinition+="Dire Flail ["+handheld_attack_string_1+", 1d8"+damage_bonus+"/1d8"+offh_damage_bonus+", crit x2, 10 lb., two-handed, bludgeoning]<p>\r";
  wt+=10; }
}
if (document.form1.gnomehookedhammer.checked==true) {
  if (small==true) { SecondWindowDefinition+="Gnome Hooked Hammer ["+handheld_attack_string_1+", 1d6"+damage_bonus+"/1d4"+offh_damage_bonus+", crit x3/x4, 3 lb.,  two-handed, bludgeoning and piercing]<p>\r";
  wt+=3; }
  if (large==true) { SecondWindowDefinition+="Gnome Hooked Hammer ["+handheld_attack_string_1+", 2d6"+damage_bonus+"/1d8"+offh_damage_bonus+", crit x3/x4, 12 lb.,  two-handed, bludgeoning and piercing]<p>\r";
  wt+=12; }
  if (small==false && large==false) { SecondWindowDefinition+="Gnome Hooked Hammer ["+handheld_attack_string_1+", 1d8"+damage_bonus+"/1d6"+offh_damage_bonus+", crit x3/x4, 6 lb., two-handed, bludgeoning and piercing]<p>\r";
  wt+=6; }
}
if (document.form1.twobladedsword.checked==true) {
  if (small==true) { SecondWindowDefinition+="Two-bladed Sword ["+handheld_attack_string_1+", 1d6"+damage_bonus+"/1d6"+offh_damage_bonus+", crit 19-20/x2, 5 lb., two-handed, slashing]<p>\r";
  wt+=5; }
  if (large==true) { SecondWindowDefinition+="Two-bladed Sword ["+handheld_attack_string_1+", 2d6"+damage_bonus+"/2d6"+offh_damage_bonus+", crit 19-20/x2, 20 lb., two-handed, slashing]<p>\r";
  wt+=20; }
  if (small==false && large==false) { SecondWindowDefinition+="Two-bladed Sword ["+handheld_attack_string_1+", 1d8"+damage_bonus+"/1d8"+offh_damage_bonus+", crit 19-20/x2, 10 lb., two-handed, slashing]<p>\r";
  wt+=10; }
}
if (document.form1.dwarvenurgrosh.checked==true) {
  if (small==true) { SecondWindowDefinition+="Dwarven Urgrosh ["+handheld_attack_string_1+", 1d6"+damage_bonus+"/1d4"+offh_damage_bonus+", crit x3, 6 lb.,  two-handed, slashing or piercing]<p>\r";
  wt+=6; }
  if (large==true) { SecondWindowDefinition+="Dwarven Urgrosh ["+handheld_attack_string_1+", 2d6"+damage_bonus+"/1d6"+offh_damage_bonus+", crit x3, 24 lb.,  two-handed, slashing or piercing]<p>\r";
  wt+=24; }
  if (small==false && large==false) { SecondWindowDefinition+="Dwarven Urgrosh ["+handheld_attack_string_1+", 1d8"+damage_bonus+"/1d6"+offh_damage_bonus+", crit x3, 12 lb.,  two-handed, slashing or piercing]<p>\r";
  wt+=12; }
}
if (document.form1.bolas.checked==true) {
  if (small==true) { SecondWindowDefinition+="Bolas ["+missile_attack_string_1+", 1d3"+damage_bonus+" nonlethal, crit x2, range 10 ft., 1 lb., bludgeoning]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Bolas ["+missile_attack_string_1+", 1d6"+damage_bonus+" nonlethal, crit x2, range 10 ft., 4 lb., bludgeoning]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Bolas ["+missile_attack_string_1+", 1d4"+damage_bonus+" nonlethal, crit x2, range 10 ft., 2 lb., bludgeoning]<p>\r";
  wt+=2; }
}
if (document.form1.handcrossbow.checked==true) {
  if (small==true) { SecondWindowDefinition+="Hand Crossbow ["+missile_attack_string_1+", 1d3"+bow_st_penalty+", 10-20/x2, range 30 ft., 1 lb., piercing]<p>\r";
  wt+=1; }
  if (large==true) { SecondWindowDefinition+="Hand Crossbow ["+missile_attack_string_1+", 1d6"+bow_st_penalty+", 10-20/x2, range 30 ft., 4 lb., piercing]<p>\r";
  wt+=4; }
  if (small==false && large==false) { SecondWindowDefinition+="Hand Crossbow ["+missile_attack_string_1+", 1d4"+bow_st_penalty+", 10-20/x2, range 30 ft., 2 lb., piercing]<p>\r";
  wt+=2; }
}
if (document.form1.repeatingheavycrossbow.checked==true) {
  if (small==true) { SecondWindowDefinition+="Repeating Heavy Crossbow ["+missile_attack_string_1+", 1d8"+bow_st_penalty+", 19-20/x2, range 120 ft., 6 lb., piercing]<p>\r";
  wt+=6; }
  if (large==true) { SecondWindowDefinition+="Repeating Heavy Crossbow ["+missile_attack_string_1+", 2d8"+bow_st_penalty+", 19-20/x2, range 120 ft., 24 lb., piercing]<p>\r";
  wt+=24; }
  if (small==false && large==false) { SecondWindowDefinition+="Repeating Heavy Crossbow ["+missile_attack_string_1+", 1d10"+bow_st_penalty+", 19-20/x2, range 120 ft., 12 lb., piercing]<p>\r";
  wt+=12; }
}
if (document.form1.repeatinglightcrossbow.checked==true) {
  if (small==true) { SecondWindowDefinition+="Repeating Light Crossbow ["+missile_attack_string_1+", 1d6"+bow_st_penalty+", 19-20/x2, range 80 ft., 3 lb., piercing]<p>\r";
  wt+=3; }
  if (large==true) { SecondWindowDefinition+="Repeating Light Crossbow ["+missile_attack_string_1+", 2d6"+bow_st_penalty+", 19-20/x2, range 80 ft., 12 lb., piercing]<p>\r";
  wt+=12; }
  if (small==false && large==false) { SecondWindowDefinition+="Repeating Light Crossbow ["+missile_attack_string_1+", 1d8"+bow_st_penalty+", 19-20/x2, range 80 ft., 6 lb., piercing]<p>\r";
  wt+=6; }
}
if (document.form1.net.checked==true) {
  if (small==true) { SecondWindowDefinition+="Net ["+missile_attack_string_1+", --, 10 ft., 6 lb., --]<p>\r";
  	wt+=6; }
  if (large==true) { SecondWindowDefinition+="Net ["+missile_attack_string_1+", --, 10 ft., 6 lb., --]<p>\r";
  	wt+=6; }
  if (small==false && large==false) { SecondWindowDefinition+="Net ["+missile_attack_string_1+", --, 10 ft., 6 lb., --]<p>\r";
  	wt+=6; }
}
if (document.form1.shuriken.checked==true) {
  if (small==true) { SecondWindowDefinition+="Shuriken ["+missile_attack_string_1+", 1"+damage_bonus+", crit x2, range 10 ft., 1/2 lb., piercing]<p>\r";
  wt+=0.5; }
  if (large==true) { SecondWindowDefinition+="Shuriken ["+missile_attack_string_1+", 1d3"+damage_bonus+", crit x2, range 10 ft., 2 lb., piercing]<p>\r";
  wt+=2; }
  if (small==false && large==false) { SecondWindowDefinition+="Shuriken ["+missile_attack_string_1+", 1d2"+damage_bonus+", crit x2, range 10 ft., 1/2 lb., piercing]<p>\r";
  wt+=0.5; }
}
if (document.form1.pistol.checked==true) {
   SecondWindowDefinition+="Pistol ["+missile_attack_string_1+", 1d10, crit x3, range 50 ft., 3 lb., piercing]<p>\r";
   wt+=3; }
if (document.form1.musket.checked==true) {
   SecondWindowDefinition+="Musket ["+missile_attack_string_1+", 1d12, crit x3, range 150 ft., 10 lb., piercing]<p>\r";
   wt+=10; }
if (document.form1.kusari.checked==true) {
	if (small==true) { SecondWindowDefinition+="Kusari-Gama ["+handheld_attack_string_1+", 1d4/1d2"+damage_bonus+", crit x2, 1.5 lb., slashing]<p>\r";
	wt+=1.5; }
	if (large==true) { SecondWindowDefinition+="Kusari-Gama ["+handheld_attack_string_1+", 1d8/1d4"+damage_bonus+", crit x2, 6 lb., slashing]<p>\r";
	wt+=6; }
	if (small==false && large==false) { SecondWindowDefinition+="Kusari-Gama ["+handheld_attack_string_1+", 1d6/1d3"+damage_bonus+", crit x2, 3 lb., slashing]<p>\r";
	wt+=3; }
}
if (document.form1.blowgun.checked==true) {
	SecondWindowDefinition+="Blowgun ["+missile_attack_string_1+", 1, crit x2, range 10 ft., 2 lb., piercing]<p>\r";
	wt+=2;
}

if (armor_string!="") { SecondWindowDefinition+=armor_string+"<p>\r"; }
if (shield_string!="") { SecondWindowDefinition+=shield_string+"<p>\r"; }
if ((wizard_levels + epic_wizard_levels + sorcerer_levels + epic_sorcerer_levels>0) || ((npcother_levels + epic_npcother_levels>1) && (npcother_class_name=="Adept")))
 {
   if (no_familiar==true) { SecondWindowDefinition+="No familiar yet"; }
   if (bat_familiar==true) { SecondWindowDefinition+="Bat familiar"; }
   if (cat_familiar==true) { SecondWindowDefinition+="Cat familiar"; }
   if (hawk_familiar==true) { SecondWindowDefinition+="Hawk familiar"; }
   if (lizard_familiar==true) { SecondWindowDefinition+="Lizard familiar"; }
   if (owl_familiar==true) { SecondWindowDefinition+="Owl familiar"; }
   if (rat_familiar==true) { SecondWindowDefinition+="Rat familiar"; }
   if (raven_familiar==true) { SecondWindowDefinition+="Raven familiar"; }
   if (snake_familiar==true) { SecondWindowDefinition+="Snake familiar"; }
   if (toad_familiar==true) { SecondWindowDefinition+="Toad familiar"; }
   if (weasel_familiar==true) { SecondWindowDefinition+="Weasel familiar"; }
   if (improved_familiar==true) { SecondWindowDefinition+="Improved familiar"; }
    SecondWindowDefinition+="<p>\r"
 }

// Feats
SecondWindowDefinition+="<p>Feats: ";

if (monk_totem==1)
 {
  SecondWindowDefinition+="Dodge [cobra strike]. \r";
  if (monk_levels + epic_monk_levels>=2) { SecondWindowDefinition+="Mobility [cobra strike]. \r"; }
  if (monk_levels + epic_monk_levels>=6) { SecondWindowDefinition+="Spring Attack [cobra strike]. \r"; }
 }
if (monk_totem==2)
 {
  SecondWindowDefinition+="Improved Grapple [denying stance]. \r";
  if (monk_levels + epic_monk_levels>=2) { SecondWindowDefinition+="Combat Reflexes [denying stance]. \r"; }
  if (monk_levels + epic_monk_levels>=6) { SecondWindowDefinition+="Improved Disarm [denying stance]. \r"; }
 }
if (monk_totem==3)
 {
  SecondWindowDefinition+="Stunning Fist [hand and foot]. \r";
  if (monk_levels + epic_monk_levels>=2) { SecondWindowDefinition+="Deflect Arrows [hand and foot]. \r"; }
  if (monk_levels + epic_monk_levels>=6) { SecondWindowDefinition+="Improved Trip [hand and foot]. \r"; }
 }
if (monk_totem==4)
 {
  SecondWindowDefinition+="Combat Reflexes [invisible eye]. \r";
  if (monk_levels + epic_monk_levels>=2) { SecondWindowDefinition+="Lightning Reflexes [invisible eye]. \r"; }
  if (monk_levels + epic_monk_levels>=6) { SecondWindowDefinition+="Blind-Fight [invisible eye]. \r"; }
 }
if (monk_totem==5)
 {
  SecondWindowDefinition+="Power Attack [overwhelming attack]. \r";
  if (monk_levels + epic_monk_levels>=2) { SecondWindowDefinition+="Improved Bull Rush [overwhelming attack]. \r"; }
  if (monk_levels + epic_monk_levels>=6) { SecondWindowDefinition+="Improved Overrun [overwhelming attack]. \r"; }
 }
if (monk_totem==6)
 {
  SecondWindowDefinition+="Combat Expertise [passive way]. \r";
  if (monk_levels + epic_monk_levels>=2) { SecondWindowDefinition+="Improved Trip [passive way]. \r"; }
  if (monk_levels + epic_monk_levels>=6) { SecondWindowDefinition+="Improved Feint [passive way]. \r"; }
 }
if (monk_totem==7)
 {
  SecondWindowDefinition+="Weapon Finesse [sleeping tiger]. \r";
  if (monk_levels + epic_monk_levels>=2) { SecondWindowDefinition+="Improved Initiative [sleeping tiger]. \r"; }
  if (monk_levels + epic_monk_levels>=6) { SecondWindowDefinition+="Improved Sunder [sleeping tiger]. \r"; }
 }
if (monk_totem==8)
 {
  SecondWindowDefinition+="+3 hp [undying way]. \r";
  if (monk_levels + epic_monk_levels>=2) { SecondWindowDefinition+="Endurance [undying way]. \r"; }
  if (monk_levels + epic_monk_levels>=6) { SecondWindowDefinition+="Diehard [undying way]. \r"; }
 }
if (improved_familiar==true) { SecondWindowDefinition+="Improved Familiar. \r"; }
if (has_acrobatic==true) { SecondWindowDefinition+="Acrobatic. \r"; }
if (has_agile==true) { SecondWindowDefinition+="Agile. \r"; }
if (has_alertness==true) { SecondWindowDefinition+="Alertness. \r"; }
if (has_animalaffinity==true) { SecondWindowDefinition+="Animal Affinity. \r"; }
if (has_armorproficiencylight==true) { SecondWindowDefinition+="Armor Proficiency (light). \r"; }
if (has_armorproficiencymedium==true) { SecondWindowDefinition+="Armor Proficiency (medium). \r"; }
if (has_armorproficiencyheavy==true) { SecondWindowDefinition+="Armor Proficiency (heavy). \r"; }
if (has_athletic==true) { SecondWindowDefinition+="Athletic. \r"; }
if (has_augmentsummoning==true) { SecondWindowDefinition+="Augment Summoning. \r"; }
if ((has_blindfight==true) || (has_blindfight==true)) { SecondWindowDefinition+="Blind-fight. \r"; }
if (has_combatcasting==true) { SecondWindowDefinition+="Combat Casting. \r"; }
if ((has_combatexpertise==true) || (has_combatexpertise==true)) { SecondWindowDefinition+="Combat Expertise. \r"; }
if ((has_improveddisarm==true) || (has_improveddisarm==true)) { SecondWindowDefinition+="Improved Disarm. \r"; }
if (monkish_improved_disarm) { SecondWindowDefinition+="Improved Disarm [monk]. \r"; }
if ((has_improvedfeint==true) || (has_improvedfeint==true)) { SecondWindowDefinition+="Improved Feint. \r"; }
if ((has_improvedtrip==true) || (has_improvedtrip==true)) { SecondWindowDefinition+="Improved Trip. \r"; }
if (monkish_improved_trip) { SecondWindowDefinition+="Improved Trip [monk]. \r"; }
if ((has_whirlwindattack==true) || (has_whirlwindattack==true)) { SecondWindowDefinition+="Whirlwind Attack. \r"; }
if ((has_combatreflexes==true) || (has_combatreflexes==true)) { SecondWindowDefinition+="Combat Reflexes. \r"; }
if (monkish_combat_reflexes==true) { SecondWindowDefinition+="Combat Reflexes [monk]. \r"; }
if (has_deceitful==true) { SecondWindowDefinition+="Deceitful. \r"; }
if (has_defthands==true) { SecondWindowDefinition+="Deft Hands. \r"; }
if (has_diligent==true) { SecondWindowDefinition+="Diligent. \r"; }
if ((has_dodge==true) || (has_dodge==true)) { SecondWindowDefinition+="Dodge. \r"; }
if ((has_mobility==true) || (has_mobility==true)) { SecondWindowDefinition+="Mobility. \r"; }
if ((has_springattack==true) || (has_springattack==true)) { SecondWindowDefinition+="Spring Attack. \r"; }
if (has_endurance==true) { SecondWindowDefinition+="Endurance. \r"; }
if (ranger_levels + epic_ranger_levels>2) { SecondWindowDefinition+="Endurance [free to rangers]. \r"; }
if (has_diehard==true) { SecondWindowDefinition+="Die Hard. \r"; }
if (has_eschewmaterials==true) { SecondWindowDefinition+="Eschew Materials. \r"; }
if (has_exoticweaponproficiency==true) { SecondWindowDefinition+="Exotic Weapon Proficiency: (__________). \r"; }
if (has_extraturning>0) { SecondWindowDefinition+="Extra Turning x" + has_extraturning+". \r"; }
if (has_greatfortitude==true) { SecondWindowDefinition+="Great Fortitude. \r"; }
if (has_improvedcounterspell==true) { SecondWindowDefinition+="Improved Counterspell. \r"; }
if ((has_improvedcritical>0)) { SecondWindowDefinition+="Improved Critical x" + has_improvedcritical+" Weapon(s):\r"; }
if ((has_improvedinitiative==true) || (has_improvedinitiative==true)) { SecondWindowDefinition+="Improved Initiative. \r"; }
if (has_improvedturning==true) { SecondWindowDefinition+="Improved Turning. \r"; }
if ((has_improvedunarmedstrike==true)) { SecondWindowDefinition+="Improved Unarmed Strike. \r"; }
if (monk_levels + epic_monk_levels>0) { SecondWindowDefinition+="Improved Unarmed Strike [monk]. \r"; }
if ((has_improvedgrapple==true) || (has_improvedgrapple==true)) { SecondWindowDefinition+="Improved Grapple. \r"; }
if ((monkish_improved_grapple==true)) { SecondWindowDefinition+="Improved Grapple [monk]. \r"; }
if ((has_deflectarrows==true)) { SecondWindowDefinition+="Deflect Arrows. \r"; }
if ((rayce==34)) { SecondWindowDefinition+="Deflect Arrows [free to thri-kreen]. \r"; }
if ((has_snatcharrows==true) || (has_snatcharrows==true)) { SecondWindowDefinition+="Snatch Arrows. \r"; }
if ((has_stunningfist==true) || (has_stunningfist==true)) { SecondWindowDefinition+="Stunning Fist. \r"; }
if (monkish_stunning_fist==true) { SecondWindowDefinition+="Stunning Fist [monk]. \r"; }
if (has_investigator==true) { SecondWindowDefinition+="Investigator. \r"; }
if (has_ironwill==true) { SecondWindowDefinition+="Iron Will. \r"; }
if (has_leadership==true) { SecondWindowDefinition+="Leadership. \r"; }
if (has_lightningreflexes==true) { SecondWindowDefinition+="Lightning Reflexes. \r"; }
if (has_magicalaptitude==true) { SecondWindowDefinition+="Magical Aptitude. \r"; }
if (has_martialweaponproficiency==true) { SecondWindowDefinition+="Martial Weapon Proficiency Weapon:\r"; }
if ((has_mountedcombat==true) || (has_mountedcombat==true)) { SecondWindowDefinition+="Mounted Combat. \r"; }
if ((has_mountedarchery==true) || (has_mountedarchery==true)) { SecondWindowDefinition+="Mounted Archery. \r"; }
if ((has_ridebyattack==true) || (has_ridebyattack==true)) { SecondWindowDefinition+="Rideby Attack. \r"; }
if ((has_spiritedcharge==true) || (has_spiritedcharge==true)) { SecondWindowDefinition+="Spirited Charge. \r"; }
if ((has_trample==true) || (has_trample==true)) { SecondWindowDefinition+="Trample. \r"; }
if (has_naturalspell==true) { SecondWindowDefinition+="Natural Spell. \r"; }
if (has_negotiator==true) { SecondWindowDefinition+="Negotiator. \r"; }
if (has_nimblefingers==true) { SecondWindowDefinition+="Nimble Fingers. \r"; }
if (has_persuasive==true) { SecondWindowDefinition+="Persuasive. \r"; }
if ((has_pointblankshot==true) || (has_pointblankshot==true)) { SecondWindowDefinition+="Point Blank Shot. \r"; }
if ((has_farshot==true) || (has_farshot==true)) { SecondWindowDefinition+="Far Shot. \r"; }
if ((has_preciseshot==true) || (has_preciseshot==true)) { SecondWindowDefinition+="Precise Shot. \r"; }
if ((has_rapidshot==true) || (has_rapidshot==true)) { SecondWindowDefinition+="Rapid Shot. \r"; }
if ((rangercombattrack==1) && (ranger_levels + epic_ranger_levels>=2)) { SecondWindowDefinition+="Rapid Shot [ranger archery track]. \r"; }
if ((barbarian_totem==1) && (barbarian_levels + epic_barbarian_levels>=3)) { SecondWindowDefinition+="Power Attack [ape totem]. \r"; }
if ((barbarian_totem==2) && (barbarian_levels + epic_barbarian_levels>=2)) { SecondWindowDefinition+="Improved Grapple [bear totem]. \r"; }
if ((barbarian_totem==2) && (barbarian_levels + epic_barbarian_levels>=3)) { SecondWindowDefinition+="Great Fortitude [bear totem]. \r"; }
if ((barbarian_totem==4) && (barbarian_levels + epic_barbarian_levels>=2)) { SecondWindowDefinition+="Blind-Fight [dragon totem]. \r"; }
if ((barbarian_totem==4) && (barbarian_levels + epic_barbarian_levels>=5)) { SecondWindowDefinition+="Frightful Presence [dragon totem]. \r"; }
if ((barbarian_totem==5) && (barbarian_levels + epic_barbarian_levels>=3)) { SecondWindowDefinition+="Lightning Reflexes [eagle totem]. \r"; }
if ((barbarian_totem==6) && (barbarian_levels + epic_barbarian_levels>=1)) { SecondWindowDefinition+="Run [horse totem]. \r"; }
if ((barbarian_totem==6) && (barbarian_levels + epic_barbarian_levels>=5)) { SecondWindowDefinition+="Endurance [horse totem]. \r"; }
if ((barbarian_totem==9) && (barbarian_levels + epic_barbarian_levels>=3)) { SecondWindowDefinition+="Improved Grapple [serpent totem]. \r"; }
if ((barbarian_totem==9) && (barbarian_levels + epic_barbarian_levels>=5)) { SecondWindowDefinition+="Improved Initiative [serpent totem]. \r"; }
if ((barbarian_totem==10) && (barbarian_levels + epic_barbarian_levels>=2)) { SecondWindowDefinition+="Track [wolf totem]. \r"; }
if ((barbarian_totem==10) && (barbarian_levels + epic_barbarian_levels>=5)) { SecondWindowDefinition+="Improved Trip [wolf totem]. \r"; }
if ((has_manyshot==true) || (has_manyshot==true)) { SecondWindowDefinition+="Many Shot. \r"; }
if ((ranger_levels + epic_ranger_levels>=6) && (rangercombattrack==1)) { SecondWindowDefinition+="Many Shot [ranger archery track]. \r"; }
if ((has_shotontherun==true) || (has_shotontherun==true)) { SecondWindowDefinition+="Shot on the Run. \r"; }
if ((has_improvedpreciseshot==true) || (has_improvedpreciseshot==true)) { SecondWindowDefinition+="Improved Precise Shot. \r"; }
if ((rangercombattrack==1) && (ranger_levels + epic_ranger_levels>=11)) { SecondWindowDefinition+="Improved Precise Shot [ranger archery track]. \r"; }
if ((rangercombattrack==3) && (ranger_levels + epic_ranger_levels>=2)) { SecondWindowDefinition+="Improved Unarmed Strike [ranger beast-wrestling track]. \r"; }
if ((rangercombattrack==3) && (ranger_levels + epic_ranger_levels>=6)) { SecondWindowDefinition+="Improved Grapple [ranger beast-wrestling track]. \r"; }
if ((rangercombattrack==3) && (ranger_levels + epic_ranger_levels>=11)) { SecondWindowDefinition+="Stunning Fist [ranger beast-wrestling track]. \r"; }
if ((rangercombattrack==4) && (ranger_levels + epic_ranger_levels>=2)) { SecondWindowDefinition+="Ride-By Attack [ranger mounted combat track]. \r"; }
if ((rangercombattrack==4) && (ranger_levels + epic_ranger_levels>=6)) { SecondWindowDefinition+="Spirited Charge [ranger mounted combat track]. \r"; }
if ((rangercombattrack==4) && (ranger_levels + epic_ranger_levels>=11)) { SecondWindowDefinition+="Trample [ranger mounted combat track]. \r"; }
if ((has_powerattack==true) || (has_powerattack==true)) { SecondWindowDefinition+="Power Attack. \r"; }
if ((has_cleave==true) || (has_cleave==true)) { SecondWindowDefinition+="Cleave. \r"; }
if ((has_greatcleave==true) || (has_greatcleave==true)) { SecondWindowDefinition+="Great Cleave. \r"; }
if ((has_improvedbullrush==true) || (has_improvedbullrush==true)) { SecondWindowDefinition+="Improved Bull Rush. \r"; }
if ((has_improvedoverrun==true) || (has_improvedoverrun==true)) { SecondWindowDefinition+="Improved Overrun. \r"; }
if ((has_improvedsunder==true) || (has_improvedsunder==true)) { SecondWindowDefinition+="Improved Sunder. \r"; }
if ((has_quickdraw==true) || (has_quickdraw==true)) { SecondWindowDefinition+="Quick Draw. \r"; }
if ((has_rapidreload==true) || (has_rapidreload==true)) { SecondWindowDefinition+="Rapid Reload. \r"; }
if (has_run==true) { SecondWindowDefinition+="Run. \r"; }
if (has_selfsufficient==true) { SecondWindowDefinition+="Self-Sufficient. \r"; }
if (has_shieldproficiency==true) { SecondWindowDefinition+="Shield Proficiency. \r"; }
if ((has_improvedshieldbash==true) || (has_improvedshieldbash==true)) { SecondWindowDefinition+="Improved Shield Bash. \r"; }
if (has_towershieldproficiency==true) { SecondWindowDefinition+="Tower Shield Proficiency. \r"; }
if (has_simpleweaponproficiency==true) { SecondWindowDefinition+="Simple Weapon Proficiency. \r"; }
if (has_skillfocusappraise==true) { SecondWindowDefinition+="Skill Focus (Appraise). \r"; }
if (has_skillfocusbalance==true) { SecondWindowDefinition+="Skill Focus (Balance). \r"; }
if (has_skillfocusbluff==true) { SecondWindowDefinition+="Skill Focus (Bluff). \r"; }
if (has_skillfocusclimb==true) { SecondWindowDefinition+="Skill Focus (Climb). \r"; }
if (has_skillfocusconcentration==true) { SecondWindowDefinition+="Skill Focus (Concentration). \r"; }
if (has_skillfocuscraft_1==true) { SecondWindowDefinition+="Skill Focus (Craft_1). \r"; }
if (has_skillfocuscraft_2==true) { SecondWindowDefinition+="Skill Focus (Craft_2). \r"; }
if (has_skillfocuscraft_3==true) { SecondWindowDefinition+="Skill Focus (Craft_3). \r"; }
if (has_skillfocusdecipherscript==true) { SecondWindowDefinition+="Skill Focus (Decipher Script). \r"; }
if (has_skillfocusdiplomacy==true) { SecondWindowDefinition+="Skill Focus (Diplomacy). \r"; }
if (has_skillfocusdisabledevice==true) { SecondWindowDefinition+="Skill Focus (Disguise). \r"; }
if (has_skillfocusdisguise==true) { SecondWindowDefinition+="Skill Focus (Disguise). \r"; }
if (has_skillfocusescapeartist==true) { SecondWindowDefinition+="Skill Focus (Escape Artist). \r"; }
if (has_skillfocusforgery==true) { SecondWindowDefinition+="Skill Focus (Forgery). \r"; }
if (has_skillfocusgatherinformation==true) { SecondWindowDefinition+="Skill Focus (Gather Information). \r"; }
if (has_skillfocushandleanimal==true) { SecondWindowDefinition+="Skill Focus (Handle Animal). \r"; }
if (has_skillfocusheal==true) { SecondWindowDefinition+="Skill Focus (Heal). \r"; }
if (has_skillfocushide==true) { SecondWindowDefinition+="Skill Focus (Hide). \r"; }
if (has_skillfocusintimidate==true) { SecondWindowDefinition+="Skill Focus (Intimidate). \r"; }
if (has_skillfocusjump==true) { SecondWindowDefinition+="Skill Focus (Jump). \r"; }
if (has_skillfocusknowledgearcana==true) { SecondWindowDefinition+="Skill Focus (Know Arcana). \r"; }
if (has_skillfocusknowledgearchitecture==true) { SecondWindowDefinition+="Skill Focus (Know Architecture). \r"; }
if (has_skillfocusknowledgedungeoneering==true) { SecondWindowDefinition+="Skill Focus (Know Dungeoneering). \r"; }
if (has_skillfocusknowledgegeography==true) { SecondWindowDefinition+="Skill Focus (Know Geography). \r"; }
if (has_skillfocusknowledgehistory==true) { SecondWindowDefinition+="Skill Focus (Know History). \r"; }
if (has_skillfocusknowledgelocal==true) { SecondWindowDefinition+="Skill Focus (Know Local). \r"; }
if (has_skillfocusknowledgenature==true) { SecondWindowDefinition+="Skill Focus (Know Nature). \r"; }
if (has_skillfocusknowledgenobility==true) { SecondWindowDefinition+="Skill Focus (Know Nobility). \r"; }
if (has_skillfocusknowledgereligion==true) { SecondWindowDefinition+="Skill Focus (Know Religion). \r"; }

if (has_antipsionicmagic==true) { SecondWindowDefinition+="Antipsionic Magic. \r"; }
if (has_autonomous==true) { SecondWindowDefinition+="Autonomous. \r"; }
if (has_chaoticmind==true) { SecondWindowDefinition+="Chaotic Mind. \r"; }
if (has_cloakdance==true) { SecondWindowDefinition+="Cloak Dance. \r"; }
if (has_closedmind==true) { SecondWindowDefinition+="Closed Mind. \r"; }
if (has_deadlyprecision==true) { SecondWindowDefinition+="Deadly Precision. \r"; }
if (has_forceofwill==true) { SecondWindowDefinition+="Force of Will. \r"; }
if (has_greatermanyshot==true) { SecondWindowDefinition+="Greater Manyshot. \r"; }
if (has_hostilemind==true) { SecondWindowDefinition+="Hostile Mind. \r"; }
if (has_mentalresistance==true) { SecondWindowDefinition+="Mental Resistance. \r"; }
if (has_mindoverbody==true) { SecondWindowDefinition+="Mind Over Body. \r"; }
if (has_openminded>0) { SecondWindowDefinition+="Open Minded x" + has_openminded+" [add "+5*has_openminded+" extra skill points by hand]. \r"; }
if (has_psionicaffinity==true) { SecondWindowDefinition+="Psionic Affinity. \r"; }
if (has_psionichole==true) { SecondWindowDefinition+="Psionic Hole. \r"; }
if (has_rapidmetabolism==true) { SecondWindowDefinition+="Rapid Metabolism. \r"; }
if (has_recklessoffense==true) { SecondWindowDefinition+="Reckless Offense. \r"; }
if (has_sidestepcharge==true) { SecondWindowDefinition+="Sidestep Charge. \r"; }
if (has_standstill==true) { SecondWindowDefinition+="Stand Still. \r"; }
if (has_wildtalent==true) { SecondWindowDefinition+="Wild Talent. \r"; }
if (has_alignedattack==true) { SecondWindowDefinition+="Aligned Attack. \r"; }
if (has_boostconstruct==true) { SecondWindowDefinition+="Boost Construct. \r"; }
if (has_combatmanifestation==true) { SecondWindowDefinition+="Combat Manifestation. \r"; }
if (has_expandedknowledge>0) { SecondWindowDefinition+="Expanded Knowledge x" + has_expandedknowledge+". \r"; }
if (has_focusedsunder==true) { SecondWindowDefinition+="Focused Sunder. \r"; }
if (has_ghostattack==true) { SecondWindowDefinition+="Ghost Attack. \r"; }
if (has_inquisitor==true) { SecondWindowDefinition+="Inquisitor. \r"; }
if (has_mentalleap==true) { SecondWindowDefinition+="Mental Leap. \r"; }
if (has_metamorphictransfer>0) { SecondWindowDefinition+="Metamorphic Transfer x" + has_metamorphictransfer+". \r"; }
if (has_narrowmind==true) { SecondWindowDefinition+="Narrow Mind. \r"; }
if (has_overchannel==true) { SecondWindowDefinition+="Overchannel. \r"; }
if (has_talented==true) { SecondWindowDefinition+="Talented. \r"; }
if (has_bodyfuel==true) { SecondWindowDefinition+="Body Fuel. \r"; }
if (has_powerpenetration==true) { SecondWindowDefinition+="Power Penetration. \r"; }
if (has_greaterpowerpenetration==true) { SecondWindowDefinition+="Greater Power Penetration. \r"; }
if (has_powerspecialization==true) { SecondWindowDefinition+="Power Specialization. \r"; }
if (has_greaterpowerspecialization==true) { SecondWindowDefinition+="Greater Power Specialization. \r"; }
if (has_psicrystalaffinity==true) { SecondWindowDefinition+="Psicrystal Affinity. \r"; }
if (has_improvedpsicrystal==true) { SecondWindowDefinition+="Improved Psicrystal. \r"; }
if (has_psicrystalcontainment==true) { SecondWindowDefinition+="Psicrystal Containment. \r"; }
if (has_psionicbody==true) { SecondWindowDefinition+="Psionic Body. \r"; }
if (has_psionicdodge==true) { SecondWindowDefinition+="Psionic Dodge. \r"; }
if (has_psionicendowment==true) { SecondWindowDefinition+="Psionic Endowment. \r"; }
if (has_greaterpsionicendowment==true) { SecondWindowDefinition+="Greater Psionic Endowment. \r"; }
if (has_psionicfist==true) { SecondWindowDefinition+="Psionic Fist. \r"; }
if (has_greaterpsionicfist==true) { SecondWindowDefinition+="Greater Psionic Fist. \r"; }
if (has_unavoidablestrike==true) { SecondWindowDefinition+="Unavoidable Strike. \r"; }
if (has_psionicmeditation==true) { SecondWindowDefinition+="Psionic Meditation. \r"; }
if (has_psionicshot==true) { SecondWindowDefinition+="Psionic Shot. \r"; }
if (has_greaterpsionicshot==true) { SecondWindowDefinition+="Greater Psionic Shot. \r"; }
if (has_fellshot==true) { SecondWindowDefinition+="Fell Shot. \r"; }
if (has_returnshot==true) { SecondWindowDefinition+="Return Shot. \r"; }
if (has_psionictalent>0) { SecondWindowDefinition+="Psionic Talent x" + has_psionictalent+". \r"; }
if (has_psionicweapon==true) { SecondWindowDefinition+="Psionic Weapon. \r"; }
if (has_greaterpsionicweapon==true) { SecondWindowDefinition+="Greater Psionic Weapon. \r"; }
if (has_deepimpact==true) { SecondWindowDefinition+="Deep Impact. \r"; }
if (has_speedofthought==true) { SecondWindowDefinition+="Speed of Thought. \r"; }
if (has_psioniccharge==true) { SecondWindowDefinition+="Psionic Charge. \r"; }
if (has_upthewalls==true) { SecondWindowDefinition+="Up the Walls. \r"; }
if (has_woundingattack==true) { SecondWindowDefinition+="Wounding Attack. \r"; }
if (has_burrowingpower==true) { SecondWindowDefinition+="Burrowing Power. \r"; }
if (has_chainpower==true) { SecondWindowDefinition+="Chain Power. \r"; }
if (has_delaypower==true) { SecondWindowDefinition+="Delay Power. \r"; }
if (has_empowerpower==true) { SecondWindowDefinition+="Empower Power. \r"; }
if (has_enlargepower==true) { SecondWindowDefinition+="Enlarge Power. \r"; }
if (has_extendpower==true) { SecondWindowDefinition+="Extend Power. \r"; }
if (has_maximizepower==true) { SecondWindowDefinition+="Maximize Power. \r"; }
if (has_opportunitypower==true) { SecondWindowDefinition+="Opportunity Power. \r"; }
if (has_quickenpower==true) { SecondWindowDefinition+="Quicken Power. \r"; }
if (has_splitpsionicray==true) { SecondWindowDefinition+="Split Psionic Ray. \r"; }
if (has_twinpower==true) { SecondWindowDefinition+="Twin Power. \r"; }
if (has_unconditionalpower==true) { SecondWindowDefinition+="Unconditional Power. \r"; }
if (has_widenpower==true) { SecondWindowDefinition+="Widen Power. \r"; }
if (has_craftcognizancecrystal==true) { SecondWindowDefinition+="Craft Cognizance Crystal. \r"; }
if (has_craftdorje==true) { SecondWindowDefinition+="Craft Dorje. \r"; }
if (has_craftpsicrown==true) { SecondWindowDefinition+="Craft Psi Crown. \r"; }
if (has_craftpsionicarmsandarmor==true) { SecondWindowDefinition+="Craft Psionic Arms and Armor. \r"; }
if (has_craftpsionicconstruct==true) { SecondWindowDefinition+="Craft Psionic Construct. \r"; }
if (has_craftuniversalitem==true) { SecondWindowDefinition+="Craft Universal Item. \r"; }
if (has_imprintstone==true) { SecondWindowDefinition+="Imprint Stone. \r"; }
if (has_scribetattoo==true) { SecondWindowDefinition+="Scribe Tattoo. \r"; }

if (has_epicexpandedknowledge>0) { SecondWindowDefinition+="Epic Expanded Knowledge [epic] x" + has_epicexpandedknowledge+". \r"; }
if (has_epicpsionicfocus>0) { SecondWindowDefinition+="Epic Psionic Focus [epic] x" + has_epicpsionicfocus+". \r"; }
if (has_improvedmanifestation>0) { SecondWindowDefinition+="Improved Manifestation [epic] x" + has_improvedmanifestation+". \r"; }
if (has_improvedmetapsionics>0) { SecondWindowDefinition+="Improved Metapsionics [epic] x" + has_improvedmetapsionics+". \r"; }
if (has_powerknowledge>0) { SecondWindowDefinition+="Power Knowledge [epic] x" + has_powerknowledge+". \r"; }
if (has_psicrystalpower>0) { SecondWindowDefinition+="Psicrystal Power [epic] x" + has_psicrystalpower+". \r"; }

if (has_acheronflurry==true) { SecondWindowDefinition+="Acheron Flurry. \r"; }
if (has_celestialsummoningspecialist==true) { SecondWindowDefinition+="Celestial Summoning Specialist. \r"; }
if (has_elementalspellcastingair==true) { SecondWindowDefinition+="Elemental Spellcasting (Air). \r"; }
if (has_elementalspellcastingearth==true) { SecondWindowDefinition+="Elemental Spellcasting (Earth). \r"; }
if (has_elementalspellcastingfire==true) { SecondWindowDefinition+="Elemental Spellcasting (Fire). \r"; }
if (has_elementalspellcastingwater==true) { SecondWindowDefinition+="Elemental Spellcasting (Water). \r"; }
if (has_fiendishsummoningspecialist==true) { SecondWindowDefinition+="Fiendish Summoning Specialist. \r"; }
if (has_neraphcharge==true) { SecondWindowDefinition+="Neraph Charge. \r"; }
if (has_neraphthrow==true) { SecondWindowDefinition+="Neraph Throw. \r"; }
if (has_nonverbalspell==true) { SecondWindowDefinition+="Non-Verbal Spell. \r"; }
if (has_planarfamiliar==true) { SecondWindowDefinition+="Planar Familiar. \r"; }
if (has_stalwartplanarally==true) { SecondWindowDefinition+="Stalwart Planar Ally. \r"; }
if (has_planartouchstone>0) { SecondWindowDefinition+="Planar Touchstone x" + has_planartouchstone+". \r"; }
if (has_personaltouchstone>0) { SecondWindowDefinition+="Personal Touchstone x" + has_personaltouchstone+". \r"; }
if (has_airheritage==true) { SecondWindowDefinition+="Air Heritage. \r"; }
if (has_anarchicheritage==true) { SecondWindowDefinition+="Anarchic Heritage. \r"; }
if (has_axiomaticheritage==true) { SecondWindowDefinition+="Axiomatic Heritage. \r"; }
if (has_celestialheritage==true) { SecondWindowDefinition+="Celestial Heritage. \r"; }
if (has_earthheritage==true) { SecondWindowDefinition+="Earth Heritage. \r"; }
if (has_fiendishheritage==true) { SecondWindowDefinition+="Fiendish Heritage. \r"; }
if (has_fireheritage==true) { SecondWindowDefinition+="Fire Heritage. \r"; }
if (has_improvedelementalheritage==true) { SecondWindowDefinition+="Improved Elemental Heritage. \r"; }
if (has_improvedouterplanarheritage==true) { SecondWindowDefinition+="Improved Outer Planar Heritage. \r"; }
if (has_naturalheavyweight==true) { SecondWindowDefinition+="Natural Heavyweight. \r"; }
if (has_shadowheritage==true) { SecondWindowDefinition+="Shadow Heritage. \r"; }
if (has_waterheritage==true) { SecondWindowDefinition+="Water Heritage. \r"; }
if (has_cleverwrestling==true) { SecondWindowDefinition+="Clever Wrestling. \r"; }
if (has_cunningsidestep==true) { SecondWindowDefinition+="Cunning Sidestep. \r"; }
if (has_closequartersfighting==true) { SecondWindowDefinition+="Close Quarters Fighting. \r"; }
if (has_overheadthrust==true) { SecondWindowDefinition+="Overhead Thrust. \r"; }
if (has_deftstrike==true) { SecondWindowDefinition+="Deft Strike. \r"; }
if (has_dragoncohort==true) { SecondWindowDefinition+="Dragon Cohort. \r"; }
if (has_dragonfamiliar==true) { SecondWindowDefinition+="Dragon Familiar. \r"; }
if (has_dragonhunter==true) { SecondWindowDefinition+="Dragon Hunter. \r"; }
if (has_dragonhunterbravery==true) { SecondWindowDefinition+="Dragon Hunter Bravery. \r"; }
if (has_dragonhunterdefense==true) { SecondWindowDefinition+="Dragon Hunter Defense. \r"; }
if (has_dragonsteed==true) { SecondWindowDefinition+="Dragon Steed. \r"; }
if (has_dragonwildshape==true) { SecondWindowDefinition+="Dragon Wild Shape. \r"; }
if (has_dragoncrafter==true) { SecondWindowDefinition+="Dragoncrafter. \r"; }
if (has_dragonfoe==true) { SecondWindowDefinition+="Dragonfoe. \r"; }
if (has_dragonbane==true) { SecondWindowDefinition+="Dragonbane. \r"; }
if (has_dragondoom==true) { SecondWindowDefinition+="Dragondoom. \r"; }
if (has_dragonfriend==true) { SecondWindowDefinition+="Dragonfriend. \r"; }
if (has_dragonsong==true) { SecondWindowDefinition+="Dragonsong. \r"; }
if (has_dragonthrall==true) { SecondWindowDefinition+="Dragonthrall. \r"; }
if (has_frightfulpresence==true) { SecondWindowDefinition+="Frightful Presence. \r"; }
if (has_senseweakness==true) { SecondWindowDefinition+="Sense Weakness. \r"; }
if (has_subduingstrike==true) { SecondWindowDefinition+="Subduing Strike. \r"; }
if (has_exaltedsmite==true) { SecondWindowDefinition+="Exalted Smite. \r"; }
if (has_exaltedturning==true) { SecondWindowDefinition+="Exalted Turning. \r"; }
if (has_exaltedwildshape==true) { SecondWindowDefinition+="Exalted Wild Shape. \r"; }
if (has_holysubdual==true) { SecondWindowDefinition+="Holy Subdual. \r"; }
if (has_rangedsmiteevil==true) { SecondWindowDefinition+="Ranged Smite Evil. \r"; }
if (has_righteouswrath==true) { SecondWindowDefinition+="Righteous Wrath. \r"; }
if (has_sacredstrike==true) { SecondWindowDefinition+="Sacred Strike. \r"; }
if (has_consecratespell==true) { SecondWindowDefinition+="Consecrate Spell. \r"; }
if (has_nonlethalsubstitution==true) { SecondWindowDefinition+="Nonlethal Substitution. \r"; }
if (has_purifyspell==true) { SecondWindowDefinition+="Purify Spell. \r"; }
if (has_improvedelementalwildshape==true) { SecondWindowDefinition+="Improved Elemental Wild Shape. \r"; }
if (has_lastinginspiration==true) { SecondWindowDefinition+="Lasting Inspiration. \r"; }
if (has_planarturning==true) { SecondWindowDefinition+="Planar Turning. \r"; }
if (has_terrifyingrage==true) { SecondWindowDefinition+="Terrifying Rage. \r"; }
if (has_brachiation==true) { SecondWindowDefinition+="Brachiation. \r"; }
if (has_dangersense==true) { SecondWindowDefinition+="Danger Sense. \r"; }
if (has_heartheunseen==true) { SecondWindowDefinition+="Hear the Unseen. \r"; }
if (has_improvedswimming==true) { SecondWindowDefinition+="Improved Swimming. \r"; }
if (has_quickreconnoiter==true) { SecondWindowDefinition+="Quick Reconnoiter. \r"; }
if (has_familiarspell>0) { SecondWindowDefinition+="Familiar Spell [epic] x" + has_familiarspell+". \r"; }
if (has_greatsmiting>0) { SecondWindowDefinition+="Greater Smiting [epic] x" + has_greatsmiting+". \r"; }
if (has_improvedfavoredenemy>0) { SecondWindowDefinition+="Improved Favored Enemy [epic] x" + has_improvedfavoredenemy+". \r"; }
if (has_improvedmetamagic>0) { SecondWindowDefinition+="Improved Metamagic [epic] x" + has_improvedmetamagic+". \r"; }
if (has_improvedsneakattack>0) { SecondWindowDefinition+="Improved Sneak Attack [epic] x" + has_improvedsneakattack+". \r"; }
if (has_improvedspellcapacity>0) { SecondWindowDefinition+="Improved Spell Capacity [epic] x" + has_improvedspellcapacity+" [please hand-edit]. \r"; }
if (has_improvedstunningfist>0) { SecondWindowDefinition+="Improved Stunning Fist [epic] x" + has_improvedstunningfist+". \r"; }
if (has_overwhelmingcritical>0) { SecondWindowDefinition+="Overwhelming Critical [epic] x" + has_overwhelmingcritical+" Weapon(s):\r"; }
if (has_spellknowledge>0) { SecondWindowDefinition+="Spell Knowledge [epic] x" + has_spellknowledge+". \r"; }
if (has_skillfocusknowledgeplanes==true) { SecondWindowDefinition+="Skill Focus (Know Planes). \r"; }
if (has_skillfocuslisten==true) { SecondWindowDefinition+="Skill Focus (Listen). \r"; }
if (has_skillfocusmovesilently==true) { SecondWindowDefinition+="Skill Focus (Move Silently). \r"; }
if (has_skillfocusopenlock==true) { SecondWindowDefinition+="Skill Focus (Open Lock). \r"; }
if (has_skillfocusperform_1==true) { SecondWindowDefinition+="Skill Focus (Perform_1). \r"; }
if (has_skillfocusperform_2==true) { SecondWindowDefinition+="Skill Focus (Perform_2). \r"; }
if (has_skillfocusperform_3==true) { SecondWindowDefinition+="Skill Focus (Perform_3). \r"; }
if (has_skillfocusperform_4==true) { SecondWindowDefinition+="Skill Focus (Perform_4). \r"; }
if (has_skillfocusperform_5==true) { SecondWindowDefinition+="Skill Focus (Perform_5). \r"; }
if (has_skillfocusprofession==true) { SecondWindowDefinition+="Skill Focus (Profession). \r"; }
if (has_skillfocusride==true) { SecondWindowDefinition+="Skill Focus (Ride). \r"; }
if (has_skillfocussearch==true) { SecondWindowDefinition+="Skill Focus (Search). \r"; }
if (has_skillfocussensemotive==true) { SecondWindowDefinition+="Skill Focus (Sense Motive). \r"; }
if (has_skillfocussleightofhand==true) { SecondWindowDefinition+="Skill Focus (Sleight of Hand). \r"; }
if (has_skillfocusspellcraft==true) { SecondWindowDefinition+="Skill Focus (Spellcraft). \r"; }
if (has_skillfocusspot==true) { SecondWindowDefinition+="Skill Focus (Spot). \r"; }
if (has_skillfocussurvival==true) { SecondWindowDefinition+="Skill Focus (Survival). \r"; }
if (has_skillfocusswim==true) { SecondWindowDefinition+="Skill Focus (Swim). \r"; }
if (has_skillfocustumble==true) { SecondWindowDefinition+="Skill Focus (Tumble). \r"; }
if (has_skillfocususemagicdevice==true) { SecondWindowDefinition+="Skill Focus (Use Magic Device). \r"; }
if (has_skillfocususerope==true) { SecondWindowDefinition+="Skill Focus (Use Rope). \r"; }
if (has_skillfocusautohypnosis==true) { SecondWindowDefinition+="Skill Focus (Autohypnosis). \r"; }
if (has_skillfocusknowpsi==true) { SecondWindowDefinition+="Skill Focus (Know Psi). \r"; }
if (has_skillfocuspsicraft==true) { SecondWindowDefinition+="Skill Focus (Psicraft). \r"; }
//if (has_skillfocusremoteview==true) { SecondWindowDefinition+="Skill Focus (Remote View). \r"; }
//if (has_skillfocusstabilizeself==true) { SecondWindowDefinition+="Skill Focus (Stabilize Self). \r"; }
if (has_skillfocususepsionicdevice==true) { SecondWindowDefinition+="Skill Focus (Use Psi Device). \r"; }

if (has_multiattack==true) { SecondWindowDefinition+="Multiattack [creature feat]. \r"; }
if (has_multidexterity==true) { SecondWindowDefinition+="Multidexterity [creature feat]. \r"; }
if (has_multiweaponfighting==true) { SecondWindowDefinition+="Multiweapon Fighting [creature feat]. \r"; }
if (has_cripplingstrike==true) { SecondWindowDefinition+="Crippling Strike [high-level rogue]. \r"; }
if (has_defensiveroll==true) { SecondWindowDefinition+="Defensive Roll [high-level rogue]. \r"; }
if (has_improvedevasion==true) { SecondWindowDefinition+="Improved Evasion [high-level rogue]. \r"; }
if (has_opportunist==true) { SecondWindowDefinition+="Opportunist [high-level rogue]. \r"; }
if (has_skillmastery==true) { SecondWindowDefinition+="Skill Mastery [high-level rogue]. \r"; }
if (has_slipperymind==true) { SecondWindowDefinition+="Slippery Mind [high-level rogue]. \r"; }
if (has_roguewildernessstride==true) { SecondWindowDefinition+="Wilderness Stride [high-level wilderness rogue]. \r"; }
if (has_roguecamouflage==true) { SecondWindowDefinition+="Camouflage [high-level wilderness rogue]. \r"; }
if (has_roguehideinplainsight==true) { SecondWindowDefinition+="Hide in Plain Sight [high-level wilderness rogue]. \r"; }

// Flaws
if (has_feeble==true) { SecondWindowDefinition+="Feeble [flaw]. \r"; }
if (has_frail==true) { SecondWindowDefinition+="Frail [flaw]. \r"; }
if (has_inattentive==true) { SecondWindowDefinition+="Inattentive [flaw]. \r"; }
if (has_meagerfortitude==true) { SecondWindowDefinition+="Meager Fortitude [flaw]. \r"; }
if (has_murkyeyed==true) { SecondWindowDefinition+="Murky-Eyed [flaw]. \r"; }
if (has_noncombatant==true) { SecondWindowDefinition+="Noncombatant [flaw]. \r"; }
if (has_poorreflexes==true) { SecondWindowDefinition+="Poor Reflexes [flaw]. \r"; }
if (has_shaky==true) { SecondWindowDefinition+="Shaky [flaw]. \r"; }
if (has_slowpoke==true) { SecondWindowDefinition+="Slowpoke [flaw]. \r"; }
if (has_unreactive==true) { SecondWindowDefinition+="Unreactive [flaw]. \r"; }
if (has_vulnerable==true) { SecondWindowDefinition+="Vulnerable [flaw]. \r"; }
if (has_weakwill==true) { SecondWindowDefinition+="Weak Will [flaw]. \r"; }
 if ((has_otherflaw1==true)) { SecondWindowDefinition+=""+document.form1.other_flaw_1_name.value+" [flaw; hand-edit as needed]. \r"; }
 if ((has_otherflaw2==true)) { SecondWindowDefinition+=""+document.form1.other_flaw_2_name.value+" [flaw; hand-edit as needed]. \r"; }

if (has_spellfocusabjuration==true) { SecondWindowDefinition+="Spell Focus (Abjuration). \r"; }
if (has_spellfocusconjuration==true) { SecondWindowDefinition+="Spell Focus (Conjuration). \r"; }
if (has_spellfocusdivination==true) { SecondWindowDefinition+="Spell Focus (Divination). \r"; }
if (has_spellfocusenchantment==true) { SecondWindowDefinition+="Spell Focus (Enchantment). \r"; }
if (has_spellfocusevocation==true) { SecondWindowDefinition+="Spell Focus (Evocation). \r"; }
if (has_spellfocusillusion==true) { SecondWindowDefinition+="Spell Focus (Illusion). \r"; }
if (has_spellfocusnecromancy==true) { SecondWindowDefinition+="Spell Focus (Necromancy). \r"; }
if (has_spellfocustransmutation==true) { SecondWindowDefinition+="Spell Focus (Transmutation). \r"; }
if (has_greaterspellfocusabjuration==true) { SecondWindowDefinition+="Greater Spell Focus (Abjuration). \r"; }
if (has_greaterspellfocusconjuration==true) { SecondWindowDefinition+="Greater Spell Focus (Conjuration). \r"; }
if (has_greaterspellfocusdivination==true) { SecondWindowDefinition+="Greater Spell Focus (Divination). \r"; }
if (has_greaterspellfocusenchantment==true) { SecondWindowDefinition+="Greater Spell Focus (Enchantment). \r"; }
if (has_greaterspellfocusevocation==true) { SecondWindowDefinition+="Greater Spell Focus (Evocation). \r"; }
if (has_greaterspellfocusillusion==true) { SecondWindowDefinition+="Greater Spell Focus (Illusion). \r"; }
if (has_greaterspellfocusnecromancy==true) { SecondWindowDefinition+="Greater Spell Focus (Necromancy). \r"; }
if (has_greaterspellfocustransmutation==true) { SecondWindowDefinition+="Greater Spell Focus (Transmutation). \r"; }
if (has_spellmastery>0) { SecondWindowDefinition+="Spell Mastery x" + has_spellmastery+" Spells:\r"; }
if (has_spellpenetration==true) { SecondWindowDefinition+="Spell Penetration. \r"; }
if (has_greaterspellpenetration==true) { SecondWindowDefinition+="Greater Spell Penetration. \r"; }
if (has_stealthy==true) { SecondWindowDefinition+="Stealthy. \r"; }
if (has_toughness>0) { SecondWindowDefinition+="Toughness x" + has_toughness+". \r"; }
if (has_track==true) { SecondWindowDefinition+="Track. \r"; }
if ((ranger_levels + epic_ranger_levels>0) && (ranger_totem!=2)) { SecondWindowDefinition+="Track [free to rangers]. \r"; }
if ((ranger_levels + epic_ranger_levels>0) && (ranger_totem==2)) { SecondWindowDefinition+="Urban Tracking [free to urban rangers]. \r"; }
if ((has_twoweaponfighting==true) || (has_twoweaponfighting==true)) { SecondWindowDefinition+="Two-Weapon Fighting. \r"; }
if ((ranger_levels + epic_ranger_levels>=2) && (rangercombattrack==2)) { SecondWindowDefinition+="Two-Weapon Fighting  [ranger two-weapon track]. \r"; }
if ((has_twoweapondefense==true) || (has_twoweapondefense==true)) { SecondWindowDefinition+="Two-Weapon Defense. \r"; }
if ((has_improvedtwoweaponfighting==true) || (has_improvedtwoweaponfighting==true)) { SecondWindowDefinition+="Improved Two-Weapon Fighting. \r"; }
if ((rangercombattrack==2) && (ranger_levels + epic_ranger_levels>=6)) { SecondWindowDefinition+="Improved Two-Weapon Fighting [ranger two-weapon track]. \r"; }
if ((rangercombattrack==2) && (ranger_levels + epic_ranger_levels>=11)) { SecondWindowDefinition+="Greater Two-Weapon Fighting [ranger two-weapon track]. \r"; }
if (has_greatertwoweaponfighting==true) { SecondWindowDefinition+="Greater Two-Weapon Fighting. \r"; }
if (has_weaponfinesse==true) { SecondWindowDefinition+="Weapon Finesse. \r"; }
if ((has_urbantracking==true)) { SecondWindowDefinition+="Urban Tracking (Unearthed Arcana / Eberron)\r"; }
if ((has_otherfeat1==true)) { SecondWindowDefinition+=""+document.form1.other_feat_1_name.value+" [hand-edit as needed]. \r"; }
if ((has_otherfeat2==true)) { SecondWindowDefinition+=""+document.form1.other_feat_2_name.value+" [hand-edit as needed]. \r"; }
if ((has_otherfeat3==true)) { SecondWindowDefinition+=""+document.form1.other_feat_3_name.value+" [hand-edit as needed]. \r"; }
if ((has_otherfeat4==true)) { SecondWindowDefinition+=""+document.form1.other_feat_4_name.value+" [hand-edit as needed]. \r"; }
if ((has_otherfeat5==true)) { SecondWindowDefinition+=""+document.form1.other_feat_5_name.value+" [hand-edit as needed]. \r"; }
if ((has_otherfeat6==true)) { SecondWindowDefinition+=""+document.form1.other_feat_6_name.value+" [hand-edit as needed]. \r"; }
if ((has_otherfeat7==true)) { SecondWindowDefinition+=""+document.form1.other_feat_7_name.value+" [hand-edit as needed]. \r"; }
if ((has_otherfeat8==true)) { SecondWindowDefinition+=""+document.form1.other_feat_8_name.value+" [hand-edit as needed]. \r"; }
if ((has_otherfeat9==true)) { SecondWindowDefinition+=""+document.form1.other_feat_9_name.value+" [hand-edit as needed]. \r"; }
if ((has_otherfeat10==true)) { SecondWindowDefinition+=""+document.form1.other_feat_10_name.value+" [hand-edit as needed]. \r"; }
if ((has_weaponfocus>0)) { SecondWindowDefinition+="Weapon Focus x" + has_weaponfocus+" Weapon(s):\r"; }
if ((has_war_domain==true)) { SecondWindowDefinition+="Weapon Focus [war domain, sect weapon]. \r"; }
if ((has_weaponspecialization>0)) { SecondWindowDefinition+="Weapon Specialization x" + has_weaponspecialization+" Weapon(s):\r"; }
if ((has_greaterweaponfocus>0)) { SecondWindowDefinition+="Greater Weapon Focus x" + has_greaterweaponfocus+" Weapon(s):\r"; }
if ((has_greaterweaponspecialization>0)) { SecondWindowDefinition+="Greater Weapon Specialization x" + has_greaterweaponspecialization+" Weapon(s):\r"; }
if ((has_necropotent>0)) { SecondWindowDefinition+="Necropotent x" + has_necropotent+" Weapon(s):\r"; }
if (has_brewpotion==true) { SecondWindowDefinition+="Brew Potion. \r"; }
if (has_craftmaa==true) { SecondWindowDefinition+="Craft Magic Arms and Armor. \r"; }
if (has_craftrod==true) { SecondWindowDefinition+="Craft Rod. \r"; }
if (has_craftstaff==true) { SecondWindowDefinition+="Craft Staff. \r"; }
if (has_craftwand==true) { SecondWindowDefinition+="Craft Wand. \r"; }
if (has_craftwondrousitem==true) { SecondWindowDefinition+="Craft Wondrous Item. \r"; }
if (has_craftconstruct==true) { SecondWindowDefinition+="Craft Construct. \r"; }
if (has_forgering==true) { SecondWindowDefinition+="Forge Ring. \r"; }
if (has_scribescroll==true) { SecondWindowDefinition+="Scribe Scroll. \r"; }
if (wizard_levels + epic_wizard_levels>0) { SecondWindowDefinition+="Scribe Scroll [free to wizard]. \r"; }
if (has_empowerspell==true) { SecondWindowDefinition+="Empower Spell. \r"; }
if (has_enlargespell==true) { SecondWindowDefinition+="Enlarge Spell. \r"; }
if (has_extendspell==true) { SecondWindowDefinition+="Extend Spell. \r"; }
if (has_heightenspell==true) { SecondWindowDefinition+="Heighten Spell. \r"; }
if (has_maximizespell==true) { SecondWindowDefinition+="Maximize Spell. \r"; }
if (has_quickenspell==true) { SecondWindowDefinition+="Quicken Spell. \r"; }
if (has_silentspell==true) { SecondWindowDefinition+="Silent Spell. \r"; }
if (has_stillspell==true) { SecondWindowDefinition+="Still Spell. \r"; }
if (has_widenspell==true) { SecondWindowDefinition+="Widen Spell. \r"; }
if (has_improvedtoughness==true) { SecondWindowDefinition+="Improved Toughness. \r"; }
if (has_spellcastingprodigyintelligence==true) { SecondWindowDefinition+="Spellcasting Prodigy [intelligence]. \r"; }
if (has_spellcastingprodigywisdom==true) { SecondWindowDefinition+="Spellcasting Prodigy [wisdom]. \r"; }
if (has_spellcastingprodigycharisma==true) { SecondWindowDefinition+="Spellcasting Prodigy [charisma]. \r"; }
if (has_zenarchery==true) { SecondWindowDefinition+="Zen Archery. \r"; }
if (has_suddenempower==true) { SecondWindowDefinition+="Sudden Empower. \r"; }
if (has_suddenenlarge==true) { SecondWindowDefinition+="Sudden Enlarge. \r"; }
if (has_suddenextend==true) { SecondWindowDefinition+="Sudden Extend. \r"; }
if (has_suddenmaximize==true) { SecondWindowDefinition+="Sudden Maximize. \r"; }
if (has_suddensilent==true) { SecondWindowDefinition+="Sudden Silent. \r"; }
if (has_suddenstill==true) { SecondWindowDefinition+="Sudden Still. \r"; }
if (has_suddenwiden==true) { SecondWindowDefinition+="Sudden Widen. \r"; }
if (has_energysubstitutionacid==true) { SecondWindowDefinition+="Energy Substitution: Acid. \r"; }
if (has_energysubstitutioncold==true) { SecondWindowDefinition+="Energy Substitution: Cold. \r"; }
if (has_energysubstitutionelectricity==true) { SecondWindowDefinition+="Energy Substitution: Electricity. \r"; }
if (has_energysubstitutionfire==true) { SecondWindowDefinition+="Energy Substitution: Fire. \r"; }
if (has_energysubstitutionsonic==true) { SecondWindowDefinition+="Energy Substitution: Sonic. \r"; }
if (has_subdualsubstitution==true) { SecondWindowDefinition+="Subdual Substitution. \r"; }
if (has_enduringlife==true) { SecondWindowDefinition+="Enduring Life. \r"; }
if (has_lastinglife==true) { SecondWindowDefinition+="Lasting Life. \r"; }
if (has_empowerturning==true) { SecondWindowDefinition+="Empower Turning. \r"; }
if (has_ghostscarred==true) { SecondWindowDefinition+="Ghost Scarred. \r"; }
if (has_heightenturning==true) { SecondWindowDefinition+="Heighten Turning. \r"; }
if (has_quickenturning==true) { SecondWindowDefinition+="Quicken Turning. \r"; }
if (has_requiem==true) { SecondWindowDefinition+="Requiem. \r"; }
if (has_vampirehunter==true) { SecondWindowDefinition+="Vampire Hunter. \r"; }
if (has_sacredvitality==true) { SecondWindowDefinition+="Sacred Vitality. \r"; }
if (has_spurndeathstouch==true) { SecondWindowDefinition+="Spurn Death's Touch. \r"; }

if ( (document.form1.abrasive_trait.checked==true) || (document.form1.absentminded_trait.checked==true) || (document.form1.aggressive_trait.checked==true) || (document.form1.brawler_trait.checked==true) || (document.form1.cautious_trait.checked==true) || (document.form1.detached_trait.checked==true) || (document.form1.dishonest_trait.checked==true) || (document.form1.easygoing_trait.checked==true) || (document.form1.farsighted_trait.checked==true) || (document.form1.focused_trait.checked==true) || (document.form1.hardofhearing_trait.checked==true) || (document.form1.hardy_trait.checked==true) || (document.form1.honest_trait.checked==true) || (document.form1.musclebound_trait.checked==true) ||  (document.form1.nearsighted_trait.checked==true) || (document.form1.nightsighted_trait.checked==true) || (document.form1.passionate_trait.checked==true) || (document.form1.plucky_trait.checked==true) || (document.form1.polite_trait.checked==true) || (document.form1.quick_trait.checked==true) || (document.form1.reckless_trait.checked==true) || (document.form1.relentless_trait.checked==true) ||  
(document.form1.saddleborn_trait.checked==true) || (document.form1.skinny_trait.checked==true) || (document.form1.slippery_trait.checked==true) || (document.form1.slow_trait.checked==true) || (document.form1.stout_trait.checked==true) || (document.form1.suspicious_trait.checked==true) ||  
(document.form1.torpid_trait.checked==true) || (document.form1.uncivilized_trait.checked==true) ) {

SecondWindowDefinition+="<P>Traits: ";
if (document.form1.abrasive_trait.checked==true) { SecondWindowDefinition+="Abrasive. \r"; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+="Absent-Minded. \r"; }
if (document.form1.aggressive_trait.checked==true) { SecondWindowDefinition+="Aggressive. \r"; }
if (document.form1.brawler_trait.checked==true) { SecondWindowDefinition+="Brawler. \r"; }
if (document.form1.cautious_trait.checked==true) { SecondWindowDefinition+="Cautious. \r"; }
if (document.form1.detached_trait.checked==true) { SecondWindowDefinition+="Detached. \r"; }
if (document.form1.dishonest_trait.checked==true) { SecondWindowDefinition+="Dishonest. \r"; }
if (document.form1.easygoing_trait.checked==true) { SecondWindowDefinition+="Easygoing. \r"; }
if (document.form1.farsighted_trait.checked==true) { SecondWindowDefinition+="Farsighted. \r"; }
if (document.form1.focused_trait.checked==true) { SecondWindowDefinition+="Focused. \r"; }
if (document.form1.hardofhearing_trait.checked==true) { SecondWindowDefinition+="Hard of Hearing. \r"; }
if (document.form1.hardy_trait.checked==true) { SecondWindowDefinition+="Hardy. \r"; }
if (document.form1.honest_trait.checked==true) { SecondWindowDefinition+="Honest. \r"; }
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+="Musclebound. \r"; }
if (document.form1.nearsighted_trait.checked==true) { SecondWindowDefinition+="Nearsighted. \r"; }
if (document.form1.nightsighted_trait.checked==true) { SecondWindowDefinition+="Nightsighted. \r"; }
if (document.form1.passionate_trait.checked==true) { SecondWindowDefinition+="Passionate. \r"; }
if (document.form1.plucky_trait.checked==true) { SecondWindowDefinition+="Plucky. \r"; }
if (document.form1.polite_trait.checked==true) { SecondWindowDefinition+="Polite. \r"; }
if (document.form1.quick_trait.checked==true) { SecondWindowDefinition+="Quick. \r"; }
if (document.form1.reckless_trait.checked==true) { SecondWindowDefinition+="Reckless. \r"; }
if (document.form1.relentless_trait.checked==true) { SecondWindowDefinition+="Relentless. \r"; }
if (document.form1.saddleborn_trait.checked==true) { SecondWindowDefinition+="Saddleborn. \r"; }
if (document.form1.skinny_trait.checked==true) { SecondWindowDefinition+="Skinny. \r"; }
if (document.form1.slippery_trait.checked==true) { SecondWindowDefinition+="Slippery. \r"; }
if (document.form1.slow_trait.checked==true) { SecondWindowDefinition+="Slow. \r"; }
if (document.form1.stout_trait.checked==true) { SecondWindowDefinition+="Stout. \r"; }
if (document.form1.suspicious_trait.checked==true) { SecondWindowDefinition+="Suspicious. \r"; }
if (document.form1.torpid_trait.checked==true) { SecondWindowDefinition+="Torpid. \r"; }
if (document.form1.uncivilized_trait.checked==true) { SecondWindowDefinition+="Uncivilized. \r"; }
}

if (document.form1.actionpoints_option.checked==true)
 {
   { SecondWindowDefinition+="Action Points: "+lifetime_action_points()+" (lifetime) \r"; }
 }

// Skill Table
SecondWindowDefinition+="<table><tr> <td align=\"center\"><i>Skill Name</i></td> ";
SecondWindowDefinition+="<td align=\"center\"><i>Key<br>Ability</i></td>";
SecondWindowDefinition+="<td align=\"center\"><i>Skill<br>Modifier</i></td> ";
SecondWindowDefinition+="<td align=\"center\"><i>Ability<br>Modifier</i></td> ";
SecondWindowDefinition+="<td align=\"center\"><i>Ranks</i></td> ";
SecondWindowDefinition+="<td align=\"center\"><i>Misc.<br>Modifier</i></td></tr> \r";

// Appraise
x=modifier_number(intelligence)+appraise/appraise_class;
if (raven_familiar==true) { x=x+2; }
if (has_diligent==true) { x=x+2; }
if (has_skillfocusappraise==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Appraise</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (appraise > 0) { SecondWindowDefinition+="+"+appraise/appraise_class; }
SecondWindowDefinition+="</td> <td>";
if (raven_familiar==true) { SecondWindowDefinition+=" +2 [raven] "; }
if (has_diligent==true) { SecondWindowDefinition+=" +2 [diligent] "; }
if (has_skillfocusappraise==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr> \r";

// Balance
x=modifier_number(dexterity)+balance/balance_class-check_penalty;
if (document.form1.musclebound_trait.checked==true) { x--; }
if (has_feeble==true) { x=x-2; }
if (has_naturalheavyweight==true) { x-=2; }
if (tumble/tumble_class>=5) { x=x+2; }
if (rayce==176) { x+=2; }
if (monk_totem==3) { x=x+2; }
if (has_agile==true) { x=x+2; }
if (has_naturalheavyweight==true) { x+=2; }
if (rayce==20) { x=x+4; }
if (weretiger_template==true) { x=x+4; }
if (rayce==36) { x=x+2; }
if (rayce==111) { x=x+2; }
if (rayce==139) { x=x+4; }
if (has_skillfocusbalance==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Balance</td> <td>Dex*</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
if (balance > 0) { SecondWindowDefinition+="+"+balance/balance_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" -1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if (has_naturalheavyweight==true) { SecondWindowDefinition+=" -2 [natural heavyweight] "; }
if (tumble/tumble_class>=5) { SecondWindowDefinition+=" +2 [tumble] "; }
if (has_agile==true) { SecondWindowDefinition+=" +2 [agile] "; }
if (has_naturalheavyweight==true) { SecondWindowDefinition+=" +2 [natural heavyweight] "; }
if (monk_totem==3) { SecondWindowDefinition+=" +2 [hand and foot] "; }
if (rayce==36) { SecondWindowDefinition+=" +2 [zenythr] "; }
if (rayce==111) { SecondWindowDefinition+=" +2 [shifter] "; }
if (rayce==176) { SecondWindowDefinition+=" +2 [desmodu] "; }
if (rayce==20) { SecondWindowDefinition+=" +4 [lizardfolk] "; }
if (weretiger_template==true) { SecondWindowDefinition+=" +4 [weretiger] "; }
if (rayce==139) { SecondWindowDefinition+=" +4 [vamara] "; }
if (has_skillfocusbalance==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (check_penalty > 0) { SecondWindowDefinition+=check_penalty_string; }
SecondWindowDefinition+="</td></tr> \r";

// Bluff
x=modifier_number(charisma)+bluff/bluff_class;
if (snake_familiar==true) { x=x+3; }
if (rayce==164) { x+=2; }
if (has_persuasive==true) { x=x+2; }
if (monk_totem==6) { x=x+2; }
if (rayce==109) { x=x+2; }
if (vampire_template==true) { x+=8; }
if (rayce==141) { x+=4; }
if (rayce==152) { x+=4; }
if (rayce==110) { x=x+2; }
if (rayce==33) { x=x+2; }
if (rayce==69) { x=x+2; }
if (rayce==58) { x=x+2; }
if (rayce==50) { x=x+2; }
if (document.form1.abrasive_trait.checked==true) { x--; }
if (document.form1.uncivilized_trait.checked==true) { x--; }
if (document.form1.dishonest_trait.checked==true) { x++; }
if (document.form1.honest_trait.checked==true) { x--; }

if (has_skillfocusbluff==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Bluff</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (bluff > 0) { SecondWindowDefinition+="+"+bluff/bluff_class; }
SecondWindowDefinition+="</td> <td>";
if (snake_familiar==true) { SecondWindowDefinition+=" +3 [snake] "; }
if (has_persuasive==true) { SecondWindowDefinition+=" +2 [persuasive] "; }
if (rayce==33) { SecondWindowDefinition+=" +2 [tiefling] "; }
if (vampire_template==true) { SecondWindowDefinition+=" +8 [vampire] "; }
if (rayce==58) { SecondWindowDefinition+=" +2 [desert gnome] "; }
if (rayce==164) { SecondWindowDefinition+=" +2 [fey'ri] "; }
if (rayce==50) { SecondWindowDefinition+=" +2 [arctic goblin] "; }
if (rayce==69) { SecondWindowDefinition+=" +2 [jungle half-elf] "; }
if (rayce==141) { SecondWindowDefinition+=" +4 [doppelganger] "; }
if (rayce==152) { SecondWindowDefinition+=" +4 [rakshasa] "; }
if (rayce==109) { SecondWindowDefinition+=" +2 [changeling] "; }
if (rayce==110) { SecondWindowDefinition+=" +2 [kalashtar] "; }
if (monk_totem==6) { SecondWindowDefinition+=" +2 [passive way] "; }
if (has_skillfocusbluff==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.abrasive_trait.checked==true) { SecondWindowDefinition+=" -1 [abrasive] "; }
if (document.form1.dishonest_trait.checked==true) { SecondWindowDefinition+=" +1 [dishonest] "; }
if (document.form1.honest_trait.checked==true) { SecondWindowDefinition+=" -1 [honest] "; }
if (document.form1.uncivilized_trait.checked==true) { SecondWindowDefinition+=" -1 [uncivilized] "; }
SecondWindowDefinition+="</td></tr> \r";

// Climb
if ((spectral_template==false) && (wraith_template==false) && (umbral_template==false)) {
x=modifier_number(strength)+climb/climb_class-check_penalty;
if ((rayce==72) || (rayce==150)) { x=modifier_number(dexterity)+climb/climb_class;
  if (document.form1.skinny_trait.checked==true) { x++; }
  if (document.form1.stout_trait.checked==true) { x--; }
  }

if (npcother_class_name=="Ninja")
{
 if (npcother_levels>=18) { x+=6; } else
 if (npcother_levels>=12) { x+=4; } else
 if (npcother_levels>= 6) { x+=2; }
}

if (document.form1.musclebound_trait.checked==true) {
	if ((rayce==72) || (rayce==150)) {
	x--;
	} else {
	x++;
	}
}
if (has_feeble==true) { x=x-2; }
if (rayce==6 || rayce==111 || rayce==71 || rayce==53 || rayce==43 || rayce==67 || rayce==70 || rayce==72) { x=x+2; }
if (rayce==68) { x+=8; }
if (rayce==140) { x+=8; }
if (has_athletic) { x=x+2; }
if (rayce==179) { x=x+2; }
if (lizard_familiar==true) { x=x+3; }
if (has_skillfocusclimb==true) { x=x+3; }
if (rayce==72 || rayce==150) {
SecondWindowDefinition+="<tr> <td>Climb</td> <td>Dex<sup>*</sup></td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
} else {
SecondWindowDefinition+="<tr> <td>Climb</td> <td>Str<sup>*</sup></td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(strength)+"</td> <td>";
}
if (climb > 0) { SecondWindowDefinition+="+"+climb/climb_class; }
SecondWindowDefinition+="</td> <td>";
if (rayce==6 || rayce==71 || rayce==53 || rayce==43) { SecondWindowDefinition+=" +2 [halfling] "; }
if (rayce==67) { SecondWindowDefinition+=" +2 [jungle gnome] "; }
if (rayce==70) { SecondWindowDefinition+=" +2 [jungle half-orc] "; }
if (rayce==72) { SecondWindowDefinition+=" +2 [jungle kobold] "; }
if (rayce==111) { SecondWindowDefinition+=" +2 [shifter] "; }
if (rayce==68) { SecondWindowDefinition+=" +8 [jungle goblin] "; }
if (rayce==140) { SecondWindowDefinition+=" +8 [grippli] "; }
if (rayce==179) { SecondWindowDefinition+=" +2 [raptoran] "; }
if (rayce!=72 && rayce!=150) {
	if (document.form1.musclebound_trait.checked==true)
	{ SecondWindowDefinition+=" +1 [musclebound] "; }
}
if (rayce==72 || rayce==150) {
	if (document.form1.musclebound_trait.checked==true)
	{ SecondWindowDefinition+=" -1 [musclebound] "; }
}
if (rayce!=72 && rayce!=150) {
	if (has_feeble==true)
	{ SecondWindowDefinition+=" -2 [feeble] "; }
}
if (rayce==72 || rayce==150) {
	if (document.form1.skinny_trait.checked==true) { SecondWindowDefinition+=" +1 [skinny] "; }
	if (document.form1.stout_trait.checked==true) { SecondWindowDefinition+=" -1 [stout] "; }
}

if (has_athletic) { SecondWindowDefinition+=" +2 [athletic] "; }
if (lizard_familiar==true) { SecondWindowDefinition+=" +3 [lizard] "; }

if (npcother_class_name=="Ninja") {
 if (npcother_levels >= 18) { SecondWindowDefinition+=" +6 [ninja] "; } else
 if (npcother_levels >= 12) { SecondWindowDefinition+=" +4 [ninja] "; } else
 if (npcother_levels >= 6) { SecondWindowDefinition+=" +2 [ninja] "; }
}
if (check_penalty > 0) { SecondWindowDefinition+=check_penalty_string; }
if (has_skillfocusclimb==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr> \r";
}

// Concentration
x=modifier_number(constitution)+concentration/concentration_class;
if (vampire_template==true || ghost_template==true || lich_template==true || mummy_template==true || spectral_template==true || umbral_template==true || wight_template==true || wraith_template==true || deathknight_template==true || deathless_template==true) {
x=modifier_number(charisma)+concentration/concentration_class;
}
if (has_feeble==true) { x=x-2; }
if (rayce==81) { x=x-4; }
if (monk_totem==8) { x=x+2; }
if (has_skillfocusconcentration==true) { x=x+3; }
if (document.form1.focused_trait.checked==true) { x++; }
stringy="Con";y=constitution;
if (vampire_template==true || ghost_template==true || lich_template==true || mummy_template==true || spectral_template==true || umbral_template==true || wight_template==true || wraith_template==true || deathknight_template==true) {
stringy="Cha [undead]";
y=charisma;
}
if (deathless_template==true) {
stringy="Cha [deathless]";
y=charisma;
}

SecondWindowDefinition+="<tr> <td>Concentration</td> <td>" + stringy+"</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(y)+"</td><td>";
if (concentration > 0 || monk_totem==8) { SecondWindowDefinition+="+"+concentration/concentration_class; }
SecondWindowDefinition+="</td> <td>";
if (rayce==81) { SecondWindowDefinition+=" -4 [kender] "; }
if (has_skillfocusconcentration==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if (monk_totem==8) { SecondWindowDefinition+=" +2 [undying way] "; }
if (document.form1.focused_trait.checked==true) { SecondWindowDefinition+=" +1 [focused] "; }
SecondWindowDefinition+="</td></tr> \r";

// Craft 1
x=modifier_number(intelligence)+craft_1/craft_1_class;
if (has_skillfocuscraft_1==true) { x=x+3; }
if (rayce==101) { x=x+2; }
SecondWindowDefinition+="<tr> <td>Craft (__________)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (craft_1 > 0 || rayce==48 || rayce==67) { SecondWindowDefinition+="+"+craft_1/craft_1_class; }
SecondWindowDefinition+="</td> <td>";
if (has_skillfocuscraft_1==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==101) { SecondWindowDefinition+=" +2 [aarakocra] "; }
SecondWindowDefinition+="</td></tr> \r";

// Craft 2
if (craft_2 > 0) {
x=modifier_number(intelligence)+craft_2/craft_2_class;
if (has_skillfocuscraft_2==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Craft (__________)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (craft_2 > 0) { SecondWindowDefinition+="+"+craft_2/craft_2_class; }
SecondWindowDefinition+="</td> <td>";
if (has_skillfocuscraft_2==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr> \r";
}

// Craft 3
if (craft_3 > 0) {
x=modifier_number(intelligence)+craft_3/craft_3_class;
if (has_skillfocuscraft_3==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Craft (__________)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (craft_3 > 0) { SecondWindowDefinition+="+"+craft_3/craft_3_class; }
SecondWindowDefinition+="</td> <td>";
if (has_skillfocuscraft_3==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr> \r";
}

// Decipher Script
if (decipherscript > 0 || has_diligent==true || has_skillfocusdecipherscript==true) {
x=modifier_number(intelligence)+decipherscript/decipherscript_class;
if (has_diligent==true) { x=x+2; }
if (has_skillfocusdecipherscript==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Decipher Script</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (decipherscript>0) { SecondWindowDefinition+="+"+decipherscript/decipherscript_class; }
SecondWindowDefinition+="</td> <td>";
//if (decipherscript==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_diligent) { SecondWindowDefinition+=" +2 [diligent] "; }
if (has_skillfocusdecipherscript==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr> \r";
}

// Diplomacy
x=modifier_number(charisma)+diplomacy/diplomacy_class;
if (rayce==2 || rayce==160 || rayce==161 || rayce==60 || rayce==41 || rayce==42 || rayce==52 || rayce==58) { x=x+2; }
if (rayce==94) { x++; }
if (rayce==110) { x=x+2; }
if (bluff/bluff_class>=5) { x=x+2; }
if (has_negotiator==true) { x=x+2; }
if (document.form1.honest_trait.checked==true) { x++; }
if (document.form1.uncivilized_trait.checked==true) { x--; }
if (document.form1.polite_trait.checked==true) { x++; }
if (document.form1.dishonest_trait.checked==true) { x=x-2; }
if (knowledgenobility/knowledgenobility_class>=5) { x=x+2; }
if (sensemotive/sensemotive_class/sensemotive_class>=5) { x=x+2; }
if (has_skillfocusdiplomacy==true) { x=x+3; }
if (document.form1.abrasive_trait.checked==true) { x--; }
if (document.form1.suspicious_trait.checked==true) { x--; }
SecondWindowDefinition+="<tr> <td>Diplomacy</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (diplomacy > 0) { SecondWindowDefinition+="+"+diplomacy/diplomacy_class; }
SecondWindowDefinition+="</td> <td>";
if (rayce==2 || rayce==160 || rayce==161 || rayce==60 || rayce==41) { SecondWindowDefinition+=" +2 [half-elf] "; }
if (rayce==42) { SecondWindowDefinition+=" +2 [aquatic half-orc] "; }
if (rayce==58) { SecondWindowDefinition+=" +2 [desert gnome] "; }
if (rayce==52) { SecondWindowDefinition+=" +2 [arctic half-orc] "; }
if (rayce==94) { SecondWindowDefinition+=" +1 [qualinesti] "; }
if (rayce==110) { SecondWindowDefinition+=" +2 [kalashtar] "; }
if (bluff/bluff_class>=5) { SecondWindowDefinition+=" +2 [bluff] "; }
if (has_negotiator==true) { SecondWindowDefinition+=" +2 [negotiator] "; }
if (knowledgenobility/knowledgenobility_class>=5) { SecondWindowDefinition+=" +2 [Knowledge, nobility] "; }
if (sensemotive/sensemotive_class>=5) { SecondWindowDefinition+=" +2 [sense motive] "; }
if (has_skillfocusdiplomacy==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.honest_trait.checked==true) { SecondWindowDefinition+=" +1 [honest]"; }
if (document.form1.polite_trait.checked==true) { SecondWindowDefinition+=" +1 [polite]"; }
if (document.form1.suspicious_trait.checked==true) { SecondWindowDefinition+=" -1 [suspicious]"; }
if (document.form1.uncivilized_trait.checked==true) { SecondWindowDefinition+=" -1 [uncivilized]"; }
if (document.form1.dishonest_trait.checked==true) { SecondWindowDefinition+=" -2 [dishonest]"; }
if (document.form1.abrasive_trait.checked==true) { SecondWindowDefinition+=" -1 [abrasive] "; }
SecondWindowDefinition+="</td></tr> \r";

// Disable Device
if (disabledevice>0 || rayce==40 || has_nimblefingers==true || has_skillfocusdisabledevice==true) {
x=modifier_number(intelligence)+disabledevice/disabledevice_class;
if (has_nimblefingers==true) { x=x+2; }
if (rayce==40) { x=x+2; }
if (has_skillfocusdisabledevice==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Disable Device</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (disabledevice > 0) { SecondWindowDefinition+="+"+disabledevice/disabledevice_class; }
SecondWindowDefinition+="</td> <td>";
//if (disabledevice==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_nimblefingers==true) { SecondWindowDefinition+=" +2 [nimble fingers] "; }
if (rayce==40) { SecondWindowDefinition+=" +2 [aquatic goblin] "; }
if (has_skillfocusdisabledevice==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr> \r";
}

// Disguise
x=modifier_number(charisma)+disguise/disguise_class;
if (has_skillfocusdisguise==true) { x=x+3; }
if (rayce==141) { x+=4; }
if (rayce==152) { x+=4; }
SecondWindowDefinition+="<tr> <td>Disguise</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (disguise>0) { SecondWindowDefinition+="+"+disguise/disguise_class; }
SecondWindowDefinition+="</td> <td>";
if (has_skillfocusdisguise==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==141) { SecondWindowDefinition+=" +4 [doppelganger] "; }
if (rayce==152) { SecondWindowDefinition+=" +4 [rakshasa] "; }
SecondWindowDefinition+="</td></tr> \r";

// Escape Artist
x=modifier_number(dexterity)+escapeartist/escapeartist_class-check_penalty;
if (document.form1.musclebound_trait.checked==true) { x--; }
if (has_feeble==true) { x=x-2; }
if (rayce==169) { x+=15; }
if (monk_totem==1) { x=x+2; }
if (rayce==171) { x+=2; }
if (has_agile==true) { x=x+2; }
if (document.form1.skinny_trait.checked==true) { x++; }
if (document.form1.stout_trait.checked==true) { x--; }
if (rayce==35) { x=x+2; }
if (has_skillfocusescapeartist==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Escape Artist</td> <td>Dex<sup>*</sup></td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
if ((escapeartist>0) || (monk_totem==1)) { SecondWindowDefinition+="+"+escapeartist/escapeartist_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" -1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if (document.form1.skinny_trait.checked==true) { SecondWindowDefinition+=" +1 [skinny] "; }
if (document.form1.stout_trait.checked==true) { SecondWindowDefinition+=" -1 [stout] "; }
if (has_agile==true) { SecondWindowDefinition+=" +2 [agile] "; }
if (monk_totem==1) { SecondWindowDefinition+=" +2 [cobra strike] "; }
if (rayce==35) { SecondWindowDefinition+=" +2 [chaond] "; }
if (rayce==171) { SecondWindowDefinition+=" +2 [sea kin] "; }
if (rayce==169) { SecondWindowDefinition+=" +15 [kuo-toa] "; }
if (has_skillfocusescapeartist==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (check_penalty > 0) { SecondWindowDefinition+=check_penalty_string; }
SecondWindowDefinition+="</td></tr> \r";

// Forgery
x=modifier_number(intelligence)+forgery/forgery_class;
if (has_deceitful==true) { x=x+2; }
if (has_skillfocusforgery==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Forgery</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (forgery>0) { SecondWindowDefinition+="+"+forgery/forgery_class; }
SecondWindowDefinition+="</td> <td>";
if (has_deceitful==true) { SecondWindowDefinition+=" +2 [deceitful] "; }
if (has_skillfocusforgery==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr> \r";

// Gather Information
x=modifier_number(charisma)+gatherinformation/gatherinformation_class;
if ((rayce==2) || (rayce==160) || (rayce==161) || (rayce==60) || (rayce==51) || (rayce==59)) { x=x+2; }
if (knowledgelocal/knowledgelocal_class>=5) { x=x+2; }
if (document.form1.easygoing_trait.checked==true) { x++; }
if (document.form1.uncivilized_trait.checked==true) { x--; }
if (has_skillfocusgatherinformation==true) { x=x+3; }
if (rayce==39) { x=x+2; }
SecondWindowDefinition+="<tr> <td>Gather Information</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td><td>";
if (gatherinformation>0) { SecondWindowDefinition+="+"+gatherinformation/gatherinformation_class; }
SecondWindowDefinition+="</td> <td>";
if ((rayce==2) || (rayce==160) || (rayce==161) || (rayce==60) || (rayce==51)) { SecondWindowDefinition+=" +2 [half-elf] "; }
if (rayce==39) { SecondWindowDefinition+=" +2 [aquatic gnome] "; }
if (rayce==59) { SecondWindowDefinition+=" +2 [desert goblin] "; }
if (knowledgelocal/knowledgelocal_class>=5) { SecondWindowDefinition+=" +2 [know local] "; }
if (has_skillfocusgatherinformation==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.easygoing_trait.checked==true) { SecondWindowDefinition+=" +1 [easygoing] "; }
if (document.form1.uncivilized_trait.checked==true) { SecondWindowDefinition+=" -1 [uncivilized] "; }
SecondWindowDefinition+="</td></tr> \r";

// Handle Animal
if (handleanimal>0 || rayce==55 || rayce==57 || has_skillfocushandleanimal==true || has_animalaffinity==true || document.form1.uncivilized_trait.checked==true) {
x=modifier_number(charisma)+handleanimal/handleanimal_class;
if (has_animalaffinity==true) { x=x+2; }
if (rayce==181) { x+=2; }
if (rayce==55) { x+=2; }
if (rayce==57) { x+=2; }
if (document.form1.saddleborn_trait.checked==true) { x--; }
if (document.form1.uncivilized_trait.checked==true) { x++; }
if (has_skillfocushandleanimal==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Handle Animal</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (handleanimal>0) { SecondWindowDefinition+="+"+handleanimal/handleanimal_class; }
SecondWindowDefinition+="</td> <td>";
//if (handleanimal==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (document.form1.saddleborn_trait.checked==true) { SecondWindowDefinition+=" -1 [saddleborn] "; }
if (document.form1.uncivilized_trait.checked==true) { SecondWindowDefinition+=" +1 [uncivilized] "; }
if (has_animalaffinity==true) { SecondWindowDefinition+=" +2 [animal affinity] "; }
if (rayce==181) { SecondWindowDefinition+=" +2 [killoren] "; }
if (rayce==55) { SecondWindowDefinition+=" +2 [arctic orc] "; }
if (rayce==57) { SecondWindowDefinition+=" +2 [desert elf] "; }
if (has_skillfocushandleanimal==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr> \r";
}

// Heal
x=modifier_number(wisdom)+heal/heal_class;
if (rayce==65) { x=x+2; }
if (rayce==73) { x=x+2; }
if (has_selfsufficient==true) { x=x+2; }
if (has_skillfocusheal==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Heal</td> <td>Wis</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(wisdom)+"</td> <td>"
if (heal > 0) { SecondWindowDefinition+="+"+heal/heal_class; }
SecondWindowDefinition+="</td> <td>"
if (has_selfsufficient) { SecondWindowDefinition+=" +2 [self-sufficient] "; }
if (has_skillfocusheal==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==65) { SecondWindowDefinition+=" +2 [jungle dwarf] "; }
if (rayce==73) { SecondWindowDefinition+=" +2 [jungle orc] "; }
SecondWindowDefinition+="</td></tr> \r";

// Hide
x=modifier_number(dexterity)+hide/hide_class-check_penalty;
if (document.form1.musclebound_trait.checked==true) { x--; }
if (has_feeble==true) { x=x-2; }
if (rayce==164) { x+=2; }
if (vampire_template==true) { x+=8; }
if (ghost_template==true) { x+=8; }
if (lich_template==true) { x+=8; }
if (spectral_template==true) { x+=8; }
if (small==true) { x=x+4; }
if (weretiger_template==true) { x+=4; }
if (rayce==128) { x=x+4; }
if (rayce==173) { x=x+15; }
if (rayce==174) { x=x+4; }
if (rayce==118) { x=x+4; }
if (rayce==150) { x+=4; }
if (rayce==125) { x=x+8; }
if (large==true) { x=x-4; }
if (has_skillfocushide==true) { x=x+3; }
if (has_stealthy==true) { x=x+2; }
if (monk_totem==7) { x=x+2; }
if (rayce==149) { x+=4; }
if (barbarian_totem==8) { x=x+2; }
if (rayce==92) { x=x+2; }
if (rayce==135) { x=x+2; }
if (rayce==139) { x=x+2; }
if (rayce==16) { x=x+2; }
if (rayce==91) { x=x+2; }
if (rayce==62) { x=x+2; }
if (rayce==33) { x=x+2; }
if (rayce==27) { x=x+4; }
if (rayce==37) { x=x+4; }
SecondWindowDefinition+="<tr> <td>Hide</td> <td>Dex<sup>*</sup></td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
if (hide>0) { SecondWindowDefinition+="+"+hide/hide_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" -1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if (small==true) { SecondWindowDefinition+=" +4 [small] "; }
if (large==true) { SecondWindowDefinition+=" -4 [large] "; }
if (has_skillfocushide==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (vampire_template==true) { SecondWindowDefinition+=" +8 [vampire] "; }
if (ghost_template==true) { SecondWindowDefinition+=" +8 [ghost] "; }
if (lich_template==true) { SecondWindowDefinition+=" +8 [lich] "; }
if (spectral_template==true) { SecondWindowDefinition+=" +8 [spectral] "; }
if (has_stealthy) { SecondWindowDefinition+=" +2 [stealthy] "; }
if (rayce==164) { SecondWindowDefinition+=" +2 [fey'ri] "; }
if (rayce==173) { SecondWindowDefinition+=" +15 [skulk] "; }
if (rayce==174) { SecondWindowDefinition+=" +4 [underfolk] "; }
if (rayce==16) { SecondWindowDefinition+=" +2 [deep gnome] "; }
if (rayce==91) { SecondWindowDefinition+=" +2 [dark dwarf] "; }
if (rayce==33) { SecondWindowDefinition+=" +2 [tiefling] "; }
if (weretiger_template==true) { SecondWindowDefinition+=" +4 [weretiger] "; }
if (monk_totem==7) { SecondWindowDefinition+=" +2 [sleeping tiger] "; }
if (barbarian_totem==8) { SecondWindowDefinition+=" +2 [lion totem] "; }
if (rayce==27) { SecondWindowDefinition+=" +4 [troglodyte] "; }
if (rayce==149) { SecondWindowDefinition+=" +4 [satyr] "; }
if (rayce==150) { SecondWindowDefinition+=" +4 [tasloi] "; }
if (rayce==118) { SecondWindowDefinition+=" +4 [shadowswyft] "; }
if (rayce==125) { SecondWindowDefinition+=" +8 [mongrelfolk] "; }
if (rayce==128) { SecondWindowDefinition+=" +4 [whisper gnome] "; }
if (rayce==62) { SecondWindowDefinition+=" +2 [desert halfling] "; }
if (rayce==92) { SecondWindowDefinition+=" +2 [gully dwarf] "; }
if (rayce==135) { SecondWindowDefinition+=" +2 [ratling] "; }
if (rayce==139) { SecondWindowDefinition+=" +2 [vamara] "; }
if (rayce==37) { SecondWindowDefinition+=" +4 [forest gnome] "; }
if (check_penalty > 0) { SecondWindowDefinition+=check_penalty_string; }
SecondWindowDefinition+="</td></tr> \r";

// Intimidate
x=modifier_number(charisma)+intimidate/intimidate_class;
if (bluff/bluff_class>=5) { x=x+2; }
if (monk_totem==5) { x=x+2; }
if ((barbarian_totem==1) && (barbarian_levels + epic_barbarian_levels>1)) { x=x+2; }
if (has_persuasive==true) { x=x+2; }
if (rayce==77) { x=x+2; }
if (rayce==109) { x=x+2; }
if (rayce==110) { x=x+2; }
if (has_skillfocusintimidate==true) { x=x+3; }
if (document.form1.easygoing_trait.checked==true) { x--; }
if (document.form1.suspicious_trait.checked==true) { x--; }
if (document.form1.polite_trait.checked==true) { x=x-2; }
if (document.form1.abrasive_trait.checked==true) { x++; }
SecondWindowDefinition+="<tr> <td>Intimidate</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if ((intimidate>0) || (monk_totem==5)) { SecondWindowDefinition+="+"+intimidate/intimidate_class; }
SecondWindowDefinition+="</td> <td>";
if (bluff/bluff_class>=5) { SecondWindowDefinition+=" +2 [bluff] "; }
if (monk_totem==5) { SecondWindowDefinition+=" +2 [overwhelming attack] "; }
if ((barbarian_totem==1) && (barbarian_levels + epic_barbarian_levels>1)) { SecondWindowDefinition+=" +2 [ape totem] "; }
if (has_persuasive==true) { SecondWindowDefinition+=" +2 [persuasive] "; }
if (rayce==77) { SecondWindowDefinition+=" +2 [minotaur] "; }
if (rayce==109) { SecondWindowDefinition+=" +2 [changeling] "; }
if (rayce==110) { SecondWindowDefinition+=" +2 [kalashtar] "; }
if (document.form1.abrasive_trait.checked==true) { SecondWindowDefinition+=" +1 [abrasive] "; }
if (document.form1.easygoing_trait.checked==true) { SecondWindowDefinition+=" -1 [easygoing] "; }
if (document.form1.polite_trait.checked==true) { SecondWindowDefinition+=" -2 [polite] "; }
if (document.form1.suspicious_trait.checked==true) { SecondWindowDefinition+=" -1 [suspicious] "; }
if (has_skillfocusintimidate==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr> \r";

// Jump
if ((spectral_template==false) && (wraith_template==false) || (umbral_template==true)) {
x=modifier_number(strength)+jump/jump_class-check_penalty;
if (npcother_class_name=="Ninja") {
 if (npcother_levels>=18) { x+=6; } else
 if (npcother_levels>=12) { x+=4; } else
 if (npcother_levels>= 6) { x+=2; }
}
if (document.form1.musclebound_trait.checked==true) { x++; }
if (has_feeble==true) { x=x-2; }
if (rayce==68) { x+=4; }
if (rayce==167) { x+=4; }
if (rayce==176) { x+=2; }
if (rayce==179) { x+=10; }
if (rayce==139) { x+=4; }
if (rayce==159) { x+=4; }
if (rayce==140) { x+=4; }
if ((rayce==6) || (rayce==71) || (rayce==53) || (rayce==43) || (rayce==70)) { x=x+2; }
if (rayce==34) { x=x+30; }
if (rayce==20) { x=x+4; }
if (rayce==166) { x+=8; }
if (rayce==117) { x+=5; }
if (tumble/tumble_class>=5) { x=x+2; }
if (has_acrobatic==true) { x=x+2; }
if (has_naturalheavyweight==true) { x+=2; }
if (rayce==35) { x=x+2; }
if (rayce==111) { x=x+2; }
if (has_skillfocusjump==true) { x=x+3; }
if (final_speed==0) { x=x-18; }
if (final_speed==5) { x=x-15; }
if (final_speed==10) { x=x-12; }
if (final_speed==15) { x=x-9; }
if (final_speed==20) { x=x-6; }
if (final_speed==25) { x=x-3; }
if (final_speed==35) { x=x+2; }
if (final_speed==40) { x=x+4; }
if (final_speed==45) { x=x+6; }
if (final_speed==50) { x=x+8; }
if (final_speed==55) { x=x+10; }
if (final_speed==60) { x=x+12; }
if (final_speed==65) { x=x+14; }
if (final_speed==70) { x=x+16; }
if (final_speed==75) { x=x+18; }
if (final_speed==80) { x=x+20; }
if (final_speed==85) { x=x+22; }
if (final_speed==90) { x=x+24; }
if (final_speed==95) { x=x+26; }
if (final_speed==100) { x=x+28; }
SecondWindowDefinition+="<tr> <td>Jump</td> <td>Str<sup>*</sup></td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(strength)+"</td> <td>";
if (jump>0) { SecondWindowDefinition+="+"+jump/jump_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" +1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if ((rayce==6) || (rayce==71) || (rayce==53) || (rayce==43)) { SecondWindowDefinition+=" +2 [halfling] "; }
if (rayce==34) { SecondWindowDefinition+=" +30 [thri-kreen] "; }
if (rayce==20) { SecondWindowDefinition+=" +4 [lizardfolk] "; }
if (rayce==159) { SecondWindowDefinition+=" +4 [winged elf] "; }
if (rayce==176) { SecondWindowDefinition+=" +2 [desmodu] "; }
if (rayce==179) { SecondWindowDefinition+=" +10 [raptoran] "; }
if (rayce==70) { SecondWindowDefinition+=" +2 [jungle half-orc] "; }
if (tumble/tumble_class>=5) { SecondWindowDefinition+=" +2 [tumble] "; }
if (has_acrobatic==true) { SecondWindowDefinition+=" +2 [acrobatic] "; }
if (has_naturalheavyweight==true) { SecondWindowDefinition+=" +2 [natural heavyweight] "; }
if (rayce==35) { SecondWindowDefinition+=" +2 [chaond] "; }
if (rayce==117) { SecondWindowDefinition+=" +5 [neraph] "; }
if (rayce==166) { SecondWindowDefinition+=" +8 [wemic] "; }
if (rayce==111) { SecondWindowDefinition+=" +2 [shifter] "; }
if (rayce==167) { SecondWindowDefinition+=" +4 [hybsil] "; }
if (rayce==68) { SecondWindowDefinition+=" +4 [jungle goblin] "; }
if (rayce==139) { SecondWindowDefinition+=" +4 [vamara] "; }
if (rayce==140) { SecondWindowDefinition+=" +4 [grippli] "; }
if (has_skillfocusjump==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (final_speed==0) { SecondWindowDefinition+=" -18 [speed 0] "; }
if (final_speed==5) { SecondWindowDefinition+=" -15 [speed 5] "; }
if (final_speed==10) { SecondWindowDefinition+=" -12 [speed 10] "; }
if (final_speed==15) { SecondWindowDefinition+=" -9 [speed 15] "; }
if (final_speed==20) { SecondWindowDefinition+=" -6 [speed 20] "; }
if (final_speed==25) { SecondWindowDefinition+=" -3 [speed 25] "; }
if (final_speed==35) { SecondWindowDefinition+=" +2 [speed 35] "; }
if (final_speed==40) { SecondWindowDefinition+=" +4 [speed 40] "; }
if (final_speed==45) { SecondWindowDefinition+=" +6 [speed 45] "; }
if (final_speed==50) { SecondWindowDefinition+=" +8 [speed 50] "; }
if (final_speed==55) { SecondWindowDefinition+=" +10 [speed 55] "; }
if (final_speed==60) { SecondWindowDefinition+=" +12 [speed 60] "; }
if (final_speed==65) { SecondWindowDefinition+=" +14 [speed 65] "; }
if (final_speed==70) { SecondWindowDefinition+=" +16 [speed 70] "; }
if (final_speed==75) { SecondWindowDefinition+=" +18 [speed 75] "; }
if (final_speed==80) { SecondWindowDefinition+=" +20 [speed 80] "; }
if (final_speed==85) { SecondWindowDefinition+=" +22 [speed 85] "; }
if (final_speed==90) { SecondWindowDefinition+=" +24 [speed 90] "; }
if (final_speed==95) { SecondWindowDefinition+=" +26 [speed 95] "; }
if (final_speed==100) { SecondWindowDefinition+=" +28 [speed 100] "; }
if (check_penalty > 0) { SecondWindowDefinition+=check_penalty_string; }
if (npcother_class_name=="Ninja") {
	if (npcother_levels>=18) { SecondWindowDefinition+=" +6 [ninja] "; } else
	if (npcother_levels>=12) { SecondWindowDefinition+=" +4 [ninja] "; } else
	if (npcother_levels>= 6) { SecondWindowDefinition+=" +2 [ninja] "; }
	}
SecondWindowDefinition+="</td></tr> \r";
}

// Knowledge (arcana)
if ((knowledgearcana>0) || (rayce==95)) {
x=modifier_number(intelligence) + knowledgearcana/knowledgearcana_class;
if (has_skillfocusknowledgearcana==true) { x=x+3; }
if (document.form1.absentminded_trait.checked==true) { x++; }
if (rayce==95) { x++; }
SecondWindowDefinition+="<tr> <td>Knowledge (arcana)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (knowledgearcana>0) { SecondWindowDefinition+="+" + knowledgearcana/knowledgearcana_class; }
SecondWindowDefinition+="</td> <td>";
//if (knowledgearcana==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusknowledgearcana==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==95) { SecondWindowDefinition+=" +1 [silvanesti] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Knowledge (architecture)
if ((knowledgearchitecture>0) || (rayce==56)) {
x=modifier_number(intelligence) + knowledgearchitecture/knowledgearchitecture_class;
if (has_skillfocusknowledgearchitecture==true) { x=x+3; }
if (rayce==56) { x=x+2; }
if (document.form1.absentminded_trait.checked==true) { x++}
SecondWindowDefinition+="<tr> <td>Knowledge (architecture)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td><td>";
if (knowledgearchitecture>0) { SecondWindowDefinition+="+" + knowledgearchitecture/knowledgearchitecture_class; }
SecondWindowDefinition+="</td> <td>";
//if (knowledgearchitecture==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusknowledgearchitecture==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==56) { SecondWindowDefinition+=" +2 [desert dwarf] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Knowledge (dungeoneering)
if ((knowledgedungeoneering>0) || (rayce==56)) {
x=modifier_number(intelligence) + knowledgedungeoneering/knowledgedungeoneering_class;
if (has_skillfocusknowledgedungeoneering==true) { x=x+3; }
if (rayce==56) { x=x+2; }
if (document.form1.absentminded_trait.checked==true) { x++}
SecondWindowDefinition+="<tr> <td>Knowledge (dungeoneering)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (knowledgedungeoneering>0) { SecondWindowDefinition+="+" + knowledgedungeoneering/knowledgedungeoneering_class; }
SecondWindowDefinition+="</td> <td>";
//if (knowledgedungeoneering==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusknowledgedungeoneering==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==56) { SecondWindowDefinition+=" +2 [desert dwarf] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Knowledge (geography)
if (knowledgegeography>0) {
x=modifier_number(intelligence) + knowledgegeography/knowledgegeography_class;
if (has_skillfocusknowledgegeography==true) { x=x+3; }
if (document.form1.absentminded_trait.checked==true) { x++; }
SecondWindowDefinition+="<tr> <td>Knowledge (geography)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (knowledgegeography>0) { SecondWindowDefinition+="+" + knowledgegeography/knowledgegeography_class; }
SecondWindowDefinition+="</td> <td>";
//if (knowledgegeography==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusknowledgegeography==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Knowledge (history)
if ((knowledgehistory>0) || (rayce==66)) {
x=modifier_number(intelligence) + knowledgehistory/knowledgehistory_class;
if (rayce==66) { x+=2; }
if (document.form1.absentminded_trait.checked==true) { x++; }
if (has_skillfocusknowledgehistory==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Knowledge (history)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (knowledgehistory>0) { SecondWindowDefinition+="+" + knowledgehistory/knowledgehistory_class; }
SecondWindowDefinition+="</td> <td>";
//if (knowledgehistory==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusknowledgehistory==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
if (rayce==66) { SecondWindowDefinition+=" +2 [jungle elf] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Knowledge (local)
if (knowledgelocal>0) {
x=modifier_number(intelligence) + knowledgelocal/knowledgelocal_class;
if (has_skillfocusknowledgelocal==true) { x=x+3; }
if (document.form1.absentminded_trait.checked==true) { x++; }
SecondWindowDefinition+="<tr> <td>Knowledge (local)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (knowledgelocal>0) { SecondWindowDefinition+="+" + knowledgelocal/knowledgelocal_class; }
SecondWindowDefinition+="</td> <td>";
//if (knowledgelocal==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusknowledgelocal==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Knowledge (nature)
if ((knowledgenature>0) || (rayce==65) || (rayce==101) || (rayce==93) || (druid_levels + epic_druid_levels>0)) {
x=modifier_number(intelligence) + knowledgenature/knowledgenature_class;
if (rayce==65) { x=x+2; }
if (rayce==101) { x=x+2; }
if (rayce==181) { x=x+2; }
if (rayce==93) { x=x+1; }
if (druid_levels + epic_druid_levels>0) { x=x+2; }
if (survival/survival_class>=5) { x=x+2; }
if (has_skillfocusknowledgenature==true) { x=x+3; }
if (document.form1.absentminded_trait.checked==true) { x++; }
SecondWindowDefinition+="<tr> <td>Knowledge (nature)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (knowledgenature>0) { SecondWindowDefinition+="+" + knowledgenature/knowledgenature_class; }
SecondWindowDefinition+="</td> <td>";
if (druid_levels + epic_druid_levels>0) { SecondWindowDefinition+=" +2 [druid] "; }
if (rayce==65) { SecondWindowDefinition+=" +2 [jungle dwarf] "; }
if (rayce==101) { SecondWindowDefinition+=" +2 [aarakocra] "; }
if (rayce==181) { SecondWindowDefinition+=" +2 [killoren] "; }
if (rayce==93) { SecondWindowDefinition+=" +1 [kagonesti] "; }
if (survival/survival_class>=5) { SecondWindowDefinition+=" +2 [survival] "; }
if (has_skillfocusknowledgenature==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Knowledge (nobility)
if (knowledgenobility>0) {
x=modifier_number(intelligence) + knowledgenobility/knowledgenobility_class;
if (has_skillfocusknowledgenobility==true) { x=x+3; }
if (document.form1.absentminded_trait.checked==true) { x++; }
SecondWindowDefinition+="<tr> <td>Knowledge (nobility)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (knowledgenobility>0) { SecondWindowDefinition+="+" + knowledgenobility/knowledgenobility_class; }
SecondWindowDefinition+="</td> <td>";
//if (knowledgenobility==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusknowledgenobility==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Knowledge (religion)
if (knowledgereligion>0) {
x=modifier_number(intelligence) + knowledgereligion/knowledgereligion_class;
if (has_skillfocusknowledgereligion==true) { x=x+3; }
if (document.form1.absentminded_trait.checked==true) { x++; }
SecondWindowDefinition+="<tr> <td>Knowledge (religion)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (knowledgereligion>0) { SecondWindowDefinition+="+" + knowledgereligion/knowledgereligion_class; }
SecondWindowDefinition+="</td> <td>";
//if (knowledgereligion==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusknowledgereligion==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Knowledge (planes)
if (knowledgeplanes>0) {
x=modifier_number(intelligence) + knowledgeplanes/knowledgeplanes_class;
if (document.form1.absentminded_trait.checked==true) { x++; }
if (has_skillfocusknowledgeplanes==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Knowledge (planes)</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (knowledgeplanes>0) { SecondWindowDefinition+="+" + knowledgeplanes/knowledgeplanes_class; }
SecondWindowDefinition+="</td> <td>";
//if (knowledgeplanes==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusknowledgeplanes==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" +1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Listen
x=modifier_number(wisdom)+listen/listen_class;
if (document.form1.focused_trait.checked==true) { x--; }
if (document.form1.hardofhearing_trait.checked==true) { x=x-2; }
if (monk_totem==4) { x=x+2; }
if (rayce==129) { x=x+2; }
if (rayce==176) { x+=4; }
if (rayce==178) { x+=4; }
if (rayce==174) { x+=2; }
if (rayce==180) { x+=2; }
if (rayce==164) { x+=2; }
if (rayce==151) { x=x+2; }
if (vampire_template==true) { x+=8; }
if (ghost_template==true) { x+=8; }
if (lich_template==true) { x+=8; }
if (spectral_template==true) { x+=8; }
if (rayce==149) { x+=4; }
if (rayce==148) { x+=2; }
if (document.form1.absentminded_trait.checked==true) { x--; }
if (bat_familiar==true) { x=x+3; }
if (has_inattentive==true) { x=x-4; }
if (rayce==3 || rayce==158 || rayce==159 || rayce==93 || rayce==94 || rayce==95 || rayce==96 || rayce==97 || rayce==66 || rayce==48 || rayce==17 || rayce==13 || rayce==12 || rayce==11 || rayce==9 || rayce==10) { x=x+2; }
if (rayce==5 || rayce==49 || rayce==37 || rayce==16 || rayce==78) { x=x+2; }
if (rayce==19) { x=x+4; }
if (rayce==128) { x=x+2; }
if (rayce==28) { x=x+2; }
if (rayce==112) { x=x+2; }
if (rayce==6 || rayce==71 || rayce==62 || rayce==53 || rayce==43 || rayce==17 || rayce==18) { x=x+2; }
if (rayce==15) { x=x+1; }
if (has_alertness) { x=x+2; }
if (rayce==101) { x=x+2; }
if (rayce==2 || rayce==160 || rayce==161 || rayce==69 || rayce==51 || rayce==41) { x=x+1; }
if (has_skillfocuslisten==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Listen</td> <td>Wis</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(wisdom)+"</td> <td>";
if (listen>0) { SecondWindowDefinition+="+"+listen/listen_class; }
SecondWindowDefinition+="</td> <td>";
if (has_inattentive==true) { SecondWindowDefinition+=" -4 [inattentive] "; }
if (bat_familiar==true) { x=x+3; }
if (document.form1.focused_trait.checked==true) { SecondWindowDefinition+=" -1 [focused] "; }
if (document.form1.hardofhearing_trait.checked==true) { SecondWindowDefinition+=" -2 [hard of hearing] "; }
if (rayce==3 || rayce==158 || rayce==159 || rayce==93 || rayce==94 || rayce==95 || rayce==96 || rayce==97 || rayce==66 || rayce==48 || rayce==13 || rayce==12 || rayce==11 || rayce==9 || rayce==10) { SecondWindowDefinition+=" +2 [elf] "; }
if (rayce==5 || rayce==49 || rayce==37 || rayce==16) { SecondWindowDefinition+=" +2 [gnome] "; }
if (vampire_template==true) { SecondWindowDefinition+=" +8 [vampire] "; }
if (ghost_template==true) { SecondWindowDefinition+=" +8 [ghost] "; }
if (rayce==176) { SecondWindowDefinition+=" +4 [desmodu] "; }
if (rayce==178) { SecondWindowDefinition+=" +4 [astral deva] "; }
if (lich_template==true) { SecondWindowDefinition+=" +8 [lich] "; }
if (spectral_template==true) { SecondWindowDefinition+=" +8 [spectral] "; }
if (rayce==28) { SecondWindowDefinition+=" +2 [aasimar] "; }
if (rayce==180) { SecondWindowDefinition+=" +2 [catfolk] "; }
if (rayce==112) { SecondWindowDefinition+=" +2 [buomman] "; }
if (rayce==164) { SecondWindowDefinition+=" +2 [fey'ri] "; }
if (rayce==174) { SecondWindowDefinition+=" +2 [underfolk] "; }
if (rayce==149) { SecondWindowDefinition+=" +4 [satyr] "; }
if (monk_totem==4) { SecondWindowDefinition+=" +2 [invisible eye] "; }
if ((rayce==19)) { SecondWindowDefinition+=" +4 [wild gnome] "; }
if ((rayce==128)) { SecondWindowDefinition+=" +2 [whisper gnome] "; }
if (rayce==2 || rayce==160 || rayce==161 || rayce==69 || rayce==51 || rayce==41) { SecondWindowDefinition+=" +1 [half-elf] "; }
if (rayce==6 || rayce==71 || rayce==62 || rayce==53 || rayce==43 || rayce==17 || rayce==18) { SecondWindowDefinition+=" +2 [halfling] "; }
if (rayce==15) { SecondWindowDefinition+=" +1 [gray dwarf] "; }
if (rayce==78) { SecondWindowDefinition+=" +2 [bariaur] "; }
if (rayce==101) { SecondWindowDefinition+=" +2 [aarakocra] "; }
if (rayce==151) { SecondWindowDefinition+=" +2 [lupin] "; }
if (rayce==129) { SecondWindowDefinition+=" +2 [chaos dwarf] "; }
if (rayce==148) { SecondWindowDefinition+=" +2 [pixie] "; }
if (has_alertness) { SecondWindowDefinition+=" +2 [alertness] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" -1 [absent-minded] "; }
if (has_skillfocuslisten==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr>\r";

// Move Silently
x=modifier_number(dexterity)+movesilently/movesilently_class-check_penalty;
if (document.form1.musclebound_trait.checked==true) { x--; }
if (has_feeble==true) { x=x-2; }
if (weretiger_template==true) { x+=4; }
if (vampire_template==true) { x+=8; }
if (lich_template==true) { x+=8; }
if (rayce==173) { x+=8; }
if ((rayce==6) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43)) { x=x+2; }
if ((barbarian_totem==9) && (barbarian_levels + epic_barbarian_levels>=2)) { x=x+2; }
if ((rayce==26) || (rayce==59) || (rayce==150)) { x=x+4; }
if (rayce==149) { x+=4; }
if (rayce==40) { x=x+2; }
if (rayce==92) { x=x+2; }
if (rayce==135) { x=x+2; }
if (rayce==180) { x=x+2; }
if (rayce==139) { x=x+2; }
if (rayce==140) { x=x+2; }
if (rayce==15) { x=x+4; }
if (rayce==23) { x=x+4; }
if (rayce==128) { x=x+4; }
if (rayce==21) { x=x+4; }
if (rayce==118) { x=x+4; }
if (has_stealthy) { x=x+2; }
if (cat_familiar==true) { x=x+3; }
if (has_skillfocusmovesilently==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Move Silently</td> <td>Dex<sup>*</sup></td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
if (movesilently>0) { SecondWindowDefinition+="+"+movesilently/movesilently_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" -1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if ((rayce==6) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43)) { SecondWindowDefinition+=" +2 [halfling] "; }
if ((barbarian_totem==9) && (barbarian_levels + epic_barbarian_levels>=2)) { SecondWindowDefinition+=" +2 [snake totem] "; }
if ((rayce==26) || (rayce==59)) { SecondWindowDefinition+=" +4 [goblin] "; }
if (rayce==40) { SecondWindowDefinition+=" +2 [aquatic goblin] "; }
if (rayce==173) { SecondWindowDefinition+=" +8 [skulk] "; }
if (rayce==92) { SecondWindowDefinition+=" +2 [gully dwarf] "; }
if (vampire_template==true) { SecondWindowDefinition+=" +8 [vampire] "; }
if (lich_template==true) { SecondWindowDefinition+=" +8 [lich] "; }
if (rayce==135) { SecondWindowDefinition+=" +2 [ratling] "; }
if (rayce==139) { SecondWindowDefinition+=" +2 [vamara] "; }
if (rayce==140) { SecondWindowDefinition+=" +2 [grippli] "; }
if (rayce==180) { SecondWindowDefinition+=" +2 [catfolk] "; }
if (rayce==149) { SecondWindowDefinition+=" +4 [satyr] "; }
if (rayce==150) { SecondWindowDefinition+=" +4 [tasloi] "; }
if (rayce==15) { SecondWindowDefinition+=" +4 [gray dwarf] "; }
if (rayce==21) { SecondWindowDefinition+=" +4 [hobgoblin] "; }
if (rayce==23) { SecondWindowDefinition+=" +4 [bugbear] "; }
if (rayce==118) { SecondWindowDefinition+=" +4 [shadowswyft] "; }
if (weretiger_template==true) { SecondWindowDefinition+=" +4 [weretiger] "; }
if (rayce==128) { SecondWindowDefinition+=" +4 [whisper gnome] "; }
if (has_stealthy) { SecondWindowDefinition+=" +2 [stealthy] "; }
if (cat_familiar==true) { SecondWindowDefinition+=" +3 [cat] "; }
if (has_skillfocusmovesilently==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (check_penalty > 0) { SecondWindowDefinition+=check_penalty_string; }
SecondWindowDefinition+="</td></tr>\r";

// Open Lock
if ((openlock>0) || (has_nimblefingers==true) || (has_skillfocusopenlock==true) || (rayce==81)) {
x=modifier_number(dexterity)+openlock/openlock_class;
if (document.form1.musclebound_trait.checked==true) { x--; }
if (has_feeble==true) { x=x-2; }
if (has_nimblefingers) { x=x+2; }
if (rayce==81) { x=x+2; }
if (has_skillfocusopenlock==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Open Lock</td> <td>Dex</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
if (openlock>0) { SecondWindowDefinition+="+"+openlock/openlock_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" -1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
//if (openlock==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_nimblefingers) { SecondWindowDefinition+=" +2 [nimble fingers] "; }
if (has_skillfocusopenlock==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==81) { SecondWindowDefinition+=" +2 [kender] "; }
SecondWindowDefinition+="</td></tr>\r"; }

// Perform 1
x=modifier_number(charisma)+perform_1/perform_1_class;
if (has_skillfocusperform_1==true) { x=x+3; }
if (rayce==149) { x+=4; }
SecondWindowDefinition+="<tr> <td>Perform (__________)</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (perform_1>0) { SecondWindowDefinition+="+"+perform_1/perform_1_class; }
SecondWindowDefinition+="</td> <td>";
if (has_skillfocusperform_1==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==149) { SecondWindowDefinition+=" +4 [satyr] "; }
SecondWindowDefinition+="</td></tr>\r";

// Perform 2
if (perform_2 > 0) {
x=modifier_number(charisma)+perform_2/perform_2_class;
if (has_skillfocusperform_2==true) { x=x+3; }
if (rayce==149) { x+=4; }
SecondWindowDefinition+="<tr> <td>Perform (__________)</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (perform_2>0) { SecondWindowDefinition+="+"+perform_2/perform_2_class; }
SecondWindowDefinition+="</td> <td>";
if (has_skillfocusperform_2==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==149) { SecondWindowDefinition+=" +4 [satyr] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Perform 3
if (perform_3 > 0) {
x=modifier_number(charisma)+perform_3/perform_3_class;
if (has_skillfocusperform_3==true) { x=x+3; }
if (rayce==149) { x+=4; }
SecondWindowDefinition+="<tr> <td>Perform (__________)</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (perform_3>0) { SecondWindowDefinition+="+"+perform_3/perform_3_class; }
SecondWindowDefinition+="</td> <td>";
if (has_skillfocusperform_3==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==149) { SecondWindowDefinition+=" +4 [satyr] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Perform 4
if (perform_4 > 0) {
x=modifier_number(charisma)+perform_4/perform_4_class;
if (has_skillfocusperform_4==true) { x=x+3; }
if (rayce==149) { x+=4; }
SecondWindowDefinition+="<tr> <td>Perform (__________)</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (perform_4>0) { SecondWindowDefinition+="+"+perform_4/perform_4_class; }
SecondWindowDefinition+="</td> <td>";
if (has_skillfocusperform_4==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==149) { SecondWindowDefinition+=" +4 [satyr] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Perform 5
if (perform_5 > 0) {
x=modifier_number(charisma)+perform_5/perform_5_class;
if (has_skillfocusperform_5==true) { x=x+3; }
if (rayce==149) { x+=4; }
SecondWindowDefinition+="<tr> <td>Perform (__________)</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (perform_5>0) { SecondWindowDefinition+="+"+perform_5/perform_5_class; }
SecondWindowDefinition+="</td> <td>";
if (has_skillfocusperform_5==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (rayce==149) { SecondWindowDefinition+=" +4 [satyr] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Profession
if (profession>0) {
x=modifier_number(wisdom)+profession/profession_class;
if (has_skillfocusprofession==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Profession (__________)</td> <td>Wis</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(wisdom)+"</td> <td>";
if (profession>0) { SecondWindowDefinition+="+"+profession/profession_class; }
SecondWindowDefinition+="</td> <td>";
//if (profession==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_skillfocusprofession==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Ride
x=modifier_number(dexterity)+ride/ride_class;
if (document.form1.musclebound_trait.checked==true) { x--; }
if (has_feeble==true) { x=x-2; }
if (handleanimal/handleanimal_class>=5) { x=x+2; }
if (document.form1.saddleborn_trait.checked==true) { x=x+1; }
if (has_animalaffinity==true) { x=x+2; }
if (has_skillfocusride==true) { x=x+3; }
if ((rayce==26) || (rayce==59) || (rayce==50)) { x=x+4; }
if (rayce==40) { x=x+2; }
if (rayce==151) { x=x+2; }
if (rayce==57) { x=x+2; }
if (has_naturalheavyweight==true) { x-=2; }
SecondWindowDefinition+="<tr> <td>Ride</td> <td>Dex</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
if (ride>0) { SecondWindowDefinition+="+"+ride/ride_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" -1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if (handleanimal/handleanimal_class>=5) { SecondWindowDefinition+=" +2 [handle animal] "; }
if (has_animalaffinity==true) { SecondWindowDefinition+=" +2 [animal affinity] "; }
if (has_skillfocusride==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (has_naturalheavyweight==true) { SecondWindowDefinition+=" -2 [natural heavyweight] "; }
if (document.form1.saddleborn_trait.checked==true) { SecondWindowDefinition+=" +1 [saddleborn] "; }
if ((rayce==26) || (rayce==59) || (rayce==50)) { SecondWindowDefinition+=" +4 [goblin] "; }
if (rayce==40) { SecondWindowDefinition+=" +2 [aquatic goblin] "; }
if (rayce==57) { SecondWindowDefinition+=" +2 [desert elf] "; }
if (rayce==151) { SecondWindowDefinition+=" +2 [lupin] "; }
SecondWindowDefinition+="</td></tr>\r";

// Search
x=modifier_number(intelligence)+search/search_class;
if (document.form1.nearsighted_trait.checked==true) { x++}
if (document.form1.farsighted_trait.checked==true) { x=x-2}
if (vampire_template==true) { x+=8; }
if (ghost_template==true) { x+=8; }
if (rayce==164) { x+=2; }
if (rayce==169) { x+=4; }
if (lich_template==true) { x+=8; }
if (spectral_template==true) { x+=8; }
if ((rayce==3) || (rayce==158) || (rayce==159) || (rayce==93) || (rayce==94) || (rayce==95) || (rayce==96) || (rayce==97) || (rayce==66) || (rayce==57) || (rayce==17) || (rayce==13) || (rayce==12) || (rayce==11) || (rayce==9) || (rayce==10) || (rayce==148)) { x=x+2; }
if ((rayce==2) || (rayce==160) || (rayce==161) || (rayce==69) || (rayce==60) || (rayce==51) || (rayce==41)) { x=x+1; }
if ((rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45) || (rayce==117)) { x=x+2; }
if (has_investigator==true) { x=x+2; }
if (has_skillfocussearch==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Search</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (search>0) { SecondWindowDefinition+="+"+search/search_class; }
SecondWindowDefinition+="</td> <td>";
if ((rayce==3) || (rayce==158) || (rayce==159) || (rayce==93) || (rayce==94) || (rayce==95) || (rayce==96) || (rayce==97) || (rayce==66) || (rayce==57) || (rayce==13) || (rayce==12) || (rayce==11) || (rayce==9) || (rayce==10)) { SecondWindowDefinition+=" +2 [elf] "; }
if (document.form1.nearsighted_trait.checked==true) { SecondWindowDefinition+=" +1 [nearsighted] "; }
if (document.form1.farsighted_trait.checked==true) { SecondWindowDefinition+=" -2 [farsighted] "; }
if (rayce==17) { SecondWindowDefinition+=" +2 [tallfellow] "; }
if (vampire_template==true) { SecondWindowDefinition+=" +8 [vampire] "; }
if (ghost_template==true) { SecondWindowDefinition+=" +8 [ghost] "; }
if (lich_template==true) { SecondWindowDefinition+=" +8 [lich] "; }
if (spectral_template==true) { SecondWindowDefinition+=" +8 [spectral] "; }
if (rayce==117) { SecondWindowDefinition+=" +2 [neraph] "; }
if (rayce==169) { SecondWindowDefinition+=" +4 [kuo-toa] "; }
if (rayce==148) { SecondWindowDefinition+=" +2 [pixie] "; }
if ((rayce==2) || (rayce==160) || (rayce==161) || (rayce==69) || (rayce==60) || (rayce==51) || (rayce==41)) { SecondWindowDefinition+=" +1 [half-elf] "; }
if (rayce==164) { SecondWindowDefinition+=" +2 [fey'ri] "; }
if ((rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45)) { SecondWindowDefinition+=" +2 [kobold] "; }
if (has_investigator) { SecondWindowDefinition+=" +2 [investigator] "; }
if (has_skillfocussearch==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr>\r";

// Sense Motive
x=modifier_number(wisdom)+sensemotive/sensemotive_class;
if (has_negotiator==true) { x=x+2; }
if (rayce==94) { x=x+1; }
if (vampire_template==true) { x+=8; }
if (lich_template==true) { x+=8; }
if (rayce==109) { x=x+2; }
if (rayce==126) { x=x+2; }
if (rayce==39) { x=x+2; }
if (rayce==58) { x=x+2; }
if (rayce==60) { x=x+2; }
if (rayce==69) { x=x+2; }
if (rayce==49) { x=x+2; }
if (has_skillfocussensemotive==true) { x=x+3; }
if (document.form1.easygoing_trait.checked==true) { x--; }
if (document.form1.suspicious_trait.checked==true) { x++; }
if (document.form1.honest_trait.checked==true) { x--; }
SecondWindowDefinition+="<tr> <td>Sense Motive</td> <td>Wis</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(wisdom)+"</td> <td>";
if (sensemotive>0) { SecondWindowDefinition+="+"+sensemotive/sensemotive_class; }
SecondWindowDefinition+="</td> <td>";
if (has_negotiator==true) { SecondWindowDefinition+=" +2 [negotiator] "; }
if (rayce==39) { SecondWindowDefinition+=" +2 [aquatic gnome] "; }
if (document.form1.easygoing_trait.checked==true) { SecondWindowDefinition+=" -1 [easygoing] "; }
if (document.form1.honest_trait.checked==true) { SecondWindowDefinition+=" -1 [honest] "; }
if (rayce==58) { SecondWindowDefinition+=" +2 [desert gnome] "; }
if (rayce==60) { SecondWindowDefinition+=" +2 [desert half-elf] "; }
if (rayce==69) { SecondWindowDefinition+=" +2 [jungle half-elf] "; }
if (vampire_template==true) { SecondWindowDefinition+=" +8 [vampire] "; }
if (lich_template==true) { SecondWindowDefinition+=" +8 [lich] "; }
if (rayce==49) { SecondWindowDefinition+=" +2 [arctic gnome] "; }
if (rayce==109) { SecondWindowDefinition+=" +2 [changeling] "; }
if (rayce==126) { SecondWindowDefinition+=" +2 [goliath] "; }
if (rayce==94) { SecondWindowDefinition+=" +1 [qualinesti] "; }
if (document.form1.suspicious_trait.checked==true) { SecondWindowDefinition+=" +1 [suspicious] "; }
if (has_skillfocussensemotive==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr>\r";

// Sleight of Hand
if (sleightofhand>0 || rayce==62 || rayce==125 || rayce==40 || rayce==50 || rayce==81 || has_defthands==true || has_skillfocussleightofhand==true) {
x=modifier_number(dexterity)+sleightofhand/sleightofhand_class-check_penalty;
if (document.form1.musclebound_trait.checked==true) { x--; }
if (has_feeble==true) { x=x-2; }
if (bluff/bluff_class>=5) { x=x+2; }
if (rayce==81) { x=x+2; }
if (rayce==62) { x=x+2; }
if (rayce==40) { x=x+2; }
if (rayce==50) { x=x+2; }
if (rayce==125) { x=x+8; }
if (has_defthands==true) { x=x+2; }
if (has_skillfocussleightofhand==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Sleight of Hand</td> <td>Dex<sup>*</sup></td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
if (sleightofhand>0) { SecondWindowDefinition+="+"+sleightofhand/sleightofhand_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" -1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
//if (sleightofhand==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (bluff/bluff_class>=5) { SecondWindowDefinition+=" +2 [bluff] "; }
if (rayce==40) { SecondWindowDefinition+=" +2 [aquatic goblin] "; }
if (rayce==50) { SecondWindowDefinition+=" +2 [arctic goblin] "; }
if (rayce==62) { SecondWindowDefinition+=" +2 [desert halfling] "; }
if (rayce==81) { SecondWindowDefinition+=" +2 [kender] "; }
if (rayce==125) { SecondWindowDefinition+=" +8 [mongrel folk] "; }
if (has_defthands) { SecondWindowDefinition+=" +2 [deft hands] "; }
if (has_skillfocussleightofhand==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (check_penalty > 0) { SecondWindowDefinition+=check_penalty_string; }
SecondWindowDefinition+="</td></tr>\r";
}

// Spellcraft
if (spellcraft>0 || has_magicalaptitude==true || has_skillfocusspellcraft==true || rayce==95) {
x=modifier_number(intelligence)+spellcraft/spellcraft_class;
if (knowledgearcana/knowledgearcana_class>=5) { x=x+2; }
if (has_magicalaptitude==true) { x=x+2; }
if (rayce==95) { x=x+2; }
if (has_skillfocusspellcraft==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Spellcraft</td> <td>Int</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(intelligence)+"</td> <td>";
if (spellcraft>0) { SecondWindowDefinition+="+"+spellcraft/spellcraft_class; }
SecondWindowDefinition+="</td> <td>";
//if (spellcraft==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (knowledgearcana/knowledgearcana_class>=5) { SecondWindowDefinition+=" +2 [Knowledge, arcane] "; }
if (has_magicalaptitude) { SecondWindowDefinition+=" +2 [magical aptitude] "; }
if (rayce==95) { SecondWindowDefinition+=" +1 [silvanesti] "; }
if (has_skillfocusspellcraft==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr>\r";
}

// Spot
x=modifier_number(wisdom)+spot/spot_class;
if (document.form1.absentminded_trait.checked==true) { x--; }
if (document.form1.nearsighted_trait.checked==true) { x--; }
if (barbarian_totem==5) { x+=2; }
if (rayce==176) { x+=4; }
if (rayce==178) { x+=4; }
if (rayce==164) { x+=2; }
if (vampire_template==true) { x+=8; }
if (ghost_template==true) { x+=8; }
if (lich_template==true) { x+=8; }
if (spectral_template==true) { x+=8; }
if ((rayce==149) || (rayce==169)) { x+=4; }
if (rayce==99) { x+=2; }
if (rayce==148) { x+=2; }
if (rayce==128) { x+=2; }
if (rayce==179) { x+=2; }
if (rayce==117) { x+=2; }
if (rayce==101) { x+=2; }
if (document.form1.farsighted_trait.checked==true) { x++; }
if (rayce==3 || rayce==158 || rayce==93 || rayce==94 || rayce==95 || rayce==96 || rayce==97 || rayce==66 || rayce==57 || rayce==48 || rayce==81 || rayce==17 || rayce==65 || rayce==13 || rayce==12 || rayce==11 || rayce==9 || rayce==10 || rayce==78) { x=x+2; }
if (rayce==159) { x+=4; }
if (document.form1.focused_trait.checked==true) { x--; }
if (document.form1.hardofhearing_trait.checked==true) { x++; }
if (rayce==2 || rayce==160 || rayce==161 || rayce==69 || rayce==60 || rayce==51 || rayce==41) { x=x+1; }
if (rayce==28) { x=x+2; }
if (rayce==15) { x=x+1; }
if (has_inattentive==true) { x=x-4; }
if (has_alertness==true) { x=x+2; }
if (has_skillfocusspot==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Spot</td> <td>Wis</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(wisdom)+"</td> <td>";
if (spot>0) { SecondWindowDefinition+="+"+spot/spot_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.focused_trait.checked==true) { SecondWindowDefinition+=" -1 [focused] "; }
if (document.form1.hardofhearing_trait.checked==true) { SecondWindowDefinition+=" +1 [hard of hearing] "; }
if (document.form1.nearsighted_trait.checked==true) { SecondWindowDefinition+=" -1 [nearsighted] "; }
if (document.form1.farsighted_trait.checked==true) { SecondWindowDefinition+=" +1 [farsighted] "; }
if (rayce==3 || rayce==158 || rayce==93 || rayce==94 || rayce==95 || rayce==96 || rayce==97 || rayce==66 || rayce==57 || rayce==48 || rayce==13 || rayce==12 || rayce==11 || rayce==9 || rayce==10) { SecondWindowDefinition+=" +2 [elf] "; }
if (rayce==159) { SecondWindowDefinition+=" +4 [winged elf] "; }
if (rayce==17) { SecondWindowDefinition+=" +2 [tallfellow] "; }
if (vampire_template==true) { SecondWindowDefinition+=" +8 [vampire] "; }
if (ghost_template==true) { SecondWindowDefinition+=" +8 [ghost] "; }
if (rayce==178) { SecondWindowDefinition+=" +4 [astral deva] "; }
if (lich_template==true) { SecondWindowDefinition+=" +8 [lich] "; }
if (spectral_template==true) { SecondWindowDefinition+=" +8 [spectral] "; }
if (rayce==164) { SecondWindowDefinition+=" +2 [fey'ri] "; }
if (rayce==2 || rayce==160 || rayce==161 || rayce==69 || rayce==60 || rayce==51 || rayce==41) { SecondWindowDefinition+=" +1 [half-elf] "; }
if (rayce==148) { SecondWindowDefinition+=" +2 [pixie] "; }
if (rayce==81) { SecondWindowDefinition+=" +2 [kender] "; }
if (rayce==176) { SecondWindowDefinition+=" +4 [desmodu] "; }
if (rayce==128) { SecondWindowDefinition+=" +2 [whisper gnome] "; }
if (rayce==149) { SecondWindowDefinition+=" +4 [satyr] "; }
if (rayce==169) { SecondWindowDefinition+=" +4 [kuo-toa] "; }
if (rayce==99) { SecondWindowDefinition+=" +2 [dromite] "; }
if (rayce==117) { SecondWindowDefinition+=" +2 [neraph] "; }
if (rayce==101) { SecondWindowDefinition+=" +2 [aarakocra] "; }
if (rayce==78) { SecondWindowDefinition+=" +2 [bariaur] "; }
if (rayce==65) { SecondWindowDefinition+=" +2 [jungle dwarf] "; }
if (rayce==28) { SecondWindowDefinition+=" +2 [aasimar] "; }
if (rayce==15) { SecondWindowDefinition+=" +1 [gray dwarf] "; }
if (rayce==179) { SecondWindowDefinition+=" +2 [raptoran] "; }
if (has_alertness==true) { SecondWindowDefinition+=" +2 [alertness] "; }
if (barbarian_totem==5) { SecondWindowDefinition+=" +2 [eagle totem] "; }
if (has_inattentive==true) { SecondWindowDefinition+=" -4 [inattentive] "; }
if (has_skillfocusspot==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (document.form1.absentminded_trait.checked==true) { SecondWindowDefinition+=" -1 [absent-minded] "; }
SecondWindowDefinition+="</td></tr>\r";

// Survival
x=modifier_number(wisdom)+survival/survival_class;
if (druid_levels + epic_druid_levels>0) { x=x+2; }
if (has_selfsufficient==true) { x=x+2; }
if (rayce==93) { x=x+1; }
if (rayce==92) { x=x+2; }
if (rayce==167) { x=x+2; }
if (rayce==63) { x=x+2; }
if (rayce==134) { x=x+2; }
if (rayce==73) { x=x+2; }
if (rayce==65) { x=x+2; }
if (rayce==36) { x=x+2; }
if (rayce==51) { x=x+2; }
if (rayce==41) { x=x+2; }
if (has_skillfocussurvival==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Survival</td> <td>Wis</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(wisdom)+"</td> <td>";
if (survival>0) { SecondWindowDefinition+="+"+survival/survival_class; }
SecondWindowDefinition+="</td> <td>";
if (druid_levels + epic_druid_levels>0) { SecondWindowDefinition+=" +2 [druid] "; }
if (has_selfsufficient) { SecondWindowDefinition+=" +2 [self-sufficient] "; }
if (rayce==65) { SecondWindowDefinition+=" +2 [jungle dwarf] "; }
if (rayce==63) { SecondWindowDefinition+=" +2 [desert kobold] "; }
if (rayce==36) { SecondWindowDefinition+=" +2 [zenythr] "; }
if (rayce==134) { SecondWindowDefinition+=" +2 [korobokuru] "; }
if (rayce==167) { SecondWindowDefinition+=" +2 [hybsil] "; }
if (rayce==51) { SecondWindowDefinition+=" +2 [arctic half-elf] "; }
if (rayce==41) { SecondWindowDefinition+=" +2 [aquatic half-elf] "; }
if (rayce==73) { SecondWindowDefinition+=" +2 [jungle orc] "; }
if (rayce==92) { SecondWindowDefinition+=" +2 [gully dwarf] "; }
if (rayce==93) { SecondWindowDefinition+=" +1 [kagonesti] "; }
if (has_skillfocussurvival==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr>\r";

// Swim
if (spectral_template==false && wraith_template==false || umbral_template==true) {
x=modifier_number(strength)+swim/swim_class-(check_penalty*2);
if (document.form1.musclebound_trait.checked==true) { x++; }
if (has_feeble==true) { x=x-2; }
if (has_athletic==true) { x=x+2; }
if (rayce==53) { x=x+2; }
if ((rayce==158) || (rayce==160)) { x=x+8; }
if (rayce==77) { x=x+2; }
if (has_naturalheavyweight==true) { x-=2; }
if (rayce==67) { x=x+2; }
if (rayce==20) { x=x+4; }
if (has_skillfocusswim==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Swim</td> <td>Str<sup>**</sup></td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(strength)+"</td> <td>";
if (swim>0) { SecondWindowDefinition+="+"+swim/swim_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" +1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if (has_athletic) { SecondWindowDefinition+=" +2 [athletic] "; }
if (rayce==20) { SecondWindowDefinition+=" +4 [lizardfolk] "; }
if (rayce==53) { SecondWindowDefinition+=" +2 [arctic halfling] "; }
if (rayce==67) { SecondWindowDefinition+=" +2 [jungle gnome] "; }
if (rayce==77) { SecondWindowDefinition+=" +2 [minotaur] "; }
if (rayce==158) { SecondWindowDefinition+=" +8 [aquatic elf] "; }
if (rayce==159) { SecondWindowDefinition+=" +8 [half aquatic elf] "; }
if (has_naturalheavyweight==true) { SecondWindowDefinition+=" -2 [natural heavyweight] "; }
if (has_skillfocusswim==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (check_penalty > 0) { 
	SecondWindowDefinition+=check_penalty_string; }
SecondWindowDefinition+="</td></tr>\r";
}

// Tumble
if (tumble>0 || monk_totem==2 || has_acrobatic==true || has_skillfocustumble==true) {
x=modifier_number(dexterity)+tumble/tumble_class-check_penalty;
if (document.form1.musclebound_trait.checked==true) { x--; }
if (npcother_class_name=="Ninja") {
	if (npcother_levels>=18) { x+=6; } else
	if (npcother_levels>=12) { x+=4; } else
	if (npcother_levels>= 6) { x+=2; }
}
if (has_feeble==true) { x=x-2; }
if (jump/jump_class>=5) { x=x+2; }
if (monk_totem==2) { x=x+2; }
if (has_naturalheavyweight==true) { x-=2; }
if (has_acrobatic==true) { x=x+2; }
if (has_skillfocustumble==true) { x=x+3; }
SecondWindowDefinition+="<tr><td>Tumble</td> <td>Dex<sup>*</sup></td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
if (tumble>0) { SecondWindowDefinition+="+"+tumble/tumble_class; }
SecondWindowDefinition+="</td><td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" -1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if (jump/jump_class>=5) { SecondWindowDefinition+=" +2 [jump] "; }
if (monk_totem==2) { SecondWindowDefinition+=" +2 [denying stance] "; }
if (has_acrobatic) { SecondWindowDefinition+=" +2 [acrobatic] "; }
if (has_naturalheavyweight==true) { SecondWindowDefinition+=" -2 [natural heavyweight] "; }
if (npcother_class_name=="Ninja") {
	if (npcother_levels>=18) { SecondWindowDefinition+=" +6 [ninja] "; } 
	else if (npcother_levels>=12) { SecondWindowDefinition+=" +4 [ninja] "; } 
	else if (npcother_levels>= 6) { SecondWindowDefinition+=" +2 [ninja] "; }
}
if (has_skillfocustumble==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
if (check_penalty > 0) { SecondWindowDefinition+=check_penalty_string; }
SecondWindowDefinition+="</td></tr>\r"; }

// Use Magic Device
if ((usemagicdevice>0) || (has_magicalaptitude==true) || (has_skillfocususemagicdevice==true)) {
x=modifier_number(charisma)+usemagicdevice/usemagicdevice_class;
if (has_magicalaptitude==true) { x=x+2; }
if (has_skillfocususemagicdevice==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Use Magic Device</td> <td>Cha</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(charisma)+"</td> <td>";
if (usemagicdevice>0) { SecondWindowDefinition+="+"+usemagicdevice/usemagicdevice_class; }
SecondWindowDefinition+="</td> <td>";
//if (usemagicdevice==0) { SecondWindowDefinition+="[cannot use untrained] "; }
if (has_magicalaptitude==true) { SecondWindowDefinition+=" +2 [magical aptitude] "; }
if (has_skillfocususemagicdevice==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr>\r"; }

// Use Rope
x=modifier_number(dexterity)+userope/userope_class;
if (document.form1.musclebound_trait.checked==true) { x--; }
if (has_feeble==true) { x=x-2; }
if (has_defthands==true) { x=x+2; }
if (rayce==67) { x=x+2; }
if (rayce==77) { x=x+2; }
if (has_skillfocususerope==true) { x=x+3; }
SecondWindowDefinition+="<tr> <td>Use Rope</td> <td>Dex</td> <td align=\"right\">"+x+" = </td> <td align=\"center\">"+modifier_string(dexterity)+"</td> <td>";
if (userope>0) { SecondWindowDefinition+="+"+userope/userope_class; }
SecondWindowDefinition+="</td> <td>";
if (document.form1.musclebound_trait.checked==true) { SecondWindowDefinition+=" -1 [musclebound] "; }
if (has_feeble==true) { SecondWindowDefinition+=" -2 [feeble] "; }
if (has_defthands) { SecondWindowDefinition+=" +2 [deft hands] "; }
if (rayce==67) { SecondWindowDefinition+=" +2 [jungle gnome] "; }
if (rayce==77) { SecondWindowDefinition+=" +2 [minotaur] "; }
if (has_skillfocususerope==true) { SecondWindowDefinition+=" +3 [skill focus] "; }
SecondWindowDefinition+="</td></tr>\r";

if ( (otherskill1>0) || (werebear_template==true) || (wereboar_template==true) || (wererat_template==true) || (weretiger_template==true) || (werewolf_template==true) ) {
if (document.form1.otherskill1_ability_list.selectedIndex==0) {y=modifier_number(strength); x=y+otherskill1;stringy="Str"; }
if (document.form1.otherskill1_ability_list.selectedIndex==1) {y=modifier_number(dexterity); x=y+otherskill1;stringy="Dex"; }
if (document.form1.otherskill1_ability_list.selectedIndex==2) {y=modifier_number(constitution); x=y+otherskill1;stringy="Con"; }
if (document.form1.otherskill1_ability_list.selectedIndex==3) {y=modifier_number(intelligence); x=y+otherskill1;stringy="Int"; }
if (document.form1.otherskill1_ability_list.selectedIndex==4) {y=modifier_number(wisdom); x=y+otherskill1;stringy="Wis"; }
if (document.form1.otherskill1_ability_list.selectedIndex==5) {y=modifier_number(charisma); x=y+otherskill1;stringy="Chr"; }
SecondWindowDefinition+=""+document.form1.otherskill1_name.value+" " + stringy+" "+x+" = "+y+"</td><td>";
SecondWindowDefinition+="+"+otherskill1;
SecondWindowDefinition+="</td><td>\r"; }

if (otherskill2>0) {
if (document.form1.otherskill2_ability_list.selectedIndex==0) {y=modifier_number(strength); x=y+otherskill2;stringy="Str"; }
if (document.form1.otherskill2_ability_list.selectedIndex==1) {y=modifier_number(dexterity); x=y+otherskill2;stringy="Dex"; }
if (document.form1.otherskill2_ability_list.selectedIndex==2) {y=modifier_number(constitution); x=y+otherskill2;stringy="Con"; }
if (document.form1.otherskill2_ability_list.selectedIndex==3) {y=modifier_number(intelligence); x=y+otherskill2;stringy="Int"; }
if (document.form1.otherskill2_ability_list.selectedIndex==4) {y=modifier_number(wisdom); x=y+otherskill2;stringy="Wis"; }
if (document.form1.otherskill2_ability_list.selectedIndex==5) {y=modifier_number(charisma); x=y+otherskill2;stringy="Chr"; }
SecondWindowDefinition+=""+document.form1.otherskill2_name.value+" " + stringy+" "+x+" = "+y+"</td><td>";
SecondWindowDefinition+="+"+otherskill2;
SecondWindowDefinition+="</td><td> \r"; }

if (otherskill3>0) {
if (document.form1.otherskill3_ability_list.selectedIndex==0) {y=modifier_number(strength); x=y+otherskill3;stringy="Str"; }
if (document.form1.otherskill3_ability_list.selectedIndex==1) {y=modifier_number(dexterity); x=y+otherskill3;stringy="Dex"; }
if (document.form1.otherskill3_ability_list.selectedIndex==2) {y=modifier_number(constitution); x=y+otherskill3;stringy="Con"; }
if (document.form1.otherskill3_ability_list.selectedIndex==3) {y=modifier_number(intelligence); x=y+otherskill3;stringy="Int"; }
if (document.form1.otherskill3_ability_list.selectedIndex==4) {y=modifier_number(wisdom); x=y+otherskill3;stringy="Wis"; }
if (document.form1.otherskill3_ability_list.selectedIndex==5) {y=modifier_number(charisma); x=y+otherskill3;stringy="Chr"; }
SecondWindowDefinition+=""+document.form1.otherskill3_name.value+" " + stringy+" "+x+" = "+y+"</td><td>";
SecondWindowDefinition+="+"+otherskill3;
SecondWindowDefinition+="</td><td>\r"; }
SecondWindowDefinition+="</table>\r<p>\r* = check penalty for wearing armor</p>\r";

xp_penalty(); 
if (stringy!="") { SecondWindowDefinition+=stringy+"<br>"; }

if (speaklanguage/speaklanguage_class>0) { SecondWindowDefinition+="This character also has "+speaklanguage/speaklanguage_class+" ranks in Speak Languages.<br>"; }

// Synergy and conditional bonuses

if (bluff/bluff_class>=5) { SecondWindowDefinition+="Bluff >=5 ranks gives +2 on Disguise checks to act in character.<br>"; }
if ((psicraft/psicraft_class>=5) && (usepsionicdevice>0)) { SecondWindowDefinition+="Psicraft >=5 gives a +2 bonus on using certain psi devices.<br>"; }
if ((usepsionicdevice/usepsionicdevice_class>=5) && (psicraft>0)) { SecondWindowDefinition+="Use psionic device >=5 gives a +2 bonus on Psicraft checks for certain devices.<br>"; }

if ( (rayce==4) || (rayce==162) || (rayce==155) || (rayce==156) || (rayce==91) || (rayce==65) || (rayce==56) || (rayce==47) || (rayce==38) || (rayce==14) || (rayce==15) ) {
	SecondWindowDefinition+="Dwarves receive a +2 racial bonus on Craft checks that are related to stone or metal.<br>";
	}

if (craft_1/craft_1_class>=5) { SecondWindowDefinition+="Craft #1 >=5 ranks gives +2 on related Appraise checks.<br>"; }
if (craft_2/craft_2_class>=5) { SecondWindowDefinition+="Craft #2 >=5 ranks gives +2 on related Appraise checks.<br>"; }
if (craft_3/craft_3_class>=5) { SecondWindowDefinition+="Craft #3 >=5 ranks gives +2 on related Appraise checks.<br>"; }
if ((decipherscript/decipherscript_class>=5) && (usemagicdevice>0)) { SecondWindowDefinition+="Decipher Script >=5 ranks gives +2 on Use Magic Device checks involving scrolls.<br>"; }
if (escapeartist/escapeartist_class>=5) { SecondWindowDefinition+="Escape Artist >=5 ranks gives +2 on use rope checks for bindings.<br>"; }
if (psicraft/psicraft_class>=5) { SecondWindowDefinition+="Psicraft >=5 ranks gives +2 on Use Psionic Device for power stones.<br>"; }
if (usepsionicdevice/usepsionicdevice_class>=5) { SecondWindowDefinition+="Use Psionic Device >=5 ranks gives +2 to talk to psionic stones.<br>"; }
if ((handleanimal/handleanimal_class>=5) && ((ranger_levels + epic_ranger_levels>0) || (druid_levels + epic_druid_levels>0))) { SecondWindowDefinition+="Handle Animal >=5 ranks gives +2 on Wild Empathy checks.<br>"; }
if (knowledgearchitecture/knowledgearchitecture_class>=5) { SecondWindowDefinition+="Knowledge (Architecture) >=5 ranks gives +2 on search checks for secret doors.<br>"; }
if (knowledgedungeoneering/knowledgedungeoneering_class>=5) { SecondWindowDefinition+="Knowledge (Dungeoneering) >=5 ranks gives +2 on Survival checks underground.<br>"; }
if (knowledgegeography/knowledgegeography_class>=5) { SecondWindowDefinition+="Knowledge (Geography) >=5 ranks gives +2 on checks to avoid getting lost or into hazards.<br>"; }
if ((knowledgehistory/knowledgehistory_class>=5) && (bard_levels + epic_bard_levels>0)) { SecondWindowDefinition+="Knowledge (History) >=5 ranks gives +2 on Bardic Knowledge checks.<br>"; }
if (knowledgenature/knowledgenature_class>=5) { SecondWindowDefinition+="Knowledge (Nature) >=5 ranks gives +2 on Survival checks above ground.<br>"; }
if ((knowledgereligion/knowledgereligion_class>=5) && ((cleric_levels + epic_cleric_levels>0) || (paladin_levels + epic_paladin_levels>0))) { SecondWindowDefinition+="Knowledge (Religion) >=5 ranks gives +2 on turn/rebuke the undead.<br>"; }
if (knowledgeplanes/knowledgeplanes_class>=5) { SecondWindowDefinition+="Knowledge (Planes) >=5 ranks gives +2 on Survival checks on other planes.<br>"; }
if (search/search_class>=5) { SecondWindowDefinition+="Search >=5 ranks gives +2 on Survival checks while tracking.<br>"; }
if ((spellcraft/spellcraft_class>=5) && (usemagicdevice>0)) { SecondWindowDefinition+="Spellcraft >=5 ranks gives +2 on Use Magic Device checks on scrolls.<br>"; }
if ((usemagicdevice/usemagicdevice_class>=5) && (spellcraft>0)) { SecondWindowDefinition+="Use Magic Device >=5 ranks gives +2 on Spellcraft checks to decipher scrolls.<br>"; }
if (userope/userope_class>=5) { SecondWindowDefinition+="Use Rope >=5 ranks gives +2 on Climb checks involving ropes.<br>"; }
if (userope/userope_class>=5) { SecondWindowDefinition+="Use Rope >=5 ranks gives +2 on Escape Artist checks involving ropes.<br>"; }
if (hawk_familiar==true) { SecondWindowDefinition+="The hawk confers +3 on Spot checks in well-lit conditions.<br>"; }
if (owl_familiar==true) { SecondWindowDefinition+="The owl confers +3 on Spot checks in dimly-lit conditions.<br>"; }

if (bat_familiar==true || cat_familiar==true || hawk_familiar==true || lizard_familiar==true || owl_familiar==true || rat_familiar==true || raven_familiar==true || snake_familiar==true || toad_familiar==true || weasel_familiar==true || improved_familiar==true) {
	if (has_alertness==false) { 
	SecondWindowDefinition+="If the familiar is within reach, +2 on Spot and Listen (\"alertness\").<br>"; 
	}
}

 if (document.form1.torpid_trait.checked==true)
   {
       SecondWindowDefinition+="Torpid trait: +1 on saves vs. enchantments.<br>";
   }
 if (document.form1.uncivilized_trait.checked==true)
   {
       SecondWindowDefinition+="Uncivilized trait: +1 on any wild empathy checks.<br>";
   }
 if (document.form1.cautious_trait.checked==true)
   {
       SecondWindowDefinition+="Cautious trait: +1 dodge bonus on AC when fighting defensively; -1 saves vs. fear.<br>";
   }
 if (document.form1.slippery_trait.checked==true)
   {
       SecondWindowDefinition+="Slippery trait: +1 on escape artist checks against being grappled, -1 all other grapple checks.<br>";
   }
 if (document.form1.skinny_trait.checked==true)
   {
       SecondWindowDefinition+="Skinny trait: -2 on strength checks to avoid being overrun / bullrushed.<br>";
   }
 if (document.form1.stout_trait.checked==true)
   {
       SecondWindowDefinition+="Stout trait: +2 on strength checks to avoid being overrun / bullrushed.<br>";
   }
 if (document.form1.reckless_trait.checked==true)
   {
       SecondWindowDefinition+="Reckless trait: +1 on all melee damage rolls.<br>";
   }
 if (document.form1.relentless_trait.checked==true)
   {
       SecondWindowDefinition+="Relentless trait: +2 on all fortitude checks for \"endurance-feat\" situations; if fail, exhausted rather than fatigued.<br>";
   }
 if (document.form1.nightsighted_trait.checked==true)
   {
       SecondWindowDefinition+="Nightsighted trait: +10 feet on darkvision;  -1 on Spot in bright light.<br>";
   }
if (ArtificerSpells1!="") { SecondWindowDefinition+=ArtificerSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ArtificerSpells2!="") { SecondWindowDefinition+=ArtificerSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ArtificerSpells3!="") { SecondWindowDefinition+=ArtificerSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ArtificerSpells4!="") { SecondWindowDefinition+=ArtificerSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ArtificerSpells5!="") { SecondWindowDefinition+=ArtificerSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ArtificerSpells6!="") { SecondWindowDefinition+=ArtificerSpells6+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (AdeptSpells0!="") { SecondWindowDefinition+=AdeptSpells0+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (AdeptSpells1!="") { SecondWindowDefinition+=AdeptSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (AdeptSpells2!="") { SecondWindowDefinition+=AdeptSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (AdeptSpells3!="") { SecondWindowDefinition+=AdeptSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (AdeptSpells4!="") { SecondWindowDefinition+=AdeptSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (AdeptSpells5!="") { SecondWindowDefinition+=AdeptSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (BardSpells0!="") { SecondWindowDefinition+=BardSpells0+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (BardSpells1!="") { SecondWindowDefinition+=BardSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (BardSpells2!="") { SecondWindowDefinition+=BardSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (BardSpells3!="") { SecondWindowDefinition+=BardSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (BardSpells4!="") { SecondWindowDefinition+=BardSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (BardSpells5!="") { SecondWindowDefinition+=BardSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (BardSpells6!="") { SecondWindowDefinition+=BardSpells6+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells0!="") { SecondWindowDefinition+=ClericSpells0+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells1!="") { SecondWindowDefinition+=ClericSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells2!="") { SecondWindowDefinition+=ClericSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells3!="") { SecondWindowDefinition+=ClericSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells4!="") { SecondWindowDefinition+=ClericSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells5!="") { SecondWindowDefinition+=ClericSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells6!="") { SecondWindowDefinition+=ClericSpells6+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells7!="") { SecondWindowDefinition+=ClericSpells7+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells8!="") { SecondWindowDefinition+=ClericSpells8+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ClericSpells9!="") { SecondWindowDefinition+=ClericSpells9+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells0!="") { SecondWindowDefinition+=DruidSpells0+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells1!="") { SecondWindowDefinition+=DruidSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells2!="") { SecondWindowDefinition+=DruidSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells3!="") { SecondWindowDefinition+=DruidSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells4!="") { SecondWindowDefinition+=DruidSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells5!="") { SecondWindowDefinition+=DruidSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells6!="") { SecondWindowDefinition+=DruidSpells6+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells7!="") { SecondWindowDefinition+=DruidSpells7+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells8!="") { SecondWindowDefinition+=DruidSpells8+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (DruidSpells9!="") { SecondWindowDefinition+=DruidSpells9+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (PaladinSpells1!="") { SecondWindowDefinition+=PaladinSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (PaladinSpells2!="") { SecondWindowDefinition+=PaladinSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (PaladinSpells3!="") { SecondWindowDefinition+=PaladinSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (PaladinSpells4!="") { SecondWindowDefinition+=PaladinSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SpellthiefSpells1!="") { SecondWindowDefinition+=SpellthiefSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SpellthiefSpells2!="") { SecondWindowDefinition+=SpellthiefSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SpellthiefSpells3!="") { SecondWindowDefinition+=SpellthiefSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SpellthiefSpells4!="") { SecondWindowDefinition+=SpellthiefSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (RangerSpells1!="") { SecondWindowDefinition+=RangerSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (RangerSpells2!="") { SecondWindowDefinition+=RangerSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (RangerSpells3!="") { SecondWindowDefinition+=RangerSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (RangerSpells4!="") { SecondWindowDefinition+=RangerSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells0!="") { SecondWindowDefinition+=SorcererSpells0+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells1!="") { SecondWindowDefinition+=SorcererSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells2!="") { SecondWindowDefinition+=SorcererSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells3!="") { SecondWindowDefinition+=SorcererSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells4!="") { SecondWindowDefinition+=SorcererSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells5!="") { SecondWindowDefinition+=SorcererSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells6!="") { SecondWindowDefinition+=SorcererSpells6+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells7!="") { SecondWindowDefinition+=SorcererSpells7+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells8!="") { SecondWindowDefinition+=SorcererSpells8+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (SorcererSpells9!="") { SecondWindowDefinition+=SorcererSpells9+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells0!="") { SecondWindowDefinition+=ShairSpells0+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells1!="") { SecondWindowDefinition+=ShairSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells2!="") { SecondWindowDefinition+=ShairSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells3!="") { SecondWindowDefinition+=ShairSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells4!="") { SecondWindowDefinition+=ShairSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells5!="") { SecondWindowDefinition+=ShairSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells6!="") { SecondWindowDefinition+=ShairSpells6+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells7!="") { SecondWindowDefinition+=ShairSpells7+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells8!="") { SecondWindowDefinition+=ShairSpells8+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShairSpells9!="") { SecondWindowDefinition+=ShairSpells9+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells0!="") { SecondWindowDefinition+=ShamanSpells0+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells1!="") { SecondWindowDefinition+=ShamanSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells2!="") { SecondWindowDefinition+=ShamanSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells3!="") { SecondWindowDefinition+=ShamanSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells4!="") { SecondWindowDefinition+=ShamanSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells5!="") { SecondWindowDefinition+=ShamanSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells6!="") { SecondWindowDefinition+=ShamanSpells6+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells7!="") { SecondWindowDefinition+=ShamanSpells7+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells8!="") { SecondWindowDefinition+=ShamanSpells8+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (ShamanSpells9!="") { SecondWindowDefinition+=ShamanSpells9+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells0!="") { SecondWindowDefinition+=FSSpells0+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells1!="") { SecondWindowDefinition+=FSSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells2!="") { SecondWindowDefinition+=FSSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells3!="") { SecondWindowDefinition+=FSSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells4!="") { SecondWindowDefinition+=FSSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells5!="") { SecondWindowDefinition+=FSSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells6!="") { SecondWindowDefinition+=FSSpells6+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells7!="") { SecondWindowDefinition+=FSSpells7+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells8!="") { SecondWindowDefinition+=FSSpells8+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (FSSpells9!="") { SecondWindowDefinition+=FSSpells9+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells0!="") { SecondWindowDefinition+=WizardSpells0+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells1!="") { SecondWindowDefinition+=WizardSpells1+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells2!="") { SecondWindowDefinition+=WizardSpells2+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells3!="") { SecondWindowDefinition+=WizardSpells3+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells4!="") { SecondWindowDefinition+=WizardSpells4+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells5!="") { SecondWindowDefinition+=WizardSpells5+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells6!="") { SecondWindowDefinition+=WizardSpells6+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells7!="") { SecondWindowDefinition+=WizardSpells7+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells8!="") { SecondWindowDefinition+=WizardSpells8+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
if (WizardSpells9!="") { SecondWindowDefinition+=WizardSpells9+"<p>\r<!img src=\"spellbar.gif\"><p>\r"; }
SecondWindowDefinition+="<p>";

//racialstuff
if (rayce==1 || rayce==44) {
  if (rayce==44) { SecondWindowDefinition+="Aquatic "; }
  SecondWindowDefinition+="Human:<p><ul>";
  SecondWindowDefinition+="<li>Extra feat at first level (already included)</li>";
  SecondWindowDefinition+="<li>Four extra skill points at first level (already included)</li>";
  SecondWindowDefinition+="<li>One extra skill point at each additional level (already included)</li>";
  if (rayce==44) {
   SecondWindowDefinition+="<li>Swim 30 feet base</li>";
   SecondWindowDefinition+="<li>Suffocates outside of water.</li>";
   SecondWindowDefinition+="<li>+8 on swim checks to take action / avoid hazard.</li>";
    }
  SecondWindowDefinition+="</ul>";
 }

// Dwarves
if ( (rayce==4) || (rayce==162) || (rayce==155) || (rayce==156) || (rayce==157) || (rayce==91) || (rayce==65) || (rayce==56) || (rayce==47) || (rayce==38) || (rayce==14) || (rayce==15) )
 {
  if (rayce==162) { SecondWindowDefinition+="Gold  "; }
  if (rayce==15) { SecondWindowDefinition+="Gray "; }
  if (rayce==14) { SecondWindowDefinition+="Deep "; }
  if (rayce==38) { SecondWindowDefinition+="Aquatic "; }
  if (rayce==156) { SecondWindowDefinition+="Urdunnir "; }
  if (rayce==155) { SecondWindowDefinition+="Forgotten Realms Arctic "; }
  if (rayce==47) { SecondWindowDefinition+="Arctic "; }
  if (rayce==56) { SecondWindowDefinition+="Desert "; }
  if (rayce==65) { SecondWindowDefinition+="Jungle "; }
  if (rayce==91) { SecondWindowDefinition+="Dark "; }
  SecondWindowDefinition+="Dwarf:<p><ul>";
  
  if ((rayce==4) || (rayce==65)) { SecondWindowDefinition+="<li>+2 constitution / -2 charisma (already included).</li>"; }
  if (rayce==155) { SecondWindowDefinition+="<li>+4 strength, +2 constitution, -2 dexterity, -2 charisma (already included)</li>"; }
  if (rayce==56) { SecondWindowDefinition+="<li>+2 constitution / -2 dexterity (already included)</li>"; }
  if ((rayce==38) || (rayce==47)) { SecondWindowDefinition+="<li>+2 strength / +2 constitution / -4 dexterity / -2 charisma (already included)</li>"; }
  if ((rayce==14) || (rayce==15) || (rayce==91)) { SecondWindowDefinition+="<li>+2 constitution / -4 charisma (already included)</li>"; }
  SecondWindowDefinition+="<li>Can move 20 feet even in heavy armor.</li>";
  if (((rayce==4) || (rayce==56) || (rayce==47)) || (rayce==38)) { SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark.)</li>"; }
  if (rayce==14) { SecondWindowDefinition+="<li>Darkvision (see 90 feet in pitch-dark.)</li>"; }
  if ((rayce==15) || (rayce==91)) { SecondWindowDefinition+="<li>Darkvision (see 120 feet in pitch-dark.)</li>"; }
  if (rayce==65) { SecondWindowDefinition+="<li>Low-light vision.</li>"; }
  if ((rayce!=56) && (rayce!=65) && (rayce!=157)) { SecondWindowDefinition+="<li>Stonecunning: +2 racial bonus on Search checks to notice unusual stonework. May intuit depth.</li>"; }

  if (((rayce==4) || (rayce==91) || (rayce==65) || (rayce==56) || (rayce==47)) || (rayce==38) || (rayce==15)) {
  SecondWindowDefinition+="<li>+2 racial bonus on saving throws against poison.</li>";
  SecondWindowDefinition+="<li>+2 racial bonus on saving throws against spells and spell-like effects.</li>"; }
  if (rayce==14) {
  SecondWindowDefinition+="<li>+3 racial bonus on saves vs. poison.</li>";
  SecondWindowDefinition+="<li>+3 racial bonus on saves vs. spells / spell-like abilities.</li>";
  SecondWindowDefinition+="<li>Light sensitivity (-1 on attacks in bright light.)</li>";
  }
  	if (rayce==47) { SecondWindowDefinition+="<li>+1 racial bonus to hit kobolds.</li>"; }
		if (rayce==56) { SecondWindowDefinition+="<li>+1 racial bonus to hit reptilian humanoids and dragons.</li>"; }
		else if (rayce==162) { SecondWindowDefinition+="<li>+1 racial bonus to hit aberrations.</li>"; }
    else { SecondWindowDefinition+="<li>1 racial bonus on attack rolls against orcs and goblinoids.</li>"; }

		if (rayce==56) { SecondWindowDefinition+="<li>+4 dodge bonus on AC against dragons.</li>"; }
		else { SecondWindowDefinition+="<li>+4 dodge bonus to AC against giants.</li>"; }
  SecondWindowDefinition+="<li>Stability: +4 bonus on ability checks made to resist being bull rushed or tripped when standing on the ground.</li>";
  if (rayce!=157) { 
  	SecondWindowDefinition+="<li>+2 racial bonus on Appraise checks with stone/metal.</li>"; 
  	SecondWindowDefinition+="<li>+2 racial bonus on Craft checks that are related to stone or metal.";
  	}
  if (rayce==15)
   {
     SecondWindowDefinition+="<li>Enlarge and invisibility each 1/day.</li>";
     SecondWindowDefinition+="<li>Immune to paralysis, phantasms (?), && magic/alchemical poisons.</li>";
     SecondWindowDefinition+="<li>-2 on attacks, saves, and checks in bright light.</li>";
     SecondWindowDefinition+="<li>Level adjustment +1.</li>";
   }
  if (rayce==155)
   {
     SecondWindowDefinition+="<li>Immune to cold.</li>";
     SecondWindowDefinition+="<li>Level adjustment +2.</li>";
   }
  if (rayce==156) {
     SecondWindowDefinition+="<li>Stonewalk, stone shape, shape metal at will.</li>";
     SecondWindowDefinition+="<li>Level adjustment +4.</li>";
   }
  if (rayce==157)  {
     SecondWindowDefinition+="<li>Proficiency with handaxe and blowgun instead of normal weapons for dwarves.</li>";
     SecondWindowDefinition+="<li>No stonecunning.</li>";
     SecondWindowDefinition+="<li>+3 on saves vs. poison</li>";
     SecondWindowDefinition+="<li>+4 on saves vs. disease</li>";
     SecondWindowDefinition+="<li>Fire resistance 5.</li>";
   }
  if (rayce==38) {
   SecondWindowDefinition+="<li>Swim 20 feet base.</li>";
   SecondWindowDefinition+="<li>Suffocates outside of water.</li>";
   SecondWindowDefinition+="<li>+8 on swim checks to take action / avoid hazard.</li>";
    }
  if (rayce==47) {
   SecondWindowDefinition+="<li>+4 on saves vs. cold environments.</li>";
   SecondWindowDefinition+="<li>Stonecunning and appraise also apply to ice.</li>";
    }
  if (rayce==56) {
   SecondWindowDefinition+="<li>+4 on saves vs. hot environments.</li>";
   SecondWindowDefinition+="<li>+2 on Knowledge (Architecture), Knowledge (Dungeoneering), and Profession (Mining.)</li>";
    }
  if (rayce==65) {
   SecondWindowDefinition+="<li>+2 on Heal, Knowledge (Nature), Survival, Spot.</li>";
    }
  if (rayce==91) {
   SecondWindowDefinition+="<li>+2 on Hide, Listen, and Move Silently.</li>";
    }
  SecondWindowDefinition+="</ul>";
 }
 
// Elves
if ( (rayce==3) || (rayce==93) || (rayce==158) || (rayce==159) || (rayce==94) || (rayce==95) || (rayce==96) || (rayce==97) || (rayce==66) || (rayce==57) || (rayce==48) || (rayce==13) || (rayce==12) || (rayce==11) || (rayce==9) || (rayce==10) )
 {
  if (rayce==93) { SecondWindowDefinition+="Kagonesti "; }
  if (rayce==94) { SecondWindowDefinition+="Qualinesti "; }
  if (rayce==95) { SecondWindowDefinition+="Silvanesti "; }
  if (rayce==96) { SecondWindowDefinition+="Dargonesti "; }
  if (rayce==97) { SecondWindowDefinition+="Dimernesti "; }
  if (rayce==12) { SecondWindowDefinition+="Dark "; }
  if (rayce==9) { SecondWindowDefinition+="Gray "; }
  if (rayce==158) { SecondWindowDefinition+="Forgotten Realms Aquatic "; }
  if (rayce==159) { SecondWindowDefinition+="Winged (Avariel) "; }
  if (rayce==10) { SecondWindowDefinition+="Wild "; }
  if (rayce==11) { SecondWindowDefinition+="Wood "; }
  if (rayce==13) { SecondWindowDefinition+="Sea "; }
  if (rayce==48) { SecondWindowDefinition+="Arctic "; }
  if (rayce==57) { SecondWindowDefinition+="Desert "; }
  if (rayce==57) { SecondWindowDefinition+="Jungle "; }
  SecondWindowDefinition+="Elf:<p><ul>";

  if (rayce==3 || rayce==66 || rayce==94) { SecondWindowDefinition+="<li>+2 dexterity / -2 constitution (already included).</li>"; }
  if (rayce==57 || rayce==48) { SecondWindowDefinition+="<li>+2 dexterity / -2 strength (already included).</li>"; }
  if (rayce==10 || rayce==13) { SecondWindowDefinition+="<li>+2 dexterity / -2 intelligence (already included).</li>"; }
  if (rayce==12) { SecondWindowDefinition+="<li>+2 dexterity / +2 intelligence / +2 charisma / -2 constitution (already included).</li>"; }
  if (rayce==11) { SecondWindowDefinition+="<li>+2 dexterity / +2 strength / -2 constitution / -2 intelligence (already included).</li>"; }
  if ((rayce==93)) { SecondWindowDefinition+="<li>+2 dexterity / -2 intelligence / -2 charisma (already included).</li>"; }
  if ((rayce==158)) { SecondWindowDefinition+="<li>+2 dexterity / -2 intelligence (already included).</li>"; }
  if (rayce==95) { SecondWindowDefinition+="<li>+2 dexterity / +2 intelligence / -2 constitution / -2 charisma (already included).</li>"; }
  if (rayce==96) { SecondWindowDefinition+="<li>+2 strength / +2 dexterity / -2 charisma (already included).</li>"; }
  if (rayce==97) { SecondWindowDefinition+="<li>+2 dexterity / +2 intelligence / -2 wisdom / -2 charisma (already included).</li>"; }
  if (rayce==9) { SecondWindowDefinition+="<li>+2 dexterity / +2 intelligence / -2 strength / -2 constitution (already included).</li>"; }
  SecondWindowDefinition+="<li>Immune to magical sleep.</li>";
  SecondWindowDefinition+="<li>+2 racial bonus to saves vs. enchantments.</li>";
  if (rayce==12) { SecondWindowDefinition+="<li>Darkvision to 120 ft.</li>"; }
   else if (rayce==13) { SecondWindowDefinition+="<li>Double-distance low-light vision.</li>"; }
   else { SecondWindowDefinition+="<li>Low-light vision.</li>"; }
  if (rayce>=93 && rayce<=97) { SecondWindowDefinition+="<li>Darkvision to 30 ft.</li>"; }
  if (rayce==12)
   {
    SecondWindowDefinition+="<li>Spell resistance 11 + class level.</li>";
    SecondWindowDefinition+="<li><i>Dancing Lights, Darkness, Faerie Fire</i> once/day each.</li>";
    SecondWindowDefinition+="<li>Light blindness.</li>";
    if (gender==1) { SecondWindowDefinition+="<li>In some campaigns, male drow get -2 charisma instead.</li>"; }
    SecondWindowDefinition+="<li>Character level +2.</li>";
   }
  if (rayce==13 || rayce==158)
   {
    SecondWindowDefinition+="<li>Survive out of water 1 hr/point of constitution.</li>";
    SecondWindowDefinition+="<li>Automatic proficiency with Trident, Longspear, Net.</li>";
   }
  if (rayce==57) { SecondWindowDefinition+="<li>Proficient with Scimitar, Rapier & Shortbow.</li>"; }
   else if (rayce==66) { SecondWindowDefinition+="<li>Proficient with hand axe, short sword, rapier & shortbow.</li>"; }
   else if (rayce==93) { SecondWindowDefinition+="<li>Proficient with longspear, short sword, longbow & shortbow.</li>"; }
   else if ((rayce==96) || (rayce==97)) { SecondWindowDefinition+="<li>Proficient with trident, longspear, net.</li>"; }
   else { SecondWindowDefinition+="<li>Proficient with longsword, rapier, longbow && shortbow<./li>"; }
  if (rayce==48) { SecondWindowDefinition+="<li>+2 racial bonus on listen and spot checks.</li>"; }
  else if (rayce==57) { SecondWindowDefinition+="<li>+2 racial bonus on search and spot checks.</li>"; }
  else if (rayce==159) { SecondWindowDefinition+="<li>+2 racial bonus on search and listen, +4 on spot, +4 on jump checks.</li>"; }
  else { SecondWindowDefinition+="<li>+2 racial bonus on listen, search, and spot checks<./li>"; }
   if (rayce==48) { SecondWindowDefinition+="<li>+2 on a craft skill of your choice.</li>"; }
    else if (rayce==66) { SecondWindowDefinition+="<li>+2 on know history (already included).</li>"; }
     else { SecondWindowDefinition+="<li>Notice secret doors.</li>"; }
  if (rayce==48) {
   SecondWindowDefinition+="<li>+4 on saves vs. cold environments.</li>";
   SecondWindowDefinition+="<li>+2 on arctic survival checks.</li>";
    }
  if (rayce==57) {
   SecondWindowDefinition+="<li>+4 on saves vs. hot environments.</li>";
   SecondWindowDefinition+="<li>+2 on handle animal and ride (already included).</li>";
    }
  if (rayce==93) {
   SecondWindowDefinition+="<li>+1 on know nature and survival (already included)</li>";
   }
  if (rayce==94) {
   SecondWindowDefinition+="<li>+1 on diplomacy and sense motive (already included)</li>";
   }
  if (rayce==95) {
   SecondWindowDefinition+="<li>+1 on know arcana and spellcraft (already included)</li>";
   }
  if ((rayce==96) || (rayce==97)) {
   SecondWindowDefinition+="<li>+2 to notice things about the water</li>";
   SecondWindowDefinition+="<li>Level adjustment +1</li>";
   }
  if (rayce==96) {
   SecondWindowDefinition+="<li>Become porpoise 3x/day</li>";
   if (intelligence>=10) { SecondWindowDefinition+="<li>Blur, dancing lights, darkness, obscuring mist each 1/day</li>"; }
   }
  if (rayce==97) {
   SecondWindowDefinition+="<li>Become otter 3x/day</li>";
   SecondWindowDefinition+="<li>Penalty of -1 on d20 rolls if more than 24 hours out of water</li>";
   }
  if (rayce==159) {
   SecondWindowDefinition+="<li>Fly 50 feet, average maneuverability</li>";
   SecondWindowDefinition+="<li>Proficient with rapier, longsword, lasso and bolas</li>";
   SecondWindowDefinition+="<li>Level adjustment +3</li>";
   }
  if (rayce==158) {
   SecondWindowDefinition+="<li>+8 on swim checks</li>";
   SecondWindowDefinition+="<li>Can always take 10 on a swim check and can run while swimming</li>";
   SecondWindowDefinition+="<li>Level adjustment +1</li>";
   }
  SecondWindowDefinition+="</ul>";
 }

if ((rayce==5) || (rayce==98) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==19) || (rayce==16))
 {
  if (rayce==98) { SecondWindowDefinition+="Tinker "; }
  if (rayce==16) { SecondWindowDefinition+="Deep "; }
  if (rayce==19) { SecondWindowDefinition+="Wild "; }
  if (rayce==37) { SecondWindowDefinition+="Forest "; }
  if (rayce==39) { SecondWindowDefinition+="Aquatic "; }
  if (rayce==49) { SecondWindowDefinition+="Arctic "; }
  if (rayce==58) { SecondWindowDefinition+="Desert "; }
  if (rayce==67) { SecondWindowDefinition+="Jungle "; }
  SecondWindowDefinition+="Gnome:<p><ul>";
  if ((rayce==5) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37)) { SecondWindowDefinition+="<li>+2 constitution / -2 strength (already included).</li>"; }
  if (rayce==19) { SecondWindowDefinition+="<li>+2 constitution / +2 wisdom / -2 charisma / -2 strength (already included).</li>"; }
  if (rayce==98) { SecondWindowDefinition+="<li>+2 dexterity / +2 intelligence / -2 wisdom / -2 strength (already included).</li>"; }
  if (rayce==16) { SecondWindowDefinition+="<li>+2 dexterity / +2 wisdom / -2 strength / -4 charisma (already included).</li>"; }
  SecondWindowDefinition+="<li>Small (combat bonuses, +4 to Hide.)</li>";
  if ((rayce==5) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37)) { SecondWindowDefinition+="<li>Low-light vision.</li>"; }
  if (rayce==16) { SecondWindowDefinition+="<li>Darkvision to 120 ft</li>"; }
  if ((rayce==5) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37)) { SecondWindowDefinition+="<li>+2 racial bonus on saves vs. illusions.</li>";
  if (rayce!=98) { SecondWindowDefinition+="<li>+1 on DC of opponent's save vs. gnomish illusions.</li>"; }}
  if (rayce==98) { SecondWindowDefinition+="<li>Guild membership</li><li>+2 on Will saves.</li>"; }
   else if ((rayce==39) || (rayce==67)) { SecondWindowDefinition+="<li>+1 racial bonus to hit goblinoids.</li>"; }
    else { SecondWindowDefinition+="<li>+1 racial bonus to hit kobolds and goblinoids.</li>"; }
  if ((rayce==5) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37) || (rayce==19)) { SecondWindowDefinition+="<li>+4 dodge bonus on AC against giants.</li>"; }
  if (rayce==19) { SecondWindowDefinition+="<li>+4 bonus on Listen checks.</li>"; }
   else if (rayce==58) { SecondWindowDefinition+="<li>+2 bonus on Bluff, Diplomacy & Sense Motive.</li>"; }
   else if (rayce==98) { SecondWindowDefinition+="<li>+2 bonus on Craft (Alchemy).</li>"; }
   else { SecondWindowDefinition+="<li>+2 bonus on Listen checks .</li>"; }
  if (rayce==37) { SecondWindowDefinition+="<li>+4 bonus on Hide checks.</li>"; }
  if (rayce==67) { SecondWindowDefinition+="<li>+4 bonus on Swim, Climb, Use Rope, Craft (Shipbuilding).</li>"; }
  if (rayce!=98) { SecondWindowDefinition+="<li><i>Speak with burrowing animals</i> once per day.</li>"; }
  if ((charisma>=10) && ((rayce==5) || (rayce==67) || (rayce==58) || (rayce==49) || (rayce==39) || (rayce==37))) {
  SecondWindowDefinition+="<li>1/day <i>Dancing Lights, Ghost Sound, Prestidigitation.</i></li>"; }
  if ((intelligence>=10) && (rayce==19)) {
  SecondWindowDefinition+="<li>1/day <i>Create water, Know Direction, Purify Food and Drink.</i></li>"; }
  if (rayce==16) {
   SecondWindowDefinition+="<li>Stonecunning (+2 on searching stone, intuit depth).</li>";
   SecondWindowDefinition+="<li>+2 to Hide becomes +4 in underground darkness.</i></li>";
   SecondWindowDefinition+="<li>1/day <i>Change Self, Blindness, Blur.</i></li>";
   SecondWindowDefinition+="<li>Continual <i>non-detection.</i></li>";
   SecondWindowDefinition+="<li>+2 racial bonus on all saving throws.</li>";
   SecondWindowDefinition+="<li>Character level +3.</li>";
   }
  if (rayce==37) {
   SecondWindowDefinition+="<li>+4 to hide (included); becomes +8 in the forest</li>";
  SecondWindowDefinition+="<li>+1 racial bonus to hit orcs and reptilian humanoids</li>";
   SecondWindowDefinition+="<li>Continual <i>pass without trace</i> (self only)</li>";
   }
  if (rayce==39) {
   SecondWindowDefinition+="<li>Swim 20 feet base</li>";
   SecondWindowDefinition+="<li>Suffocates outside of water.</li>";
   SecondWindowDefinition+="<li>+8 on swim checks to take action / avoid hazard.</li>";
    }
  if (rayce==49) {
   SecondWindowDefinition+="<li>+2 on sense motive (already included)</li>";
   SecondWindowDefinition+="<li>+4 on saves vs. cold environments</li>";
    }
  if (rayce==58) {
   SecondWindowDefinition+="<li>+4 on saves vs. hot environments</li>";
    }
  SecondWindowDefinition+="</ul>";
 }
if ((rayce==2) || (rayce==160) || (rayce==161) || (rayce==69) || (rayce==60) || (rayce==51) || (rayce==41))
 {
  if (rayce==41) { SecondWindowDefinition+="Aquatic "; }
  if (rayce==51) { SecondWindowDefinition+="Arctic "; }
  if (rayce==60) { SecondWindowDefinition+="Desert "; }
  if (rayce==69) { SecondWindowDefinition+="Jungle "; }
  SecondWindowDefinition+="Half-Elf:<p><ul>";
  SecondWindowDefinition+="<li>Immune to magical sleep</li>";
  SecondWindowDefinition+="<li>+2 racial bonus on saves vs. enchantments</li>";
  SecondWindowDefinition+="<li>Low-light vision (darkvision if half-drow)</li>";
  if (rayce==60) { SecondWindowDefinition+="<li>+1 racial bonus on search and spot checks</li>"; }
   else { SecondWindowDefinition+="<li>+1 racial bonus on listen, search, and spot checks</li>"; }
  if ((rayce==2) || (rayce==160) || (rayce==161) || (rayce==69) || (rayce==60)) { SecondWindowDefinition+="<li>+2 racial bonus on diplomacy and gather information checks</li>"; }
  if (rayce==41) {
   SecondWindowDefinition+="<li>+2 racial bonus on survival checks</li>";
   SecondWindowDefinition+="<li>Swim 40 feet base</li>";
   SecondWindowDefinition+="<li>Suffocates outside of water.</li>";
   SecondWindowDefinition+="<li>+8 on swim checks to take action / avoid hazard.</li>";
    }
  if (rayce==69) {
   SecondWindowDefinition+="<li>+2 racial bonus on bluff and sense motive checks</li>";
    }
  if (rayce==51) {
   SecondWindowDefinition+="<li>+4 on saves vs. cold environments</li>";
   SecondWindowDefinition+="<li>+2 on all survival checks (already included)</li>";
    }
  if (rayce==60) {
   SecondWindowDefinition+="<li>+4 on saves vs. hot environments</li>";
   SecondWindowDefinition+="<li>+2 on sense motive (already included)</li>";
    }
  if (rayce==160) {
   SecondWindowDefinition+="<li>+8 to swim checks; may always taken ten (already included)</li>";
   SecondWindowDefinition+="<li>Sea longing</li>";
    }
  if (rayce==161) {
   SecondWindowDefinition+="<li>Considered drow-blooded for all special abilities and effects</li>";
    }
  SecondWindowDefinition+="</ul>";
 }

if ((rayce==7) || (rayce==70) || (rayce==61) || (rayce==52) || (rayce==42))
 {
  if (rayce==42) { SecondWindowDefinition+="Aquatic "; }
  if (rayce==52) { SecondWindowDefinition+="Arctic "; }
  if (rayce==61) { SecondWindowDefinition+="Desert "; }
  if (rayce==70) { SecondWindowDefinition+="Jungle "; }
  SecondWindowDefinition+="Half-Orc:<p><ul>";
  if (rayce==61) { SecondWindowDefinition+="<li>+2 strength / -2 intelligence (already included)</li>"; }
   else { SecondWindowDefinition+="<li>+2 strength / -2 intelligence / -2 charisma (already included)</li>"; }
  if ((rayce==52) || (rayce==70)) { SecondWindowDefinition+="<li>Low-light vision; no darkvision</li>"; }
   else { SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>"; }
  if (rayce==70) {
   SecondWindowDefinition+="<li>+2 on climb and jump (already included)</li>"; }
  if (rayce==42) {
   SecondWindowDefinition+="<li>+2 on diplomacy and gather information (already included)</li>";
   SecondWindowDefinition+="<li>Swim 30 feet base</li>";
   SecondWindowDefinition+="<li>Suffocates outside of water.</li>";
   SecondWindowDefinition+="<li>+8 on swim checks to take action / avoid hazard.</li>";
    }
  if (rayce==52) {
   SecondWindowDefinition+="<li>+4 on saves vs. cold environments</li>";
   SecondWindowDefinition+="<li>+2 on diplomacy</li>";
    }
  if (rayce==61) {
   SecondWindowDefinition+="<li>+4 on saves vs. hot environments</li>";
   SecondWindowDefinition+="<li>\"Run\" is a bonus feat</li>";
    }

  SecondWindowDefinition+="</ul>";
 }

// Lizard Folk:
if (rayce==20)
 {
  SecondWindowDefinition+="<p>Lizard Folk:</p><ul>";
  SecondWindowDefinition+="<li>+2 Strength, +2 Constitution, -2 Intelligence (already included).</li>";
  SecondWindowDefinition+="<li>Medium size.</li>";
  SecondWindowDefinition+="<li>Base land speed: 30 feet.</li>";
  SecondWindowDefinition+="<li>Racial Hit Dice: A lizardfolk begins with two levels of humanoid, which provide 2d8 Hit Dice, a base attack bonus of +1, and base saving throw bonuses of Fort +0, Ref +3, and Will +0.</li>";
  SecondWindowDefinition+="<li>Racial Skills: A lizardfolks humanoid levels give it skill points equal to 5  (2 + Int modifier, minimum 1). Its class skills are Balance, Jump, and Swim. Lizardfolk have a +4 racial bonus on Balance, Jump, and Swim checks (already included).</li>";
  SecondWindowDefinition+="<li>Racial Feats: Multiattack. Hold breath. A lizardfolks humanoid levels give it one additional feat.</li>";
  SecondWindowDefinition+="<li>Weapon and Armor Proficiency: A lizardfolk is automatically proficient with simple weapons and shields.</li>";
  SecondWindowDefinition+="<li>+5 natural armor bonus.</li>";
  SecondWindowDefinition+="<li>Natural Weapons: 2 claws (1d4"+damage_bonus+"), plus bite at -2 to hit (1d4"+offh_damage_bonus+").</li>";
  SecondWindowDefinition+="<li>Automatic Languages: Common, Draconic. Bonus Languages: Aquan, Goblin, Gnoll, Orc.</li>";
  SecondWindowDefinition+="<li>Favored Class: Druid.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==125)
 {
  SecondWindowDefinition+="Mongrel Folk:<p><ul>";
  SecondWindowDefinition+="<li>+4 constitution / -2 intelligence / -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Physically-unattractive hybrids; probably very variable in appearance</li>";
  SecondWindowDefinition+="<li>Survival-oriented; inclined to good and especially to law</li>";
  SecondWindowDefinition+="<li>Skilled at sound imitation</li>";
  SecondWindowDefinition+="<li>May use equipment designated for any humanoid race</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==164)
 {
  SecondWindowDefinition+="Fay'ri:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity / +2 intelligence / -2 constitution (already included)</li>";
  SecondWindowDefinition+="<li>Drow with ancestry from creatures native to the planes of Chaotic Evil</li>";
  SecondWindowDefinition+="<li>Fly speed 40 feet, poor maneuverability</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Low-light vision twice human sight</li>";
  SecondWindowDefinition+="<li>Elven blood</li>";
  SecondWindowDefinition+="<li>+2 on save vs. enchantment</li>";
  SecondWindowDefinition+="<li>Alter self at will, indefinite duration</li>";
  SecondWindowDefinition+="<li>Choose four demonic abilities from the source book list.</li>";
  SecondWindowDefinition+="<li>Which abilities are chosen determines level adjustment (+2 or +3).</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==127)
 {
  SecondWindowDefinition+="Gray Orc:<p><ul>";
  SecondWindowDefinition+="<li>+2 strength / +2 wisdom / -2 intelligence / -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Smaller, speedier, and more clerically-inclined than other orcs.</li>";
  SecondWindowDefinition+="<li>Light sensitivity</li>";
  SecondWindowDefinition+="<li>Scent</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==165)
 {
  SecondWindowDefinition+="Tanarukk:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength / +2 dexterity / -2 wisdom / -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Orc-fiend crossbreeds from the Forgotten Realms.</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet.</li>";
  SecondWindowDefinition+="<li>Can use all martial weapons.</li>";
  SecondWindowDefinition+="<li>Fire resistance 10</li>";
  SecondWindowDefinition+="<li>Spell resistance 14 + class level</li>";
  SecondWindowDefinition+="<li>Outsider type</li>";
  SecondWindowDefinition+="<li>Natural attack (bite 1d6 + half of strength modifier) can go as secondary after weapon</li>";
  SecondWindowDefinition+="<li>Can control nonmagical fires within 10 feet, once per day as fifth level sorcerer</li>";
  SecondWindowDefinition+="<li>Orc blooded for all special purposes</li>";
  SecondWindowDefinition+="<li>Level adjustment +3</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==163)
 {
  SecondWindowDefinition+="Deep Orc (Orog):<p><ul>";
  SecondWindowDefinition+="<li>+6 strength / -2 dexterity / -2 wisdom / +2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Bigger, clumsier orcs from the Forgotten Realms</li>";
  SecondWindowDefinition+="<li>Darkvision 120 feet</li>";
  SecondWindowDefinition+="<li>All are proficient with greatsword and throwing axe.</li>";
  SecondWindowDefinition+="<li>+2 on armorsmithing and weaponsmithing</li>";
  SecondWindowDefinition+="<li>5 fire resistance</li>";
  SecondWindowDefinition+="<li>5 cold resistance</li>";
  SecondWindowDefinition+="<li>Orc blood, for all special purposes</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==126)
 {
  SecondWindowDefinition+="Goliath:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength / +2 constitution / -2 dexterity (already included)</li>";
  SecondWindowDefinition+="<li>Large mountain-dwelling monstrous humanoids</li>";
  SecondWindowDefinition+="<li>Males have hair only on the extremities.</li>";
  SecondWindowDefinition+="<li>Competitive, scorekeeping, discard their disabled members.</li>";
  SecondWindowDefinition+="<li>Considered large when this is beneficial.</li>";
  SecondWindowDefinition+="<li>Can climb half-speed without penalty</li>";
  SecondWindowDefinition+="<li>Standing long-high jumps considered running.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1.</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==128)
 {
  SecondWindowDefinition+="Whisper Gnome:<p><ul>";
  SecondWindowDefinition+="<li>+2 constitution / +2 dexterity / -2 strength / -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Stealthy, quiet, generally good-aligned gnomes</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>+1 attack bonus vs kobolds and goblinoinds (incl. hobgoblins and bugbears)</li>";
  SecondWindowDefinition+="<li>+4 dodge bonus vs. giant types</li>";
  SecondWindowDefinition+="<li>+4 on hide and move silently checks.</li>";
  SecondWindowDefinition+="<li>+2 on spot and listen checks</li>";
  SecondWindowDefinition+="<li>Silence on self once per day</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==21) {
  SecondWindowDefinition+="Hobgoblin:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity / +2 constitution (already included)</li>";
  SecondWindowDefinition+="<li>+4 on move silently (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }
 
if ((rayce==22) || (rayce==73) || (rayce==64) || (rayce==55) || (rayce==46))
 {
  if (rayce==46) { SecondWindowDefinition+="Aquatic "; }
  if (rayce==55) { SecondWindowDefinition+="Arctic "; }
  if (rayce==64) { SecondWindowDefinition+="Desert "; }
  if (rayce==73) { SecondWindowDefinition+="Jungle "; }
  SecondWindowDefinition+="Orc:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, -2 intelligence, -2 charisma, -2 wisdom (already included)</li>";
  if ((rayce==55) || (rayce==64)) { SecondWindowDefinition+="<li>Low-light vision, no darkvision</li>"; }
   else { SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>"; }
  if (rayce!=55) { SecondWindowDefinition+="<li>Dazzled in bright light</li>"; }
  if (rayce==46) {
   SecondWindowDefinition+="<li>Swim 30 feet base</li>";
   SecondWindowDefinition+="<li>Suffocates outside of water.</li>";
   SecondWindowDefinition+="<li>+8 on swim checks to take action / avoid hazard.</li>";
    }
  if (rayce==55) {
   SecondWindowDefinition+="<li>+2 on handle animal (already included)</li>";
   SecondWindowDefinition+="<li>+4 on saves vs. cold environments</li>";
    }
  if (rayce==64) {
   SecondWindowDefinition+="<li>+4 on saves vs. hot environments</li>";
   SecondWindowDefinition+="<li>\"Endurance\" as a bonus feat</li>";
    }
  if (rayce==73) {
   SecondWindowDefinition+="<li>+2 on heal and survival (already included)</li>";
    }
  SecondWindowDefinition+="</ul>";
 }
 
if (rayce==23) {
  SecondWindowDefinition+="Bugbear:<p><ul>";
  SecondWindowDefinition+="<li>+4 Strength, +2 Dexterity, +2 Constitution, -2 Charisma (already included).</li>";
  SecondWindowDefinition+="<li>Medium size.</li>";
  SecondWindowDefinition+="<li>Base land speed: 30 feet.</li>";
  SecondWindowDefinition+="<li>Darkvision out to 60 feet.</li>";
  SecondWindowDefinition+="<li>Racial Hit Dice: A bugbear begins with three levels of humanoid, which provide 3d8 Hit Dice, a base attack bonus of +2, and base saving throw bonuses of Fort +1, Ref +3, and Will +1.</li>";
  SecondWindowDefinition+="<li>Racial Skills: A bugbears humanoid levels give it skill points equal to 6  (2 + Int modifier). Its class skills are Climb, Hide, Listen, Move Silently, Search, and Spot. Bugbears have a +4 racial bonus on Move Silently checks.</li>";
  SecondWindowDefinition+="<li>Racial Feats: A bugbears humanoid levels give it two feats.</li>";
  SecondWindowDefinition+="<li>+3 natural armor bonus.</li>";
  SecondWindowDefinition+="<li>Automatic Languages: Common, Goblin. Bonus Languages: Draconic, Elven, Giant, Gnoll, Orc.</li>";
  SecondWindowDefinition+="<li>Favored Class: Rogue.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }
 
if (rayce==83) {
  SecondWindowDefinition+="Githyanki:<p><ul>";
  SecondWindowDefinition+="<li>Baroque-armored astral-dwelling humanoids with attitudes.</li>";
  SecondWindowDefinition+="<li>+2 dexterity, +2 constitution, -2 wisdom (already included)</li>";
  SecondWindowDefinition+="<li>Psi-like abilities improve as levels do.</li>";
  SecondWindowDefinition+="<li>All do daze humanoid and mage hand 3x/day.</li>";
  SecondWindowDefinition+="<li>At level 3, blur 3x/day.</li>";
  SecondWindowDefinition+="<li>At level 6, dimension door 2x/day.</li>";
  SecondWindowDefinition+="<li>At level 9. telekinesis 3x/day and plane shift 1/day.</li>";
  SecondWindowDefinition+="<li>Spell resistance 5+1/level</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==99)
 {
  SecondWindowDefinition+="Dromite:<p><ul>";
  SecondWindowDefinition+="<li>Dromites are small genderless insectoid people.</li>";
  SecondWindowDefinition+="<li>+2 charisma, -2 strength, -2 wisdom (already included)</li>";
  SecondWindowDefinition+="<li>+2 to spot (already included)</li>";
  SecondWindowDefinition+="<li>Scent ability</li>";
  SecondWindowDefinition+="<li>Energy ray once per day</li>";
  SecondWindowDefinition+="<li>Chitin bestows natural armor +3</li>";
  SecondWindowDefinition+="<li>Resistance 5 to one of fire, cold, electric, sonic (your choice, matches energy ray)</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==100)
 {
  SecondWindowDefinition+="Elan:<p><ul>";
  SecondWindowDefinition+="<li>-2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Former humans that do not age or die naturally</li>";
  SecondWindowDefinition+="<li>Aberrations unaffected by spells that target human types</li>";
  SecondWindowDefinition+="<li>No darkvision</li>";
  SecondWindowDefinition+="<li>Use psionics to resist energy damage</li>";
  SecondWindowDefinition+="<li>Use psionics to reduce severity of damage</li>";
  SecondWindowDefinition+="<li>Use psionics to do without food / water</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==101)
 {
  SecondWindowDefinition+="Aarakocra:<p><ul>";
  SecondWindowDefinition+="<li>Bird folks.  Using the athasian type here.</li>";
  SecondWindowDefinition+="<li>+4 dexterity, -2 strength</li>";
  SecondWindowDefinition+="<li>Fly rate 90 feet, average maneuverability</li>";
  SecondWindowDefinition+="<li>Resist spells designed to target humanoids</li>";
  SecondWindowDefinition+="<li>Talons 1d4/1d4</li>";
  SecondWindowDefinition+="<li>All are proficient with javelin</li>";
  SecondWindowDefinition+="<li>Use natural psi to manifest elfsight</li>";
  SecondWindowDefinition+="<li>+2 on spot, listen, craft_1, know nature</li>";
  SecondWindowDefinition+="<li>-4 on all d20 rolls in enclosed spaces</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==102)
 {
  SecondWindowDefinition+="Half-Giant:<p><ul>";
  SecondWindowDefinition+="<li>+2 strength, +2 constitution, -2 dexterity (already included)</li>";
  SecondWindowDefinition+="<li>Low light vision</li>";
  SecondWindowDefinition+="<li>+2 saves vs. fire</li>";
  SecondWindowDefinition+="<li>Treat as large when advantageous in grapples, etc.</li>";
  SecondWindowDefinition+="<li>Stomp once per day</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==103)
 {
  SecondWindowDefinition+="Maenad:<p><ul>";
  SecondWindowDefinition+="<li>Energy ray (sonic) once per day</li>";
  SecondWindowDefinition+="<li>Outburst once per day</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==104)
 {
  SecondWindowDefinition+="Xeph:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, -2 strength (already included)</li>";
  SecondWindowDefinition+="<li>Burst 3x/day</li>";
  SecondWindowDefinition+="<li>+1 on all saves vs. magic and psi</li>";
  SecondWindowDefinition+="</ul><br>";
  }
  if (rayce==170)
   {
  SecondWindowDefinition+="Illumian:<p><ul>";
     SecondWindowDefinition+="<li>Humans modified by sorcery; alphabet mystics.</li>";
     SecondWindowDefinition+="<li>All are literate, and automatically speak Illumian, which most others cannot learn.</li>";
     SecondWindowDefinition+="<li>All begin their careers with 2 luminous sigils orbiting the head.</li>";
     SecondWindowDefinition+="<li>A new sigil is gained at levels 5, 10, 15, and 20.</li>";
     SecondWindowDefinition+="<li>Inclined to multiclassing.</li>";
     SecondWindowDefinition+="<li>+2 on saves vs. shadow magics.</li>";
     SecondWindowDefinition+="<li>Immune to glyphs and symbols of caster level lower than or equal to their HD.</li>";
     SecondWindowDefinition+="<li>-4 on saves vs. glyphs and symbols of caster level higher than their HD.</li>";
     SecondWindowDefinition+="<li>+1 level adjustment.</li>";
  SecondWindowDefinition+="</ul><br>";
   }
if (rayce==109)
 {
  SecondWindowDefinition+="Changeling:<p><ul>";
  SecondWindowDefinition+="<li>Eberron character race.</li>";
  SecondWindowDefinition+="<li>+2 on saves vs. magical Sleep and Charm.</li>";
  SecondWindowDefinition+="<li>+2 on Bluff, Intimidate, Sense Motive.</li>";
  SecondWindowDefinition+="<li>Natural linguist: languages always available as a class skill.</li>";
  SecondWindowDefinition+="<li>Minor Change Shape (as Disguise Self).</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==110)
 {
  SecondWindowDefinition+="Kalashtar:<p><ul>";
  SecondWindowDefinition+="<li>Eberron character race.</li>";
  SecondWindowDefinition+="<li>+2 on saves vs. mind-affecting spells and possession.</li>";
  SecondWindowDefinition+="<li>+2 on bluff, diplomacy, and intimidate.</li>";
  SecondWindowDefinition+="<li>+2 on disguise to impersonate a human.</li>";
  SecondWindowDefinition+="<li>Sleep, but do not dream.</li>";
  SecondWindowDefinition+="<li>1 extra psionic power point.</li>";
  SecondWindowDefinition+="<li>Mindlink once per day.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==111)
 {
  SecondWindowDefinition+="Shifter:<p><ul>";
  SecondWindowDefinition+="<li>Eberron character race.</li>";
  SecondWindowDefinition+="<li>+2 dexterity, -2 intelligence, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Shifting; choose 1 of the 6 types</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>+2 on balance, climb, and jump</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==112)
 {
  SecondWindowDefinition+="Buomman:<p><ul>";
  SecondWindowDefinition+="<li>Planar Handbook character race.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if ((rayce==113) || (rayce==114) || (rayce==115) || (rayce==116))
 {
  SecondWindowDefinition+="Mephling:<p><ul>";
  SecondWindowDefinition+="<li>Planar Handbook character race.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==117)
 {
  SecondWindowDefinition+="Neraph:<p><ul>";
  SecondWindowDefinition+="<li>Planar Handbook character race.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==118)
 {
  SecondWindowDefinition+="Spiker:<p><ul>";
  SecondWindowDefinition+="<li>Planar Handbook character race.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==119)
 {
  SecondWindowDefinition+="Shadowswyft:<p><ul>";
  SecondWindowDefinition+="<li>Planar Handbook character race.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==120)
 {
  SecondWindowDefinition+="Wildren:<p><ul>";
  SecondWindowDefinition+="<li>Planar Handbook character race.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==105)
 {
  SecondWindowDefinition+="Mul:<p><ul>";
  SecondWindowDefinition+="<li>Athasian dwarf-human crossbreed.</li>";
  SecondWindowDefinition+="<li>+2 strength, +4 constitution (already included)</li>";
  SecondWindowDefinition+="<li>May use innate psi points to manifest offensive prescience</li>";
  SecondWindowDefinition+="<li>Heal 2 hp/day</li>";
  SecondWindowDefinition+="<li>Fast hearing 1 at level 10</li>";
  SecondWindowDefinition+="<li>Fast hearing 2 at level 15</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==106)
 {
  SecondWindowDefinition+="Pterran:<p><ul>";
  SecondWindowDefinition+="<li>Reptilian, pterodactyl-like creatures from Athas.</li>";
  SecondWindowDefinition+="<li>+2 strength +2 constitution -2 Wisdom (already included)</li>";
  SecondWindowDefinition+="<li>1d4/1d4 claw; 1d3 bite (at -5)</li>";
  SecondWindowDefinition+="<li>+5 on natural armor class</li>";
  SecondWindowDefinition+="<li>Tails give +4 on balance and jump</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==179)
 {
  SecondWindowDefinition+="Raptoran:<p><ul>";
  SecondWindowDefinition+="<li>Winged humanoids noted for deep thought.</li>";
  SecondWindowDefinition+="<li>Their trademark footbow is a martial weapon.</li>";
  SecondWindowDefinition+="<li>Wings give +10 on jump; also get +2 on climb and spot.</li>";
  SecondWindowDefinition+="<li>Air spells at +1 caster level.</li>";
  SecondWindowDefinition+="<li>Low-light vision.</li>";
  SecondWindowDefinition+="<li>Never take falling damage if conscious; maximum 1d6 if unconscious</li>";
  SecondWindowDefinition+="<li>Always know which direction is north.</li>";
  SecondWindowDefinition+="<li>Limited ability to fly develops as levels increase.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==180)
 {
  SecondWindowDefinition+="Catfolk:<p><ul>";
  SecondWindowDefinition+="<li>Cat-headed humanoids.</li>";
  SecondWindowDefinition+="<li>+4 dexterity, +2 charisma have been added already.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1.</li>";
  SecondWindowDefinition+="<li>Air spells at +1 caster level.</li>";
  SecondWindowDefinition+="<li>Low-light vision.</li>";
  SecondWindowDefinition+="<li>+2 racial bonus on listen and move silently.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==181)
 {
  SecondWindowDefinition+="Killoren:<p><ul>";
  SecondWindowDefinition+="<li>Nature folk, fey type.</li>";
  SecondWindowDefinition+="<li>Low light vision.</li>";
  SecondWindowDefinition+="<li>Immune to magical sleep.  +2 on saves vs. enchantments.</li>";
  SecondWindowDefinition+="<li>+2 on handle animal and survival.</li>";
  SecondWindowDefinition+="<li>Allergic to cold iron.</li>";
  SecondWindowDefinition+="<li>Do not die of old age, but can life indefinitely.</li>";
  SecondWindowDefinition+="<li>Manifest nature's might (see sourcebook).</li><ul>"
  SecondWindowDefinition+="<li>White hair day: additional +2 vs. enchantments, Knowledge (nature) bonus equal to HD</li>";
  SecondWindowDefinition+="<li>Black hair day: Once/hr, for a number of times equal to charisma bonus, minimum 1, smite foe of nature; bonus to hit = charisma bonus if any,  bonus damage=HD</li>";
  SecondWindowDefinition+="<li>Green hair day: +2 on initiative, hide, listen, move silently, and spot</li>";
  SecondWindowDefinition+="</ul></ul><br>";
  }
if (rayce==107)
 {
  SecondWindowDefinition+="Locathah:<p><ul>";
  SecondWindowDefinition+="<li>Aquatic fish-folk.</li>";
  SecondWindowDefinition+="<li>+2 wisdom, +2 intelligence, +2 dexterity (already included)</li>";
  SecondWindowDefinition+="<li>+3 on natural armor class</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==108)
 {
  SecondWindowDefinition+="Sahuagin:<p><ul>";
  SecondWindowDefinition+="<li>Shark-folk from the deep.</li>";
  SecondWindowDefinition+="<li>+4 strength, +2 dexterity,+2 wisdom, +2 constitution, +4 intelligence, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>1d4/1d4 claw; 1d4 bite (bite at penalty)</li>";
  SecondWindowDefinition+="<li>+5 on natural armor class</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==171)
 {
  SecondWindowDefinition+="Sea Kin:<p><ul>";
  SecondWindowDefinition+="<li>Good-natured humans adapted for ocean-dwelling.</li>";
  SecondWindowDefinition+="<li>Humanoid (human) type; swim 30 feet.</li>";
  SecondWindowDefinition+="<li>Low-light vision.</li>";
  SecondWindowDefinition+="<li>+2 bonus on escape artist (already included).</li>";
  SecondWindowDefinition+="<li>Hold breath 8 x constitution rounds.</li>";
  SecondWindowDefinition+="<li>Tridents and nets are simple weapons.</li>";
  SecondWindowDefinition+="<li>Must immerse in water once per week.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==172)
 {
  SecondWindowDefinition+="Sharakim:<p><ul>";
  SecondWindowDefinition+="<li>Magically-stigmatized LG-inclined humans.</li>";
  SecondWindowDefinition+="<li>+2 strength, -2 dexterity, +2 intelligence, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet.</li>";
  SecondWindowDefinition+="<li>In shadows, +2 on hide, move silently, search, and spot checks.</li>";
  SecondWindowDefinition+="<li>+1 on attack rolls against orcs.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==173)
 {
  SecondWindowDefinition+="Skulks:<p><ul>";
  SecondWindowDefinition+="<li>Evil-natured hairless humans adapted for stealth.</li>";
  SecondWindowDefinition+="<li>+4 dexterity, -2 wisdom, -4 charisma (already included)</li>";
  SecondWindowDefinition+="<li>First two levels are humanoid.</li>";
  SecondWindowDefinition+="<li>+8 on hide, +15 on move silently (light or no armor; already included).</li>";
  SecondWindowDefinition+="<li>Check DC 20 or a divination against a skulk fails.</li>";
  SecondWindowDefinition+="<li>Supposedly can run while hiding without penalty due to magical camouflage.</li>";
  SecondWindowDefinition+="<li>DC to track is at +10.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==174)
 {
  SecondWindowDefinition+="Underfolk:<p><ul>";
  SecondWindowDefinition+="<li>Basically decent humans adapted for underground-dwelling.</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet.</li>";
  SecondWindowDefinition+="<li>+2 on listen checks (already included).</li>";
  SecondWindowDefinition+="<li>Camouflage; the +4 on hide checks increases to +10 in rocky terrain.</li>";
  SecondWindowDefinition+="<li>Dazzled in bright sunlight or a daylight spell.</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (rayce==84)
 {
  SecondWindowDefinition+="Githzerai:<p><ul>";
  SecondWindowDefinition+="<li>Under development</li>";
  SecondWindowDefinition+="</ul><br>";
  }
if (vampire_template)
 {
  SecondWindowDefinition+="Vampire:<p><ul>";
  SecondWindowDefinition+="<li>Undead with d12; usual undead traits</li>";
  SecondWindowDefinition+="<li>+6 strength, +4 dexterity, no constitution, +2 intelligence, +2 wisdom, +4 charisma</li>";
  SecondWindowDefinition+="<li>Turn resistance +4</li>";
  SecondWindowDefinition+="<li>+8 racial bonus on bluff, hide, listen, move silently, search, sense motive, and spot</li>";
  SecondWindowDefinition+="<li>Electricity and cold resistance 10</li>";
  SecondWindowDefinition+="<li>Damage reduction 10 / silver and magic</li>";
  SecondWindowDefinition+="<li>Slam attack, energy drain; blood drain</li>";
  SecondWindowDefinition+="<li>Gains alertness, combat reflexes, improved initiative, lightning reflexes; also dodge if dexterity>=13</li>";
  SecondWindowDefinition+="<li>More vampire abilities and limitations</li>";
  SecondWindowDefinition+="</ul><br>";
  }

if (deathless_template)
 {
  SecondWindowDefinition+="Deathless:<p><ul>";
  SecondWindowDefinition+="<li>Good-aligned with d12; usual undead traits</li>";
  SecondWindowDefinition+="<li>Turned by evil clerics, recruited by good clerics</li>";
  SecondWindowDefinition+="<li>Healed by positive energy, \"Disrupt undead\" and so forth.</li>";
  SecondWindowDefinition+="<li>Abilities must be highly variable.</li>";
  SecondWindowDefinition+="</ul><br>";
  }

if (ghost_template)
 {
  SecondWindowDefinition+="Ghost:<p><ul>";
  SecondWindowDefinition+="<li>Undead with d12; usual undead traits</li>";
  SecondWindowDefinition+="<li>+4 charisma, no constitution</li>";
  SecondWindowDefinition+="<li>Turn resistance +4</li>";
  SecondWindowDefinition+="<li>+8 racial bonus on hide, listen, search, and spot</li>";
  SecondWindowDefinition+="<li>Incorporeal most of the time</li>";
  SecondWindowDefinition+="<li>Fly speed 30 feet</li>";
  SecondWindowDefinition+="<li>Deflection bonus +1 or charisma bonus whichever is higher</li>";
  SecondWindowDefinition+="<li>Level adjustment +5</li>";
  SecondWindowDefinition+="<li>Ghost abilities vary widely</li>";
  SecondWindowDefinition+="</ul><br>";
  }

if (saint_template)
 {
  SecondWindowDefinition+="Saint:<p><ul>";
  SecondWindowDefinition+="<li>Mortal by birth, celestial by virtue.</li>";
  SecondWindowDefinition+="<li>+2 wisdom, +2 constitution, +4 charisma</li>";
  SecondWindowDefinition+="<li>Turn resistance +4</li>";
  SecondWindowDefinition+="<li>Wisdom bonus counts toward armor class</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="<li>Holy power -- save DC's of all special attacks at +2</li>";
  SecondWindowDefinition+="<li>At will: guidance, resistance, virtue, bless</li>";
  SecondWindowDefinition+="<li>Damage reduction equal to hit dice</li>";
  SecondWindowDefinition+="<li>Type becomes native outsider</li>";
  SecondWindowDefinition+="<li>Fast healing, HD/2 per round, maximum 10</li>";
  SecondWindowDefinition+="<li>Immune to acid, cold, electricity, and petrification</li>";
  SecondWindowDefinition+="<li>Fire resistance 10</li>";
  SecondWindowDefinition+="<li>+4 on saves vs. poison</li>";
  SecondWindowDefinition+="<li>Tongues spell always active</li>";
  SecondWindowDefinition+="<li>Saint abilities might vary widely</li>";
  SecondWindowDefinition+="</ul><br>";
  }

if (lich_template)
 {
  SecondWindowDefinition+="Lich:<p><ul>";
  SecondWindowDefinition+="<li>Undead with d12; usual undead traits</li>";
  SecondWindowDefinition+="<li>+2 intelligence, +2 wisdom, +2 charisma, no constitution.</li>";
  SecondWindowDefinition+="<li>Turn resistance +4</li>";
  SecondWindowDefinition+="<li>+8 racial bonus on  hide, listen, move silently, search, sense motive, and spot</li>";
  SecondWindowDefinition+="<li>Level adjustment +4</li>";
  SecondWindowDefinition+="<li>Immunity to cold, electricity, polymorph, and mind-affecting spells</li>";
  SecondWindowDefinition+="<li>Touch attack once per round; save vs. fortitude (DC=12+half lich HD+charisma modifier) or permanently paralyzed, appear dead.</li>";
  SecondWindowDefinition+="<li>Fear aura</li>";
  SecondWindowDefinition+="<li>Damage reduction 15/bludgeoning plus magic.</li>";
  SecondWindowDefinition+="</ul><br>";
 }

if (mummy_template)
 {
  SecondWindowDefinition+="Mummy:<p><ul>";
  SecondWindowDefinition+="<li>Undead with d12; usual undead traits</li>";
  SecondWindowDefinition+="<li>+3 strength, -2 dexterity, -4 intelligence, +4 wisdom, +4 charisma, no constitution.</li>";
  SecondWindowDefinition+="<li>Level adjustment +4</li>";
  SecondWindowDefinition+="<li>Usually lawful evil, but there must be exceptions.</li>";
  SecondWindowDefinition+="<li>Seeing a mummy causes despair, make a will save or be paralyzed with fear for 1d4 rounds</li>";
  SecondWindowDefinition+="<li>Touch causes mummy rot</li>";
  SecondWindowDefinition+="<li>Mummies get damage reduction 5/+1</li>";
  SecondWindowDefinition+="<li>Physical blows only half damage; apply this before damage reduction</li>";
  SecondWindowDefinition+="<li>Double damage from fire unless a save is possible and the mummy makes it</li>";
  SecondWindowDefinition+="</ul><br>";
 }

if (spectral_template)
 {
  SecondWindowDefinition+="Spectral:<p><ul>";
  SecondWindowDefinition+="<li>Undead with d12; usual undead traits; incorporeal</li>";
  SecondWindowDefinition+="<li>Level adjustment +5</li>";
  SecondWindowDefinition+="<li>+3 dexterity, +4 intelligence, +4 wisdom, +4 charisma, no constitution, no strength.</li>";
  SecondWindowDefinition+="<li>Usually lawful evil, but there could be exceptions.</li>";
  SecondWindowDefinition+="<li>+8 on hide, listen, search, spot</li>";
  SecondWindowDefinition+="<li>Turn resistance +2</li>";
  SecondWindowDefinition+="<li>Sunlight powerlessness</li>";
  SecondWindowDefinition+="<li>Energy drain (save or gain two negative levels); spectre gains +5 temporary hit points per level drained</li>";
  SecondWindowDefinition+="<li>Create spawn; any humanoid slain rises in 1d4 rounds as a spectre</li>";
  SecondWindowDefinition+="</ul><br>";
 }

if (umbral_template)
 {
  SecondWindowDefinition+="Umbral:<p><ul>";
/*
  SecondWindowDefinition+="<li>Undead with d12; usual undead traits; incorporeal</li>";
  SecondWindowDefinition+="<li>+2 dexterity, -4 intelligence, +2 wisdom, +2 charisma, no constitution, no strength.</li>";
  SecondWindowDefinition+="<li>Level adjustment +5</li>";
  SecondWindowDefinition+="<li>Usually chaotic evil, but there could be exceptions.</li>";
  SecondWindowDefinition+="<li>Turn resistance +2</li>";
  SecondWindowDefinition+="<li>Strength drain 1d6; die on reaching zero</li>";
  SecondWindowDefinition+="<li>Create spawn; any humanoid slain by strength drain rises in 1d4 rounds as a spectre</li>";
*/
  SecondWindowDefinition+="</ul><br>";
 }

if (wight_template)
 {
  SecondWindowDefinition+="Wight:<p><ul>";
  SecondWindowDefinition+="<li>Undead with d12; usual undead traits</li>";
  SecondWindowDefinition+="<li>+2 strength, +2 dexterity, +2 wisdom, +4 charisma, no constitution.</li>";
  SecondWindowDefinition+="<li>Level adjustment </li>";
  SecondWindowDefinition+="<li>Usually lawful evil, but there could be exceptions.</li>";
  SecondWindowDefinition+="<li>Energy drain (fortitude save); for each negative level bestowed, the wight gains +5 temporary hit points.</li>";
  SecondWindowDefinition+="<li>Create spawn; any humanoid slain rises in 1d4 rounds as a wight</li>";
  SecondWindowDefinition+="</ul><br>";
 }

if (wraith_template)
 {
  SecondWindowDefinition+="Wraith:<p><ul>";
  SecondWindowDefinition+="<li>Undead with d12; usual undead traits, incorporeal</li>";
  SecondWindowDefinition+="<li>+6 dexterity, +4 intelligence, +4 wisdom, +4 charisma, no constitution, no strength.</li>";
  SecondWindowDefinition+="<li>Level adjustment </li>";
  SecondWindowDefinition+="<li>Usually lawful evil, but there could be exceptions.</li>";
  SecondWindowDefinition+="<li>Free improved initiative feat</li>";
  SecondWindowDefinition+="<li>Physical damage (1 diminutive, 1s3 tiny, 1d3 small, 1d4 medium, 1d6 large, 1d8 huge, 2d6 gargantuan, 2d8 colossal)</li>";
  SecondWindowDefinition+="<li>Create spawn; any humanoid slain rises in 1d4 rounds as a wraith</li>";
  SecondWindowDefinition+="<li>Turn resistance +2</li>";
  SecondWindowDefinition+="<li>Constitution drain 1d6 on each touch</li>";
  SecondWindowDefinition+="<li>Powerless in the sunlight</li>";
  SecondWindowDefinition+="</ul><br>";
 }

if (deathknight_template)
 {
  SecondWindowDefinition+="Death Knight:<p><ul>";
  SecondWindowDefinition+="<li>Undead with d12</li>";
  SecondWindowDefinition+="<li>+4 strength, +2 wisdom, +2 charisma, no constitution.</li>";
  SecondWindowDefinition+="<li>Immune to turning</li>";
  SecondWindowDefinition+="<li>Fear aura in 15 feet to all with up through 5 HD</li>";
  SecondWindowDefinition+="<li>Damage reduction 15/magic.</li>";
  SecondWindowDefinition+="<li>Natural AC +5 or better</li>";
  SecondWindowDefinition+="<li>Spell resistance 20 + 1/level over 10</li>";
  SecondWindowDefinition+="<li>Touch attack does 1d8+charisma modifier negative energy damage, will 1/2, plus one point of constitution damage, will negates</li>";
  SecondWindowDefinition+="<li>Fireball 1/day, half the damage is divine, charisma-based DC</li>";
  SecondWindowDefinition+="<li>Immune to cold, electricity, polymorph </li>";
  SecondWindowDefinition+="<li>Summon mount with HD equal to death knight's</li>";
  SecondWindowDefinition+="<li>2x HD in undead followers</li>";
  SecondWindowDefinition+="</ul><br>";
 }

if ((rayce==82) || (halfdragon_template==true))
 {
  if (rayce==82) { SecondWindowDefinition+="Half-Dragon:<p><ul>"; }
  if (halfdragon_template==true) { SecondWindowDefinition+="Half-Dragon Template:<p><ul>"; }
  SecondWindowDefinition+="<li>+8 strength, +2 intelligence, +2 constitution, +2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Breath attack once per day</li>";
  SecondWindowDefinition+="<ul>Fire: Red (30' cone 6d10 DC 19), Brass (60' line 3d6 DC 17), Gold (30' cone, 6d10 DC 20)<br>"
  SecondWindowDefinition+="Acid: Black (60' line 6d4 DC 17), Copper (60' line 6d4 DC 17)<br>"
  SecondWindowDefinition+="Cold: White (30' cone 3d6 DC 16), Silver (30' cone 6d8 DC 18)<br>"
  SecondWindowDefinition+="Electricity: Blue (60' line 6d8 DC 18), Bronze (60' line 6d6 DC 18)<br>"
  SecondWindowDefinition+="Gas: Green (30' cone 6d6 DC 17)<br></ul>"
  SecondWindowDefinition+="<li>Damage Immunity</li>";
  SecondWindowDefinition+="<ul>Fire: Red, Brass, Gold<br>"
  SecondWindowDefinition+="Acid: Black, Copper, Green<br>"
  SecondWindowDefinition+="Cold: White, Silver<br>"
  SecondWindowDefinition+="Electricity: Blue, Bronze<br></ul>"
  SecondWindowDefinition+="<li>+4 natural armor bonus  (already included)</li>";
  SecondWindowDefinition+="<li>Wings</li>";
  SecondWindowDefinition+="<li>Hit dice increases one dice type to maximum of d12</li>";
  SecondWindowDefinition+="<li>Level adjustment +3</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==81)
 {
  SecondWindowDefinition+="Kender:<p><ul>";
  SecondWindowDefinition+="<li>Popular race of Krynn known for \"handling\"</li>";
  SecondWindowDefinition+="<li>+2 dexterity, -2 strength, -2 wisdom (already included)</li>";
  SecondWindowDefinition+="<li>+1 racial bonus on all saves)</li>";
  SecondWindowDefinition+="<li>+2 on spot, open locks, sleight of hand (already included)</li>";
  SecondWindowDefinition+="<li>-4 on concentration  (already included)</li>";
  SecondWindowDefinition+="<li>+4 on bluff checks to taunt</li>";
  SecondWindowDefinition+="<li>Immune to all fear</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==80)
 {
  SecondWindowDefinition+="Warforged:<p><ul>";
  SecondWindowDefinition+="<li>+2 constitution, -2 wisdom, -2 charisma (already included).</li>";
  SecondWindowDefinition+="<li>Composite plating makes armor unusable, 5% arcane spell failure.</li>";
  SecondWindowDefinition+="<li>Cannot heal damage naturally.</li>";
  SecondWindowDefinition+="<li>Does not eat, sleep, breathe.</li>";
  SecondWindowDefinition+="<li>25% chance to avoid criticals and sneaks.</li>";
  SecondWindowDefinition+="<li>-1 to -9 hp, inert but not progressing to death.</li>";
  SecondWindowDefinition+="<li>Immune to poison, sleep, energy drain, disease, nausea, paralysis, fatigue, exhaustion.</li>";
  SecondWindowDefinition+="<li>Slam for 1d4 bludgeoning.</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==24)
 {
  SecondWindowDefinition+="Gnoll:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, +2 constitution, -2 intelligence, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>+1 natural armor bonus  (already included)</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==8)
 {
  SecondWindowDefinition+=document.form1.otherrace_name.value+":<p><ul>";
  SecondWindowDefinition+="<li>Unfamiliar race.  Adjustments already included.</li>";
  x=2*document.form1.otherrace_strength.selectedIndex-6;
  stringy=x; if (x>=0) { stringy="+" + stringy; }
  SecondWindowDefinition+="<li>" + stringy+" strength</li>";
  x=2*document.form1.otherrace_dexterity.selectedIndex-6;
  stringy=x; if (x>=0) { stringy="+" + stringy; }
  SecondWindowDefinition+="<li>" + stringy+" dexterity</li>";
  x=2*document.form1.otherrace_constitution.selectedIndex-6;
  stringy=x; if (x>=0) { stringy="+" + stringy; }
  SecondWindowDefinition+="<li>" + stringy+" constitution</li>";
  x=2*document.form1.otherrace_intelligence.selectedIndex-6;
  stringy=x; if (x>=0) { stringy="+" + stringy; }
  SecondWindowDefinition+="<li>" + stringy+" intelligence</li>";
  x=2*document.form1.otherrace_wisdom.selectedIndex-6;
  stringy=x; if (x>=0) { stringy="+" + stringy; }
  SecondWindowDefinition+="<li>" + stringy+" wisdom</li>";
  x=2*document.form1.otherrace_charisma.selectedIndex-6;
  stringy=x; if (x>=0) { stringy="+" + stringy; }
  SecondWindowDefinition+="<li>" + stringy+" charisma</li>";
  SecondWindowDefinition+="<li>Edit sheet & write details here as needed.</li><!img src=\"spellbar.gif\"><br>"
  SecondWindowDefinition+="<li>Be sure to know bonuses to skills, special abilities, low-light / dark vision, and any natural armor class bonus.</li><!img src=\"spellbar.gif\"><br>"
  SecondWindowDefinition+="</ul>";
 }
if (rayce==92)
 {
  SecondWindowDefinition+="Gully Dwarf:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, +2 constitution, -4 intelligence, -4 wisdom (already included)</li>";
  SecondWindowDefinition+="<li>+2 on hide, move silently, and survival</li>";
  SecondWindowDefinition+="<li>+2 on fortitude saves vs. poison and disease</li>";
  SecondWindowDefinition+="<li>+4 on diplomacy checks to avoid harm from enemies</li>";
  SecondWindowDefinition+="<li>-4 on saves vs. fear</li>";
  SecondWindowDefinition+="<li>-4 on level checks vs. intimidation</li>";
  SecondWindowDefinition+="</ul>";
 }
if ((rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45))
 {
  if (rayce==45) { SecondWindowDefinition+="Aquatic "; }
  if (rayce==54) { SecondWindowDefinition+="Arctic "; }
  if (rayce==63) { SecondWindowDefinition+="Desert "; }
  if (rayce==72) { SecondWindowDefinition+="Jungle "; }
  SecondWindowDefinition+="Kobold:<p><ul>";
  if (rayce==54) { SecondWindowDefinition+="<li>+2 dexterity, -2 strength, -2 wisdom, -2 constitution (already included)</li>"; }
   else if (rayce==63) { SecondWindowDefinition+="<li>+2 dexterity, -2 strength, -2 wisdom (already included)</li>"; }
   else if (rayce==72) { SecondWindowDefinition+="<li>+2 dexterity, -4 strength, -2 intelligence (already included)</li>"; }
   else  { SecondWindowDefinition+="<li>+2 dexterity, -4 strength, -2 constitution (already included)</li>"; }
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>+1 natural armor bonus  (already included)</li>";
  if (rayce==63) { SecondWindowDefinition+="<li>+2 on survival && craft -- trapmaking</li>"; }
   else if (rayce==72) { SecondWindowDefinition+="<li>+2 on climb, use dexterity modifier</li>"; }
   else { SecondWindowDefinition+="<li>+2 on craft -- trapmaking; +2 profession -- miner</li>"; }
  SecondWindowDefinition+="<li>+2 on search (already included)</li>";
  if (rayce!=63) { SecondWindowDefinition+="<li>Dazzled in bright light</li>"; }
  if (rayce==45) {
   SecondWindowDefinition+="<li>Swim 40 feet base</li>";
   SecondWindowDefinition+="<li>Suffocates outside of water.</li>";
   SecondWindowDefinition+="<li>+8 on swim checks to take action / avoid hazard.</li>";
    }
  if (rayce==54) {
   SecondWindowDefinition+="<li>+4 on saves vs. cold environments</li>";
    }
  if (rayce==63) {
   SecondWindowDefinition+="<li>+4 on saves vs. hot environments</li>";
    }
  SecondWindowDefinition+="</ul>";
 }
if (rayce==74)
 {
  SecondWindowDefinition+="Centaur:<p><ul>";
  SecondWindowDefinition+="<li>This is the Krynn centaur.</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid type.</li>";
  SecondWindowDefinition+="<li>Large quadruped, carries 3x as much for a given strength</li>";
  SecondWindowDefinition+="<li>+4 against being bull rushed or tripped</li>";
  SecondWindowDefinition+="<li>Base land speed is 50 feet</li>";
  SecondWindowDefinition+="<li>Hoof attacks 1d6/1d6, may be secondary attacks (-5, half strength bonus)</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="<li>Proficient with longsword, longbows, shortbows</li>";
  SecondWindowDefinition+="<li>+3 natural armor class</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==168)
 {
  SecondWindowDefinition+="Alaghi:<p><ul>";
  SecondWindowDefinition+="<li>Monstrous humanoid type; hirsute sylvan humanoids.</li>";
  SecondWindowDefinition+="<li>+8 strength, +2 dexterity, +2 constitution, -4 intelligence (already included).</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="<li>+5 natural armor class</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==169)
 {
  SecondWindowDefinition+="Kuo-toa:<p><ul>";
  SecondWindowDefinition+="<li>Monstrous humanoid type; amphibious fishlike, slippery underdark dweller.</li>";
  SecondWindowDefinition+="<li>+2 strength, +2 intelligence, +2 dexterity, +4 wisdom, -2 charisma (already included).</li>";
  SecondWindowDefinition+="<li>Sees moving things even if invisible.</li>";
  SecondWindowDefinition+="<li>Notices figments for what they are.</li>";
  SecondWindowDefinition+="<li>Immune to poison, paralysis, and hold spells.</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="<li>+6 natural armor class</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==167)
 {
  SecondWindowDefinition+="Hybsil:<p><ul>";
  SecondWindowDefinition+="<li>Antelope centaurs from the Forgotten Realms.</li>";
  SecondWindowDefinition+="<li>Fey type.  +6 dexterity, +2 intelligence, +2 constitution, -2 strength.</li>";
  SecondWindowDefinition+="<li>+4 against being bull rushed or tripped</li>";
  SecondWindowDefinition+="<li>Base land speed is 50 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="<li>+2 natural armor class</li>";
  SecondWindowDefinition+="<li>Pass without trace always</li>";
  SecondWindowDefinition+="<li>Daily dancing lights, mirror image, jump</li>";
  SecondWindowDefinition+="<li>See invisible</li>";
  SecondWindowDefinition+="<li>+4 racial bonus to find and disable woodland traps</li>";
  SecondWindowDefinition+="<li>+2 natural armor class</li>";
  SecondWindowDefinition+="<li>Might have pixie sleep arrows</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==166)
 {
  SecondWindowDefinition+="Wemic:<p><ul>";
  SecondWindowDefinition+="<li>Lion centaur.</li>";
  SecondWindowDefinition+="<li>+8 strength, +2 dexterity, +2 constitution, -2 charisma (already included).</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid type, 5 levels before taking any other class.</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet.</li>";
  SecondWindowDefinition+="<li>+8 on jump checks (already included).</li>";
  SecondWindowDefinition+="<li>All six extremities have claws; those on hands are retractile.</li>";
  SecondWindowDefinition+="<li>Two claw attacks for 1d6 each, may make a one-handed weapon attack and one claw (-5 to hit and half strength bonus damage).</li>";
  SecondWindowDefinition+="<li>Face ten feet, reach 5 feet.</li>";
  SecondWindowDefinition+="<li>Level adjustment +3.</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==151)
 {
  SecondWindowDefinition+="Lupin:<p><ul>";
  SecondWindowDefinition+="<li>Wolf-like humanoids; Pacific-northwest-Indian or faux-French.</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid type.</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>Acute sense of smell</li>";
  SecondWindowDefinition+="<li>DC 10 wisdom check to sense lycanthrope within 30 feet; 15 if downwind, 60 if upwind</li>";
  SecondWindowDefinition+="<li>DC 20 wisdom check to spot invisibles within 5 feet</li>";
  SecondWindowDefinition+="<li>+2 on survival checks to follow tracks</li>";
  SecondWindowDefinition+="<li>-2 on saves vs bad smells</li>";
  SecondWindowDefinition+="<li>+1 attack and damage vs. werewolves</li>";
  SecondWindowDefinition+="<li>+2 on listen checks</li>";
  SecondWindowDefinition+="<li>+2 on ride checks; ride is always a class skill</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==129)
 {
  SecondWindowDefinition+="Chaos Gnome:<p><ul>";
  SecondWindowDefinition+="<li>+2 constitution, +2 dexterity, +2 charisma, -2 strength (already included)</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>+1 on caster level when casting spells with chaos descriptor</li>";
  SecondWindowDefinition+="<li>+4 dodge bonus on armor class vs. giants</li>";
  SecondWindowDefinition+="<li>+2 on listen checks</li>";
  SecondWindowDefinition+="<li>Luck of chaos (reroll once/day before knowing result)</li>";
  SecondWindowDefinition+="<li>Immunity to confusion effects</li>";
  SecondWindowDefinition+="<li>Entropic shield 1/day</li>";
  SecondWindowDefinition+="<li>If charisma >=10, daze, flare, prestidigitation 1/day each</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==130)
 {
  SecondWindowDefinition+="Dream Dwarf:<p><ul>";
  SecondWindowDefinition+="<li>+2 constitution, -2 dexterity (already included)</li>";
  SecondWindowDefinition+="<li>No loss of speed from wearing armor</li>";
  SecondWindowDefinition+="<li>Stonecunning</li>";
  SecondWindowDefinition+="<li>4 to avoid being bullrushed on tripped when standing on ground</li>";
  SecondWindowDefinition+="<li>+2 on diplomacy with creatures of earth subtype</li>";
  SecondWindowDefinition+="<li>See ethereal creatures</li>";
  SecondWindowDefinition+="<li>+1 on divinations regarding earth when in contact with it</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==131)
 {
  SecondWindowDefinition+="Feral Gargun:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, +2 dexterity, +4 constitution, -2 intelligence, -2 charisma</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>Considered large when this is advantageous</li>";
  SecondWindowDefinition+="<li>Mountain Movement</li>";
  SecondWindowDefinition+="<li>Resistance to cold 5</li>";
  SecondWindowDefinition+="<li>Two claw attacks, 1d6 each</li>";
  SecondWindowDefinition+="<li>Goliath blood</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==132)
 {
  SecondWindowDefinition+="Stonechild:<p><ul>";
  SecondWindowDefinition+="<li>+8 strength, +8 constitution, +2 intelligence, -2 charisma</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>Free blind-fight feat</li>";
  SecondWindowDefinition+="<li>Outsider type</li>";
  SecondWindowDefinition+="<li>Immune to acid and poison</li>";
  SecondWindowDefinition+="<li>Magic stone 3x/day</li>";
  SecondWindowDefinition+="<li>Level adjustment +4</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==133)
 {
  SecondWindowDefinition+="Hengeyokai:<p><ul>";
  SecondWindowDefinition+="<li>-2 wisdom (already included)</li>";
  SecondWindowDefinition+="<li>Shape-changing animals</li>";
  SecondWindowDefinition+="<li>Equipment joins animal when switching from hybrid or human form</li>";
  SecondWindowDefinition+="<li>Shapechanger rather than human subtype</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>Talk with animals of their kind</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  if (badger_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Badger hybrid form gets +2 constitution, speed 20 feet, burrow 10 feet</li>";
    SecondWindowDefinition+="<li>Badger animal form: tiny, speed 30 feet, burrow 10 feet, AC 15, 2 claws 1d2-1, bite 1d3-1, strength 8. dexterity 17.</li>";
   }
  if (carp_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Carp hybrid form gets +2 dexterity, speed 10 feet, swim 30 feet</li>";
    SecondWindowDefinition+="<li>Carp animal form: diminutive, swim 20 feet, AC 19, 2 claws 1d2-1, bite 1d3-1, strength 8. dexterity 20.</li>";
   }
  if (cat_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Cat hybrid form gets +2 dexterity, +4 balance</li>";
    SecondWindowDefinition+="<li>Cat animal form: tiny, speed 30 feet, AC 14, 2 claws 1d2-1, bite 1d3-1, strength 1. dexterity 15.</li>";
   }
  if (crab_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Crab hybrid form gets +1 natural armor, +4 swim</li>";
    SecondWindowDefinition+="<li>Crab animal form: diminutive, speed 15 feet, AC 18, 2 claws 1d2-1, bite 1d3-1, strength 3. dexterity 17.</li>";
   }
  if (crane_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Crane hybrid form gets +2 dexterity, speed 20 feet, fly 20 feet</li>";
    SecondWindowDefinition+="<li>Crane animal form: small, speed 5 feet, fly 60 feet, AC 14, 2 claws 1d2-1, bite 1d3-1, strength 1. dexterity 16.</li>";
   }
  if (dog_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Dog hybrid form gets +2 constitution, +4 survival when tracking by scent</li>";
    SecondWindowDefinition+="<li>Dog animal form: small, speed 40 feet, AC 14, 2 claws 1d2-1, bite 1d3-1, strength 6. dexterity 17.</li>";
   }
  if (fox_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Fox hybrid form gets +2 dexterity, +4 escape artist</li>";
    SecondWindowDefinition+="<li>Fox animal form: small, speed 40 feet, AC 15, 2 claws 1d2-1, bite 1d3-1, strength 13. dexterity 19.</li>";
   }
  if (hare_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Hare hybrid form gets +2 dexterity, speed 40 feet</li>";
    SecondWindowDefinition+="<li>Hare animal form: tiny, speed 40 feet (seems slow), AC 16, 2 claws 1d2-1, bite 1d3-1, strength 11. dexterity 19.</li>";
   }
  if (monkey_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Monkey hybrid form gets +2 dexterity, +4 climb</li>";
    SecondWindowDefinition+="<li>Monkey animal form: tiny, speed 30 feet, climb 30 feet, AC 14, 2 claws 1d2-1, bite 1d3-1, strength 1. dexterity 15.</li>";
   }
  if (raccoondog_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Raccoon Dog hybrid form gets +2 strength, +4 survival when tracking by scent</li>";
    SecondWindowDefinition+="<li>Raccoon Dog animal form: small, speed 30 feet, AC 13, 2 claws 1d2-1, bite 1d3-1, strength 3. dexterity 13.</li>";
   }
  if (rat_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Rat hybrid form gets +2 dexterity, +4 hide</li>";
    SecondWindowDefinition+="<li>Rat animal form: tiny, speed 15 feet, climb 15 feet, AC 14, 2 claws 1d2-1, bite 1d3-1, strength 12. dexterity 15.</li>";
   }
  if (sparrow_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Sparrow hybrid form gets +2 dexterity, speed 20 feet, fly 20 feet</li>";
    SecondWindowDefinition+="<li>Sparrow animal form: fine, speed 1 foot, fly 50 feet, AC 24, 2 claws 1d2-1, bite 1d3-1, strength 1. dexterity 23.</li>";
   }
  if (weasel_hengeyokai==true)
   {
    SecondWindowDefinition+="<li>Weasel hybrid form gets +2 constitution, +4 move silently</li>";
    SecondWindowDefinition+="<li>Weasel animal form: tiny, speed 20 feet, climb 20 feet, AC 14, 2 claws 1d2-1, bite 1d3-1, strength 3. dexterity 15.</li>";
   }
  SecondWindowDefinition+="</ul>";
 }
if (rayce==134)
 {
  SecondWindowDefinition+="Korobokuru:<p><ul>";
  SecondWindowDefinition+="<li>+2 constitution, -2 intelligence (already included)</li>";
  SecondWindowDefinition+="<li>Dwarf types with lots of body hair, some facial hair</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>+2 bonus on saves vs. poison</li>";
  SecondWindowDefinition+="<li>+2 bonus on saves vs. spells and spell-like effects</li>";
  SecondWindowDefinition+="<li>+1 bonus on attacks vs. goblinoids</li>";
  SecondWindowDefinition+="<li>+4 dodge bonus on AC vs. giants</li>";
  SecondWindowDefinition+="<li>+2 bonus on survival checks</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==135)
 {
  SecondWindowDefinition+="Ratling:<p><ul>";
  SecondWindowDefinition+="<li>+2 constitution, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Good-natured rat folks</li>";
  SecondWindowDefinition+="<li>Access to bakemono (\"goblin\") and shadowlands (\"undercommon\") languages</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>+2 on hide and move silently (already included)</li>";
  SecondWindowDefinition+="<li>+2 bonus on saves vs. poison</li>";
  SecondWindowDefinition+="<li>Immune to the shadowlands taint in Rokugon</li>";
  SecondWindowDefinition+="<li>1d4 damage from claws / teeth</li>";
  SecondWindowDefinition+="<li>Keen scent; can take scent feat if wisdom>=11</li>";
  SecondWindowDefinition+="</ul>";
 }
if ((rayce==136) || (rayce==137) || (rayce==138))
 {
  if (rayce==136) { SecondWindowDefinition+="Bamboo "; }
  if (rayce==137) { SecondWindowDefinition+="River "; }
  if (rayce==138) { SecondWindowDefinition+="Sea "; }
  SecondWindowDefinition+="Spiritfolk:<p><ul>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>Spirit subtype</li>";
  if (rayce==136)
   {
    SecondWindowDefinition+="<li>+2 on wilderness checks and +4 on hide in the forest</li>";
    SecondWindowDefinition+="<li>Leave no trail</li>";
    SecondWindowDefinition+="<li>+2 on saves vs. spells and spell-like abilities involving wood, rock, stone, earth</li>";
    SecondWindowDefinition+="<li>Speak with animals once per day</li>";
   }
  if (rayce==137)
   {
    SecondWindowDefinition+="<li>Breathe water or air; good swimmer</li>";
    SecondWindowDefinition+="<li>Leave no trail</li>";
    SecondWindowDefinition+="<li>+2 on saves vs. spells and spell-like abilities involving water</li>";
    SecondWindowDefinition+="<li>Speak with fishes once per day</li>";
   }
  if (rayce==138)
   {
    SecondWindowDefinition+="<li>Breathe water or air; good swimmer</li>";
    SecondWindowDefinition+="<li>Leave no trail</li>";
    SecondWindowDefinition+="<li>+2 on saves vs. spells and spell-like abilities involving fire</li>";
    SecondWindowDefinition+="<li>Predict weather for 24 hr on Know Nature check at +2, DC 15</li>";
   }
  SecondWindowDefinition+="</ul>";
 }
if (rayce==139)
 {
  SecondWindowDefinition+="Vanara:<p><ul>";
  SecondWindowDefinition+="<li>+2 wisdom, +2 intelligence, -2 strength (already included)</li>";
  SecondWindowDefinition+="<li>Kindly monkey-folks</li>";
  SecondWindowDefinition+="<li>Climb speed 20 feet</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>+4 on balance and jump, +2 on hide and move silently</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==140)
 {
  SecondWindowDefinition+="Grippli:<p><ul>";
  SecondWindowDefinition+="<li>Good-natured frog people</li>";
  SecondWindowDefinition+="<li>+2 dexterity, -2 strength (already included)</li>";
  SecondWindowDefinition+="<li>Supposedly illiterate by culture; I ignored this</li>";
  SecondWindowDefinition+="<li>+1 to hit vermin; you may trade this for a wild psionic talent</li>";
  SecondWindowDefinition+="<li>+4 dodge against animals and vermin</li>";
  SecondWindowDefinition+="<li>+2 on saves vs. poison</li>";
  SecondWindowDefinition+="<li>+4 on jump checks</li>";
  SecondWindowDefinition+="<li>+8 on climb checks</li>";
  SecondWindowDefinition+="<li>+2 on move silently</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==75)
 {
  SecondWindowDefinition+="Ogre:<p><ul>";
  SecondWindowDefinition+="<li>This is the Krynn ogre.</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid or giant type.</li>";
  SecondWindowDefinition+="<li>+10 strength, +4 constitution, -2 dexterity, -4 intelligence, -4 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>+5 natural armor class</li>";
  SecondWindowDefinition+="<li>Proficient with simple & martial weapons, light and medium armors, shields</li>";
  SecondWindowDefinition+="<li>Level adjustment +2 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==175)
 {
  SecondWindowDefinition+="Half-Ogre:<p><ul>";
  SecondWindowDefinition+="<li>This is the Savage Species half-ogre.</li>";
  SecondWindowDefinition+="<li>This is a suggested player-character race.</li>";
  SecondWindowDefinition+="<li>+6 strength, +2 constitution, -2 dexterity, -2 intelligence, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>For all special abilities, considered a giant.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==176)
 {
  SecondWindowDefinition+="Desmodu:<p><ul>";
  SecondWindowDefinition+="<li>Batlike, bat-riding underdark humanoids, generally good-natured.</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid type.</li>";
  SecondWindowDefinition+="<li>+10 strength, +8 constitution, +6 dexterity, +4 intelligence, +4 wisdom (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>2 claw attacks for 1d4+strength bonus, 1 bite attack for 1d4+ half strength bonus</li>";
  SecondWindowDefinition+="<li>A bite wound continues to bleed for 1 point per round until there is a successful heal check or some magical healing</li>";
  SecondWindowDefinition+="<li>Blindsight by echo</li>";
  SecondWindowDefinition+="<li>Can gallop 40 feet</li>";
  SecondWindowDefinition+="<li>+4 on spot and listen checks as long as blindsight works; +2 on grapple checks; +2 on balance and jump if and only if light or no armor</li>";
  SecondWindowDefinition+="<li>+5 natural armor class</li>";
  SecondWindowDefinition+="<li>Level adjustment +2 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==177)
 {
  SecondWindowDefinition+="Loxo:<p><ul>";
  SecondWindowDefinition+="<li>Two-trunked anthropomorphic elephants.</li>";
  SecondWindowDefinition+="<li>+8 strength, +2 dexterity, +2 constitution, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>Loxo speak their own language.</li>";
  SecondWindowDefinition+="<li>Trample a medium-sized or smaller opponent each round as a standard action, 1d8+6 damage.</li>";
  SecondWindowDefinition+="<li>If a loxo sees a clan member killed or incapacitated, the loxo goes berserk, +4 str +4 com +2 on will -2 on AC for six rounds.</li>";
  SecondWindowDefinition+="<li>Level adjustment +2 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==85)
 {
  SecondWindowDefinition+="High Ogre:<p><ul>";
  SecondWindowDefinition+="<li>This is the Krynn high ogre, or Irda.</li>";
  SecondWindowDefinition+="<li>++2 intelligence, +2 charisma, -2 constitution (already included)</li>";
  SecondWindowDefinition+="<li>Shapechange (humanoid only) 3x/day; type is humanoid shapeshifter</li>";
  SecondWindowDefinition+="<li>Low light vision</li>";
  SecondWindowDefinition+="<li>1/day </i>dancing lights, flare ghost sound, light, mage hand</i></li>";
  SecondWindowDefinition+="<li>Level adjustment +2 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==76)
 {
  SecondWindowDefinition+="Half-Ogre:<p><ul>";
  SecondWindowDefinition+="<li>This is the Krynn half-ogre.</li>";
  SecondWindowDefinition+="<li>+4 strength, +2 constitution, -2 intelligence, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>+1 natural armor class</li>";
  SecondWindowDefinition+="<li>Low light vision </li>";
  SecondWindowDefinition+="<li>Level adjustment +1 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==77)
 {
  SecondWindowDefinition+="Minotaur:<p><ul>";
  SecondWindowDefinition+="<li>This is the Krynn minotaur.</li>";
  SecondWindowDefinition+="<li>May gore for 1d6+ strength modifier</li>";
  SecondWindowDefinition+="<li>May gore as secondary attack at -5 to hit, 1d6+half strength modifier</li>";
  SecondWindowDefinition+="<li>May charge for 2d6+1 1/2 times strength modifier</li>";
  SecondWindowDefinition+="<li>May take \"scent\" as a feature</li>";
  SecondWindowDefinition+="<li>+2 on intimidate, swim, and use rope (already included)</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==78)
 {
  SecondWindowDefinition+="Bariaur:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, +2 constitution, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Large quadruped, carries 3x as much for a given strength</li>";
  SecondWindowDefinition+="<li>+4 against being bull rushed or tripped</li>";
  SecondWindowDefinition+="<li>+2 on listen and spot (already included)</li>";
  SecondWindowDefinition+="<li>Spell resistance 11+class level, maybe</li>";
  SecondWindowDefinition+="<li>On charge, may gore for 2d6+2 damage</li>";
  SecondWindowDefinition+="<li>Level adjustment +2 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==152)
 {
  SecondWindowDefinition+="Rakshasa:<p><ul>";
  SecondWindowDefinition+="<li>+2 strength, +4 dexterity, +6 constitution, +2 intelligence, +2 wisdom, +6 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Outsider types; usually lawful and tending to evil</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>+4 on bluff and disguise (already included)</li>";
  SecondWindowDefinition+="<li>+4 more on bluff and disguise if reading opponent's mind</li>";
  SecondWindowDefinition+="<li>+10 more on disguise if using shapechanging ability</li>";
  SecondWindowDefinition+="<li>Natural weapons 2 claws (1d4) and 1 bite (1d6)</li>";
  SecondWindowDefinition+="<li>Spells and shape-changing</li>";
  SecondWindowDefinition+="<li>Damage reduction 15/good and piercing</li>";
  SecondWindowDefinition+="<li>Spell resistance 27+class level, maybe</li>";
  SecondWindowDefinition+="<li>Level adjustment +7 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==178)
 {
  SecondWindowDefinition+="Astral Deva:<p><ul>";
  SecondWindowDefinition+="<li>+12 strength, +8 dexterity, +8 constitution, +8 intelligence, +8 wisdom, +10 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Outsider types; always good</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Fly 100 feet (good)</li>";
  SecondWindowDefinition+="<li>+4 on listen and spot (already included)</li>";
  SecondWindowDefinition+="<li>Spells and shape-changing</li>";
  SecondWindowDefinition+="<li>Damage reduction 10/+1; spell resistance 30</li>";
  SecondWindowDefinition+="<li>Protective aura, fire resistance 20, electricity cold acid and petrification immunity, +4 save vs. poison</li>";
  SecondWindowDefinition+="<li>Uncanny dodge; never caught flat-footed and cannot be flanked</li>";
  SecondWindowDefinition+="<li>Magical abilities, stunning weapon</li>";
  SecondWindowDefinition+="<li>Level adjustment +8 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==153)
 {
  SecondWindowDefinition+="Hound Archon:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, +2 constitution, +2 wisdom, +2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Outsider type; probably all incline to law and goodness</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Low light vision</li>";
  SecondWindowDefinition+="<li>Scent</li>";
  SecondWindowDefinition+="<li>Shape-change (canine, probably humanoid also)</li>";
  SecondWindowDefinition+="<li>Aura of menace</li>";
  SecondWindowDefinition+="<li>Immune to electricity & petrification</li>";
  SecondWindowDefinition+="<li>+4 racial bonus on saves vs. poison</li>";
  SecondWindowDefinition+="<li>Magic circle against evil</li>";
  SecondWindowDefinition+="<li>Teleport</li>";
  SecondWindowDefinition+="<li>Tongues</li>";
  SecondWindowDefinition+="<li>Damage reduction 10/evil</li>";
  SecondWindowDefinition+="<li>Spell resistance 16+class level, maybe</li>";
  SecondWindowDefinition+="<li>Level adjustment +5 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==154)
 {
  SecondWindowDefinition+="Janni:<p><ul>";
  SecondWindowDefinition+="<li>+6 strength, +4 dexterity, +2 constitution, +4 intelligence, +4 wisdom, +2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Outsider type</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Change creatures' size</li>";
  SecondWindowDefinition+="<li>Fly 20 feet, perfect</li>";
  SecondWindowDefinition+="<li>Invisibility (self only) 3/day</li>";
  SecondWindowDefinition+="<li>Speak with animals 3/day</li>";
  SecondWindowDefinition+="<li>Create food and water (1/day)</li>";
  SecondWindowDefinition+="<li>Ethereal jaunt for 1 hour daily</li>";
  SecondWindowDefinition+="<li>Survive on elemental planes for 48 hours</li>";
  SecondWindowDefinition+="<li>Free Improved Initiative feat</li>";
  SecondWindowDefinition+="<li>Elemental endurance</li>";
  SecondWindowDefinition+="<li>Fire resistance 10</li>";
  SecondWindowDefinition+="<li>Telepathy 100 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment +5 </li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==79)
 {
  SecondWindowDefinition+="Merfolk:<p><ul>";
  SecondWindowDefinition+="<li>Aquatic fish-tailed people</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==141)
 {
  SecondWindowDefinition+="Doppelganger:<p><ul>";
  SecondWindowDefinition+="<li>+2 strength, +2 dexterity, +2 constitution, +2 intelligence, +4 wisdom, +2 charisma (already included).</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment +4</li>";
  SecondWindowDefinition+="<li>+10 on disguise checks if using shapechanging ability</li>";
  SecondWindowDefinition+="<li>+4 additional bonus on bluff and disguise if reading minds</li>";
  SecondWindowDefinition+="<li>Detect thoughts</li>";
  SecondWindowDefinition+="<li>Change shape</li>";
  SecondWindowDefinition+="<li>Immune to sleep and charm</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==142)
 {
  SecondWindowDefinition+="Gargoyle:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, +4 dexterity, +8 constitution, -4 intelligence, -4 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid</li>";
  SecondWindowDefinition+="<li>Damage reduction 10/magic</li>";
  SecondWindowDefinition+="<li>Freeze -- DC20 to recognize not a statue</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Fly 60 feet (average)</li>";
  SecondWindowDefinition+="<li>Level adjustment +5</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==143)
 {
  SecondWindowDefinition+="Grimlock:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, +2 dexterity, +2 constitution, -2 wisdom, -4 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid; eyeless</li>";
  SecondWindowDefinition+="<li>Blindsight 40 feet</li>";
  SecondWindowDefinition+="<li>Automatic proficiency with battle axe</li>";
  SecondWindowDefinition+="<li>+10 racial bonus on hide checks when underground or in mountains</li>";
  SecondWindowDefinition+="<li>Scent ability</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="<li>Immune to all attacks based on sight</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==144)
 {
  SecondWindowDefinition+="YuanTi Pureblood:<p><ul>";
  SecondWindowDefinition+="<li>Monstrous humanoid type.</li>";
  SecondWindowDefinition+="<li>+2 dexterity, +2 intelligence, +2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="<li>Free alertenss and blindfight feats</li>";
  SecondWindowDefinition+="<li>Spell-like abilities</li>";
  SecondWindowDefinition+="<li>Alternate form, detect poison</li>";
  SecondWindowDefinition+="<li>Spell resistance 14+class level</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==145)
 {
  SecondWindowDefinition+="Mind Flayer:<p><ul>";
  SecondWindowDefinition+="<li>+2 strength, +4 dexterity, +2 constitution, +8 intelligence, +6 wisdom, +6 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment +7</li>";
  SecondWindowDefinition+="<li>2 tentacles (1d4)</li>";
  SecondWindowDefinition+="<li>Mind blast</li>";
  SecondWindowDefinition+="<li>Psionics</li>";
  SecondWindowDefinition+="<li>Improved grab (if hit large or smaller creature, may try to start grapple without provoking attack of opportunity); extract brain</li>";
  SecondWindowDefinition+="<li>Spell resistance 25+class level</li>";
  SecondWindowDefinition+="<li>Telepathy 100 feet</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==146)
 {
  SecondWindowDefinition+="Ogre Mage:<p><ul>";
  SecondWindowDefinition+="<li>Giant type.</li>";
  SecondWindowDefinition+="<li>+10 strength, +6 constitution, +4 intelligence, +4 wisdom, +6 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Fly 40 feet (good)</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment 7</li>";
  SecondWindowDefinition+="<li>Giant</li>";
  SecondWindowDefinition+="<li>Spell-like abilities</li>";
  SecondWindowDefinition+="<li>Regeneration 5</li>";
  SecondWindowDefinition+="<li>Spell resistance 19</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==147)
 {
  SecondWindowDefinition+="Troll:<p><ul>";
  SecondWindowDefinition+="<li>+12 strength, +4 dexterity, +12 constitution, -4 intelligence, -2 wisdom, -4 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid type.</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment +5</li>";
  SecondWindowDefinition+="<li>Giant</li>";
  SecondWindowDefinition+="<li>Natural weapons -- 2 claws (1d6) and 1 bite (1d6)</li>";
  SecondWindowDefinition+="<li>Rend</li>";
  SecondWindowDefinition+="<li>Regeneration 5</li>";
  SecondWindowDefinition+="<li>Scent</li>";
  SecondWindowDefinition+="<li>Normal damage from fire and acid</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==148)
 {
  SecondWindowDefinition+="Pixie:<p><ul>";
  SecondWindowDefinition+="<li>-4 strength, +8 dexterity, +6 intelligence, +4 wisdom, +6 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Fly 60 feet (god)</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>Free \"dodge\" feat</li>";
  SecondWindowDefinition+="<li>Level adjustment +4, or +6 if can use Otto's irresistible dance</li>";
  SecondWindowDefinition+="<li>Fey</li>";
  SecondWindowDefinition+="<li>Damage reduction 10/cold iron</li>";
  SecondWindowDefinition+="<li>Greater invisibility</li>";
  SecondWindowDefinition+="<li>Spell resistance 15+class level</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==149)
 {
  SecondWindowDefinition+="Satyr:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, +2 constitution, +2 intelligence, +2 wisdom, +2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Fey</li>";
  SecondWindowDefinition+="<li>Whether there are female satyrs is controversial</li>";
  SecondWindowDefinition+="<li>Some say the female is a nymph or dryad</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>Free \"alertness\"</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="<li>Head butt (1d6)</li>";
  SecondWindowDefinition+="<li>Pipes</li>";
  SecondWindowDefinition+="<li>Damage reduction 5/cold iron</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==150)
 {
  SecondWindowDefinition+="Tasloi:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, -2 strength, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Climb speed is 20 feet</li>";
  SecondWindowDefinition+="<li>+4 on hide and move silently becomes +8 in thick forest</li>";
  SecondWindowDefinition+="<li>Use dexterity rather than strength modifier for climbing</li>";
  SecondWindowDefinition+="<li>Can always take 10 on a climb</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>Light sensitivity</li>";
  SecondWindowDefinition+="</ul>";
 }


if ((rayce==26) || (rayce==59) || (rayce==68))
 {
  if (rayce==59) { SecondWindowDefinition+="Desert"; }
  if (rayce==68) { SecondWindowDefinition+="Jungle"; }
  SecondWindowDefinition+="Goblin:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, -2 strength, -2 charisma (already included)</li>";
  if ((rayce==59) || (rayce==68)) {{ SecondWindowDefinition+="<li>Low-light vision</li>"; }}
   else { SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>"; }
  if (rayce==67) { SecondWindowDefinition+="<li>+4 on jump  (already included)</li>"; }
  else { SecondWindowDefinition+="<li>+4 on move silently and ride (already included)</li>"; }
  if (rayce==59)
   {
    SecondWindowDefinition+="<li>+2 on gather information (already included)</li>";
    SecondWindowDefinition+="<li>+4 on saves vs. hot environments.</li>";
   }
  if (rayce==68)
   {
    SecondWindowDefinition+="<li>+8 on climb (already included)</li>";
    SecondWindowDefinition+="<li>Climb is a dexterity-related skill</li>";
   }
  SecondWindowDefinition+="</ul>";
 }

if (rayce==40)
 {
  SecondWindowDefinition+="Aquatic Goblin:<p><ul>";
  SecondWindowDefinition+="<li>+2 constitution, -2 strength, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>+2 on move silently and ride (already included)</li>";
  SecondWindowDefinition+="<li>+2 on disable device and sleight of hand (already included)</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==50)
 {
  SecondWindowDefinition+="Arctic Goblin:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, -2 strength, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Low light vision; no darkvision</li>";
  SecondWindowDefinition+="<li>+2 on bluff and sleight of hand; +4 on ride (already included)</li>";
    SecondWindowDefinition+="<li>+4 on saves vs. cold environments.</li>";
  SecondWindowDefinition+="</ul>";
 }
if (rayce==27)
 {
  SecondWindowDefinition+="Troglodyte:<p><ul>";
  SecondWindowDefinition+="<li>+4 constitution / -2 dexterity / -2 intelligence (already included)</li>";
  SecondWindowDefinition+="<li>Monstrous humanoid type.</li>";
  SecondWindowDefinition+="<li>+4 on hide (already included, +8 underground)</li>";
  SecondWindowDefinition+="<li>May claw/claw 1d4+ strength bonus x2 (multiattack), plus bite at -5 to hit 1d4+half strength bonus</li>";
  SecondWindowDefinition+="<li>Darkvision (see 90 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>+6 natural armor class</li>";
  SecondWindowDefinition+="<li>Stench.  Remember this affects friendly non-trogs also.</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==28)
 {
  SecondWindowDefinition+="Aasimar:<p><ul>";
  SecondWindowDefinition+="<li>+2 wisdom, +2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>+2 on listen and spot checks (already included)</li>";
  SecondWindowDefinition+="<li><i>Light</i> once per day</li>";
  SecondWindowDefinition+="<li>Acid, cold && electricity resistance 5</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>\"Native outsider.\"  Check with your referee.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==29)
 {
  SecondWindowDefinition+="Air Genasi:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, +2 intelligence, -2 wisdom, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li><i>Levitate</i> once per day</li>";
  SecondWindowDefinition+="<li>+1 on saves vs. air magics, +1 per five levels</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>\"Native outsider.\"  Check with your referee.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==30)
 {
  SecondWindowDefinition+="Earth Genasi:<p><ul>";
  SecondWindowDefinition+="<li>+2 strength, +2 constitution, -2 wisdom, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li><i>Pass Without Trace</i> once per day</li>";
  SecondWindowDefinition+="<li>+1 on saves vs. earth magics, +1 per five levels</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>\"Native outsider.\"  Check with your referee.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==31)
 {
  SecondWindowDefinition+="Fire Genasi:<p><ul>";
  SecondWindowDefinition+="<li>+2 intelligence, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li><i>Control Flame</i> once per day</li>";
  SecondWindowDefinition+="<li>+1 on saves vs. fire magics, +1 per five levels</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>\"Native outsider.\"  Check with your referee.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==32)
 {
  SecondWindowDefinition+="Water Genasi:<p><ul>";
  SecondWindowDefinition+="<li>+2 constitution, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li><i>Create Water</i> once per day</li>";
  SecondWindowDefinition+="<li>+1 on saves vs. water magics, +1 per five levels</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>\"Native outsider.\"  Check with your referee.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }


if (rayce==33)
 {
  SecondWindowDefinition+="Tiefling:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, +2 intelligence, -2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>+2 on listen and spot checks (already included)</li>";
  SecondWindowDefinition+="<li><i>Darkness</i> once per day</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Cold, fire, && electricity resistance 5</li>";
  SecondWindowDefinition+="<li>\"Native outsider.\"  Check with your referee.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==35)
 {
  SecondWindowDefinition+="Chaond:<p><ul>";
  SecondWindowDefinition+="<li>+2 on escape artist and tumble checks (already included)</li>";
  SecondWindowDefinition+="<li><i>Shatter</i> once per day</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Acid, cold && sonic resistance 5</li>";
  SecondWindowDefinition+="<li>\"Native outsider.\"  Check with your referee.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==86)
 {
  SecondWindowDefinition+="Baaz Draconian:<p><ul>";
  SecondWindowDefinition+="<li>+2 constitution, -2 intelligence, -2 wisdom (already included)</li>";
  SecondWindowDefinition+="<li>Dragon type; immune to sleep and paralysis</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>First two levels as dragon, d12's</li>";
  SecondWindowDefinition+="<li>Claw x2 1d4 + strength</li>";
  SecondWindowDefinition+="<li>Bite 1d4 + strength/2</li>";
  SecondWindowDefinition+="<li>Disease immunity</li>";
  SecondWindowDefinition+="<li>Death Throes</li>";
  SecondWindowDefinition+="<li>Glide</li>";
  SecondWindowDefinition+="<li>Inspired by dragons</li>";
  SecondWindowDefinition+="<li>Spell resistance 8 + class level</li>";
  SecondWindowDefinition+="<li>\"Run\" as bonus feat</li>";
  SecondWindowDefinition+="<li>Free longsword proficiency</li>";
  SecondWindowDefinition+="<li>Difficult to bring back if killed</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==87)
 {
  SecondWindowDefinition+="Kapak Draconian:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, +2 constitution, -2 intelligence, -2 wisdom (already included)</li>";
  SecondWindowDefinition+="<li>Dragon type; immune to sleep and paralysis</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>First two levels as dragon, d12's</li>";
  SecondWindowDefinition+="<li>Bite 1d4 + strength</li>";
  SecondWindowDefinition+="<li>Disease immunity</li>";
  SecondWindowDefinition+="<li>Death Throes</li>";
  SecondWindowDefinition+="<li>Glide</li>";
  SecondWindowDefinition+="<li>Inspired by dragons</li>";
  SecondWindowDefinition+="<li>Spell resistance 11 + class level</li>";
  SecondWindowDefinition+="<li>\"Run\" as bonus feat</li>";
  SecondWindowDefinition+="<li>Free longsword proficiency</li>";
  SecondWindowDefinition+="<li>Difficult to bring back if killed</li>";
  SecondWindowDefinition+="<li>Females heal; males have poison saliva</li>";
  SecondWindowDefinition+="<li>Sneak attack for extra 1d6</li>";
  SecondWindowDefinition+="<li>Level adjustment +2</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==88)
 {
  SecondWindowDefinition+="Aurak Draconian:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, +2 intelligence, +2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Dragon type; immune to sleep and paralysis</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>First eight levels as dragon, d12's</li>";
  SecondWindowDefinition+="<li>Breath weapon</li>";
  SecondWindowDefinition+="<li>Energy ray</li>";
  SecondWindowDefinition+="<li><i>Greater invisibility</i> at will</li>";
  SecondWindowDefinition+="<li><i>Suggestion</i> and <i>Dominate Person</i> once per day each</li>";
  SecondWindowDefinition+="<li>Alternate form (males)</li>";
  SecondWindowDefinition+="<li>Dimensional step</li>";
  SecondWindowDefinition+="<li>Disguise self</li>";
  SecondWindowDefinition+="<li>Disease immunity</li>";
  SecondWindowDefinition+="<li>Death Throes</li>";
  SecondWindowDefinition+="<li>Spell resistance 20 + class level</li>";
  SecondWindowDefinition+="<li>Difficult to bring back if killed</li>";
  SecondWindowDefinition+="<li>Claw x2 1d4 + strength</li>";
  SecondWindowDefinition+="<li>Bite 1d4 + strength/2</li>";
  SecondWindowDefinition+="<li>Level adjustment +4</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==89)
 {
  SecondWindowDefinition+="Bozak Draconian:<p><ul>";
  SecondWindowDefinition+="<li>+2 strength, +2 intelligence, +2 charisma (already included)</li>";
  SecondWindowDefinition+="<li>Dragon type; immune to sleep and paralysis</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>First four levels as dragon, d12's</li>";
  SecondWindowDefinition+="<li>Death Throes</li>";
  SecondWindowDefinition+="<li>Inspired by dragons</li>";
  SecondWindowDefinition+="<li>Spell resistance 14 + class level</li>";
  SecondWindowDefinition+="<li>Difficult to bring back if killed</li>";
  SecondWindowDefinition+="<li>Claw x2 1d4 + strength</li>";
  SecondWindowDefinition+="<li>Bite 1d4 + strength/2</li>";
  SecondWindowDefinition+="<li>Level adjustment +3</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==90)
 {
  SecondWindowDefinition+="Sivak Draconian:<p><ul>";
  SecondWindowDefinition+="<li>+6 strength, +4 constitution (already included)</li>";
  SecondWindowDefinition+="<li>Dragon type; immune to sleep and paralysis</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Low-light vision</li>";
  SecondWindowDefinition+="<li>First six levels as dragon, d12's</li>";
  SecondWindowDefinition+="<li>Death Throes</li>";
  SecondWindowDefinition+="<li>Inspired by dragons</li>";
  SecondWindowDefinition+="<li>Spell resistance 16 + class level</li>";
  SecondWindowDefinition+="<li>Difficult to bring back if killed</li>";
  SecondWindowDefinition+="<li>Claw x2 1d6 + strength</li>";
  SecondWindowDefinition+="<li>Bite 1d8 + strength/2</li>";
  SecondWindowDefinition+="<li>Tail 2d4 + strength</li>";
  SecondWindowDefinition+="<li>Females blend; males shapeshift</li>";
  SecondWindowDefinition+="<li>Level adjustment +4</li>";
  SecondWindowDefinition+="</ul>";
 }

if (rayce==36)
 {
  SecondWindowDefinition+="Zenythr:<p><ul>";
  SecondWindowDefinition+="<li>+2 on balance and survival checks (already included)</li>";
  SecondWindowDefinition+="<li><i>True Strike</i> once per day</li>";
  SecondWindowDefinition+="<li>Darkvision (see 60 feet in pitch-dark)</li>";
  SecondWindowDefinition+="<li>Electrical, fire && sonic resistance 5</li>";
  SecondWindowDefinition+="<li>\"Native outsider.\"  Check with your referee.</li>";
  SecondWindowDefinition+="<li>Level adjustment +1</li>";
  SecondWindowDefinition+="</ul>";
 }


if (rayce==34)
 {
  SecondWindowDefinition+="Thri-Kreen (Mantis Warrior):<p><ul>";
  SecondWindowDefinition+="<li>+2 strength +4 dexterity -2 intelligence +2 wisdom -4 charisma</li>";
  SecondWindowDefinition+="<li>May claw 1d4+1+ strength bonus x4 (if multiattack), plus bite at -5 to hit 1d4+half strength bonus</li>";
  SecondWindowDefinition+="<li>Bite causes paralysis 2d6 minutes, 1/day, fort. save DC11</li>";
  SecondWindowDefinition+="<li>Free \"deflect arrows\" feat</li>";
  SecondWindowDefinition+="<li>Ask your referee about psionic powers.</li>";
  SecondWindowDefinition+="<li>+4 to hide in the desert</li>";
  SecondWindowDefinition+="<li>Do not sleep; immune to <i>sleep</i> magic</li>";
  SecondWindowDefinition+="<li>Skill points/humanoid level=intelligence</li>";
  SecondWindowDefinition+="<li>Level adjustment +3</li>";
  SecondWindowDefinition+="<li>I set humanoid attacks, will & reflex saves to good</li>";
  SecondWindowDefinition+="</ul>";
 }
if (((rayce==6) || (rayce==71) || (rayce==62) || (rayce==53) || (rayce==43)) || (rayce==17) || (rayce==18))
 {
  if (rayce==43) { SecondWindowDefinition+="Aquatic "; }
  if (rayce==53) { SecondWindowDefinition+="Arctic "; }
  if (rayce==17) { SecondWindowDefinition+="Tallfellow "; }
  if (rayce==18) { SecondWindowDefinition+="Deep "; }
  if (rayce==62) { SecondWindowDefinition+="Desert "; }
  if (rayce==71) { SecondWindowDefinition+="Jungle "; }
  SecondWindowDefinition+="Halfling:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity / -2 strength (already included)</li>";
  SecondWindowDefinition+="<li>Small (combat bonuses, +4 to hide already included)</li>";
  if ((rayce==6) || (rayce==71) || (rayce==53) || (rayce==43)) { SecondWindowDefinition+="<li>+2 racial bonus on climb, jump, move silently</li>"; }
  if (rayce==62) { SecondWindowDefinition+="<li>+2 racial bonus on move silently, hide, sleight of hand</li>"; }
  if (rayce==17)
   {
    SecondWindowDefinition+="<li>+2 racial bonus on search, spot, listen</li>";
    SecondWindowDefinition+="<li>Notice secret doors</li>";
   }
  if (rayce==18)
   {
    SecondWindowDefinition+="<li>Stonecunning (+2 on searching stone, intuit depth)</li>";
    SecondWindowDefinition+="<li>+2 racial bonus on appraise checks if stone/metal</li>";
    SecondWindowDefinition+="<li>Darkvision to 60 ft.</li>";
   }
  if (rayce!=71) { SecondWindowDefinition+="<li>+1 racial bonus on all saving throws (already included)</li>"; }
  if (rayce!=71) { SecondWindowDefinition+="<li>+2 morale bonus on saves vs. fear (stacks with racial bonus)</li>"; }
  if ((rayce==53) || (rayce==71)) { SecondWindowDefinition+="<li>+1 to hit with thrown weapons (not slings)</li>"; }
   else { SecondWindowDefinition+="<li>+1 to hit with thrown weapons and slings</li>"; }
  SecondWindowDefinition+="<li>+2 racial bonus on listen checks (already included)</li>";
  if (rayce==43) {
    SecondWindowDefinition+="<li>Low-light vision to 60 ft.</li>";
   SecondWindowDefinition+="<li>Swim 20 feet base</li>";
   SecondWindowDefinition+="<li>Suffocates outside of water.</li>";
   SecondWindowDefinition+="<li>+8 on swim checks to take action / avoid hazard.</li>";
    }
  if (rayce==71) {
   SecondWindowDefinition+="<li>+2 on saves vs. poison</li>"; }
  if (rayce==53) {
   SecondWindowDefinition+="<li>+2 on swim checks</li>";
   SecondWindowDefinition+="<li>+4 on saves vs. cold environments</li>";
    }
  if (rayce==62) {
   SecondWindowDefinition+="<li>+4 on saves vs. hot environments</li>";
    }
  SecondWindowDefinition+="</ul>";
 }

if (werebear_template==true)
 {
  SecondWindowDefinition+="Werebear:<p><ul>";
  WriteForAllLycanthropes();
  SecondWindowDefinition+="<li>The bear's move is 40 feet.</li>";
  SecondWindowDefinition+="<li>Transforming to werebear or hybrid gives +16 strength, +2 dexterity, +8 constitution.</li>";
  SecondWindowDefinition+="<li>Increased strength gives +8 to hit and damage and on grapples, as well as strength checks.</li>";
  SecondWindowDefinition+="<li>Increased dexterity gives +1 on initiative and reflex saves, as well as dexterity checks.</li>";
  SecondWindowDefinition+="<li>Increased constitution gives +4 on fortitude saves, as well as constitution checks.</li>";
  SecondWindowDefinition+="<li>Unless the base creature is also large, the bear's large size gives an extra +4 on grapples.</li>";
  SecondWindowDefinition+="<li>In bear form, +4 on swimming.</li>";
  SecondWindowDefinition+="<li>Two claw attacks 1d8+strength bonus, and one bite at -5 for 2d8+half strength bonus</li>";
  SecondWindowDefinition+="<li>Swim, listen, search, and spot are class skills.</li>";
  SecondWindowDefinition+="<li>Free \"Track\" feat according to system reference documents.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (wereboar_template==true)
 {
  SecondWindowDefinition+="Wereboar:<p><ul>";
  WriteForAllLycanthropes();
  SecondWindowDefinition+="<li>The boar's move is 40 feet.</li>";
  SecondWindowDefinition+="<li>Transforming to wereboar or hybrid gives +4 strength, +6 constitution.</li>";
  SecondWindowDefinition+="<li>Increased strength gives +2 to hit and damage and on grapples, as well as strength checks.</li>";
  SecondWindowDefinition+="<li>Increased constitution gives +3 on fortitude saves, as well as constitution checks.</li>";
  SecondWindowDefinition+="<li>Ferocity; fights without penalty while disabled or dying.</li>";
  SecondWindowDefinition+="<li>Two claw attacks 1d6+strength bonus, and one gore at -5 for 1d4+half strength bonus</li>";
  SecondWindowDefinition+="<li>Search, listen, and spot are class skills.</li>";
  SecondWindowDefinition+="<li>Free \"Alertness\" feat according to system reference documents.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (wererat_template==true)
 {
  SecondWindowDefinition+="Wererat:<p><ul>";
  WriteForAllLycanthropes();
  SecondWindowDefinition+="<li>The rat's move is 40 feet, climb 20 feet.</li>";
  SecondWindowDefinition+="<li>Transforming to wererat or hybrid gives +6 dexterity, +2 constitution.</li>";
  SecondWindowDefinition+="<li>Increased dexterity gives +3 on initiative and reflex saves, as well as dexterity checks.</li>";
  SecondWindowDefinition+="<li>Increased constitution gives +1 on fortitude saves, as well as constitution checks.</li>";
  SecondWindowDefinition+="<li>In rat form, the climb ability check is dexterity.</li>";
  SecondWindowDefinition+="<li>Can always take 10 on a climb check even if hassled.</li>";
  SecondWindowDefinition+="<li>No claw attacks; one bite at 1d4 + strength bonus</li>";
  SecondWindowDefinition+="<li>The bite inflicts disease.</li>";
  SecondWindowDefinition+="<li>+8 on swim checks in dire rat form.</li>";
  SecondWindowDefinition+="<li>Climb, hide, listen, move silently, search, and spot are class skills.</li>";
  SecondWindowDefinition+="<li>Free \"Weapon Finesse\" feat for bite according to system reference documents.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (weretiger_template==true)
 {
  SecondWindowDefinition+="Weretiger:<p><ul>";
  WriteForAllLycanthropes();
  SecondWindowDefinition+="<li>The tiger's move is 40 feet.</li>";
  SecondWindowDefinition+="<li>Transforming to weretiger or hybrid gives +12 strength, +4 dexterity, +6 constitution.</li>";
  SecondWindowDefinition+="<li>Increased strength gives +6 to hit and damage and on grapples, as well as strength checks.</li>";
  SecondWindowDefinition+="<li>Increased dexterity gives +2 on initiative and reflex saves, as well as dexterity checks.</li>";
  SecondWindowDefinition+="<li>Increased constitution gives +3 on fortitude saves, as well as constitution checks.</li>";
  SecondWindowDefinition+="<li>Two claw attacks 1d4+strength bonus, and one bite at -5 for 1d6+half strength bonus.</li>";
  SecondWindowDefinition+="<li>In tiger form, improved grab  (if hit large or smaller creature, may try to start grapple without provoking attack of opportunity).  If it gets a hold, try rake x2 with hind legs for 1d8+strength.  Can also rake if pounces.</li>";
  SecondWindowDefinition+="<li>Balance, hide, listen, move silently, search, spot, swim are class skills.</li>";
  SecondWindowDefinition+="<li>+4 on balance, hide, and move silently in any form.  Hide improves to +8 in tall grass.</li>";
  SecondWindowDefinition+="<li>Free \"Alertness\" feat according to system reference documents.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (werewolf_template==true)
 {
  SecondWindowDefinition+="Werewolf:<p><ul>";
  WriteForAllLycanthropes();
  SecondWindowDefinition+="<li>The wolf's move is 40 feet.</li>";
  SecondWindowDefinition+="<li>Transforming to werewolf or hybrid gives +2 strength, +4 dexterity, +4 constitution.</li>";
  SecondWindowDefinition+="<li>Increased strength gives +1 to hit and damage and on grapples, as well as strength checks.</li>";
  SecondWindowDefinition+="<li>Increased dexterity gives +2 on initiative and reflex saves, as well as dexterity checks.</li>";
  SecondWindowDefinition+="<li>Increased constitution gives +2 on fortitude saves, as well as constitution checks.</li>";
  SecondWindowDefinition+="<li>In wolf form, can try to trip on a successful bite.</li>";
  SecondWindowDefinition+="<li>Two claw attacks 1d4+strength bonus, and one bite at -5 for 1d6+half strength bonus</li>";
  SecondWindowDefinition+="<li>Hide, listen, move silently, search, spot, survival are class skills.</li>";
  SecondWindowDefinition+="<li>Free \"Track\" feat according to system reference documents.  +4 when able to use scent.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (celestial_template==true)
 {
  SecondWindowDefinition+="Celestial Template:<p><ul>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Smite evil once per day</li>";
  SecondWindowDefinition+="<li>Acid, cold, and electricity resistance</li>";
  SecondWindowDefinition+="<li>Damage reduction at levels >=4</li>";
  SecondWindowDefinition+="<li>Level adjustment +4 (?)</li>";
  SecondWindowDefinition+="<li>Spell resistance =HD+5, maximum 25</li>";
  SecondWindowDefinition+="</ul>";
 }
if (fiendish_template==true)
 {
  SecondWindowDefinition+="Fiendish Template:<p><ul>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Smite good once per day</li>";
  SecondWindowDefinition+="<li>Cold and fire resistance</li>";
  SecondWindowDefinition+="<li>Damage reduction at levels >=4</li>";
  SecondWindowDefinition+="<li>Level adjustment +4 (?)</li>";
  SecondWindowDefinition+="<li>Spell resistance =HD+5, maximum 25</li>";
  SecondWindowDefinition+="</ul>";
 }
if (axiomatic_template==true)
 {
  SecondWindowDefinition+="Axiomatic Template:<p><ul>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Smite chaos once per day</li>";
  SecondWindowDefinition+="<li>Cold, fire, electricity, and sonic resistance</li>";
  SecondWindowDefinition+="<li>Linked minds</li>";
  SecondWindowDefinition+="<li>Level adjustment +4</li>";
  SecondWindowDefinition+="<li>Spell resistance =2 x HD, maximum 25</li>";
  SecondWindowDefinition+="</ul>";
 }
if (anarchic_template==true)
 {
  SecondWindowDefinition+="Anarchic Template:<p><ul>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Smite law once per day</li>";
  SecondWindowDefinition+="<li>Acid, cold, electricity, sonic and fire resistance</li>";
  SecondWindowDefinition+="<li>Damage reduction at levels >=12</li>";
  SecondWindowDefinition+="<li>Fast healing at levels >=4</li>";
  SecondWindowDefinition+="<li>Level adjustment +4</li>";
  SecondWindowDefinition+="<li>Immune to polymorph and petrification</li>";
  SecondWindowDefinition+="</ul>";
 }
if (halfair_template==true)
 {
  SecondWindowDefinition+="Half-Air Elemental Template:<p><ul>";
  SecondWindowDefinition+="<li>+2 dexterity, +2 intelligence, +2 wisdom, +2 constitution, +2 charisma</li>";
  SecondWindowDefinition+="<li>Outsider (air)</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment +3</li>";
  SecondWindowDefinition+="<li>Immune to disease, air, and cold</li>";
  SecondWindowDefinition+="<li>Daily spell use</li>";
  SecondWindowDefinition+="<li></li>";
  SecondWindowDefinition+="</ul>";
 }
if (halffire_template==true)
 {
  SecondWindowDefinition+="Half-Fire Elemental Template:<p><ul>";
  SecondWindowDefinition+="<li>+4 dexterity, +2 intelligence, +2 charisma</li>";
  SecondWindowDefinition+="<li>Outsider (fire)</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment +3</li>";
  SecondWindowDefinition+="<li>Immune to disease and fire</li>";
  SecondWindowDefinition+="<li>Daily spell use</li>";
  SecondWindowDefinition+="</ul>";
 }
if (halfearth_template==true)
 {
  SecondWindowDefinition+="Half-Earth Elemental Template:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, -2 dexterity, +4 constitution</li>";
  SecondWindowDefinition+="<li>Outsider (earth)</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Level adjustment +3</li>";
  SecondWindowDefinition+="<li>Immune to disease and earth</li>";
  SecondWindowDefinition+="<li>Daily spell use</li>";
  SecondWindowDefinition+="</ul>";
 }
if (halfwater_template==true)
 {
  SecondWindowDefinition+="Half-Water Elemental Template:<p><ul>";
  SecondWindowDefinition+="<li>+2 strength, +2 intelligence, +2 wisdom, +2 constitution, +2 charisma</li>";
  SecondWindowDefinition+="<li>Darkvision 60 feet</li>";
  SecondWindowDefinition+="<li>Outsider (water)</li>";
  SecondWindowDefinition+="<li>Level adjustment +3</li>";
  SecondWindowDefinition+="<li>Immune to disease and water</li>";
  SecondWindowDefinition+="<li>Daily spell use</li>";
  SecondWindowDefinition+="</ul>";
 }
if (halfcelestial_template==true)
 {
  SecondWindowDefinition+="Half-Celestial Template:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, +2 dexterity, +4 constitution, +2 intelligence, +4 wisdom, +4 charisma</li>";
  SecondWindowDefinition+="<li>Outsider (native)</li>";
  SecondWindowDefinition+="<li>Feathered wings allow flying at double the base speed</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>Spells</li>";
  SecondWindowDefinition+="<li>Smite evil</li>";
  SecondWindowDefinition+="<li>Spell resistance 10+HD (maximum 35)</li>";
  SecondWindowDefinition+="<li>Damage reduction</li>";
  SecondWindowDefinition+="<li>Acid, cold, electricity resistance 10</li>";
  SecondWindowDefinition+="<li>+4 on saves vs. poison</li>";
  SecondWindowDefinition+="</ul>";
 }
if (halffiend_template==true)
 {
  SecondWindowDefinition+="Half-Fiend Template:<p><ul>";
  SecondWindowDefinition+="<li>+4 strength, +4 dexterity, +2 constitution, +4 intelligence, +2 charisma</li>";
  SecondWindowDefinition+="<li>Outsider (native)</li>";
  SecondWindowDefinition+="<li>Bat wings allow flying at double the base speed</li>";
  SecondWindowDefinition+="<li>Darkvision to 60 feet</li>";
  SecondWindowDefinition+="<li>Spells</li>";
  SecondWindowDefinition+="<li>Immune to poison</li>";
  SecondWindowDefinition+="<li>Spell resistance 10+HD (maximum 35)</li>";
  SecondWindowDefinition+="<li>Damage reduction</li>";
  SecondWindowDefinition+="<li>Acid, cold, electricity, and fire resistance 10</li>";
  SecondWindowDefinition+="<li>Claw and bite attacks</li>";
  SecondWindowDefinition+="</ul>";
 }

if (barbarian_levels + epic_barbarian_levels>0)
 {
  SecondWindowDefinition+=barbariantotemname()+"Barbarian:<p><ul>";

  SecondWindowDefinition+="<li>Illiteracy (2 skill points to learn to read)</li>";
  SecondWindowDefinition+="<li>Rage</li>";
  if ((barbarian_totem!=1) && (barbarian_totem!=2) && (barbarian_totem!=3) && (barbarian_totem!=4) && (barbarian_totem!=5) && (barbarian_totem!=8) && (barbarian_totem!=9))
   { SecondWindowDefinition+="<li>Fast Movement (already included)</li>"; }
  if (barbarian_totem==1) { SecondWindowDefinition+="<li>Climb at half of land speed (level 1)</li>"; }
  if (barbarian_totem==2) { SecondWindowDefinition+="<li>+3 hit points (level 1)</li>"; }
  if (barbarian_totem==3) { SecondWindowDefinition+="<li>Diehard while raging (level 1)</li>"; }
  if (barbarian_totem==4) { SecondWindowDefinition+="<li>Blind-Fight bonus feat (level 1)</li>"; }
  if (barbarian_totem==5) { SecondWindowDefinition+="<li>+2 on Spot checks (already included)(level 1)</li>"; }
  if (barbarian_totem==6) { SecondWindowDefinition+="<li>Run bonus feat (level 1)</li>"; }
  if (barbarian_totem==6) { SecondWindowDefinition+="<li>Endurance bonus feat (level 1)</li>"; }
  if (barbarian_totem==8) { SecondWindowDefinition+="<li>Run bonus feat (level 1)</li>"; }
  if (barbarian_totem==9) { SecondWindowDefinition+="<li>+2 on saves vs. poison (level 1)</li>"; }


  if (barbarian_totem==10) { SecondWindowDefinition+="<li>Improved Trip bonus feat (Level 2)</li>"; }
  if ((barbarian_totem!=1) && (barbarian_totem!=2) && (barbarian_totem!=3) && (barbarian_totem!=4) && (barbarian_totem!=6) && (barbarian_totem!=8) && (barbarian_totem!=9) && (barbarian_totem!=10))
   { SecondWindowDefinition+="<li>Uncanny Dodge (level 2)</li>"; }
  if (barbarian_totem==1) { SecondWindowDefinition+="<li>+2 on Intimidate checks (already included) (level 2)</li>"; }
  if (barbarian_totem==2) { SecondWindowDefinition+="<li>Improved Grapple bonus feat (level 2)</li>"; }
  if (barbarian_totem==9) { SecondWindowDefinition+="<li>+2 on Move Silently (already included)(level 2)</li>"; }
  if (barbarian_totem==4) { SecondWindowDefinition+="<li>+2 on saves vs. sleep && paralysis (level 2)</li>"; }
  if (barbarian_totem==8) { SecondWindowDefinition+="<li>+2 on Hide (already included)(level 2)</li>"; }

  if (barbarian_totem==3) { SecondWindowDefinition+="<li>Rage lasts an extra two rounds (level 3)</li>"; }
  if (barbarian_totem==5) { SecondWindowDefinition+="<li>Lightning Reflexes bonus feat (level 3)</li>"; }
  if (barbarian_totem==6) { SecondWindowDefinition+="<li>+2 on Handle Animals and Ride, horses only bonus feat (level 3)</li>"; }
  if (barbarian_totem==9) { SecondWindowDefinition+="<li>Improved Grapple bonus feat (Level 3)</li>"; }
  if ((barbarian_totem!=1) && (barbarian_totem!=2) && (barbarian_totem!=3) && (barbarian_totem!=4) && (barbarian_totem!=5) && (barbarian_totem!=6) && (barbarian_totem!=9) && (barbarian_totem!=10))
   { SecondWindowDefinition+="<li>Trap Sense (level 3)</li>"; }
  if (barbarian_totem==1) { SecondWindowDefinition+="<li>Power Attack bonus feat (level 3)</li>"; }
  if (barbarian_totem==2) { SecondWindowDefinition+="<li>Great Fortitude bonus feat (level 3)</li>"; }

  if (barbarian_totem==4) { SecondWindowDefinition+="<li>Frightful Presence (level 5)</li>"; }
  if ((barbarian_totem!=1) && (barbarian_totem!=2) && (barbarian_totem!=3) && (barbarian_totem!=4) && (barbarian_totem!=6) && (barbarian_totem!=8) && (barbarian_totem!=9) && (barbarian_totem!=10))
   { SecondWindowDefinition+="<li>Improved Uncanny Dodge (level 5)</li>"; }
  if (barbarian_totem==8) { SecondWindowDefinition+="<li>+2 on damage when charging (level 5)</li>"; }
  if (barbarian_totem==1) { SecondWindowDefinition+="<li>Climb at land speed (level 5)</li>"; }
  if (barbarian_totem==2) { SecondWindowDefinition+="<li>+4 on grapple checks while raging (level 5)</li>"; }
  if (barbarian_totem==9) { SecondWindowDefinition+="<li>Improved Initiative (Level 5)</li>"; }
  if (barbarian_totem==10) { SecondWindowDefinition+="<li>Track (Level 5)</li>"; }


  if (barbarian_totem==3) { SecondWindowDefinition+="<li>Damage Reduction 2/- (level 7)</li>"; }
   else { SecondWindowDefinition+="<li>Damage Reduction 1/- (level 7)</li>"; }
  if (barbarian_totem==3) { SecondWindowDefinition+="<li>Damage Reduction 3/- (level 10)</li>"; }
   else { SecondWindowDefinition+="<li>Damage Reduction 2/- (level 10)</li>"; }
  SecondWindowDefinition+="<li>Greater Rage (level 11)</li>";
  if (barbarian_totem==3) { SecondWindowDefinition+="<li>Damage Reduction 4/- (level 13)</li>"; }
   else { SecondWindowDefinition+="<li>Damage Reduction 3/- (level 13)</li>"; }
  SecondWindowDefinition+="<li>Indominitable Will (level 14)</li>";
  if (barbarian_totem==3) { SecondWindowDefinition+="<li>Damage Reduction 5/- (level 16)</li>"; }
   else { SecondWindowDefinition+="<li>Damage Reduction 4/- (level 16)</li>"; }
  SecondWindowDefinition+="<li>Tireless Rage (level 17)</li>";
  if (barbarian_totem==3) { SecondWindowDefinition+="<li>Damage Reduction 6/- (level 19)</li>"; }
   else { SecondWindowDefinition+="<li>Damage Reduction 5/- (level 19)</li>"; }
  SecondWindowDefinition+="<li>Mighty Rage (level 20)</li>";
  SecondWindowDefinition+="</ul>";
 }

// Bard Class
if (bard_levels + epic_bard_levels>0) {
var knowHistory = "";
var bardicKnow = (knowledgehistory >= 5) ? bard_levels+modifier_number(intelligence)+2 : bard_levels+modifier_number(intelligence);
// bardicKnow = bard_levels+modifier_number(intelligence);
if (knowledgehistory >= 5) {
// bardicKnow += 2;
knowHistory = " +2 [Knowledge (History)] "; }

  SecondWindowDefinition+=bardtotemname()+"Bard:<p><ul>";
  SecondWindowDefinition+="<li>Bardic Knowledge +"+bardicKnow+" (bard level + Int modifier)"+knowHistory+".</li>";
  SecondWindowDefinition+="<li>Bardic Music.</li>";
  SecondWindowDefinition+="<li>Know limited numbers of spells.</li>";

  if (bard_totem==1) {
    SecondWindowDefinition+="<li>Bardic sages need intelligence (not charisma) 10+level to cast a spell.</li>";
    SecondWindowDefinition+="<li>Bardic sages get +2 on bard knowledge checks.</li>";
    SecondWindowDefinition+="<li>Bardic sages know one additional divination per level.</li>";
    SecondWindowDefinition+="<li>Bardic sages have access to some additional informational spells.</li>";
    SecondWindowDefinition+="<li>Bardic sage music has duration 3 rounds, not 5.</li>";
   }
  if (bard_totem==2) {
    SecondWindowDefinition+="<li>Divine bards need wisdom (not charisma) 10+level to cast a spell.</li>";
    SecondWindowDefinition+="<li>Divine bards have access to some additional clerical-type spells.</li>";
   }
  if (bard_totem==3) {
    SecondWindowDefinition+="<li>Savage bards have different spells, largely druid-type.</li>";
   }
  if (charisma>=12) {
  	SecondWindowDefinition+="<li>High charisma gains bonus spells daily.</li>"; }
  SecondWindowDefinition+="</ul>";
 }

if (cleric_levels + epic_cleric_levels>0)
 {
  SecondWindowDefinition+=clerictotemname()+"Cleric:<p><ul>";
  SecondWindowDefinition+="<li>Alignment Aura</li>";
  if (channels_energy==1) { SecondWindowDefinition+="<li>Spontaneous Casting (heal)</li>"; }
  if (channels_energy==2) { SecondWindowDefinition+="<li>Spontaneous Casting (harm)</li>"; }
  if (channels_energy==1) { SecondWindowDefinition+="<li>Turn Undead"; }
  if (channels_energy==2) { SecondWindowDefinition+="<li>Rebuke Undead"; }
  if (3+modifier_number(charisma)+4*has_extraturning>0)
   { SecondWindowDefinition+=" ("+(3+modifier_number(charisma)+4*has_extraturning)+"x/day)</li>"; }
  if (cleric_totem==1)
   {
    SecondWindowDefinition+="<li>Lore ability as bard</li>";
    SecondWindowDefinition+="<li>Free Knowledge domain</li>";
    SecondWindowDefinition+="<li>Cloistered cleric also get additional spell choices</li>";
   }
  if (wisdom>=12) { SecondWindowDefinition+="<li>High wisdom gains bonus spells daily</li>"; }
  SecondWindowDefinition+="<li>Domain choices give additional abilities</li>";
  SecondWindowDefinition+="</ul>";
 }

if (druid_levels + epic_druid_levels>0)
 {
  SecondWindowDefinition+=druidtotemname()+"Druid:<p><ul>";
  if (druid_totem!=1)
  {
   SecondWindowDefinition+="<li>Spontaneous Casting (summon nature's ally)</li>";
   SecondWindowDefinition+="<li>Animal Companion</li>";
   SecondWindowDefinition+="<li>Wild Empathy</li>";
  }
  if (druid_totem==1)
  {
   SecondWindowDefinition+="<li>Fast movement and rage (as barbarian)</li>";
   SecondWindowDefinition+="<li>At level 17, not fatigued after raging</li>";
   SecondWindowDefinition+="<li>No Animal Companion</li>";
   SecondWindowDefinition+="<li>No spontaneous casting of summoning spells</li>";
   SecondWindowDefinition+="<li>Wild Empathy checks at -4</li>";
  }
  SecondWindowDefinition+="<li>+2 on Knowledge (nature) and Survival (already included)</li>";
  SecondWindowDefinition+="<li>Woodland Stride (level 2)</li>";
  SecondWindowDefinition+="<li>Trackless Step (level 3)</li>";
  SecondWindowDefinition+="<li>Resist Nature's Lure (level 4)</li>";
  SecondWindowDefinition+="<li>Wild Shape (level 5)</li>";
  SecondWindowDefinition+="<li>Venom Immunity (level 9)</li>";
  SecondWindowDefinition+="<li>A Thousand Faces (level 13)</li>";
  SecondWindowDefinition+="<li>Timeless Body (level 15)</li>";
  if (wisdom>=12) { SecondWindowDefinition+="<li>High wisdom gains bonus spells daily</li>"; }
  SecondWindowDefinition+="</ul>";
 }

if (fighter_levels + epic_fighter_levels>0)
 {
  SecondWindowDefinition+=fightertotemname()+"Fighter:<p><ul>";
  SecondWindowDefinition+="<li>Bonus Feats (already included)</li>";
  if (fighter_totem==1) { SecondWindowDefinition+="<li>Thugs get limited armor, no shield, more skills / skill points.</li>"; }
  SecondWindowDefinition+="</ul>";
 }

if (monk_levels + epic_monk_levels>0)
 {
  SecondWindowDefinition+=monktotemname()+"Monk:<p><ul>";
  if (monk_totem==1) { SecondWindowDefinition+="<li>Need Balance, Escape Artist</li>"; }
  if (monk_totem==2) { SecondWindowDefinition+="<li>Need Tumble, Combat Expertise</li>"; }
  if (monk_totem==3) { SecondWindowDefinition+="<li>Need Balance, Tumble</li>"; }
  if (monk_totem==4) { SecondWindowDefinition+="<li>Need Listen, Agile</li>"; }
  if (monk_totem==5) { SecondWindowDefinition+="<li>Need Intimidate, Perform (dance)</li>"; }
  if (monk_totem==6) { SecondWindowDefinition+="<li>Need Bluff, Sense Motive</li>"; }
  if (monk_totem==7) { SecondWindowDefinition+="<li>Need Hide, Power Attack</li>"; }
  if (monk_totem==8) { SecondWindowDefinition+="<li>Need Concentration</li>"; }
  SecondWindowDefinition+="<li>AC Bonus for Wisdom</li>";
  SecondWindowDefinition+="<li>AC Bonus for level (begins level 5)</li>";
  SecondWindowDefinition+="<li>Flurry of Blows</li>";
  SecondWindowDefinition+="<li>Unarmed Strike</li>";
  SecondWindowDefinition+="<li>Evasion (level 2)</li>";
  if (monk_totem==1) { SecondWindowDefinition+="<li>+2 on Escape Artist</li>"; }
  if (monk_totem==2) { SecondWindowDefinition+="<li>+2 on Tumble</li>"; }
  if (monk_totem==3) { SecondWindowDefinition+="<li>+2 on Balance</li>"; }
  if (monk_totem==4) { SecondWindowDefinition+="<li>+2 on Listen</li>"; }
  if (monk_totem==5) { SecondWindowDefinition+="<li>+2 on Intimidate</li>"; }
  if (monk_totem==6) { SecondWindowDefinition+="<li>+2 on Bluff</li>"; }
  if (monk_totem==7) { SecondWindowDefinition+="<li>+2 on Hide</li>"; }
  if (monk_totem==8) { SecondWindowDefinition+="<li>+2 on Concentration</li>"; }
  SecondWindowDefinition+="<li>Fast Movement (already included)</li>";
  if (monk_totem==1) { SecondWindowDefinition+="<li>Dodge (bonus feat level 1)</li>"; }
  if (monk_totem==2) { SecondWindowDefinition+="<li>Improved Grapple (bonus feat level 1)</li>"; }
  if (monk_totem==3) { SecondWindowDefinition+="<li>Stunning Fist (bonus feat level 1)</li>"; }
  if (monk_totem==4) { SecondWindowDefinition+="<li>Combat Reflexes (bonus feat level 1)</li>"; }
  if (monk_totem==5) { SecondWindowDefinition+="<li>Power Attack (bonus feat level 1)</li>"; }
  if (monk_totem==6) { SecondWindowDefinition+="<li>Combat Expertise (bonus feat level 1)</li>"; }
  if (monk_totem==7) { SecondWindowDefinition+="<li>Weapon Finesse (bonus feat level 1)</li>"; }
  if (monk_totem==8) { SecondWindowDefinition+="<li>+3 hp (level 1)</li>"; }
  if (monk_totem==0) { SecondWindowDefinition+="<li>Bonus Feats (levels 1 2 & 6)</li>"; }
  SecondWindowDefinition+="<li>Evasion (level 2)</li>";
  if (monk_totem==1) { SecondWindowDefinition+="<li>Mobility (bonus feat level 2)</li>"; }
  if (monk_totem==2) { SecondWindowDefinition+="<li>Combat Reflexes (bonus feat level 2)</li>"; }
  if (monk_totem==3) { SecondWindowDefinition+="<li>Deflect Arrows (bonus feat level 2)</li>"; }
  if (monk_totem==4) { SecondWindowDefinition+="<li>Lightning Reflexes (bonus feat level 2)</li>"; }
  if (monk_totem==5) { SecondWindowDefinition+="<li>Improved Bull Rush (bonus feat level 2)</li>"; }
  if (monk_totem==6) { SecondWindowDefinition+="<li>Improved Trip (bonus feat level 2)</li>"; }
  if (monk_totem==7) { SecondWindowDefinition+="<li>Improved Initiative (bonus feat level 2)</li>"; }
  if (monk_totem==8) { SecondWindowDefinition+="<li>Endurance (bonus feat level 2)</li>"; }

  SecondWindowDefinition+="<li>Fast Movement (level 3)</li>";
  SecondWindowDefinition+="<li>Still Mind level 3)</li>";
  SecondWindowDefinition+="<li>Ki Strike (level 4)</li>";
  SecondWindowDefinition+="<li>Slow Fall (level 4)</li>";
  SecondWindowDefinition+="<li>Purity of Body (level 5)</li>";
  if (monk_totem==1) { SecondWindowDefinition+="<li>Spring Attack (bonus feat level 6)</li>"; }
  if (monk_totem==2) { SecondWindowDefinition+="<li>Improved Disarm (bonus feat level 6)</li>"; }
  if (monk_totem==3) { SecondWindowDefinition+="<li>Improved Trip (bonus feat level 6)</li>"; }
  if (monk_totem==4) { SecondWindowDefinition+="<li>Blind-Fight (bonus feat level 6)</li>"; }
  if (monk_totem==5) { SecondWindowDefinition+="<li>Improved Overrun (bonus feat level 6)</li>"; }
  if (monk_totem==6) { SecondWindowDefinition+="<li>Improved Feint (bonus feat level 6)</li>"; }
  if (monk_totem==7) { SecondWindowDefinition+="<li>Improved Sunder (bonus feat level 6)</li>"; }
  if (monk_totem==8) { SecondWindowDefinition+="<li>Diehard (bonus feat level 6)</li>"; }
  if (monk_totem==1) { SecondWindowDefinition+="<li>Dodge gives +2 (level 6)</li>"; }
  if (monk_totem==2) { SecondWindowDefinition+="<li>Defending, +2 on grapple (level 6)</li>"; }
  if (monk_totem==3) { SecondWindowDefinition+="<li>+2 to hit bullrusher, +4 checks vs. bullrush/trip (level 6)</li>"; }
  if (monk_totem==4) { SecondWindowDefinition+="<li>Bonus +1 on AC defending or using combat expertise (level 6)</li>"; }
  if (monk_totem==5) { SecondWindowDefinition+="<li>+4 to bullrush an opponent you just intimidated (level 6)</li>"; }
  if (monk_totem==6) { SecondWindowDefinition+="<li>+4 to trip anyone denied dexterity AC bonus (level 6)</li>"; }
  if (monk_totem==7) { SecondWindowDefinition+="<li>Extra 1d6 with light weapon to anyone denied dexterity AC bonus (level 6)</li>"; }
  if (monk_totem==8) { SecondWindowDefinition+="<li>Damage reduction 2/- defending or using combat expertise (level 6)</li>"; }

  SecondWindowDefinition+="<li>Wholeness of Body (level 7)</li>";
  SecondWindowDefinition+="<li>Improved Evasion (level 9)</li>";
  SecondWindowDefinition+="<li>Diamond Body (level 11)</li>";
  SecondWindowDefinition+="<li>Quivering Palm (level 15)</li>";
  SecondWindowDefinition+="<li>Timeless Body (level 17)</li>";
  SecondWindowDefinition+="<li>Tongue of Sun and Moon (level 17)</li>";
  SecondWindowDefinition+="<li>Empty Body (level 19)</li>";
  SecondWindowDefinition+="<li>Perfect Self (level 20)</li>";
  SecondWindowDefinition+="</ul>";
 }

if ((paladin_levels + epic_paladin_levels>0) || (npcother_class_name=="Paladin of Freedom"))
 {
  if (alignment==3) { SecondWindowDefinition+="Paladin of Freedom:<p><ul>"; }
   else { SecondWindowDefinition+="Paladin:<p><ul>"; }
  SecondWindowDefinition+="<li>Aura of Good</li>";
  SecondWindowDefinition+="<li>Detect Evil</li>";
  x=Math.floor( (paladin_levels + epic_paladin_levels +5)/5);
  SecondWindowDefinition+="<li>Smite Evil (" + x + "x/day";
   x=modifier_number(charisma);
   if (x<0) { x=0; }
   x+=(1+has_greatsmiting)*(paladin_levels + epic_paladin_levels);
  SecondWindowDefinition+="; add +"+x+" to melee attack roll";
  SecondWindowDefinition+=")</li>";
  SecondWindowDefinition+="<li>Divine Grace (level 2)</li>";
  SecondWindowDefinition+="<li>Lay on Hands (level 2)</li>";
  SecondWindowDefinition+="<li>Aura of Courage (level 3)</li>";
  SecondWindowDefinition+="<li>Divine Health (level 3)</li>";
  SecondWindowDefinition+="<li>Turn Undead (level 4)"
  if (alignment==3)
  {
  if ((npcother_levels + epic_npcother_levels>3) && (3+modifier_number(charisma)+4*has_extraturning>0))
   { SecondWindowDefinition+=" ("+(3+modifier_number(charisma)+4*has_extraturning)+"x/day)"; }
  }
  else
  {
  if ((paladin_levels + epic_paladin_levels>3) && (3+modifier_number(charisma)+4*has_extraturning>0))
   { SecondWindowDefinition+=" ("+(3+modifier_number(charisma)+4*has_extraturning)+"x/day)"; }
  }
  SecondWindowDefinition+="</li>";
  SecondWindowDefinition+="<li>Special Mount (level 5)</li>";
  SecondWindowDefinition+="<li>Remove Disease (level 6)</li>";
  SecondWindowDefinition+="<li>Code of Conduct / Association</li>";
  if (wisdom>=12) { SecondWindowDefinition+="<li>High wisdom gains bonus spells daily</li>"; }
  if (alignment==3)
   {
    SecondWindowDefinition+="<li>As a Chaotic Good paladin, use the chaotic counterparts to the law-based paladin spells.  You may use \"Remove Curse\" (level 3) and \"Freedom of Movement\" (level 4).  You may not use \"Death Ward\" or \"Discern Lies.\"</li>";
   }
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Samurai") {
  SecondWindowDefinition+="Samurai:<p><ul>";
  SecondWindowDefinition+="<li>Free proficiency with bastard sword</li>";
  SecondWindowDefinition+="<li>Use bastard sword and shortsword as if you have two-weapon fighting feat (level 2)</li>";
  SecondWindowDefinition+="<li>Use bastard sword or shortsword as if you have quick draw feat (level 5)</li>";
  SecondWindowDefinition+="<li>Improved initiative (level 8)</li>";
  SecondWindowDefinition+="<li>Use bastard sword and shortsword as if you have improved two-weapon fighting feat (level 11)</li>";
  SecondWindowDefinition+="<li>Use bastard sword and shortsword as if you have greater two-weapon fighting feat (level 16)</li>";
  SecondWindowDefinition+="<li>Ki smite (add charisma bonus to damage)(levels 3, 7, 12, 16)</li>";
  SecondWindowDefinition+="<li>Staredown (+4 to intimidate / demoralize) (level 6)</li>";
  SecondWindowDefinition+="<li>Mass staredown (intimidate / demoralize all in 30 feet, standard action) (level 10)</li>";
  SecondWindowDefinition+="<li>Improved staredown (intimidate / demoralize all in 30 feet, move action) (level 14)</li>";
  SecondWindowDefinition+="<li>Frightful presence (all in 30 feet save vs DC20+char mod or panicked) (level 20)</li>";
 SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Swashbuckler") {
  SecondWindowDefinition+="Swashbuckler:<p><ul>";
  SecondWindowDefinition+="<li>Free weapon finesse feat</li>";
  SecondWindowDefinition+="<li>+1 on reflex saves (already included) (level 2)</li>";
  SecondWindowDefinition+="<li>Insightful strike (level 3)</li>";
  SecondWindowDefinition+="<li>Dodge bonus +1 (level 5)</li>";
  SecondWindowDefinition+="<li>Acrobatic Charge (level 7)</li>";
  SecondWindowDefinition+="<li>Improved Flanking (level 8)</li>";
  SecondWindowDefinition+="<li>Dodge bonus +2 (level 10)</li>";
  SecondWindowDefinition+="<li>Lucky (level 11)</li>";
  SecondWindowDefinition+="<li>+2 on reflex saves (already included)(level 11)</li>";
  SecondWindowDefinition+="<li>Acrobatic Skill Mastery (level 13)</li>";
  SecondWindowDefinition+="<li>Weakening Critical (level 14)</li>";
  SecondWindowDefinition+="<li>Dodge bonus +3 (level 15)</li>";
  SecondWindowDefinition+="<li>Slippery Mind (level 17)</li>";
  SecondWindowDefinition+="<li>Dodge bonus +4 (level 20)</li>";
  SecondWindowDefinition+="<li>+3 on reflex saves (already included)(level 20)</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Shugenja")
 {
  SecondWindowDefinition+="Shugenja:<p><ul>";
  SecondWindowDefinition+="<li>Elemental focus</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Warlock")
 {
  SecondWindowDefinition+="Warlock:<p><ul>";
  SecondWindowDefinition+="<li>Core class from \"Complete Arcane\"</li>";
  SecondWindowDefinition+="<li>Save vs. a warlock's magic is 10 + equivalent spell level + charisma modifier</li>";
  SecondWindowDefinition+="<li>At level "+(npcother_levels + epic_npcother_levels)+":</li><ul><br>";
  if (npcother_levels + epic_npcother_levels>=20) { SecondWindowDefinition+="<li>Know 3 invocations of any level</li>"; } else
  if (npcother_levels + epic_npcother_levels>=18) { SecondWindowDefinition+="<li>Know 2 invocations of any level</li>"; } else
  if (npcother_levels + epic_npcother_levels>=16) { SecondWindowDefinition+="<li>Know 1 invocation of any level</li>"; }
  if (npcother_levels + epic_npcother_levels>=15) { SecondWindowDefinition+="<li>Know 3 invocations of greater, lesser, or least level</li>"; } else
  if (npcother_levels + epic_npcother_levels>=13) { SecondWindowDefinition+="<li>Know 2 invocations of greater, lesser, or least level</li>"; } else
  if (npcother_levels + epic_npcother_levels>=11) { SecondWindowDefinition+="<li>Know 1 invocation of greater, lesser, or least level</li>"; }
  if (npcother_levels + epic_npcother_levels>=10) { SecondWindowDefinition+="<li>Know 3 invocations of lesser or least level</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 8) { SecondWindowDefinition+="<li>Know 2 invocations of lesser or least level</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 6) { SecondWindowDefinition+="<li>Know 1 invocation of lesser or least level</li>"; }
  if (npcother_levels + epic_npcother_levels>= 4) { SecondWindowDefinition+="<li>Know 3 invocations of least level</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 2) { SecondWindowDefinition+="<li>Know 2 invocations of least level</li>"; } else
                          { SecondWindowDefinition+="<li>Know 1 invocation of least level</li>"; }
  if (npcother_levels + epic_npcother_levels>=20) { SecondWindowDefinition+="<li>Eldritch blast 9d6</li>"; } else
  if (npcother_levels + epic_npcother_levels>=17) { SecondWindowDefinition+="<li>Eldritch blast 8d6</li>"; } else
  if (npcother_levels + epic_npcother_levels>=14) { SecondWindowDefinition+="<li>Eldritch blast 7d6</li>"; } else
  if (npcother_levels + epic_npcother_levels>=11) { SecondWindowDefinition+="<li>Eldritch blast 6d6</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 9) { SecondWindowDefinition+="<li>Eldritch blast 5d6</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 7) { SecondWindowDefinition+="<li>Eldritch blast 4d6</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 5) { SecondWindowDefinition+="<li>Eldritch blast 3d6</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 3) { SecondWindowDefinition+="<li>Eldritch blast 2d6</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 1) { SecondWindowDefinition+="<li>Eldritch blast 1d6</li>"; }
  if (npcother_levels + epic_npcother_levels>= 2) { SecondWindowDefinition+="<li>Detect magic at will</li>"; }
  if (npcother_levels + epic_npcother_levels>= 4) { SecondWindowDefinition+="<li>Deceive item</li>"; }
  if (npcother_levels + epic_npcother_levels>=19) { SecondWindowDefinition+="<li>Damage reduction 5/cold iron</li>"; } else
  if (npcother_levels + epic_npcother_levels>=15) { SecondWindowDefinition+="<li>Damage reduction 4/cold iron</li>"; } else
  if (npcother_levels + epic_npcother_levels>=11) { SecondWindowDefinition+="<li>Damage reduction 3/cold iron</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 7) { SecondWindowDefinition+="<li>Damage reduction 2/cold iron</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 3) { SecondWindowDefinition+="<li>Damage reduction 1/cold iron</li>"; }
  if (npcother_levels + epic_npcother_levels>=18) { SecondWindowDefinition+="<li>Fiendish resilience 5</li>"; } else
  if (npcother_levels + epic_npcother_levels>=13) { SecondWindowDefinition+="<li>Fiendish resilience 2</li>"; } else
  if (npcother_levels + epic_npcother_levels>= 8) { SecondWindowDefinition+="<li>Fiendish resilience 1</li>"; }
  if (npcother_levels + epic_npcother_levels>=20) { SecondWindowDefinition+="<li>Energy resistance 10 (choose 2 kinds)</li>"; } else
  if (npcother_levels + epic_npcother_levels>=10) { SecondWindowDefinition+="<li>Energy resistance 5 (choose 2 kinds)</li>"; }
  if (npcother_levels + epic_npcother_levels>=12) { SecondWindowDefinition+="<li>Imbue item (use item creation feat)</li>"; }
  if (npcother_levels + epic_npcother_levels>20) { SecondWindowDefinition+="<li>Ask your referee about progress after level 20.</li>"; }
  SecondWindowDefinition+="</ul></ul>"
 }

if (npcother_class_name=="Warmage") {
  SecondWindowDefinition+="Warmage:<p><ul>";
  SecondWindowDefinition+="<li>Core class from \"Complete Arcane\"</li>";
  SecondWindowDefinition+="<li>Sorcerer-like, with limited spell choice focused on military applications</li>";
  SecondWindowDefinition+="<li>A warmage has access to all spells on the warmage lists</li>";
  SecondWindowDefinition+="<li>Add intelligence bonus to all spell hit point damage (\"warmage edge\")</li>";
  SecondWindowDefinition+="<li>At levels 3, 6, 11, and 16, add an evocation spell to the repertoire</li>";
  SecondWindowDefinition+="<li>At level 7, gains Sudden Empower feat</li>";
  SecondWindowDefinition+="<li>At level 10, gains Sudden Enlarge feat</li>";
  SecondWindowDefinition+="<li>At level 15, gains Sudden Widen feat</li>";
  SecondWindowDefinition+="<li>At level 20, gains Sudden Maximize feat</li>";
  SecondWindowDefinition+="<li>May wear light armor; at level 8, medium armor</li>";
  SecondWindowDefinition+="<li>May bring a light shield</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Wu Jen") {
  SecondWindowDefinition+="Wu Jen:<p><ul>";
  SecondWindowDefinition+="<li>Core class from \"Complete Arcane\"</li>";
  SecondWindowDefinition+="<li>Wizard-like, with oriental-style spell choices</li>";
  SecondWindowDefinition+="<li>Begin play with one bonus metamagic feat.</li>";
  SecondWindowDefinition+="<li>Master one element at level 6.</li>";
  SecondWindowDefinition+="<li>Once per day, a wu jen may re-roll initiative before learning the final results for the others.</li>";
  SecondWindowDefinition+="<li>At every level divisible by three, permanently apply enlarge, extend, still or silent to one known spell.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Spellthief")
 {
  SecondWindowDefinition+="Spellthief:<p><ul>";
  SecondWindowDefinition+="<li>Core class from \"Complete Adventurer\"</li>";
  SecondWindowDefinition+="<li>Level 1: Sneak attack +1d6; steal spell (0 or 1st), trapfinding</li>";
  SecondWindowDefinition+="<li>Level 2: Detect magic spellgrace +1, steal spell effect</li>";
  SecondWindowDefinition+="<li>Level 3: Steal energy resistance 10</li>";
  SecondWindowDefinition+="<li>Level 4: Steal spell (2nd)</li>";
  SecondWindowDefinition+="<li>Level 5: Sneak attack +2d6, steal spell-like ability</li>";
  SecondWindowDefinition+="<li>Level 6: Steal spell (3rd)</li>";
  SecondWindowDefinition+="<li>Level 7: Absorb spell</li>";
  SecondWindowDefinition+="<li>Level 8: Steal spell (4th)</li>";
  SecondWindowDefinition+="<li>Level 9: Arcane sight, sneak attack +3d6</li>";
  SecondWindowDefinition+="<li>Level 10: Steal spell (5th)</li>";
  SecondWindowDefinition+="<li>Level 11: Spellgrace +2, steal energy resistance 20</li>";
  SecondWindowDefinition+="<li>Level 12: Steal spell (6th)</li>";
  SecondWindowDefinition+="<li>Level 13: Discover spells, sneak attack +4d6</li>";
  SecondWindowDefinition+="<li>Level 14: Steal spell (7th)</li>";
  SecondWindowDefinition+="<li>Level 15: Steal spell resistance</li>";
  SecondWindowDefinition+="<li>Level 16: Steal spell (8th)</li>";
  SecondWindowDefinition+="<li>Level 17: Sneak attack +5d6</li>";
  SecondWindowDefinition+="<li>Level 18: Steal spell (9th)</li>";
  SecondWindowDefinition+="<li>Level 19: Steal energy resistance 30</li>";
  SecondWindowDefinition+="<li>Level 20: Absorb spell (immediate casting), spellgrace +3</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Ninja")
 {
  SecondWindowDefinition+="Ninja:<p><ul>";
  SecondWindowDefinition+="<li>Core class from \"Complete Adventurer\"</li>";
  SecondWindowDefinition+="<li>Level 1: Ki power, sudden strike +1d6, trapfinding</li>";
  SecondWindowDefinition+="<li>Level 2: Ghost step (invsible)</li>";
  SecondWindowDefinition+="<li>Level 3: Sudden strike +2d6</li>";
  SecondWindowDefinition+="<li>Level 4: Great leap</li>";
  SecondWindowDefinition+="<li>Level 5: Sudden strike +3d6</li>";
  SecondWindowDefinition+="<li>Level 6: Acrobatics +2, ki dodge</li>";
  SecondWindowDefinition+="<li>Level 7: Sudden strike +4d6</li>";
  SecondWindowDefinition+="<li>Level 8: Ghost strike</li>";
  SecondWindowDefinition+="<li>Level 9: Sudden strike +5d6, improved poison use</li>";
  SecondWindowDefinition+="<li>Level 10: Ghost step (ethereal)</li>";
  SecondWindowDefinition+="<li>Level 11: Sudden strike +6d6</li>";
  SecondWindowDefinition+="<li>Level 12: Acrobatics +4, evasion</li>";
  SecondWindowDefinition+="<li>Level 13: Sudden strike +7d6</li>";
  SecondWindowDefinition+="<li>Level 14: Ghost mind</li>";
  SecondWindowDefinition+="<li>Level 15: Sudden strike +8d6</li>";
  SecondWindowDefinition+="<li>Level 16: Ghost sight</li>";
  SecondWindowDefinition+="<li>Level 17: Sudden strike +9d6</li>";
  SecondWindowDefinition+="<li>Level 18: Acrobatics +6, greater ki dodge</li>";
  SecondWindowDefinition+="<li>Level 19: Sudden strike +10d6</li>";
  SecondWindowDefinition+="<li>Level 20: Ghost walk</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Scout")
 {
  SecondWindowDefinition+="Scout:<p><ul>";
  SecondWindowDefinition+="<li>Core class from \"Complete Adventurer\"</li>";
  SecondWindowDefinition+="<li>Armor class bonuses after moving are not listed above.</li>";
  SecondWindowDefinition+="<li>Level 1: Skirming (+1d6), trapfinding</li>";
  SecondWindowDefinition+="<li>Level 2: Battle fortitude +1, uncanny dodge</li>";
  SecondWindowDefinition+="<li>Level 3: Fast movement +10 feet, skirmish (1d6, +1 AC)</li>";
  SecondWindowDefinition+="<li>Level 4: Bonus feat (already included)</li>";
  SecondWindowDefinition+="<li>Level 5: Evasion, skirmish (+2d6, +2 AC)</li>";
  SecondWindowDefinition+="<li>Level 6: Flawless stride</li>";
  SecondWindowDefinition+="<li>Level 7: Skirmish (+2d6, +2 AC)</li>";
  SecondWindowDefinition+="<li>Level 8: Camouflage, bonus feat (already included)</li>";
  SecondWindowDefinition+="<li>Level 9: Skirmish (+3d6, +2 AC)</li>";
  SecondWindowDefinition+="<li>Level 10: Blindsense 30 feet</li>";
  SecondWindowDefinition+="<li>Level 11: Battle fortitude +2, fast movement +20 feet, skirmish (3d6, +3 AC)</li>";
  SecondWindowDefinition+="<li>Level 12: Bonus feat (already included)</li>";
  SecondWindowDefinition+="<li>Level 13: Skirmish (+4d6, +3 AC)</li>";
  SecondWindowDefinition+="<li>Level 14: Hide in plain sight</li>";
  SecondWindowDefinition+="<li>Level 15: Skirmish (+4d6, +4 AC)</li>";
  SecondWindowDefinition+="<li>Level 16: Bonus feat</li>";
  SecondWindowDefinition+="<li>Level 17: Skirmish (+5d6, +4 AC)</li>";
  SecondWindowDefinition+="<li>Level 18: Free movement</li>";
  SecondWindowDefinition+="<li>Level 19: Skirmish (+5d6, +5 AC)</li>";
  SecondWindowDefinition+="<li>Level 20: Battle fortitude +3; blindsight 30 feet, bonus feat (already included)</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Sha_ir")
 {
  SecondWindowDefinition+="Sha_ir:<p><ul>";
  SecondWindowDefinition+="<li>Core class from Al Qadim and Dragon 315</li>";
  SecondWindowDefinition+="<li>For details on the gen familiars and maximum spells known per level, see Dragon 315. </li>";
  SecondWindowDefinition+="<li>Gen familiars gain all the extra abilities that other familiars do except for increasing intelligence and extra languages. </li>";
  SecondWindowDefinition+="<li>Retrieving a known arcane spell takes a number of rounds equal to the spell level  + 1d4. </li>";
  SecondWindowDefinition+="<li>Retrieving an unknown arcane spell (after takes a number of minutes equal to the spell level  + 1d4. </li>";
  SecondWindowDefinition+="<li>Retrieving a clerical spell (known or not; from the air, chaos, earth, fire, knowledge, law, luck, sun, or water domain lists only, please), takes a number of hours equal to the spell level + 1d6.</li>";
  SecondWindowDefinition+="<li>Getting the spell requires a DC 20 + 2/spell level diplomacy check +6 if it is an unknown cleric spell, +2 for each previous failure, +1 for each increase in level due to a metamagic feat; bonuses to the roll are +1 bonus for each spell level, +2 if a known arcane spell. </li>";
  SecondWindowDefinition+="<li>Level 1:  Summon gen familiar</li>";
  SecondWindowDefinition+="<li>Level 3:  Recognize genie works (Knowledge planes DC 20, +1 bonus for each sha'ir level)</li>";
  SecondWindowDefinition+="<li>Level 5:  Elemental protection</li>";
  SecondWindowDefinition+="<li>Level 7:  Call janni</li>";
  SecondWindowDefinition+="<li>Level 9:  Elemental travel 1/day</li>";
  SecondWindowDefinition+="<li>Level 11:  Call genie</li>";
  SecondWindowDefinition+="<li>Level 13:  Craft genie prison</li>";
  SecondWindowDefinition+="<li>Level 15:  Elemental travel 2/day</li>";
  SecondWindowDefinition+="<li>Level 18:  Elemental travel at will.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Sohei")
 {
  SecondWindowDefinition+="Sohei (\"Oriental Adventures\"):<p><ul>";
  SecondWindowDefinition+="<li>Spellcasting as paladin, but use Sohei list</li>";
  SecondWindowDefinition+="<li>Free weapon focus feat first level</li>";
  SecondWindowDefinition+="<li>Weapon focus (already included), ki frenzy 1/day (level 1)</li>";
  SecondWindowDefinition+="<li>Ki frenzy 2/day, deflect arrows (level 3)</li>";
  SecondWindowDefinition+="<li>Remain conscious; strength of mind (level 5)</li>";
  SecondWindowDefinition+="<li>Defensive strike, ki frenzy 3/day (level 7)</li>";
  SecondWindowDefinition+="<li>Mettle (level 9)</li>";
  SecondWindowDefinition+="<li>Damage reduction 1/-; ki frenzy 4/day (level 11)</li>";
  SecondWindowDefinition+="<li>Damage reduction 2/-; ki frenzy 4/day (level 14)</li>";
  SecondWindowDefinition+="<li>Damage reduction 3/- (level 16)</li>";
  SecondWindowDefinition+="<li>Ki frenzy 6/day (level 19)</li>";
  SecondWindowDefinition+="<li>Damage reduction 4/- (level 20)</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Spirit Shaman")
 {
  SecondWindowDefinition+="Spirit Shaman:<p><ul>";
  SecondWindowDefinition+="<li>Many special abilities.</li>";
  SecondWindowDefinition+="<li>See \"Complete Divine\".</li>";
  SecondWindowDefinition+="</ul>";
 }

if (npcother_class_name=="Favored Soul")
 {
  SecondWindowDefinition+="Favored Soul:<p><ul>";
  SecondWindowDefinition+="<li>Sect weapon focus (level 3)</li>";
  SecondWindowDefinition+="<li>Energy resistance, first type (level 5)</li>";
  SecondWindowDefinition+="<li>Energy resistance, second type (level 10)</li>";
  SecondWindowDefinition+="<li>Sect weapon specialization (level 12)</li>";
  SecondWindowDefinition+="<li>Energy resistance, third type (level 15) (level 3)</li>";
  SecondWindowDefinition+="<li>Wings?! (level 17)</li>";
  SecondWindowDefinition+="<li>Damage Reduction (level 20)</li>";
  SecondWindowDefinition+="</ul>";
 }


if (ranger_levels + epic_ranger_levels>0)
 {
  SecondWindowDefinition+=rangertotemname()+"Ranger:<p><ul>";
  SecondWindowDefinition+="<li>Favored enemies</li>";
  if (ranger_totem!=2) { SecondWindowDefinition+="<li>Track as bonus feat (already included)</li>"; }
  if (ranger_totem==2) { SecondWindowDefinition+="<li>Urban Tracking as bonus feat (already included)</li>"; }
  if (ranger_totem!=3) { SecondWindowDefinition+="<li>Combat Style</li>"; }
  SecondWindowDefinition+="<li>Endurance</li>";
  if ((ranger_totem!=2) && (ranger_totem!=1)) { SecondWindowDefinition+="<li>Wild empathy (roll level + charisma bonus)</li>"; }
  if (ranger_totem==2) { SecondWindowDefinition+="<li>Wild empathy (roll level/2 + charisma bonus)</li>"; }
  if (ranger_totem==1) { SecondWindowDefinition+="<li>Wild empathy (roll level + charisma bonus; -4 for ordinary animals)</li>"; }
  SecondWindowDefinition+="<li>Endurance (level 3)</li>";
  SecondWindowDefinition+="<li>Animal Companion (level 4)</li>";
  if (ranger_totem==3) { SecondWindowDefinition+="<li>Wild Shape (level 5)</li>"; }
  if (ranger_totem!=2) { SecondWindowDefinition+="<li>Woodland Stride (level 7)</li>"; }
  if (ranger_totem!=2) { SecondWindowDefinition+="<li>Swift Tracker (level 8)</li>"; }
  if (ranger_totem==2) { SecondWindowDefinition+="<li>Swift Urban Tracker (level 8)</li>"; }
  SecondWindowDefinition+="<li>Evasion (level 9)</li>";
  if (ranger_totem!=2) { SecondWindowDefinition+="<li>Camouflage (level 13)</li>"; }
  SecondWindowDefinition+="<li>Hide in Plain Sight (level 17)</li>";
  if (wisdom>=12) { SecondWindowDefinition+="<li>High wisdom gains bonus spells daily</li>"; }
  if (ranger_totem==2) { SecondWindowDefinition+="<li>Urban rangers have modified spell choice</li>"; }

  SecondWindowDefinition+="</ul><p>Favored Enemies:<p><ul>";
   if (rf_aberration>0) { SecondWindowDefinition+="<li>Aberrations +"+(2*rf_aberration)+"</li>"; }
   if (rf_animal>0) { SecondWindowDefinition+="<li>Animals +"+(2*rf_animal)+"</li>"; }
   if (rf_construct>0) { SecondWindowDefinition+="<li>Constructs +"+(2*rf_construct)+"</li>"; }
   if (rf_dragon>0) { SecondWindowDefinition+="<li>Dragons +"+(2*rf_dragon)+"</li>"; }
   if (rf_elemental>0) { SecondWindowDefinition+="<li>Elementals +"+(2*rf_elemental)+"</li>"; }
   if (rf_fey>0) { SecondWindowDefinition+="<li>Feys +"+(2*rf_fey)+"</li>"; }
   if (rf_giant>0) { SecondWindowDefinition+="<li>Giants +"+(2*rf_giant)+"</li>"; }
   if (rf_aquatic>0) { SecondWindowDefinition+="<li>Humanoids (aquatic) +"+(2*rf_aquatic)+"</li>"; }
   if (rf_dwarf>0) { SecondWindowDefinition+="<li>Humanoids (dwarf) +"+(2*rf_dwarf)+"</li>"; }
   if (rf_elf>0) { SecondWindowDefinition+="<li>Humanoids (elf) +"+(2*rf_elf)+"</li>"; }
   if (rf_goblinoid>0) { SecondWindowDefinition+="<li>Humanoids (goblinoid) +"+(2*rf_goblinoid)+"</li>"; }
   if (rf_gnoll>0) { SecondWindowDefinition+="<li>Humanoids (gnoll) +"+(2*rf_gnoll)+"</li>"; }
   if (rf_gnome>0) { SecondWindowDefinition+="<li>Humanoids (gnome) +"+(2*rf_gnome)+"</li>"; }
   if (rf_halfling>0) { SecondWindowDefinition+="<li>Humanoids (halfling) +"+(2*rf_halfling)+"</li>"; }
   if (rf_human>0) { SecondWindowDefinition+="<li>Humanoids (human) +"+(2*rf_human)+"</li>"; }
   if (rf_orc>0) { SecondWindowDefinition+="<li>Humanoids (orc) +"+(2*rf_orc)+"</li>"; }
   if (rf_reptilian>0) { SecondWindowDefinition+="<li>Humanoids (reptilian) +"+(2*rf_reptilian)+"</li>"; }
   if (rf_magicalbeast>0) { SecondWindowDefinition+="<li>Magical Beasts +"+(2*rf_magicalbeast)+"</li>"; }
   if (rf_monstroushumanoid>0) { SecondWindowDefinition+="<li>Monstrous Humanoids +"+(2*rf_monstroushumanoid)+"</li>"; }
   if (rf_ooze>0) { SecondWindowDefinition+="<li>Oozes +"+(2*rf_ooze)+"</li>"; }
   if (rf_air>0) { SecondWindowDefinition+="<li>Outsiders (air) +"+(2*rf_air)+"</li>"; }
   if (rf_chaotic>0) { SecondWindowDefinition+="<li>Outsiders (chaotic) +"+(2*rf_chaotic)+"</li>"; }
   if (rf_earth>0) { SecondWindowDefinition+="<li>Outsiders (earth) +"+(2*rf_earth)+"</li>"; }
   if (rf_evil>0) { SecondWindowDefinition+="<li>Outsiders (evil) +"+(2*rf_evil)+"</li>"; }
   if (rf_fire>0) { SecondWindowDefinition+="<li>Outsiders (fire) +"+(2*rf_fire)+"</li>"; }
   if (rf_good>0) { SecondWindowDefinition+="<li>Outsiders (good) +"+(2*rf_good)+"</li>"; }
   if (rf_lawful>0) { SecondWindowDefinition+="<li>Outsiders (lawful) +"+(2*rf_lawful)+"</li>"; }
   if (rf_native>0) { SecondWindowDefinition+="<li>Outsiders (native) +"+(2*rf_native)+"</li>"; }
   if (rf_water>0) { SecondWindowDefinition+="<li>Outsiders (water) +"+(2*rf_water)+"</li>"; }
   if (rf_plant>0) { SecondWindowDefinition+="<li>Plants +"+(2*rf_plant)+"</li>"; }
   if (rf_undead>0) { SecondWindowDefinition+="<li>Undead +"+(2*rf_undead)+"</li>"; }
   if (rf_vermin>0) { SecondWindowDefinition+="<li>Vermin +"+(2*rf_vermin)+"</li>"; }
  SecondWindowDefinition+="</ul>";
 }


if (rogue_levels + epic_rogue_levels>0)
 {
  SecondWindowDefinition+=roguetotemname()+"Rogue:<p><ul>";
  x = Math.floor ((rogue_levels + epic_rogue_levels + 1)/2) + has_improvedsneakattack;
  SecondWindowDefinition+="<li>Sneak Attack +" + x + "d6</li>";
  SecondWindowDefinition+="<li>Trapfinding</li>";
  SecondWindowDefinition+="<li>Evasion (level 2)</li>";
  SecondWindowDefinition+="<li>Trap Sense (level 3)</li>";
  SecondWindowDefinition+="<li>Uncanny Dodge (level 4)</li>";
  SecondWindowDefinition+="<li>Improved Uncanny Dodge (level 8)</li>";
  SecondWindowDefinition+="<li>Special Abilities (choices begin at 10th level)</li>";
  SecondWindowDefinition+="</ul>";
 }


if (sorcerer_levels + epic_sorcerer_levels>0)
 {
  SecondWindowDefinition+=sorcerertotemname()+"Sorcerer:<p><ul>";
  SecondWindowDefinition+="<li>Familiar / Alertness, etc.</li>";
  SecondWindowDefinition+="<li>Can know only limited numbers of spells</li>";
  if (sorcerer_totem==1) { SecondWindowDefinition+="<li>Battle sorcerers know fewer than other sorcerers.</li>"; }
  if (sorcerer_totem==1) { SecondWindowDefinition+="<li>Battle sorcerers also have fewer spell slots daily.</li>"; }
  if (sorcerer_totem==1) { SecondWindowDefinition+="<li>Battle sorcerers get light armor and a simple/1 handed  martial weapon.</li>"; }
  if (charisma>=12) { SecondWindowDefinition+="<li>High charisma gains bonus spells daily</li>"; }
  SecondWindowDefinition+="</ul>";
 }


if ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name=="Chaos Mage"))
 {
  SecondWindowDefinition+="Chaos Mage:<p><ul>";
  SecondWindowDefinition+="<li>From the popular Mongoose Publishing resource</li>";
  SecondWindowDefinition+="<li>No spell slots; spellcasting causes immediate personal injury && long-term deterioration.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (wizard_levels + epic_wizard_levels>0)
 {
  SecondWindowDefinition+="Wizard";
  if (wizard_specialty_name!="Wizard") { SecondWindowDefinition+=" ("+wizard_specialty_name+")"; }
  SecondWindowDefinition+=":<p><ul><li>Familiar / Alertness, etc.</li>";
  SecondWindowDefinition+="<li>Bonus Feats (already included)</li>";
  if (intelligence>=12) { SecondWindowDefinition+="<li>High intelligence gains bonus spells daily</li>"; }
  if (abjuration_specialist==true) {
  SecondWindowDefinition+="<li>Specialist gets 1 extra abjuration spell/level/day</li>"; }
  if (conjuration_specialist==true) {
  SecondWindowDefinition+="<li>Specialist gets 1 extra conjuration spell/level/day</li>"; }
  if (divination_specialist==true) {
  SecondWindowDefinition+="<li>Specialist gets 1 extra divination spell/level/day</li>"; }
  if (enchantment_specialist==true) {
  SecondWindowDefinition+="<li>Specialist gets 1 extra enchantment spell/level/day</li>"; }
  if (evocation_specialist==true) {
  SecondWindowDefinition+="<li>Specialist gets 1 extra evocation spell/level/day</li>"; }
  if (illusion_specialist==true) {
  SecondWindowDefinition+="<li>Specialist gets 1 extra illusion spell/level/day</li>"; }
  if (necromancy_specialist==true) {
  SecondWindowDefinition+="<li>Specialist gets 1 extra necromancy spell/level/day</li>"; }
  if (transmutation_specialist==true) {
  SecondWindowDefinition+="<li>Specialist gets 1 extra transmutation spell/level/day</li>"; }
  SecondWindowDefinition+="</ul>";
 }

if (psion_levels + epic_psion_levels>0) {
  SecondWindowDefinition+=psion_specialty_name+":<p><ul>";
  SecondWindowDefinition+="<li>Write your psi abilities on your own.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (psiwarrior_levels + epic_psiwarrior_levels>0) {
  SecondWindowDefinition+="Psi_Warrior:<p><ul>";
  SecondWindowDefinition+="<li>Write your psi abilities on your own.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (soulknife_levels + epic_soulknife_levels>0) {
  SecondWindowDefinition+="Soulknife:<p><ul>";
  SecondWindowDefinition+="<li>Write your psi abilities on your own.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (wilder_levels + epic_wilder_levels>0) {
  SecondWindowDefinition+="Wilder:<p><ul>";
  SecondWindowDefinition+="<li>Write your psi abilities on your own.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (artificer_levels + epic_artificer_levels>0) {
  SecondWindowDefinition+="Artificer:<p><ul>";
  SecondWindowDefinition+="<li>New class per <i>Eberron</i> campaign setting</li>";
  SecondWindowDefinition+="<li>Artificers are entitled to bonus feats every 4 levels, not shown here</li>";
  SecondWindowDefinition+="<li>These are metamagic or special Eberron feats.</li>";
  SecondWindowDefinition+="<li>See the campaign sourcebook for more on artificers.</li>";
  SecondWindowDefinition+="</ul>";
 }

if (prestige_levels + epic_prestige_levels>0) {
  SecondWindowDefinition+=prestige_class_name+"<ul><p>";
  SecondWindowDefinition+="<li>Hit dice d"+ prestige_hit_point_dice+"</li>";
  if (prestige_attack_bonus_progress==1) { SecondWindowDefinition+="<li>Slow increase in attack bonuses</li>"; }
  if (prestige_attack_bonus_progress==2) { SecondWindowDefinition+="<li>Average increase in attack bonuses</li>"; }
  if (prestige_attack_bonus_progress==3) { SecondWindowDefinition+="<li>Fast increase in attack bonuses</li>"; }
  if (prestige_fortitude_save_bonus==1) { SecondWindowDefinition+="<li>Slow increase in fortitude saves</li>"; }
  if (prestige_fortitude_save_bonus==2) { SecondWindowDefinition+="<li>Fast increase in fortitude saves</li>"; }
  if (prestige_reflex_save_bonus==1) { SecondWindowDefinition+="<li>Slow increase in reflex saves</li>"; }
  if (prestige_reflex_save_bonus==2) { SecondWindowDefinition+="<li>Fast increase in reflex saves</li>"; }
  if (prestige_will_save_bonus==1) { SecondWindowDefinition+="<li>Slow increase in will saves</li>"; }
  if (prestige_will_save_bonus==2) { SecondWindowDefinition+="<li>Fast increase in will saves</li>"; }
  SecondWindowDefinition+="<li>Base "+ prestige_skill_points_per_level+" skill points per level</li>";
  if (prestige_armor_entitlement==0) { SecondWindowDefinition+="<li>No new armor proficiency</li>"; }
  if (prestige_armor_entitlement==1) { SecondWindowDefinition+="<li>Light armor proficiency</li>"; }
  if (prestige_armor_entitlement==2) { SecondWindowDefinition+="<li>Medium armor proficiency</li>"; }
  if (prestige_armor_entitlement==3) { SecondWindowDefinition+="<li>Heavy armor proficiency</li>"; }
  if (prestige_bard_spell_levels>0) { SecondWindowDefinition+="<li>Additional bard spell levels: "+ prestige_bard_spell_levels +"</li>"; }
  if (prestige_cleric_spell_levels>0) { SecondWindowDefinition+="<li>Additional cleric spell levels: "+ prestige_cleric_spell_levels +"</li>"; }
  if (prestige_druid_spell_levels>0) { SecondWindowDefinition+="<li>Additional druid spell levels: "+ prestige_druid_spell_levels +"</li>"; }
  if (prestige_paladin_spell_levels>0) { SecondWindowDefinition+="<li>Additional paladin spell levels: "+ prestige_paladin_spell_levels +"</li>"; }
  if (prestige_ranger_spell_levels>0) { SecondWindowDefinition+="<li>Additional ranger spell levels: "+ prestige_ranger_spell_levels +"</li>"; }
  if (prestige_sorcerer_spell_levels>0) { SecondWindowDefinition+="<li>Additional sorcerer spell levels: "+ prestige_sorcerer_spell_levels +"</li>"; }
  if (prestige_wizard_spell_levels>0) { SecondWindowDefinition+="<li>Additional wizard spell levels: "+ prestige_wizard_spell_levels +"</li>"; }
  SecondWindowDefinition+="<br>More:"
  SecondWindowDefinition+="<p><!img src=\"spellbar.gif\"></ul><p>";
 }

if ((total_levels==barbarian_levels) && (barbarian_levels>0))
 {
  if (can_read==true) { SecondWindowDefinition+="This barbarian can read/write.<br>"; }
  if (can_read==false) { SecondWindowDefinition+="This barbarian cannot yet read/write.<br>"; }
 }
if (rangercombattrack==1) { SecondWindowDefinition+="This ranger chose the archery track.<br>"; }
if (rangercombattrack==2) { SecondWindowDefinition+="This ranger chose the two-weapon combat track.<br>"; }
if (rangercombattrack==3) { SecondWindowDefinition+="This ranger chose the wrestling combat track.<br>"; }
if (rangercombattrack==4) { SecondWindowDefinition+="This ranger chose the mounted combat track.<br>"; }
   SecondWindowDefinition+="<p><table border=\"0\"><tr> <td>Level</td> <td> Class</td> <td>HP rolled</td></tr> \r";
   SecondWindowDefinition+="<tr><td>Level 1:<\/td><td>"+ClassName(class01)+"</td> <td align=\"center\">"+(newHP01-quickslowmodifier())+"</td></tr> \r";
   if (total_levels>=2) { SecondWindowDefinition+="<tr><td>Level 2:<\/td><td>"+ClassName(class02)+"</td> <td align=\"center\">"+(newHP02-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=3) { SecondWindowDefinition+="<tr><td>Level 3:<\/td><td>"+ClassName(class03)+"</td> <td align=\"center\">"+(newHP03-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=4) { SecondWindowDefinition+="<tr><td>Level 4:<\/td><td>"+ClassName(class04)+"</td> <td align=\"center\">"+(newHP04-quickslowmodifier())+" +1 to "+NumberToAbility(upitat04)+"\r"; }
   if (total_levels>=5) { SecondWindowDefinition+="<tr><td>Level 5:<\/td><td>"+ClassName(class05)+"</td> <td align=\"center\">"+(newHP05-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=6) { SecondWindowDefinition+="<tr><td>Level 6:<\/td><td>"+ClassName(class06)+"</td> <td align=\"center\">"+(newHP06-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=7) { SecondWindowDefinition+="<tr><td>Level 7:<\/td><td>"+ClassName(class07)+"</td> <td align=\"center\">"+(newHP07-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=8) { SecondWindowDefinition+="<tr><td>Level 8:<\/td><td>"+ClassName(class08)+"</td> <td align=\"center\">"+(newHP08-quickslowmodifier())+" +1 to "+NumberToAbility(upitat08)+"\r"; }
   if (total_levels>=9) { SecondWindowDefinition+="<tr><td>Level 9:<\/td><td>"+ClassName(class09)+"</td> <td align=\"center\">"+(newHP09-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=10) { SecondWindowDefinition+="<tr><td>Level 10:<\/td><td>"+ClassName(class10)+"</td> <td align=\"center\">"+(newHP10-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=11) { SecondWindowDefinition+="<tr><td>Level 11:<\/td><td>"+ClassName(class11)+"</td> <td align=\"center\">"+(newHP11-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=12) { SecondWindowDefinition+="<tr><td>Level 12:<\/td><td>"+ClassName(class12)+"</td> <td align=\"center\">"+(newHP12-quickslowmodifier())+" +1 to "+NumberToAbility(upitat12)+"\r"; }
   if (total_levels>=13) { SecondWindowDefinition+="<tr><td>Level 13:<\/td><td>"+ClassName(class13)+"</td> <td align=\"center\">"+(newHP13-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=14) { SecondWindowDefinition+="<tr><td>Level 14:<\/td><td>"+ClassName(class14)+"</td> <td align=\"center\">"+(newHP14-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=15) { SecondWindowDefinition+="<tr><td>Level 15:<\/td><td>"+ClassName(class15)+"</td> <td align=\"center\">"+(newHP15-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=16) { SecondWindowDefinition+="<tr><td>Level 16:<\/td><td>"+ClassName(class16)+"</td> <td align=\"center\">"+(newHP16-quickslowmodifier())+" +1 to "+NumberToAbility(upitat16)+"\r"; }
   if (total_levels>=17) { SecondWindowDefinition+="<tr><td>Level 17:<\/td><td>"+ClassName(class17)+"</td> <td align=\"center\">"+(newHP17-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=18) { SecondWindowDefinition+="<tr><td>Level 18:<\/td><td>"+ClassName(class18)+"</td> <td align=\"center\">"+(newHP18-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=19) { SecondWindowDefinition+="<tr><td>Level 19:<\/td><td>"+ClassName(class19)+"</td> <td align=\"center\">"+(newHP19-quickslowmodifier())+"</td></tr> \r"; }
   if (total_levels>=20) { SecondWindowDefinition+="<tr><td>Level 20:<\/td><td>"+ClassName(class20)+"</td> <td align=\"center\">"+(newHP20-quickslowmodifier())+" +1 to "+NumberToAbility(upitat20)+"\r"; }
   if (epic_total_levels>=1) { SecondWindowDefinition+="<tr><td>Level 21:<\/td><td>"+ClassName(class21)+"</td> <td align=\"center\">"+(newHP21-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=2) { SecondWindowDefinition+="<tr><td>Level 22:<\/td><td>"+ClassName(class22)+"</td> <td align=\"center\">"+(newHP22-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=3) { SecondWindowDefinition+="<tr><td>Level 23:<\/td><td>"+ClassName(class23)+"</td> <td align=\"center\">"+(newHP23-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=4) { SecondWindowDefinition+="<tr><td>Level 24:<\/td><td>"+ClassName(class24)+"</td> <td align=\"center\">"+(newHP24-quickslowmodifier())+" +1 to "+NumberToAbility(upitat24)+"\r"; }
   if (epic_total_levels>=5) { SecondWindowDefinition+="<tr><td>Level 25:<\/td><td>"+ClassName(class25)+"</td> <td align=\"center\">"+(newHP25-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=6) { SecondWindowDefinition+="<tr><td>Level 26:<\/td><td>"+ClassName(class26)+"</td> <td align=\"center\">"+(newHP26-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=7) { SecondWindowDefinition+="<tr><td>Level 27:<\/td><td>"+ClassName(class27)+"</td> <td align=\"center\">"+(newHP27-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=8) { SecondWindowDefinition+="<tr><td>Level 28:<\/td><td>"+ClassName(class28)+"</td> <td align=\"center\">"+(newHP28-quickslowmodifier())+" +1 to "+NumberToAbility(upitat28)+"\r"; }
   if (epic_total_levels>=9) { SecondWindowDefinition+="<tr><td>Level 29:<\/td><td>"+ClassName(class29)+"</td> <td align=\"center\">"+(newHP29-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=10) { SecondWindowDefinition+="<tr><td>Level 30:<\/td><td>"+ClassName(class30)+"</td> <td align=\"center\">"+(newHP30-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=11) { SecondWindowDefinition+="<tr><td>Level 31:<\/td><td>"+ClassName(class31)+"</td> <td align=\"center\">"+(newHP31-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=12) { SecondWindowDefinition+="<tr><td>Level 32:<\/td><td>"+ClassName(class32)+"</td> <td align=\"center\">"+(newHP32-quickslowmodifier())+" +1 to "+NumberToAbility(upitat32)+"\r"; }
   if (epic_total_levels>=13) { SecondWindowDefinition+="<tr><td>Level 33:<\/td><td>"+ClassName(class33)+"</td> <td align=\"center\">"+(newHP33-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=14) { SecondWindowDefinition+="<tr><td>Level 34:<\/td><td>"+ClassName(class34)+"</td> <td align=\"center\">"+(newHP34-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=15) { SecondWindowDefinition+="<tr><td>Level 35:<\/td><td>"+ClassName(class35)+"</td> <td align=\"center\">"+(newHP35-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=16) { SecondWindowDefinition+="<tr><td>Level 36:<\/td><td>"+ClassName(class36)+"</td> <td align=\"center\">"+(newHP36-quickslowmodifier())+" +1 to "+NumberToAbility(upitat36)+"\r"; }
   if (epic_total_levels>=17) { SecondWindowDefinition+="<tr><td>Level 37:<\/td><td>"+ClassName(class37)+"</td> <td align=\"center\">"+(newHP37-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=18) { SecondWindowDefinition+="<tr><td>Level 38:<\/td><td>"+ClassName(class38)+"</td> <td align=\"center\">"+(newHP38-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=19) { SecondWindowDefinition+="<tr><td>Level 39:<\/td><td>"+ClassName(class39)+"</td> <td align=\"center\">"+(newHP39-quickslowmodifier())+"</td></tr> \r"; }
   if (epic_total_levels>=20) { SecondWindowDefinition+="<tr><td>Level 40:<\/td><td>"+ClassName(class40)+"</td> <td align=\"center\">"+(newHP40-quickslowmodifier())+" +1 to "+NumberToAbility(upitat40)+"\r"; }
   SecondWindowDefinition+="<\/table>\r<\/p>\r";

   if (psion_levels + epic_psion_levels +psiwarrior_levels + epic_psiwarrior_levels +wilder_levels + epic_wilder_levels>0)
    {
     SecondWindowDefinition+=TotalPsionicPoints()+" Power Points/Day:<p><ul><table><tr><td align=\"right\">";

     if (RacialPsionicPoints()>0) { SecondWindowDefinition+=RacialPsionicPoints()+"<br>"; }
     if (PsionicTalentPoints()>0) { SecondWindowDefinition+=PsionicTalentPoints()+"<br>"; }
     if (WildTalentPoints()>0) { SecondWindowDefinition+=WildTalentPoints()+"<br>"; }
     if (PsionPoints()>0) { SecondWindowDefinition+=PsionPoints()+"<br>"; }
     if (PsiIntelligenceBonus()>0) { SecondWindowDefinition+=PsiIntelligenceBonus()+"<br>"; }
     if (ImprovedManifestationBonus()>0) { SecondWindowDefinition+=ImprovedManifestationBonus()+"<br>"; }
     if (PsiWarriorPoints()>0) { SecondWindowDefinition+=PsiWarriorPoints()+"<br>"; }
     if (PsiWisdomBonus()>0) { SecondWindowDefinition+=PsiWisdomBonus()+"<br>"; }
     if (WilderPoints()>0) { SecondWindowDefinition+=WilderPoints()+"<br>"; }
     if (PsiCharismaBonus()>0) { SecondWindowDefinition+=PsiCharismaBonus()+"<br>"; }

     SecondWindowDefinition+=" ";

     if (RacialPsionicPoints()>0) { SecondWindowDefinition+=" [racial]<br>"; }
     if (PsionicTalentPoints()>0) { SecondWindowDefinition+=" [psionic talent x " + has_psionictalent+"]<br>"; }
     if (WildTalentPoints()>0) { SecondWindowDefinition+=" [wild talent]<br>"; }
     if (PsionPoints()>0) { SecondWindowDefinition+=" [psion]<br>"; }
     if (PsiIntelligenceBonus()>0) { SecondWindowDefinition+=" [intelligence bonus]<br>"; }
     if (ImprovedManifestationBonus()>0) { SecondWindowDefinition+=" [improved manifestation x" + has_improvedmanifestation+"]<br>"; }
     if (PsiWarriorPoints()>0) { SecondWindowDefinition+=" [psi warrior]<br>"; }
     if (PsiWisdomBonus()>0) { SecondWindowDefinition+=" [wisdom bonus]<br>"; }
     if (WilderPoints()>0) { SecondWindowDefinition+=WilderPoints()+" [wilder]<br>"; }
     if (PsiCharismaBonus()>0) { SecondWindowDefinition+=PsiCharismaBonus()+" [charisma bonus]<br>"; }

     SecondWindowDefinition+="</td></tr></table></ul>";
    }

if (document.form1.moniker.value=="") {
	SecondWindowDefinition+="<br><p>Equipment:</p>";
	} else {
	SecondWindowDefinition+="<br><p>"+document.form1.moniker.value+"'s Equipment:</p>";
	}

SecondWindowDefinition+="<p><table border=\"0\">";
x=Math.ceil(wt);
// SecondWindowDefinition+=x+" lb.<br>";
if (document.form1.crossbowbolts.selectedIndex>0) {
	x=Math.ceil(1*document.form1.crossbowbolts.selectedIndex);
	shots = Math.ceil(10*document.form1.crossbowbolts.selectedIndex);
  SecondWindowDefinition+="<tr><td>Crossbow bolts ("+shots+")<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }
if (document.form1.arrows.selectedIndex>0) {
	x=Math.ceil(3*document.form1.arrows.selectedIndex);
	shots = Math.ceil(20*document.form1.arrows.selectedIndex);
  SecondWindowDefinition+="<tr><td>Arrows ("+shots+")<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }
if (document.form1.slingbullets.selectedIndex>0) {
	x=Math.ceil(5*document.form1.slingbullets.selectedIndex);
	shots = Math.ceil(10*document.form1.slingbullets.selectedIndex);
  SecondWindowDefinition+="<tr><td>Sling Bullets ("+shots+")<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }
/*
if (document.form1.bullets.selectedIndex>0) {
	x=Math.ceil(2*document.form1.bullets.selectedIndex);
  SecondWindowDefinition+=x+" lb.<br>";
  wt+=x; }
*/

if (document.form1.backpack.checked==true) {
	x=2;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Backpack<\/td><td>"+x+" lb.<\/td><\/tr>"; }
if (document.form1.barrel.checked==true) {
	x=30;
	wt+=x;
	SecondWindowDefinition+="<tr><td>Barrel<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.basket.checked==true)
 { x=1; wt+=x; SecondWindowDefinition+="<tr><td>Basket<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.bedroll.checked==true) {
	x=5;
 	if (small==true) { x=1; }
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Bedroll<\/td><td>"+x+" lb.<\/td><\/tr>"; }

// if (document.form1.bell.checked==true)
// { SecondWindowDefinition+="<br>"; }

if (document.form1.blanketwinter_list.selectedIndex>0) {
  x=Math.ceil(3*document.form1.blanketwinter_list.selectedIndex);
  if (small==true) { x=Math.ceil(0.75*document.form1.blanketwinter_list.selectedIndex); }
  SecondWindowDefinition+="<tr><td>Winter Blanket<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.blockandtackle.checked==true) {
	x=5;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Block and tackle<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.bottle.checked==true)
 { SecondWindowDefinition+="<tr><td>Bottle<\/td><td>-<\/td><\/tr>"; }

if (document.form1.bucket.checked==true) {
	x=2;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Bucket<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.caltrops.checked==true) {
	x=2;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Caltrops<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.candle.checked==true)
 { SecondWindowDefinition+="<tr><td>Candle<\/td><td>-<\/td><\/tr>"; }

if (document.form1.canvas.checked==true) {
	x=1;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Canvas<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.casemaporscroll.checked==true) {
	x=1;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Map case<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.chain.selectedIndex>0)
 { x=Math.ceil(2*document.form1.chain.selectedIndex);
 	length = x=Math.ceil(10*document.form1.chain.selectedIndex)
  SecondWindowDefinition+="<tr><td>Chain ("+length+" ft.)<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }
if (document.form1.chalk.checked==true)
 { SecondWindowDefinition+="<tr><td>Chalk<\/td><td>-<\/td><\/tr>"; }

if (document.form1.chest.checked==true)
 { x=25;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Chest<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.crowbar.checked==true)
 { x=5;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Crowbar<\/td><td>"+x+" lb.<\/td><\/tr>"; }

/*
if (document.form1.firewood.selectedIndex>0) {
	x=Math.ceil(20*document.form1.firewood.selectedIndex);
  SecondWindowDefinition+=x+" lb.<br>";
  wt+=x; }

if (document.form1.fishhook.checked==true)
 { SecondWindowDefinition+="<br>"; }

if (document.form1.fishingnet.checked==true) {
	x=5;
 	wt+=x;
 	SecondWindowDefinition+=x+" lb.<br>"; }
*/

if (document.form1.flask.selectedIndex>0) {
	x=Math.ceil(1.5*document.form1.flask.selectedIndex);
 	 SecondWindowDefinition+="<tr><td>Flask x"+document.form1.flask.selectedIndex+"<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.flintandsteel.checked==true)
 { SecondWindowDefinition+="<tr><td>Flint &amp; Steel<\/td><td>-<\/td><\/tr>"; }

if (document.form1.grapplinghook.checked==true) {
	x=4;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Grappling hook<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.hammer.checked==true) {
	x=2;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Hammer<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.inkvial.checked==true)
 { SecondWindowDefinition+="<tr><td>Ink vial<\/td><td>-<\/td><\/tr>"; }

if (document.form1.inkpen.checked==true)
 { SecondWindowDefinition+="<tr><td>Ink pen<\/td><td>-<\/td><\/tr>"; }

if (document.form1.jugclay.checked==true) {
	x=9;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Clay jug<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.ladder.checked==true) {
	x=20;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Ladder<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.lampcommon.checked==true) {
	x=1;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Lamp, common<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.lanternbullseye.checked==true) {
	x=3;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Lantern, bullseye<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.lanternhooded.checked==true) {
	x=2;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Lantern, hooded<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.lock.selectedIndex>0) {
	x=Math.ceil(1*document.form1.lock.selectedIndex);
  SecondWindowDefinition+="<tr><td>Padlock<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.manacles.selectedIndex>0) {
	x=Math.ceil(2*document.form1.manacles.selectedIndex);
  SecondWindowDefinition+="<tr><td>Manacles<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.mirror.checked==true) {
	x=1;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Mirror<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.mug.checked==true) {
	x=1;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Mug<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.oilflask.selectedIndex>0) {
	x=Math.ceil(1*document.form1.oilflask.selectedIndex);
  SecondWindowDefinition+="<tr><td>Oil flask<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.paper.selectedIndex>0) {
	x=Math.ceil(0*document.form1.paper.selectedIndex);
  SecondWindowDefinition+="<tr><td>Paper<\/td><td>-<\/td><\/tr>";
  wt+=0; }

if (document.form1.parchment.selectedIndex>0) {
	x=Math.ceil(0*document.form1.parchment.selectedIndex);
  SecondWindowDefinition+="<tr><td>Parchment<\/td><td>-<\/td><\/tr>";
  wt+=0; }

if (document.form1.pick.checked==true) {
	x=10;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Pick<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.pitcher.checked==true) {
	x=5;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Pitcher<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.piton.selectedIndex>0) {
	x=Math.ceil(0.5*document.form1.piton.selectedIndex);
  SecondWindowDefinition+="<tr><td>Piton x"+document.form1.piton.selectedIndex+"<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.pole.checked==true) {
	x=8;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Pole<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.pot.checked==true)
 { x=10;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Pot, iron<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.pouch.selectedIndex>0) {
  x=Math.ceil(0.5*document.form1.pouch.selectedIndex);
  if (small==true) { x=Math.ceil(0.125*document.form1.pouch.selectedIndex); }
  SecondWindowDefinition+="<tr><td>Pouch x"+document.form1.pouch.selectedIndex+"<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.ram.checked==true) {
	x=20;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Ram<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.rations.selectedIndex>0) {
  x=Math.ceil(1*document.form1.rations.selectedIndex);
  if (small==true) { x=Math.ceil(0.25*document.form1.rations.selectedIndex)}
  SecondWindowDefinition+="<tr><td>Rations x"+document.form1.rations.selectedIndex+"<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.ropehempen.selectedIndex>0) {
	x=Math.ceil(10*document.form1.ropehempen.selectedIndex);
 	length = Math.ceil(50*document.form1.ropehempen.selectedIndex);
  SecondWindowDefinition+="<tr><td>Rope, hemp ("+length+" ft.)<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.ropesilk.selectedIndex>0) {
	x=Math.ceil(5*document.form1.ropesilk.selectedIndex);
	length = Math.ceil(50*document.form1.ropesilk.selectedIndex);
  SecondWindowDefinition+="<tr><td>Rope, silk ("+length+" ft.)<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.sack.selectedIndex>0)
 { x=Math.ceil(0.5*document.form1.sack.selectedIndex)
  SecondWindowDefinition+="<tr><td>Sack x"+document.form1.sack.selectedIndex+"<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.sealingwax.checked==true)
 { x=1;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Sealing wax<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.sewingneedle.checked==true)
 { SecondWindowDefinition+="<tr><td>Sewing needle<\/td><td>-<\/td><\/tr>"; }

if (document.form1.signalwhistle.checked==true)
 { SecondWindowDefinition+="<tr><td>Signal whistle<\/td><td>-<\/td><\/tr>"; }

if (document.form1.signetring.checked==true)
 { SecondWindowDefinition+="<tr><td>Signet ring<\/td><td>-<\/td><\/tr>"; }

if (document.form1.sledge.checked==true) {
	x=10;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Sledge<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.soap.checked==true) {
	x=1;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Soap<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.spadeorshovel.checked==true) {
	x=8;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Shovel<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.spyglass.checked==true) {
	x=1;
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Spyglass<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.tent.checked==true) {
	x=20;
 	if (small==true) { x=5; }
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Tent<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.torch.selectedIndex>0) {
	x=Math.ceil(1*document.form1.torch.selectedIndex);
  SecondWindowDefinition+="<tr><td>Torch x"+document.form1.torch.selectedIndex+"<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.vialinkorpotion.selectedIndex>0) {
	x=Math.ceil(0.1*document.form1.vialinkorpotion.selectedIndex);
  SecondWindowDefinition+="<tr><td>Vial x"+document.form1.vialinkorpotion.selectedIndex+"<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.waterskin.selectedIndex>0) {
  x=Math.ceil(4*document.form1.waterskin.selectedIndex);
  if (small==true) { x=Math.ceil(1*document.form1.waterskin.selectedIndex); }
  SecondWindowDefinition+="<tr><td>Waterskin x"+document.form1.waterskin.selectedIndex+"<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.whetstone.checked==true)
 { x=1; wt+=x; SecondWindowDefinition+="<tr><td>Whetstone<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.alchemistlab.checked==true)
 { x=40; wt+=x; SecondWindowDefinition+="<tr><td>Alchemist lab<\/td><td>"+x+" lb.<\/td><\/tr>"; }
if (document.form1.artisantools.checked==true)
 { x=5; wt+=x; SecondWindowDefinition+="<tr><td>Artisan tools<\/td><td>"+x+" lb.<\/td><\/tr>"; }
if (document.form1.climberskit.checked==true) {
	x=5;
 	if (small==true) { x=1; }
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Climbers kit<\/td><td>"+x+" lb.<\/td><\/tr>"; }
if (document.form1.disguisekit.checked==true) {
	x=8;
	if (small==true) { x=2; }
 	wt+=x;
 	SecondWindowDefinition+="<tr><td>Disguise kit<\/td><td>"+x+" lb.<\/td><\/tr>"; }
if (document.form1.healerkit.checked==true) {
	x=1;
	wt+=x;
	SecondWindowDefinition+="<tr><td>Healer's kit<\/td><td>"+x+" lb.<\/td><\/tr>"; }

// if (document.form1.hollyandmistletoe.checked==true) { SecondWindowDefinition+="<br>"; }

if (document.form1.holysymbolwooden.checked==true)
 { SecondWindowDefinition+="<tr><td>Holy symbol, wooden<\/td><td>-<\/td><\/tr>"; }

if (document.form1.holysymbolsilver.checked==true) {
	x=1;
	wt+=x;
	SecondWindowDefinition+="<tr><td>Holy symbol, silver<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.hourglass.checked==true) {
	x=1;
	wt+=x;
	SecondWindowDefinition+="<tr><td>Hourglass<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.magnifyingglass.checked==true)
 { SecondWindowDefinition+="<tr><td>Magnifying glass<\/td><td>-<\/td><\/tr>"; }

if (document.form1.musicalinstrument.checked==true) {
	x=3;
	if (small==true) { x=1; }
	wt+=x;
	SecondWindowDefinition+="<tr><td>Musical instrument<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.scale.checked==true) {
	x=1;
	wt+=x;
	SecondWindowDefinition+="<tr><td>Merchant's Scale<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.spellcomponentpouch.checked==true) {
	x=2;
	wt+=x;
	SecondWindowDefinition+="<tr><td>Spell component pouch<\/td><td>"+x+" lb.<\/td><\/tr>"; }

if (document.form1.spellbook.selectedIndex>0) {
	x=Math.ceil(3*document.form1.spellbook.selectedIndex);
  SecondWindowDefinition+="<tr><td>Spellbook<\/td><td>"+x+" lb.<\/td><\/tr>";
  wt+=x; }

if (document.form1.thievestools.checked==true) {
	x=1;
	wt+=x;
	SecondWindowDefinition+="<tr><td>Thief's tools<\/td><td>"+x+" lb.<\/td><\/tr>"; }

/*
if (document.form1.tool.selectedIndex>0)
 { x=Math.ceil(2*document.form1.tool.selectedIndex)
  SecondWindowDefinition+=x+" lb.<br>"; wt+=x; }
*/

x=Math.ceil(wt);

SecondWindowDefinition+="<tr><td colspan=\"2\"><hr size=\"1\" noshade><\/td><\/tr>";
SecondWindowDefinition+="<tr><td>Total:<\/td><td>"+x+" lb.<\/td><\/tr>";

// SecondWindowDefinition+="Weapons / Armor / Shield (from above)<br>";
/*
if (document.form1.crossbowbolts.selectedIndex>0)
 { SecondWindowDefinition+="Crossbow bolts (quiver of 10) x"+document.form1.crossbowbolts.selectedIndex+"<br>"; }
if (document.form1.arrows.selectedIndex>0)
 { SecondWindowDefinition+="Arrows (quiver of 20) x"+document.form1.arrows.selectedIndex+"<br>"; }
if (document.form1.needles.selectedIndex>0)
 { SecondWindowDefinition+="Blowgun needles (20) x"+document.form1.needles.selectedIndex+"<br>"; }
if (document.form1.slingbullets.selectedIndex>0)
 { SecondWindowDefinition+="Sling bullets (group of 10) x"+document.form1.slingbullets.selectedIndex+"<br>"; }
if (document.form1.bullets.selectedIndex>0)
 { SecondWindowDefinition+="Bullets (10) x"+document.form1.bullets.selectedIndex+"<br>"; }

if (document.form1.backpack.checked==true)
 { SecondWindowDefinition+="Backpack<br>"; }
if (document.form1.barrel.checked==true)
 { SecondWindowDefinition+="Barrel<br>"; }
if (document.form1.basket.checked==true)
 { SecondWindowDefinition+="Basket<br>"; }
if (document.form1.bedroll.checked==true)
 { SecondWindowDefinition+="Bedroll<br>"; }
if (document.form1.bell.checked==true)
 { SecondWindowDefinition+="Bell<br>"; }
if (document.form1.blanketwinter_list.selectedIndex>0)
 { SecondWindowDefinition+="Blanket, winter x"+document.form1.blanketwinter_list.selectedIndex+"<br>"; }
if (document.form1.blockandtackle.checked==true)
 { SecondWindowDefinition+="Block and tackle<br>"; }
if (document.form1.bottle.checked==true)
 { SecondWindowDefinition+="Bottle<br>"; }
if (document.form1.bucket.checked==true)
 { SecondWindowDefinition+="Bucket<br>"; }
if (document.form1.caltrops.checked==true)
 { SecondWindowDefinition+="Caltrops<br>"; }
if (document.form1.candle.checked==true)
 { SecondWindowDefinition+="Candle<br>"; }
if (document.form1.canvas.checked==true)
 { SecondWindowDefinition+="Canvas (10 x 10)<br>"; }
if (document.form1.casemaporscroll.checked==true)
 { SecondWindowDefinition+="Case (for map or scroll)<br>"; }
if (document.form1.chain.selectedIndex>0)
 { SecondWindowDefinition+="Chain (10 feet) x"+document.form1.chain.selectedIndex+"<br>"; }
if (document.form1.chalk.checked==true)
 { SecondWindowDefinition+="Chalk<br>"; }
if (document.form1.chest.checked==true)
 { SecondWindowDefinition+="Chest<br>"; }
if (document.form1.crowbar.checked==true)
 { SecondWindowDefinition+="Crowbar<br>"; }
if (document.form1.firewood.selectedIndex>0)
 { SecondWindowDefinition+="Firewood (1 day) x"+document.form1.firewood.selectedIndex+"<br>"; }
if (document.form1.fishhook.checked==true)
 { SecondWindowDefinition+="Fishhook<br>"; }
if (document.form1.fishingnet.checked==true)
 { SecondWindowDefinition+="Fishing net<br>"; }
if (document.form1.flask.selectedIndex>0)
 { SecondWindowDefinition+="Flasks x"+document.form1.flask.selectedIndex+"<br>"; }
if (document.form1.flintandsteel.checked==true)
 { SecondWindowDefinition+="Flint and steel<br>"; }
if (document.form1.grapplinghook.checked==true)
 { SecondWindowDefinition+="Grappling hook<br>"; }
if (document.form1.hammer.checked==true)
 { SecondWindowDefinition+="Hammer<br>"; }
if (document.form1.inkvial.checked==true)
 { SecondWindowDefinition+="Ink vial<br>"; }
if (document.form1.inkpen.checked==true)
 { SecondWindowDefinition+="Ink pen<br>"; }
if (document.form1.jugclay.checked==true)
 { SecondWindowDefinition+="Jug (clay)<br>"; }
if (document.form1.ladder.checked==true)
 { SecondWindowDefinition+="Ladder<br>"; }
if (document.form1.lampcommon.checked==true)
 { SecondWindowDefinition+="Lamp (common)<br>"; }
if (document.form1.lanternbullseye.checked==true)
 { SecondWindowDefinition+="Lantern (bullseye)<br>"; }
if (document.form1.lanternhooded.checked==true)
 { SecondWindowDefinition+="Lantern (hooded)<br>"; }
if (document.form1.lock.selectedIndex>0)
 { SecondWindowDefinition+="Locks x"+document.form1.lock.selectedIndex+"<br>"; }
if (document.form1.manacles.selectedIndex>0)
 { SecondWindowDefinition+="Manacles x"+document.form1.manacles.selectedIndex+"<br>"; }
if (document.form1.mirror.checked==true)
 { SecondWindowDefinition+="Mirror<br>"; }
if (document.form1.mug.checked==true)
 { SecondWindowDefinition+="Mug<br>"; }
if (document.form1.oilflask.selectedIndex>0)
 { SecondWindowDefinition+="Oil flasks x"+document.form1.oilflask.selectedIndex+"<br>"; }
if (document.form1.paper.selectedIndex>0)
 { SecondWindowDefinition+="Paper sheets x"+document.form1.paper.selectedIndex+"<br>"; }
if (document.form1.parchment.selectedIndex>0)
 { SecondWindowDefinition+="Parchment sheets x"+document.form1.parchment.selectedIndex+"<br>"; }
if (document.form1.pick.checked==true)
 { SecondWindowDefinition+="Pick<br>"; }
if (document.form1.pitcher.checked==true)
 { SecondWindowDefinition+="Pitcher<br>"; }
if (document.form1.piton.selectedIndex>0)
 { SecondWindowDefinition+="Pitons x"+document.form1.piton.selectedIndex+"<br>"; }
if (document.form1.pole.checked==true)
 { SecondWindowDefinition+="Pole<br>"; }
if (document.form1.pot.checked==true)
 { SecondWindowDefinition+="Pot<br>"; }
if (document.form1.pouch.selectedIndex>0)
 { SecondWindowDefinition+="Pouch x"+document.form1.pouch.selectedIndex+"<br>"; }
if (document.form1.ram.checked==true)
 { SecondWindowDefinition+="Ram<br>"; }
if (document.form1.rations.selectedIndex>0)
 { SecondWindowDefinition+="Rations (1 day) x"+document.form1.rations.selectedIndex+"<br>"; }
if (document.form1.ropehempen.selectedIndex>0)
 { SecondWindowDefinition+="Rope (50', hempen) x"+document.form1.ropehempen.selectedIndex+"<br>"; }
if (document.form1.ropesilk.selectedIndex>0)
 { SecondWindowDefinition+="Rope (50', silk) x"+document.form1.ropesilk.selectedIndex+"<br>"; }
if (document.form1.sack.selectedIndex>0)
 { SecondWindowDefinition+="Sacks x"+document.form1.sack.selectedIndex+"<br>"; }

if (document.form1.sealingwax.checked==true)
 { SecondWindowDefinition+="Sealing wax<br>"; }
if (document.form1.sewingneedle.checked==true)
 { SecondWindowDefinition+="Sewing needle<br>"; }
if (document.form1.signalwhistle.checked==true)
 { SecondWindowDefinition+="Signal whistle<br>"; }
if (document.form1.signetring.checked==true)
 { SecondWindowDefinition+="Signet ring<br>"; }
if (document.form1.sledge.checked==true)
 { SecondWindowDefinition+="Sledge<br>"; }
if (document.form1.soap.checked==true)
 { SecondWindowDefinition+="Soap<br>"; }
if (document.form1.spadeorshovel.checked==true)
 { SecondWindowDefinition+="Spade / shovel<br>"; }
if (document.form1.spyglass.checked==true)
 { SecondWindowDefinition+="Spyglass<br>"; }
if (document.form1.tent.checked==true)
 { SecondWindowDefinition+="Tent<br>"; }
if (document.form1.torch.selectedIndex>0)
 { SecondWindowDefinition+="Torches x"+document.form1.torch.selectedIndex+"<br>"; }
if (document.form1.vialinkorpotion.selectedIndex>0)
 { SecondWindowDefinition+="Vial (for ink or potions) x"+document.form1.vialinkorpotion.selectedIndex+"<br>"; }
if (document.form1.waterskin.selectedIndex>0)
 { SecondWindowDefinition+="Waterskins x"+document.form1.waterskin.selectedIndex+"<br>"; }
if (document.form1.whetstone.checked==true)
 { SecondWindowDefinition+="Whetstone<br>"; }
if (document.form1.alchemistlab.checked==true)
 { SecondWindowDefinition+="Alchemist lab<br>"; }
if (document.form1.artisantools.checked==true)
 { SecondWindowDefinition+="Artisan tools<br>"; }
if (document.form1.climberskit.checked==true)
 { SecondWindowDefinition+="Climber's kit<br>"; }
if (document.form1.disguisekit.checked==true)
 { SecondWindowDefinition+="Disguise kit<br>"; }
if (document.form1.healerkit.checked==true)
 { SecondWindowDefinition+="Healer kit<br>"; }
if (document.form1.hollyandmistletoe.checked==true)
 { SecondWindowDefinition+="Holly and mistletoe<br>"; }
if (document.form1.holysymbolwooden.checked==true)
 { SecondWindowDefinition+="Holy symbol (wooden)<br>"; }
if (document.form1.holysymbolsilver.checked==true)
 { SecondWindowDefinition+="Holy symbol (silver)<br>"; }
if (document.form1.hourglass.checked==true)
 { SecondWindowDefinition+="Hourglass<br>"; }
if (document.form1.magnifyingglass.checked==true)
 { SecondWindowDefinition+="Magnifying glass<br>"; }
if (document.form1.musicalinstrument.checked==true)
 { SecondWindowDefinition+="Musical instrument<br>"; }
if (document.form1.scale.checked==true)
 { SecondWindowDefinition+="Scale, merchant's<br>"; }
if (document.form1.spellcomponentpouch.checked==true)
 { SecondWindowDefinition+="Spell component pouch<br>"; }
if (document.form1.spellbook.selectedIndex>0)
 { SecondWindowDefinition+="Spellbook x"+document.form1.spellbook.selectedIndex+"<br>"; }
if (document.form1.thievestools.checked==true)
 { SecondWindowDefinition+="Thieves' tools<br>"; }
if (document.form1.tool.selectedIndex>0)
 { SecondWindowDefinition+="Tools (miscellaneous) x"+document.form1.tool.selectedIndex+"<br>"; }
*/

SecondWindowDefinition+="<\/td><\/tr><\/table><\/p>";

if (document.form1.additionalEquipment.value!="") {
	SecondWindowDefinition+="Additional Equipment:<p>"+document.form1.additionalEquipment.value+"<\/p>";
 }

if
 ( ((wizard_levels + epic_wizard_levels + sorcerer_levels + epic_sorcerer_levels>0) || ((npcother_levels + epic_npcother_levels>1) && (npcother_class_name=="Adept"))) && (no_familiar==false) ) {
 x=wizard_levels + epic_wizard_levels + sorcerer_levels + epic_sorcerer_levels;
 if ((npcother_levels + epic_npcother_levels>1) && (npcother_class_name=="Adept")) { x+=npcother_levels + epic_npcother_levels; }
   if (bat_familiar==true) { SecondWindowDefinition+="<p>Bat familiar: Str 1 Dex 15 Con 10 Int "; }
   if (cat_familiar==true) { SecondWindowDefinition+="<p>Cat familiar: Str 3 Dex 15 Con 10 Int "; }
   if (hawk_familiar==true) { SecondWindowDefinition+="<p>Hawk familiar: Str 6 Dex 17 Con 10 Int "; }
   if (lizard_familiar==true) { SecondWindowDefinition+="<p>Lizard familiar: Str 3 Dex 15 Con 10 Int "; }
   if (owl_familiar==true) { SecondWindowDefinition+="<p>Owl familiar: Str 6 Dex 17 Con 10 Int "; }
   if (rat_familiar==true) { SecondWindowDefinition+="<p>Rat familiar: Str 2 Dex 15 Con 10 Int "; }
   if (raven_familiar==true) { SecondWindowDefinition+="<p>Raven familiar: Str 1 Dex 15 Con 10 Int "; }
   if (snake_familiar==true) { SecondWindowDefinition+="<p>Snake familiar: Str 6 Dex 17 Con 11 Int "; }
   if (toad_familiar==true) { SecondWindowDefinition+="<p>Toad familiar: Str 1 Dex 12 Con 11 Int "; }
   if (weasel_familiar==true) { SecondWindowDefinition+="<p>Weasel familiar: Str 3 Dex 15 Con 10 Int "; }
    SecondWindowDefinition+=(familiar_level_modifier(x)+5);
   if (bat_familiar==true) { SecondWindowDefinition+=" Wis 14 Chr 4; "; }
   if (cat_familiar==true) { SecondWindowDefinition+=" Wis 12 Chr 7; "; }
   if (hawk_familiar==true) { SecondWindowDefinition+=" Wis 14 Chr 6; "; }
   if (lizard_familiar==true) { SecondWindowDefinition+=" Wis 12 Chr 2; "; }
   if (owl_familiar==true) { SecondWindowDefinition+=" Wis 14 Chr 4; "; }
   if (rat_familiar==true) { SecondWindowDefinition+=" Wis 12 Chr 2; "; }
   if (raven_familiar==true) { SecondWindowDefinition+=" Wis 14 Chr 6; "; }
   if (snake_familiar==true) { SecondWindowDefinition+=" Wis 12 Chr 2; "; }
   if (toad_familiar==true) { SecondWindowDefinition+=" Wis 14 Chr 4; "; }
   if (weasel_familiar==true) { SecondWindowDefinition+=" Wis 12 Chr 5; "; }
   SecondWindowDefinition+="Hit points: "+Math.floor(total_hit_points/2)+"; ";
   if (bat_familiar==true)
    {
     SecondWindowDefinition+="Initiative +2 (dex); Speed 5 ft., fly 40 ft. (good); AC: "+(16+familiar_level_modifier(x))+" (+4 size, +2 dex, +"+familiar_level_modifier(x)+" level); Blindsight; ";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+2;
     if (y<4) {y=4; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+2;
     if (y<2) {y=2; }
     SecondWindowDefinition+="Will +"+y+", Listen +9, Move Silently +6, Spot +9";
    }
   if (cat_familiar==true) {
     SecondWindowDefinition+="Initiative +2 (dex); Speed 30 ft.; AC: "+(14+familiar_level_modifier(x))+" (+2 size, +2 dex, +"+familiar_level_modifier(x)+" level); 2 claws +4 melee, bite -1 melee; Claw 1d2-4, bite 1d3-4; Weapon Finesse (claw, bite); ";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+2;
     if (y<4) {y=4; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+1;
     if (y<1) {y=1; }
     SecondWindowDefinition+="Will +"+y+", Balance +10, Climb +5, Hide +17, Listen +4, Move Silently +9, Spot +4";
    }
   if (hawk_familiar==true) {
     SecondWindowDefinition+="Initiative +3 (dex); Speed 10 ft., fly 60 ft. (average); AC: "+(17+familiar_level_modifier(x))+" (+2 size, +3 dex, +2 natural, +"+familiar_level_modifier(x)+" level); Claws +5 melee, Claws 1d4-2; ";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+3;
     if (y<5) {y=5; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+2;
     if (y<2) {y=2; }
     SecondWindowDefinition+="Will +"+y+", Listen +6, Spot +6, weapon finesse (claws)";
    }
   if (lizard_familiar==true)
    {
     SecondWindowDefinition+="Initiative +2 (dex); Speed 20 ft., climb 20 ft.; AC: "+(14+familiar_level_modifier(x))+" (+2 size, +2 dex, +"+familiar_level_modifier(x)+" level); bite +4 melee, bite 1d4";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+2;
     if (y<4) {y=4; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+1;
     if (y<1) {y=1; }
     SecondWindowDefinition+="Will +"+y+", Balance +10, Climb +12, Hide +13, Listen +4, Spot +4";
    }
   if (owl_familiar==true) {
     SecondWindowDefinition+="Initiative +3 (dex); Speed 10 ft., fly 40 ft. (average); AC: "+(17+familiar_level_modifier(x))+" (+2 size, +3 dex, +2 natural, +"+familiar_level_modifier(x)+" level); Claws +5 melee 1d2-2 [sic.]; ";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+3;
     if (y<5) {y=5; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+2;
     if (y<2) {y=2; }
     SecondWindowDefinition+="Will +"+y+", Listen +14, Move Silently +20, Spot +6; Weapon Finesse (claws)";
    }
   if (rat_familiar==true) {
     SecondWindowDefinition+="Initiative +2 (dex); Speed 15 ft., climb 15 ft.; AC: "+(14+familiar_level_modifier(x))+" (+2 size, +2 dex, +"+familiar_level_modifier(x)+" level); Bite +4 melee 1d3-4; ";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+2;
     if (y<4) {y=4; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+1;
     if (y<1) {y=1; }
     SecondWindowDefinition+="Will +"+y+", Balance +10, Climb +12, Hide +18, Move Silently +10; Weapon Finesse (bite)";
    }
   if (raven_familiar==true)
    {
     SecondWindowDefinition+="Initiative +2 (dex); Speed 10 ft., fly 40 ft. (average); AC: "+(14+familiar_level_modifier(x))+" (+2 size, +2 dex, +"+familiar_level_modifier(x)+" level); Claws +4 melee 1d2-5";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+2;
     if (y<4) {y=4; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+2;
     if (y<2) {y=2; }
     SecondWindowDefinition+="Will +"+y+", Listen +6, Spot +6; speaks one character language";
    }
   if (snake_familiar==true)
    {
     SecondWindowDefinition+="Initiative +3 (dex); Speed 15 ft., climb 15 ft., swim 15 ft.; AC: "+(17+familiar_level_modifier(x))+" (+2 size, +3 dex, +2 natural, +"+familiar_level_modifier(x)+" level); bite +5 melee, poison; ";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+3;
     if (y<5) {y=5; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+1;
     if (y<1) {y=1; }
     SecondWindowDefinition+="Will +"+y+", Balance +11, Climb +12, Hide +18, Listen +8, Spot +8; weapon finesse (bite)";
    }
   if (toad_familiar==true)
    {
     SecondWindowDefinition+="Initiative +1 (dex); Speed 5 ft.; AC: "+(15+familiar_level_modifier(x))+" (+4 size, +1 dex, +"+familiar_level_modifier(x)+" level); ";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+1;
     if (y<3) {y=3; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+2;
     if (y<2) {y=2; }
     SecondWindowDefinition+="Will +"+y+", Hide +21, Listen +5, Spot +5";
    }
   if (weasel_familiar==true)
    {
     SecondWindowDefinition+="Initiative +2 (dex); Speed 20 ft., climb 20 ft; AC: "+(14+familiar_level_modifier(x))+" (+2 size, +2 dex, +"+familiar_level_modifier(x)+" level); Bite +4 melee 1d3-4, attach; ";
     y=base_fortitude_bonus+0;
     if (y<2) {y=2; }
     SecondWindowDefinition+=" Fort +"+y+", ";
     y=base_reflex_bonus+2;
     if (y<4) {y=4; }
     SecondWindowDefinition+="Ref +"+y+", ";
     y=base_will_bonus+1;
     if (y<1) {y=1; }
     SecondWindowDefinition+="Will +"+y+", Balance +10, Climb +11, Hide +13, Move Silently +9, Spot +4; weapon finesse (bite)";
    }
    SecondWindowDefinition+=" Alertness feat when in arm's reach; improved evasion; share spells; empathic link; ";
    if (x>2) { SecondWindowDefinition+=" deliver touch spells; "; }
    if (x>4) { SecondWindowDefinition+=" speak with master; "; }
    if (x>6)
     {
      if (bat_familiar==true) { SecondWindowDefinition+=" speak with bats; "; }
      if (cat_familiar==true) { SecondWindowDefinition+=" speak with felines; "; }
      if (hawk_familiar==true) { SecondWindowDefinition+=" speak with birds; "; }
      if (lizard_familiar==true) { SecondWindowDefinition+=" speak with reptiles; "; }
      if (owl_familiar==true) { SecondWindowDefinition+=" speak with birds; "; }
      if (rat_familiar==true) { SecondWindowDefinition+=" speak with rodents; "; }
      if (raven_familiar==true) { SecondWindowDefinition+=" speak with birds; "; }
      if (snake_familiar==true) { SecondWindowDefinition+=" speak with reptiles; "; }
      if (toad_familiar==true) { SecondWindowDefinition+=" speak with amphibians; "; }
      if (weasel_familiar==true) { SecondWindowDefinition+=" speak with mustelidae; "; }
     }
    if (x>10) { SecondWindowDefinition+=" spell resistance "+(x+5)+"; "; }
    if (x>12) { SecondWindowDefinition+=" <i>scry</i> on familiar"; }
    SecondWindowDefinition+="<p>\r"
 }


   x=document.form1.animal_companion_list.selectedIndex;
   stringy=document.form1.animal_companion_list.options[x].value;
   animal_companion_grew_big_cannot_hide=0;
   if (x>0)
    {
     SecondWindowDefinition+="Animal Companion: " + stringy+"<p><ul>";
     if (stringy=="Dire Rat")
      {
       GetBonusTricks(0);
       AnimalCompanionData(1,1,10,17,12,1,12,4);
//       if (animal_companion_HD>=4) {animal_companion_is_medium=true;animal_companion_grew_big_cannot_hide=4; } else
        animal_companion_is_small=true;
       StartOnAnimalCompanion(8,"Speed 40 feet, climb 20 feet",2 , false);
       SecondWindowDefinition+="Bite "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalClimbStr(11);
       AnimalHide(11);
       AnimalMoveSilently(6);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Snake (small viper)")
      {
       GetBonusTricks(0);
       AnimalCompanionData(1,3,6,17,11,1,12,2);
       animal_companion_is_small=true;
       StartOnAnimalCompanion(8,"Speed 20 feet, climb 20 feet, swim 20 feet",2 , false);
       SecondWindowDefinition+="Bite "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d2+poison";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Poison DC 11, 1d6 con, 1d6 con</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalBalance(11);
       AnimalClimbDex(12);
       AnimalHide(15);
       AnimalListen(9);
       AnimalSpot(9);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Snake (medium viper)")
      {
       GetBonusTricks(0);
       AnimalCompanionData(2,3,8,17,11,1,12,2);
       StartOnAnimalCompanion(8,"Speed 20 feet, climb 20 feet, swim 20 feet",2 , false);
       SecondWindowDefinition+="Bite "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d2+poison";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Poison DC 11, 1d6 con, 1d6 con</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalBalance(11);
       AnimalClimbDex(11);
       AnimalHide(12);
       AnimalListen(9);
       AnimalSpot(9);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Snake (large viper)")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,3,10,17,11,1,12,2);
       StartOnAnimalCompanion(8,"Speed 20 feet, climb 20 feet, swim 20 feet",2 , false);
       animal_companion_is_large=true;
       SecondWindowDefinition+="Bite "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4+poison";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Poison DC 11, 1d6 con, 1d6 con</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalBalance(11);
       AnimalClimbDex(11);
       AnimalHide(8);
       AnimalListen(9);
       AnimalSpot(9);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Snake (huge viper)")
      {
       GetBonusTricks(7);
       AnimalCompanionData(4,3,10,19,13,1,12,2);
       StartOnAnimalCompanion(8,"Speed 20 feet, climb 20 feet, swim 20 feet",2 , false);
       SecondWindowDefinition+="Bite "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4+poison";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Poison DC 13, 1d6 con, 1d6 con</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalBalance(12);
       AnimalClimbDex(12);
       AnimalHide(3);
       AnimalListen(9);
       AnimalSpot(9);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Snake (constrictor)")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,2,17,17,13,1,12,2);
       StartOnAnimalCompanion(8,"Speed 20 feet, climb 20 feet, swim 20 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d3";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Improved grab; constrict 1d3+strength bonus</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalBalance(11);
       AnimalClimbDex(14);
       AnimalHide(11);
       AnimalListen(9);
       AnimalSpot(9);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Snake (giant constrictor)")
      {
       GetBonusTricks(10);
       AnimalCompanionData(11,4,25,17,13,1,12,2);
//       if (animal_companion_HD>=17) {animal_companion_is_gargantuan=true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_huge=true;
       StartOnAnimalCompanion(8,"Speed 20 feet, climb 20 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Improved grab; constrict 1d3+strength bonus</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalBalance(11);
       AnimalClimbDex(18);
       AnimalHide(3);
       AnimalListen(9);
       AnimalSpot(9);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Triceratops")
      {
       GetBonusTricks(16);
       AnimalCompanionData(16,11,20,9,25,1,12,7);
//       if (animal_companion_HD>=33) {animal_companion_is_colossal=true;;animal_companion_grew_big_cannot_hide=8; } else
//       if (animal_companion_HD>=17) {animal_companion_is_gargantuan=true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_huge=true;
       StartOnAnimalCompanion(10,"Speed 30 feet",2 , false);
       SecondWindowDefinition+="Gore "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (gore); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Charge for double damage; trample</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(8);
       AnimalSpot(8);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Whale (orca)")
      {
       GetBonusTricks(10);
       AnimalCompanionData(9,6,27,15,21,2,14,6);
//       if (animal_companion_HD>=14) {animal_companion_is_gargantuan=true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_huge=true;
       StartOnAnimalCompanion(8,"Speed Swim 50 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(12);
       AnimalSpot(12);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Rhinoceros")
      {
       GetBonusTricks(7);
       AnimalCompanionData(8,7,26,10,21,2,13,2);
//       if (animal_companion_HD>=13) {animal_companion_is_huge=true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 30 feet",2 , false);
       SecondWindowDefinition+="Gore "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (gore); ";
       SecondWindowDefinition+=stringy;
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(11);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Dire Bat")
      {
       GetBonusTricks(4);
       AnimalCompanionData(4,5,17,22,17,2,14,6);
//       if (animal_companion_HD>=5) {animal_companion_is_huge=true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 20 feet, fly 40 feet (good)",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Blindsight</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalListen(11);
       AnimalMoveSilently(11);
       AnimalSpot(11);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Shark (medium)")
      {
       GetBonusTricks(1);
       AnimalCompanionData(3,3,13,15,13,1,12,2);
       StartOnAnimalCompanion(8,"Speed swim 60 feet",2 , false);
       SecondWindowDefinition+="Bite "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Qualities: Keen scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Shark (large)")
      {
       GetBonusTricks(4);
       AnimalCompanionData(7,4,17,15,13,1,12,2);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed swim 60 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Qualities: Keen scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Shark (huge)")
      {
       GetBonusTricks(10);
       AnimalCompanionData(10,5,21,15,15,1,12,2);
       animal_companion_is_huge=true;
       StartOnAnimalCompanion(8,"Speed swim 60 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Qualities: Keen scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Dire Shark")
      {
       GetBonusTricks(16);
       AnimalCompanionData(18,7,23,15,17,1,12,10);
//       if (animal_companion_HD>=33) {animal_companion_is_gargantuan=true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_huge=true;

       StartOnAnimalCompanion(8,"Speed swim 90 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Qualities: Keen scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalListen(7);
       AnimalSpot(7);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Porpoise")
      {
       GetBonusTricks(1);
       AnimalCompanionData(2,2,11,17,13,2,12,6);
       StartOnAnimalCompanion(8,"Speed swim 80 feet",2 , false);
       SecondWindowDefinition+="Butt "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (butt); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Qualities: Blindsight</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(10);
       AnimalSpot(10);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (butt)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Bison")
      {
       GetBonusTricks(4);
       AnimalCompanionData(5,4,18,10,16,2,11,4);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="Butt "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (butt); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Stampede</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(8);
       AnimalSpot(5);
       TakeMoreFeats();
       }
     if (stringy=="Boar")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,6,15,10,17,2,13,4);
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="Gore "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (gore); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Ferocity (fights without penalty to -10 hp)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(7);
       AnimalSpot(5);
       TakeMoreFeats();
       }
     if (stringy=="Dire Boar")
      {
       GetBonusTricks(7);
       AnimalCompanionData(7,6,27,10,17,2,13,8);
//       if (animal_companion_HD>=17) {animal_companion_is_huge=true;animal_companion_grew_big_cannot_hide=4} else
        animal_companion_is_large=true;

       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Ferocity (fights without penalty to -10 hp)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalListen(9);
       AnimalSpot(8);
       TakeMoreFeats();
       }
     if (stringy=="Elasmosaurus")
      {
       GetBonusTricks(7);
       AnimalCompanionData(5,3,26,14,20,2,13,9);
       animal_companion_is_huge=true;
       StartOnAnimalCompanion(10,"Speed 25 feet, swim 50 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(2);
       AnimalSpot(5);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Camel")
      {

       GetBonusTricks(1);
       AnimalCompanionData(3,1,18,16,14,1,11,4);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 50 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(5);
       AnimalSpot(5);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Crocodile")
      {
       GetBonusTricks(1);
       AnimalCompanionData(3,4,19,12,17,2,12,2);
       StartOnAnimalCompanion(8,"Speed 20 feet, swim 30 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="; or Tail Slap "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       stringy="1d12";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (tail slap); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Improved Grab (bite damage each round while pinning)</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalHide(7);
       AnimalListen(5);
       AnimalSpot(5);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Crocodile (giant)")
      {
       GetBonusTricks(7);
       AnimalCompanionData(7,7,27,12,19,1,12,2);
       animal_companion_is_huge=true;
       StartOnAnimalCompanion(8,"Speed 20 feet, swim 30 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="; or Tail Slap "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       stringy="1d12";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (tail slap); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Improved Grab (bite damage each round while pinning)</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalHide(0);
       AnimalListen(5);
       AnimalSpot(5);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Dire Weasel")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,2,14,19,10,2,12,11);
//       if (animal_companion_HD>=7) {animal_companion_is_huge=true;animal_companion_grew_big_cannot_hide=4} else
//       if (animal_companion_HD>=4) {animal_companion_is_large=true; } else
       animal_companion_is_medium=true;
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="Bite "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Attach; Drain Blood</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalHide(9);
       AnimalMoveSilently(10);
       AnimalSpot(5);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Deinonychus")
      {
       GetBonusTricks(7);
       AnimalCompanionData(4,5,19,15,17,2,12,10);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(10,"Speed 60 feet",2 , false);
       SecondWindowDefinition+="Rake "+MeleeString();
       SecondWindowDefinition+=" 2 claws "+MinusFiveMeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (rake); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (2 claws); ";
       SecondWindowDefinition+=stringy;
       stringy="2d4";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalHide(7);
       AnimalJump(13);
       AnimalListen(11);
       AnimalSpot(11);
       AnimalSurvival(9);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Elephant")
      {
       GetBonusTricks(13);
       AnimalCompanionData(11,7,30,10,21,2,13,7);
       animal_companion_is_huge=true;
       StartOnAnimalCompanion(10,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="Slam "+MeleeString();
       SecondWindowDefinition+=" and Stamp "+MinusFiveMeleeString();
       SecondWindowDefinition+="; or Gore "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (slam); ";
       SecondWindowDefinition+=stringy;
       stringy="2d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (stamp); ";
       SecondWindowDefinition+=stringy;
       stringy="2d8";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (gore); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Trample (damage same as gore), automatically against medium or smaller opponents, if not making attack of opportunity may reflex save DC 20 for half damage</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalHide(7);
       AnimalJump(13);
       AnimalListen(11);
       AnimalSpot(11);
       AnimalSurvival(9);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Squid")
      {
       GetBonusTricks(1);
       AnimalCompanionData(3,3,14,17,11,1,12,2);
       StartOnAnimalCompanion(8,"Speed swim 60 feet",2 , false);
       SecondWindowDefinition+="10 arms "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="Arms are just for grabbing; 1d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Improved grab</li>";
       SecondWindowDefinition+="<li>Special Qualities: Ink cloud; jet</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Squid (giant)")
      {
       GetBonusTricks(16);
       AnimalCompanionData(12,6,26,17,13,1,12,2);
//       if (animal_companion_HD>=19) {animal_companion_is_gargantuan=true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_huge=true;
       StartOnAnimalCompanion(8,"Speed swim 80 feet",2 , false);
       SecondWindowDefinition+="10 tentacle rakes "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (tentacle rake); ";
       SecondWindowDefinition+=stringy;
       stringy="2d8";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Improved grab; constrict 1d6 + strength bonus</li>";
       SecondWindowDefinition+="<li>Special Qualities: Ink cloud; jet</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(8);
       AnimalSpot(8);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Octopus (giant)")
      {
       GetBonusTricks(13);
       AnimalCompanionData(8,7,20,15,13,2,12,3);
//       if (animal_companion_HD>=13) {animal_companion_is_huge-true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 20 feet; swim 30 feet",2 , false);
       SecondWindowDefinition+="8 tentacle rakes "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (tentacle rake); ";
       SecondWindowDefinition+=stringy;
       stringy="1d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Improved grab; constrict 2d8 + strength bonus</li>";
       SecondWindowDefinition+="<li>Special Qualities: Ink cloud; jet</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalHide(11);
       AnimalListen(14);
       AnimalSpot(4);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Bear (black)")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,2,19,13,15,2,12,6);
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalClimbStr(6);
       AnimalListen(4);
       AnimalSpot(7);
       AnimalSwim(8);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Wolverine")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,2,14,15,19,1,12,10);
//       if (animal_companion_HD>=17) {animal_companion_is_large=true;animal_companion_grew_big_cannot_hide=4; } else
        animal_companion_is_medium=true;
       StartOnAnimalCompanion(8,"Speed 30 feet, burrow 10 feet, climb 10 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Arracks: Rage (when hurt in combat, +4 str, +4 con, -2 AC)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalClimbStr(15);
       AnimalListen(6);
       AnimalSpot(6);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Dire Wolverine")
      {
       GetBonusTricks(7);
       AnimalCompanionData(5,4,22,17,19,2,12,10);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 3 feet, climb 10 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Arracks: Rage (when hurt in combat, +4 str, +4 con, -2 AC)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalClimbStr(14);
       AnimalListen(9);
       AnimalSpot(8);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Leopard")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,1,16,19,15,2,12,6);
       StartOnAnimalCompanion(8,"Speed 40 feet, climb 20 feet",2 , false);
       SecondWindowDefinition+=" Bite "+WeaponFinesseString();
       SecondWindowDefinition+=" 2 claws "+MinusFiveWeaponFinesseString();
       SecondWindowDefinition+=" Rake "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (rake, must be grabbed); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Pounce; improved grab (with bite); rake if grabbed</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalBalance(12);
       AnimalClimbStr(11);
       AnimalHide(9);
       AnimalListen(6);
       AnimalMoveSilently(9);
       AnimalSpot(6);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite, Claws, Rake)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Horse (heavy)")
      {
       GetBonusTricks(1);
       AnimalCompanionData(3,3,15,13,15,2,12,6);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 50 feet",2 , false);
       SecondWindowDefinition+="2 hooves "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (hoof); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(6);
       AnimalSpot(6);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Horse (light)")
      {
       GetBonusTricks(1);
       AnimalCompanionData(3,3,13,13,15,2,12,6);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 60 feet",2 , false);
       SecondWindowDefinition+="2 hooves "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (hoof); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(6);
       AnimalSpot(6);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Pony")
      {
       GetBonusTricks(1);
       AnimalCompanionData(2,2,13,13,12,2,11,4);
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="2 hooves "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d3";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (hoof); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(5);
       AnimalSpot(5);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Badger")
      {
       GetBonusTricks(0);
       AnimalCompanionData(1,0,8,17,15,2,12,6);
       animal_companion_is_tiny=true;
       StartOnAnimalCompanion(8,"Speed 30 feet; burrow 10 feet",2 , false);
       SecondWindowDefinition+="2 claws "+WeaponFinesseString();
       SecondWindowDefinition+=" Bite "+MinusFiveWeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d2";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalClimbStr(6);
       AnimalListen(4);
       AnimalSpot(4);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite, Claws)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Dire Badger")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,3,14,17,19,2,12,10);
//       if (animal_companion_HD>=7) {animal_companion_is_huge=true;animal_companion_grew_big_cannot_hide=8; } else
//       if (animal_companion_HD>=4) {animal_companion_is_large=true;animal_companion_grew_big_cannot_hide=4; }  else
       animal_companion_is_medium;
       StartOnAnimalCompanion(8,"Speed 30 feet; burrow 10 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d2";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Rage (if damaged, +4 strength, +4 constitution, -2 AC)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalListen(6);
       AnimalSpot(6);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite, Claws)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Ape")
      {
       GetBonusTricks(4);
       AnimalCompanionData(4,3,21,15,14,2,12,7);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 30 feet, climb 30 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalClimbStr(18);
       AnimalListen(6);
       AnimalSpot(6);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Dire Ape")
      {
       GetBonusTricks(7);
       AnimalCompanionData(5,4,22,15,14,2,12,7);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 30 feet, climb 15 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Rend (2d6 + twice strength bonus; automatic if both claws hit)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalClimbStr(14);
       AnimalMoveSilently(9);
       AnimalSpot(9);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Eagle")
      {
       GetBonusTricks(1);
       AnimalCompanionData(1,1,10,15,12,2,14,6);
       animal_companion_is_small=true;
       StartOnAnimalCompanion(8,"Speed 10 feet, fly 80 feet",2 , false);
       SecondWindowDefinition+="2 claws "+WeaponFinesseString();
       SecondWindowDefinition+=" Bite "+MinusFiveWeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d3";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d4";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(6);
       AnimalSpot(6);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite, Claw)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Hawk")
      {
       GetBonusTricks(1);
       AnimalCompanionData(1,2,6,17,10,2,14,6);
       animal_companion_is_tiny=true;

       StartOnAnimalCompanion(8,"Speed 10 feet, fly 60 feet",2 , false);
       SecondWindowDefinition+="Claws "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(6);
       AnimalSpot(6);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Claws)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Owl")
      {
       GetBonusTricks(1);
       AnimalCompanionData(1,2,6,17,10,2,14,4);
       animal_companion_is_tiny=true;
       StartOnAnimalCompanion(8,"Speed 10 feet, fly 40 feet",2 , false);
       SecondWindowDefinition+="Claws "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d2";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(14);
       AnimalMoveSilently(20);
       AnimalSpot(6);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Claws)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Cheetah")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,1,16,19,15,2,12,6);
       StartOnAnimalCompanion(8,"Speed 50 feet",2 , false);
       SecondWindowDefinition+="Bite "+WeaponFinesseString();
       SecondWindowDefinition+=" 2 claws "+MinusFiveWeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       stringy="1d2";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (2 claws); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Trip</li>";
       SecondWindowDefinition+="<li>Special Qualities: Sprint</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalHide(7);
       AnimalListen(5);
       AnimalMoveSilently(8);
       AnimalSpot(5);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite, Claws)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Bear (brown)")
      {
       GetBonusTricks(7);
       AnimalCompanionData(6,5,27,13,19,2,12,6);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="2d8";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Improved Grab</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(4);
       AnimalSpot(7);
       AnimalSwim(14);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Lion")
      {
       GetBonusTricks(7);
       AnimalCompanionData(5,3,21,17,15,2,12,6);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Pounce; improved grab; rake (1d6 + half strength bonus)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalBalance(7);
       AnimalHide(4);
       AnimalJump(5);
       AnimalListen(5);
       AnimalMoveSilently(11);
       AnimalSpot(5);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Dire Lion")
      {
       GetBonusTricks(10);
       AnimalCompanionData(8,4,25,15,17,2,12,10);
//       if (animal_companion_HD>=17) {animal_companion_is_huge=true;animal_companion_grew_big_cannot_hide=4} else
        animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Pounce; improved grab; rake (1d6 + half strength bonus)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalHide(5);
       AnimalJump(10);
       AnimalListen(4);
       AnimalMoveSilently(9);
       AnimalSpot(4);
       TakeMoreSkills();
       TakeMoreFeats();
       }

     if (stringy=="Tiger")
      {
       GetBonusTricks(7);
       AnimalCompanionData(6,3,23,15,17,2,12,6);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="2d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Pounce (may make full attack on pouncing); improve grab; if pouncing or holding, rake at full attack bonus, damage 1d8 + half strength bonus_</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalBalance(6);
       AnimalHide(5);
       AnimalListen(3);
       AnimalMoveSilently(9);
       AnimalSpot(3);
       AnimalSwim(11);
       TakeMoreSkills();
       TakeMoreFeats();
       }

     if (stringy=="Dire Tiger") {
       GetBonusTricks(16);
//       if (animal_companion_HD>=33) {animal_companion_is_gargantuan=true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_huge=true;
       AnimalCompanionData(16,6,27,15,17,2,12,10);
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="2d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Pounce (may make full attack on pouncing); improve grab; if pouncing or holding, rake at full attack bonus, damage 2d4 + half strength bonus_</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalHide(0);
       AnimalJump(11);
       AnimalListen(3);
       AnimalMoveSilently(9);
       AnimalSpot(3);
       AnimalSwim(11);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Bear (polar)")
      {
       GetBonusTricks(10);
       AnimalCompanionData(8,5,27,13,19,2,12,6);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 40 feet; swim 30 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="2d8";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Improved Grab</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalHide(-2);
       AnimalListen(4);
       AnimalSpot(7);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Dire Bear")
      {
       GetBonusTricks(13);
       AnimalCompanionData(12,7,31,13,19,2,12,10);
//       if (animal_companion_HD>=17) {animal_companion_is_huge=true;animal_companion_grew_big_cannot_hide=8; } else
           animal_companion_is_large=true;

       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="2 claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="2d8";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Improved Grab</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalListen(7);
       AnimalSpot(7);
       AnimalSwim(13);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Tyrannosaurus")
      {
       GetBonusTricks(16);
       AnimalCompanionData(18,5,28,12,19,2,15,10);
//       if (animal_companion_HD>=37) {animal_companion_is_colossal=true;animal_companion_grew_big_cannot_hide=8; } else
//       if (animal_companion_HD>=19) {animal_companion_is_gargantuan=true;animal_companion_grew_big_cannot_hide=4; } else
                                   animal_companion_is_huge=true;

       StartOnAnimalCompanion(10,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="5d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(11);
       AnimalSpot(11);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Lizard (monitor)")
      {
       GetBonusTricks(4);
       AnimalCompanionData(3,3,17,15,17,2,12,2);
       StartOnAnimalCompanion(8,"Speed 30 feet, swim 30 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       MoreAboutTheAnimalCompanion(false , false);
       AnimalClimbStr(9);
       AnimalHide(7);
       AnimalListen(4);
       AnimalMoveSilently(6);
       AnimalSpot(4);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Dog")
      {
       GetBonusTricks(1);
       AnimalCompanionData(1,1,13,17,15,2,12,6);
       animal_companion_is_small=true;
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(5);
       AnimalSpot(5);
       AnimalSwim(5);
       AnimalSurvival(1);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Wolf")
      {
       GetBonusTricks(1);
       AnimalCompanionData(2,2,13,15,15,2,12,6);
       StartOnAnimalCompanion(8,"Speed 50 feet",2 , false);
       SecondWindowDefinition+="Bite "+WeaponFinesseString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalHide(3);
       AnimalListen(6);
       AnimalMoveSilently(4);
       AnimalSpot(4);
       AnimalSurvival(1);
       TakeMoreSkills();
       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Dire Wolf")
      {
       GetBonusTricks(7);
       AnimalCompanionData(6,3,25,15,17,2,12,10);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"Speed 50 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(true , false);
       AnimalHide(5);
       AnimalListen(6);
       AnimalMoveSilently(5);
       AnimalSpot(6);
       AnimalSurvival(1);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Dog (riding)")
      {
       GetBonusTricks(1);
       AnimalCompanionData(2,4,15,15,15,2,12,6);
       StartOnAnimalCompanion(8,"Speed 40 feet",2 , false);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalListen(5);
       AnimalSpot(5);
       AnimalSwim(5);
       AnimalSurvival(1);
       TakeMoreSkills();
       TakeMoreFeats();
       }
     if (stringy=="Megaraptor")
      {
       GetBonusTricks(10);
       AnimalCompanionData(10,6,21,15,19,2,15,10);
       if (animal_companion_HD>=17) {animal_companion_is_gargantuan=true;animal_companion_grew_big_cannot_hide=4} else
         animal_companion_is_huge=true;
       StartOnAnimalCompanion(10, "Speed 60 feet",2 , false);
       SecondWindowDefinition+="Rake "+MeleeString();
       SecondWindowDefinition+=" 2 claws "+MinusFiveMeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (rake); ";
       SecondWindowDefinition+=stringy;
       stringy="1d4";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (2 claws); ";
       SecondWindowDefinition+=stringy;
       stringy="2d6";
       if (Math.floor(modifier_number(animal_companion_strength))>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheAnimalCompanion(false , false);
       AnimalHide(5);
       AnimalJump(14);
       AnimalListen(12);
       AnimalSpot(12);
       AnimalSurvival(10);
       TakeMoreSkills();
       TakeMoreFeats();
       }
                         SecondWindowDefinition+="<li>Link, share spells</li>";
     if (bonus_tricks>=2) { SecondWindowDefinition+="<li>Evasion</li>"; }
     if (bonus_tricks>=3) { SecondWindowDefinition+="<li>Devotion</li>"; }
     if (bonus_tricks>=4) { SecondWindowDefinition+="<li>Multiattack (or a second primary attack at -5, as applicable)</li>"; }
     if (bonus_tricks>=6) { SecondWindowDefinition+="<li>Improved Evasion</li>"; }
     SecondWindowDefinition+="<li>Bonus tricks: "+bonus_tricks+"</li></ul>";
     SecondWindowDefinition+="<p>";
    }



   x=document.form1.warhorse_list.selectedIndex;
   stringy=document.form1.warhorse_list.options[x].value;
   animal_companion_grew_big_cannot_hide=0;
   if (((paladin_levels + epic_paladin_levels>=5) || ((npcother_levels + epic_npcother_levels>0) && (npcother_class_name=="Paladin of Freedom"))) && (large==false))
    {
     SecondWindowDefinition+="Mount: " + stringy+"<p><ul>";

     if (stringy=="Warhorse (heavy)")
      {
       PLBMA(5);
       PaladinMountData(4,4,18,13,17,2,13,6,50);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="2 Hooves "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (2 hooves); ";
       SecondWindowDefinition+=stringy;
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Hippogriff")
      {
       PLBMA(6);
       PaladinMountData(3,4,18,15,16,4,13,8,50);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(10,"; Fly 100 feet (average)",1 , true);
       SecondWindowDefinition+="2 Claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (2 claws); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: +4 on spot during daylight hours</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(4);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Dire Lion")
      {
       PLBMA(8);
       PaladinMountData(8,4,25,15,17,2,12,10,40);
       if (animal_companion_HD>=19) {animal_companion_is_huge=true;animal_companion_grew_big_cannot_hide=4; } else
                                   {animal_companion_is_large=true; }
       StartOnAnimalCompanion(10,"",0 , true);
       SecondWindowDefinition+="2 Claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (2 claws); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Pounce; Improved Grab; if pouncing or holding, Rake at full attack bonus for damage 1d6 + half strength bonus</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(true , false);
       AnimalListen(4);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Griffon")
      {
       PLBMA(8);
       PaladinMountData(7,6,18,15,16,5,13,8,30);
       if (animal_companion_HD>=11) {animal_companion_is_huge=true; } else
        {animal_companion_is_large=true; }
       StartOnAnimalCompanion(10,"; Fly 80 feet (average)",1 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="; 2 Claws "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (2 claws); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Pounce; after a pounce, may rake at base attack bonus for 1d6 + half strength bonus damage</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalJump(8);
       AnimalListen(6);
       AnimalSpot(11);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Celestial Warhorse (heavy)")
      {
       PLBMA(6);
       PaladinMountData(4,4,18,13,17,2,13,6,50);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="2 Hooves "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (2 hooves); ";
       SecondWindowDefinition+=stringy;
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       CelestialPaladinMount();
       MoreAboutTheMount(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }

     if (stringy=="Warhorse (light)")
      {
       PLBMA(5);
       PaladinMountData(3,4,16,13,17,2,13,6,60);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="2 Hooves "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (2 hooves); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Warpony")
      {
       PLBMA(5);
       PaladinMountData(2,2,15,13,14,2,11,4,40);
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="2 Hooves "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (2 hooves); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Shark (medium)")
      {
       PLBMA(5);
       PaladinMountData(3,3,13,15,13,1,12,2,60);
       StartOnAnimalCompanion(8," (swim)",0 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Keen Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Shark (large)")
      {
       PLBMA(6);
       PaladinMountData(7,4,17,15,13,1,12,2,60);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8," (swim)",0 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Keen Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Dog (riding)")
      {
       PLBMA(5);
       PaladinMountData(2,4,15,15,15,2,12,6,40);
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(5);
       AnimalSpot(5);
       AnimalSwim(5);
       AnimalSurvival(1);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Celestial Warpony")
      {
       PLBMA(6);
       PaladinMountData(2,2,15,13,14,2,11,4,40);
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="2 Hooves "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (2 hooves); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       CelestialPaladinMount();
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
//       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Unicorn")
      {
       PLBMA(6);
       PaladinMountData(4,6,20,17,21,10,21,24,60);
       StartOnAnimalCompanion(8,"",2 , true);
       SecondWindowDefinition+="Horn "+MeleeString();
       SecondWindowDefinition+=" 2 hooves "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (horn); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (hoof); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Attacks: Magical horn gets an additional +3 on attacks and damage</li>";
       SecondWindowDefinition+="<li>Special Qualities: Magic circle against evil (always active), detect evil at will, teleport without error once per day in own forest; immune to all poisons, charm, and hold</li>";
       MoreAboutTheMount(false , false);
       AnimalAnimalEmpathy(11);
       AnimalListen(11);
       AnimalMoveSilently(9);
       AnimalSpot(11);
       AnimalSurvival(9);

       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Camel")
      {
       PLBMA(5);
       PaladinMountData(3,1,18,16,14,1,11,4,50);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(5);
       AnimalSpot(5);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Monstrous Spider (large)")
      {
       PLBMA(6);
       PaladinMountData(4,2,15,17,12,0,10,2,30);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"",4 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Poison DC16, 1d6 str, 1d6 str</li>";
//       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(false , true);
       }
     if (stringy=="Dire Wolf")
      {
       PLBMA(6);
       PaladinMountData(6,3,25,15,17,2,12,10,50);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(true , false);
       AnimalHide(5);
       AnimalListen(6);
       AnimalMoveSilently(5);
       AnimalSpot(6);
       AnimalSurvival(1);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Dire Bat")
      {
       PLBMA(6);
       PaladinMountData(4,5,17,22,17,2,14,6,20);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"; fly 40 feet (good)",0 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
       SecondWindowDefinition+="<li>Special Qualities: Blindsight</li>";
       MoreAboutTheMount(true , false);
       AnimalListen(11);
       AnimalMoveSilently(11);
       AnimalSpot(11);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Dire Badger")
      {
       PLBMA(6);
       PaladinMountData(3,3,14,17,19,2,12,10);
       StartOnAnimalCompanion(8,"; burrow 10 feet",0 , true);
       SecondWindowDefinition+="2 Claws "+MeleeString();
       SecondWindowDefinition+=" Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d4";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Rage</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(true , false);
       AnimalListen(6);
       AnimalSpot(6);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Dire Weasel")
      {
       PLBMA(6);
       PaladinMountData(3,2,14,19,10,2,12,11,40);
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Attach, blood drain</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(true , false);
       AnimalHide(5);
       AnimalListen(6);
       AnimalMoveSilently(5);
       AnimalSpot(6);
       AnimalSurvival(1);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Lizard (monitor)")
      {
       PLBMA(6);
       PaladinMountData(3,3,17,15,17,2,12,2,30);
       StartOnAnimalCompanion(8,"; swim 30",0 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
//       SecondWindowDefinition+="</li><li>Special Attacks: Disease</li>";
//       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(true , false);
       AnimalClimbStr(9);
       AnimalHide(11);
       AnimalListen(4);
       AnimalMoveSilently(6);
       AnimalSpot(4);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Dire Boar")
      {
       PLBMA(7);
       PaladinMountData(7,6,27,10,17,2,13,8,40);
       if (animal_companion_HD>=17) {animal_companion_is_huge=true; } else
        {animal_companion_is_large=true; }
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="Bite "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Ferocity (fights to -10 hp)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(true , false);
       AnimalListen(9);
       AnimalSpot(8);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Dire Wolverine")
      {
       PLBMA(7);
       PaladinMountData(5,4,22,17,19,2,12,10,40);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="2 Claws "+MeleeString();
       SecondWindowDefinition+="; Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Rage (+4 strength, +4 constitution, -2 AC after being hurt)</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(true , false);
       AnimalClimbStr(14);
       AnimalListen(9);
       AnimalSpot(8);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Giant Eagle")
      {
       PLBMA(7);
       PaladinMountData(4,3,18,17,12,10,14,10,10);
       if (animal_companion_HD>=9) {animal_companion_is_gargantuan=true; } else
       if (animal_companion_HD>=5) {animal_companion_is_huge=true; } else
        {animal_companion_is_large=true; }
       StartOnAnimalCompanion(8,"; fly 80 (average)",2 , true);
       SecondWindowDefinition+="2 Claws "+MeleeString();
       SecondWindowDefinition+="; Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li>";
       SecondWindowDefinition+="<li>Special Qualities: Speaks Common and Auran; Evasion</li>";
       MoreAboutTheMount(false , false);
       AnimalKnowNature(6);
       AnimalListen(16);
       AnimalMoveSilently(9);
       AnimalSpot(10);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Giant Owl")
      {
       PLBMA(7);
       PaladinMountData(4,3,18,17,12,10,14,10,10);
       if (animal_companion_HD>=9) {animal_companion_is_gargantuan=true; } else
       if (animal_companion_HD>=5) {animal_companion_is_huge=true; } else
        {animal_companion_is_large=true; }
       StartOnAnimalCompanion(8,"; fly 70 (average)",2 , true);
       SecondWindowDefinition+="2 Claws "+MeleeString();
       SecondWindowDefinition+="; Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Speaks Common and Auran; Evasion</li>";
       MoreAboutTheMount(false , false);
       AnimalKnowNature(2);
       AnimalListen(5);
       AnimalSenseMotive(8);
       AnimalSpot(11);
       AnimalSurvival(8);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Pegasus")
      {
       PLBMA(7);
       PaladinMountData(4,3,18,15,16,10,13,13,60);
       animal_companion_is_large=true;
       StartOnAnimalCompanion(8,"; fly 120 feet (average)",2 , true);
       SecondWindowDefinition+="2 Hooves "+MeleeString();
       SecondWindowDefinition+="; Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (hoof); ";
       SecondWindowDefinition+=stringy;
       stringy="1d3";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="<li>Special Qualities: Iron Will</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(12);
       AnimalSenseMotive(7);
       AnimalSpot(12);
       AnimalSurvival(3);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Rhinoceros")
      {
       PLBMA(7);
       PaladinMountData(8,7,26,10,21,2,13,2,30);
       if (animal_companion_HD>=13) {animal_companion_is_huge=true; }
        else {animal_companion_is_large=true; }
       StartOnAnimalCompanion(8,"",0 , true);
       SecondWindowDefinition+="Gore "+MeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="2d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=OneAndAHalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Attach, blood drain</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(11);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }
     if (stringy=="Sea Cat")
      {
       PLBMA(7);
       PaladinMountData(6,8,19,12,17,4,13,10,40);
       if (animal_companion_HD>=10) {animal_companion_is_huge=true; }
        else {animal_companion_is_large=true; }
       StartOnAnimalCompanion(8," (swim)",2 , true);
       SecondWindowDefinition+="2 Claws "+MeleeString();
       SecondWindowDefinition+="; Bite "+MinusFiveMeleeString();
       SecondWindowDefinition+="</li><li>Damage ";
       stringy="1d6";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=NormalStrength()+" (claw); ";
       SecondWindowDefinition+=stringy;
       stringy="1d8";
       if (modifier_number(animal_companion_strength)>0) { stringy+="+"; }
       stringy+=HalfStrength()+" (bite); ";
       SecondWindowDefinition+=stringy;
       SecondWindowDefinition+="</li><li>Special Attacks: Rend 2d6+6</li>";
       SecondWindowDefinition+="<li>Special Qualities: Scent</li>";
       MoreAboutTheMount(false , false);
       AnimalListen(7);
       AnimalSpot(7);
       MountTakesMoreSkills();
//       SecondWindowDefinition+="<li>Feats: Weapon Finesse (Bite)</li>";
       TakeMoreFeats();
       }


                         SecondWindowDefinition+="<li>Empathic link; Improved evasion; Share spells; Share saving throws</li>";
     if (bonus_tricks>=2) { SecondWindowDefinition+="<li>Improved speed</li>"; }
     if (bonus_tricks>=3) { SecondWindowDefinition+="<li>Command creatures of its kind</li>"; }
     if (alignment==3)
     {
     if (bonus_tricks>=4) { SecondWindowDefinition+="<li>Spell resistance "+(npcother_levels + epic_npcother_levels + 5)+"</li>"; }
     }
     else
     {
     if (bonus_tricks>=4) { SecondWindowDefinition+="<li>Spell resistance "+(paladin_levels + epic_paladin_levels + 5)+"</li>"; }
     }
     SecondWindowDefinition+="</ul><p>";
    }

   if (document.form1.moniker.value!="" && document.form1.moreAbout.value!="") { SecondWindowDefinition+="More about this character:<ul><p>"; }
   else { SecondWindowDefinition+="More about "+document.form1.moniker.value+":<p><ul>"; }
   SecondWindowDefinition+=document.form1.moreAbout.value;
   SecondWindowDefinition+="</ul></body></html>";
   SecondWindow.document.write(SecondWindowDefinition);
   SecondWindow.document.close();
 }

function CelestialPaladinMount() {
       SecondWindowDefinition+="</li><li>Darkvision 60 feet</li>";
       SecondWindowDefinition+="<li>Smite Evil (bonus damage = HD, maximum 20)</li>";
       if (animal_companion_HD<=3)
        {
         SecondWindowDefinition+="<li>Acid, Cold, Electricity Resistance 5;</li>";
        } else
       if (animal_companion_HD<=7)
        {
         SecondWindowDefinition+="<li>Acid, Cold, Electricity Resistance 10; Damage Reduction 5/+1</li>";
        } else
       if (animal_companion_HD<=11)
        {
         SecondWindowDefinition+="<li>Acid, Cold, Electricity Resistance 15; Damage Reduction 5/+2</li>";
        } else
        {
         SecondWindowDefinition+="<li>Acid, Cold, Electricity Resistance 20; Damage Reduction 10/+3</li>";
        }
       SecondWindowDefinition+="<li>Spell resistance = twice HD, maximum 25</li>";
 }

function HalfStrength() {
 if (modifier_number(animal_companion_strength)==0) { return ""; }
 if (modifier_number(animal_companion_strength)<0) { return Math.floor(modifier_number(animal_companion_strength)); }
 if (modifier_number(animal_companion_strength)>0) { return Math.floor(0.5*modifier_number(animal_companion_strength)); }
 }

function NormalStrength() {
 if (modifier_number(animal_companion_strength)==0) { return ""; }
 if (modifier_number(animal_companion_strength)<0) { return Math.floor(modifier_number(animal_companion_strength)); }
 if (modifier_number(animal_companion_strength)>0) { return Math.floor(modifier_number(animal_companion_strength)); }
 }

function OneAndAHalfStrength() {
 if (modifier_number(animal_companion_strength)==0) { return ""; }
 if (modifier_number(animal_companion_strength)<0) { return Math.floor(modifier_number(animal_companion_strength)); }
 if (modifier_number(animal_companion_strength)>0) { return Math.floor(1.5*modifier_number(animal_companion_strength)); }
 }

function TakeMoreFeats() {
 if (bonus_tricks>=7) { SecondWindowDefinition+="<li>The animal is entitled to three additional feats.</li>";return; }
 if (bonus_tricks>=5) { SecondWindowDefinition+="<li>The animal is entitled to two additional feats.</li>";return; }
 if (bonus_tricks>=3) { SecondWindowDefinition+="<li>The animal is entitled to one additional feat.</li>";return; }
 }

function TakeMoreSkills() {
 y=2*bonus_tricks-2;
 if (y>0) { SecondWindowDefinition+="<li>The animal is entitled to distribute an additional "+y+" skill points.</li>";return; }
 }


function MountTakesMoreSkills() {
 y=2*bonus_tricks;
 if (y>0) { SecondWindowDefinition+="<li>The mount is entitled to distribute an additional "+y+" skill points.</li>";return; }
 }


function AnimalClimbDex(i) {
 i-=modifier_number(animal_companion_dexterity-bonus_tricks+1);
 i+=modifier_number(animal_companion_dexterity);
 SecondWindowDefinition+=" Climb +"+i+";";
 }

function AnimalBalance(i) {
 i-=modifier_number(animal_companion_dexterity-bonus_tricks+1);
 i+=modifier_number(animal_companion_dexterity);
 SecondWindowDefinition+=" Balance +"+i+";";
 }

function AnimalHide(i) {
 i-=modifier_number(animal_companion_dexterity-bonus_tricks+1);
 i+=modifier_number(animal_companion_dexterity);
 i-=animal_companion_grew_big_cannot_hide;
 SecondWindowDefinition+=" Hide +"+i+";";
 }

function AnimalSpot(i) {
 SecondWindowDefinition+=" Spot +"+i+";";
 }

function AnimalKnowNature(i) {
 SecondWindowDefinition+=" Knowledge [nature] +"+i+";";
 }

function AnimalSenseMotive(i) {
 SecondWindowDefinition+=" Sense Motive +"+i+";";
 }

function AnimalSurvival(i) {
 SecondWindowDefinition+=" Survival +"+i+";";
 }

function AnimalListen(i) {
 SecondWindowDefinition+=" Listen +"+i+";";
 }

function AnimalAnimalEmpathy(i) {
 SecondWindowDefinition+=" Animal Empathy +"+i+";";
 }

function AnimalJump(i) {
 i-=modifier_number(animal_companion_strength-bonus_tricks+1);
 i+=modifier_number(animal_companion_strength);
 SecondWindowDefinition+=" Jump +"+i+";";
 }

function AnimalSwim(i) {
 i-=modifier_number(animal_companion_strength-bonus_tricks+1);
 i+=modifier_number(animal_companion_strength);
 SecondWindowDefinition+=" Swim +"+i+";";
 }

function AnimalMoveSilently(i) {
 i-=modifier_number(animal_companion_dexterity-bonus_tricks+1);
 i+=modifier_number(animal_companion_dexterity);
 SecondWindowDefinition+=" Move Silently +"+i+";";
 }

function AnimalClimbStr(i) {
 i-=modifier_number(animal_companion_strength-bonus_tricks+1);
 i+=modifier_number(animal_companion_strength);
 SecondWindowDefinition+=" Climb +"+i+";";
 }


function MoreAboutTheAnimalCompanion(dire , vermin) {
       y=goodsave(animal_companion_HD)+modifier_number(animal_companion_constitution);
       stringy="<li>Saves: Fort "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy;
       if (vermin==false)
        {
         y=goodsave(animal_companion_HD)+modifier_number(animal_companion_dexterity);
         stringy="; Ref "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy;
        }
       if (vermin==true)
        {
         y=poorsave(animal_companion_HD)+modifier_number(animal_companion_dexterity);
         stringy="; Ref "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy;
        }
       if (dire==false)
        {
         y=poorsave(animal_companion_HD)+modifier_number(animal_companion_wisdom);
         stringy="; Will "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy+"</li>";
        }
       if (dire==true)
        {
         y=goodsave(animal_companion_HD)+modifier_number(animal_companion_wisdom);
         stringy="; Will "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy+" [dire animals get all three good saves]</li>";
        }
       SecondWindowDefinition+="<li>Abilities: Str "+animal_companion_strength+", Dex "+animal_companion_dexterity+", Con "+animal_companion_constitution+", Int "+animal_companion_intelligence+", Wis "+animal_companion_wisdom+", Cha "+animal_companion_charisma+"</li>";
       SecondWindowDefinition+="<li>Skills: ";
 }

function MoreAboutTheMount(dire , vermin) {
       y=goodsave(animal_companion_HD);
       if (y<base_fortitude_bonus) {y=base_fortitude_bonus; }
       y+=modifier_number(animal_companion_constitution);
       stringy="<li>Saves: Fort "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy;
       if (vermin==false)
        {
         y=goodsave(animal_companion_HD);
         if (y<base_reflex_bonus) {y=base_reflex_bonus; }
         y+=modifier_number(animal_companion_dexterity);
         stringy="; Ref "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy;
        }
       if (vermin==true)
        {
         y=poorsave(animal_companion_HD)
         if (y<base_reflex_bonus) {y=base_reflex_bonus; }
         y+=modifier_number(animal_companion_dexterity);
         stringy="; Ref "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy;
        }
       if (dire==false)
        {
         y=poorsave(animal_companion_HD);
         if (y<base_will_bonus) {y=base_will_bonus; }
         y+=modifier_number(animal_companion_wisdom);
         stringy="; Will "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy+"</li>";
        }
       if (dire==true)
        {
         y=goodsave(animal_companion_HD);
         if (y<base_will_bonus) {y=base_will_bonus; }
         y+=modifier_number(animal_companion_wisdom);
         stringy="; Will "; if (y>0) { stringy+="+"; } stringy+=y; SecondWindowDefinition+=stringy+" [dire animals get all three good saves]</li>";
        }
       SecondWindowDefinition+="<li>Abilities: Str "+animal_companion_strength+", Dex "+animal_companion_dexterity+", Con "+animal_companion_constitution+", Int "+animal_companion_intelligence+", Wis "+animal_companion_wisdom+", Cha "+animal_companion_charisma+"</li>";
       SecondWindowDefinition+="<li>Skills: ";
 }

function AnimalCompanionData(i1,i2,i3,i4,i5,i6,i7,i8) {
       animal_companion_HD=i1+2*(bonus_tricks-1);
       animal_companion_natural_armor=i2+2*(bonus_tricks-1);
       animal_companion_strength=i3+bonus_tricks-1;
       animal_companion_dexterity=i4+bonus_tricks-1;
       animal_companion_constitution=i5;
       animal_companion_intelligence=i6;
       animal_companion_wisdom=i7;
       animal_companion_charisma=i8;
       }

function PaladinMountData(i1,i2,i3,i4,i5,i6,i7,i8,i9) {
       animal_companion_HD=i1+2*bonus_tricks;
       animal_companion_natural_armor=i2+2*(bonus_tricks+1);
       animal_companion_strength=i3+bonus_tricks;
       animal_companion_dexterity=i4;
       animal_companion_constitution=i5;
       animal_companion_intelligence=i6;
       if (animal_companion_intelligence<bonus_tricks+5) {animal_companion_intelligence=bonus_tricks+5; }
       animal_companion_wisdom=i7;
       animal_companion_charisma=i8;
       paladin_mount_speed=i9;
       }

function StartOnAnimalCompanion(i,s100,magicalbeast,paladinmount) {
       if (animal_companion_is_tiny==true) { SecondWindowDefinition+="<li>Tiny "; } else
       if (animal_companion_is_small==true) { SecondWindowDefinition+="<li>Small "; } else
       if (animal_companion_is_gargantuan==true) { SecondWindowDefinition+="<li>Gargantuan "; } else
       if (animal_companion_is_colossal==true) { SecondWindowDefinition+="<li>Colossal "; } else
       if (animal_companion_is_huge==true) { SecondWindowDefinition+="<li>Huge "; } else
       if (animal_companion_is_large==true) { SecondWindowDefinition+="<li>Large "; } else
                                           { SecondWindowDefinition+="<li>Medium-Size "; }

       if (magicalbeast==4) { SecondWindowDefinition+="Vermin</li>"; }
    //   if (magicalbeast==2) { SecondWindowDefinition+="Magical Beast</li>"; }
       if (magicalbeast==2) { SecondWindowDefinition+="Animal</li>"; }
       if (magicalbeast==1) { SecondWindowDefinition+="Beast</li>"; }
       if (magicalbeast==0) { SecondWindowDefinition+="Animal</li>"; }

       SecondWindowDefinition+="<li>Hit dice "+animal_companion_HD+"d"+i;
       y=modifier_number(animal_companion_constitution)*animal_companion_HD;
       if (y>0) { SecondWindowDefinition+="+"+y; }
       if (y<0) { SecondWindowDefinition+=y; }
       z=(i+1)*Math.floor(animal_companion_HD/2);
       if (animal_companion_HD%2==1) {z+=Math.floor(i/2); }
       z+=y;
       SecondWindowDefinition+=" ("+z+" hit points)</li><li>Initiative ";

       y=modifier_number(animal_companion_dexterity);
       if (y>=0) { SecondWindowDefinition+="+"+y; }
       else { SecondWindowDefinition+=y; }
       if (y!=0) { SecondWindowDefinition+=" (Dex)</li>"; }
       if (paladinmount==false) { SecondWindowDefinition+="<li>"+s100+"</li><li>AC: "; }
       if (paladinmount==true)
        {
         y=paladin_mount_speed;
         if (bonus_tricks>1) {y+=10; }
         SecondWindowDefinition+="<li>Speed "+y+" feet"+s100+"</li><li>AC: ";
        }
       y=10;stringy="";
       if (animal_companion_is_tiny==true) {y+=2;stringy+=" +2 tiny"; }
       if (animal_companion_is_small==true) {y+=1;stringy+=" +1 small"; }
       if (animal_companion_is_large==true) {y-=1;stringy+=" -1 large"; }
       if (animal_companion_is_huge==true) {y-=2;stringy+=" -2 huge"; }
       if (animal_companion_is_gargantuan==true) {y-=4;stringy+=" -4 gargantuan"; }
       if (animal_companion_is_colossal==true) {y-=8;stringy+=" -8 colossal"; }
       y+=modifier_number(animal_companion_dexterity);
       if (modifier_number(animal_companion_dexterity)>0) { stringy+=" +"+modifier_number(animal_companion_dexterity)+" Dex"; }
       if (modifier_number(animal_companion_dexterity)<0) { stringy+= " "+modifier_number(animal_companion_dexterity)+" Dex"; }
       y+=animal_companion_natural_armor;
       if (animal_companion_natural_armor>0) { stringy+=" +"+animal_companion_natural_armor+" natural"; }
       if (stringy!="") { stringy=" (" + stringy+")"; }
       stringy=y + stringy;
       SecondWindowDefinition+=stringy+"</li><li>Attacks: ";
 }

function WeaponFinesseString() {
 stringy="";
 y=modifier_number(animal_companion_strength);
 if (animal_companion_dexterity>=animal_companion_strength)
  {
   y=modifier_number(animal_companion_dexterity);
   stringy=" (Weapon Finesse)";
  }
 y+=averageattack(animal_companion_HD);
 if (animal_companion_is_tiny==true) {y+=2; }
 if (animal_companion_is_small==true) {y+=1; }
 if (animal_companion_is_large==true) {y-=1; }
 if (animal_companion_is_huge==true) {y-=2; }
 if (animal_companion_is_gargantuan==true) {y-=4; }
 if (animal_companion_is_colossal==true) {y-=8; }
 stringy=y+" melee" + stringy+";";
 if (y>=0) { stringy="+" + stringy; }
 return(stringy);
 }

function MeleeString() {
 stringy="";
 y=modifier_number(animal_companion_strength);
 y+=averageattack(animal_companion_HD);
 if (animal_companion_is_tiny==true) {y+=2; }
 if (animal_companion_is_small==true) {y+=1; }
 if (animal_companion_is_large==true) {y-=1; }
 if (animal_companion_is_huge==true) {y-=2; }
 if (animal_companion_is_gargantuan==true) {y-=4; }
 if (animal_companion_is_colossal==true) {y-=8; }
 stringy=y+" melee" + stringy+";";
 if (y>=0) { stringy="+" + stringy; }
 return(stringy);
 }

function MinusFiveMeleeString() {
 stringy="";
 y=modifier_number(animal_companion_strength);
 y+=averageattack(animal_companion_HD);
 if (animal_companion_is_tiny==true) {y+=2; }
 if (animal_companion_is_small==true) {y+=1; }
 if (animal_companion_is_large==true) {y-=1; }
 if (animal_companion_is_huge==true) {y-=2; }
 if (animal_companion_is_gargantuan==true) {y-=4; }
 if (animal_companion_is_colossal==true) {y-=8; }
 if (bonus_tricks>=4) {y-=2; } else {y-=5; }
 stringy=y+" melee" + stringy+";";
 if (y>=0) { stringy="+" + stringy; }
 return(stringy);
 }

function MinusFiveWeaponFinesseString() {
 stringy="";
 y=modifier_number(animal_companion_strength);
 if (animal_companion_dexterity>=animal_companion_strength)
  {
   y=modifier_number(animal_companion_dexterity);
   stringy=" (Weapon Finesse)";
  }
 y+=averageattack(animal_companion_HD);
 if (animal_companion_is_tiny==true) {y+=2; }
 if (animal_companion_is_small==true) {y+=1; }
 if (animal_companion_is_large==true) {y-=1; }
 if (animal_companion_is_huge==true) {y-=2; }
 if (animal_companion_is_gargantuan==true) {y-=4; }
 if (animal_companion_is_colossal==true) {y-=8; }
 if (bonus_tricks>=4) {y-=2; } else {y-=5; }
 stringy=y+" melee" + stringy+";";
 if (y>=0) { stringy="+" + stringy; }
 return(stringy);
 }

function GetBonusTricks(i) {
 animal_companion_is_tiny=false;
 animal_companion_is_small=false;
 animal_companion_is_large=false;
 animal_companion_is_huge=false;
 animal_companion_is_medium=false;
 animal_companion_is_gargantuan=false;
 animal_companion_is_colossal=false;

 y=druid_levels + epic_druid_levels + Math.floor( (ranger_levels + epic_ranger_levels)/2)-i;
 if (y>=18) {bonus_tricks=7; } else
 if (y>=15) {bonus_tricks=6; } else
 if (y>=12) {bonus_tricks=5; } else
 if (y>= 9) {bonus_tricks=4; } else
 if (y>= 6) {bonus_tricks=3; } else
 if (y>= 3) {bonus_tricks=2; } else
           {bonus_tricks=1; }
 }

function PLBMA(i) {
 animal_companion_is_tiny=false;
 animal_companion_is_small=false;
 animal_companion_is_large=false;
 animal_companion_is_huge=false;
 animal_companion_is_medium=false;
 animal_companion_is_gargantuan=false;
 animal_companion_is_colossal=false;
 y=paladin_levels + epic_paladin_levels-i;
 if (alignment==3) {y=npcother_levels + epic_npcother_levels; }
 if (y>=10) {bonus_tricks=4; } else
 if (y>= 6) {bonus_tricks=3; } else
 if (y>= 3) {bonus_tricks=2; } else
           {bonus_tricks=1; }
 }

function WriteForAllLycanthropes() {
  SecondWindowDefinition+="<li>Lycanthropes gain the shapechanger subtype</li>";
  SecondWindowDefinition+="<li>Lycanthropes add HP, attack bonuses, and saves for the base creature and the base animal.</li>";
  SecondWindowDefinition+="<li>Lycanthropy imparts +2 wisdom (already included)</li>";
  SecondWindowDefinition+="<li>Changing form is a standard action.</li>";
  SecondWindowDefinition+="<li>Communicates with normal and dire forms of the base animal.</li>";
  SecondWindowDefinition+="<li>Low-light vision and scent.</li>";
  SecondWindowDefinition+="<li>Free \"Iron Will\" feat.</li>";
  SecondWindowDefinition+="<li>There are (2+intelligence modifier, minimum 1) skill points for each HD of the base animal.</li>";
  SecondWindowDefinition+="<li>Keeps racial bonuses to skills for both creature and base animal.</li>";
  SecondWindowDefinition+="<li>Keeps base animal's feats, though if humanoid form does not qualify, may not use in humanoid form.</li>";
  SecondWindowDefinition+="<li>Feats are awarded combining the animal and base creature's levels.</li>";
  SecondWindowDefinition+="<li>Natural armor class bonus increases by +2 in humanoid form.</li>";
  SecondWindowDefinition+="<li>Natural armor class in hybrid form is human or animal, whichever is better.</li>";
  SecondWindowDefinition+="<li>Size in hybrid form is the larger of the base creature and base animal.</li>";
  SecondWindowDefinition+="<li>Has the base creature's speed in hybrid form.</li>";
  SecondWindowDefinition+="<li>Hybrid form has a bite and two claw attacks.</li>";
  SecondWindowDefinition+="<li>Hybrid form can cast spells so long as they do not have a verbal component.</li>";
  SecondWindowDefinition+="<li>Animal form can cast spells so long as they do not have a verbal or somatic component.  (Ask your referee about material components.)</li>";
  SecondWindowDefinition+="<li>Natural lycanthropes in hybrid and animal form have damage reduction 10/silver.</li>";
  SecondWindowDefinition+="<li>Afflicted lycanthropes in hybrid and animal form have damage reduction 5/silver.</li>";
  }

function familiar_level_modifier(i) {
 if (i<3) { return 1; }
 if (i<5) { return 2; }
 if (i<7) { return 3; }
 if (i<9) { return 4; }
 if (i<11) { return 5; }
 if (i<13) { return 6; }
 if (i<15) { return 7; }
 if (i<17) { return 8; }
 if (i<19) { return 9; }
 return 10;
 }

function RewriteLockedAbilityAssignments() {
 ClearAllAbilityAssignments();
 document.form1.firststat[firststatwentto].checked=true;
 document.form1.secondstat[secondstatwentto].checked=true;
 document.form1.thirdstat[thirdstatwentto].checked=true;
 document.form1.fourthstat[fourthstatwentto].checked=true;
 document.form1.fifthstat[fifthstatwentto].checked=true;
 document.form1.sixthstat[sixthstatwentto].checked=true;
 }

function setCase (caseSelection) {
 if (caseSelection=="upper") {
  document.form1.moniker.value=
   document.form1.moniker.value.toUpperCase()
  document.form1.playerName.value=
   document.form1.playerName.value.toUpperCase()
  }
 else {
  document.form1.firstName.value=
    document.form1.firstName.value.toLowerCase()
  document.form1.lastName.value=
    document.form1.lastName.value.toLowerCase()
 }
 }

function RememberFeats() {
  document.form1.acrobatic.checked=has_acrobatic;
  document.form1.agile.checked=has_agile;
  document.form1.alertness.checked=has_alertness;
  document.form1.animalaffinity.checked=has_animalaffinity;
  document.form1.armorproficiencylight.checked=has_armorproficiencylight;
  document.form1.armorproficiencymedium.checked=has_armorproficiencymedium;
  document.form1.armorproficiencyheavy.checked=has_armorproficiencyheavy;
  document.form1.athletic.checked=has_athletic;
  document.form1.augmentsummoning.checked=has_augmentsummoning;
  document.form1.blindfight.checked=has_blindfight;
  document.form1.combatcasting.checked=has_combatcasting;
  document.form1.combatexpertise.checked=has_combatexpertise;
  document.form1.improveddisarm.checked=has_improveddisarm;
  document.form1.improvedfeint.checked=has_improvedfeint;
  document.form1.improvedtrip.checked=has_improvedtrip;
  document.form1.whirlwindattack.checked=has_whirlwindattack;
  document.form1.combatreflexes.checked=has_combatreflexes;
  document.form1.deceitful.checked=has_deceitful;
  document.form1.defthands.checked=has_defthands;
  document.form1.diligent.checked=has_diligent;
  document.form1.dodge.checked=has_dodge;
  document.form1.mobility.checked=has_mobility;
  document.form1.springattack.checked=has_springattack;
  document.form1.endurance.checked=has_endurance;
  document.form1.diehard.checked=has_diehard;
  document.form1.eschewmaterials.checked=has_eschewmaterials;
  document.form1.exoticweaponproficiency.checked=has_exoticweaponproficiency;
  document.form1.extraturning_list.selectedIndex=has_extraturning;
  document.form1.planartouchstone_list.selectedIndex=has_planartouchstone;
  document.form1.personaltouchstone_list.selectedIndex=has_personaltouchstone;
  document.form1.openminded_list.selectedIndex=has_openminded;
  document.form1.expandedknowledge_list.selectedIndex=has_expandedknowledge;
  document.form1.metamorphictransfer_list.selectedIndex=has_metamorphictransfer;
  document.form1.psionictalent_list.selectedIndex=has_psionictalent;
  document.form1.familiarspell_list.selectedIndex=has_familiarspell;
  document.form1.greatsmiting_list.selectedIndex=has_greatsmiting;
  document.form1.improvedfavoredenemy_list.selectedIndex=has_improvedfavoredenemy;
  document.form1.improvedmetamagic_list.selectedIndex=has_improvedmetamagic;
  document.form1.improvedsneakattack_list.selectedIndex=has_improvedsneakattack;
  document.form1.improvedspellcapacity_list.selectedIndex=has_improvedspellcapacity;
  document.form1.improvedstunningfist_list.selectedIndex=has_improvedstunningfist;
  document.form1.overwhelmingcritical_list.selectedIndex=has_overwhelmingcritical;
  document.form1.spellknowledge_list.selectedIndex=has_spellknowledge;
  document.form1.epicexpandedknowledge_list.selectedIndex=has_epicexpandedknowledge;
  document.form1.epicpsionicfocus_list.selectedIndex=has_epicpsionicfocus;
  document.form1.improvedmanifestation_list.selectedIndex=has_improvedmanifestation;
  document.form1.improvedmetapsionics_list.selectedIndex=has_improvedmetapsionics;
  document.form1.powerknowledge_list.selectedIndex=has_powerknowledge;
  document.form1.psicrystalpower_list.selectedIndex=has_psicrystalpower;
  document.form1.greatfortitude.checked=has_greatfortitude;
  document.form1.improvedcounterspell.checked=has_improvedcounterspell;
  document.form1.improvedcritical_list.selectedIndex=has_improvedcritical;
  document.form1.improvedinitiative.checked=has_improvedinitiative;
  document.form1.improvedturning.checked=has_improvedturning;
  document.form1.improvedunarmedstrike.checked=has_improvedunarmedstrike;
  document.form1.improvedgrapple.checked=has_improvedgrapple;
  document.form1.deflectarrows.checked=has_deflectarrows;
  document.form1.snatcharrows.checked=has_snatcharrows;
  document.form1.stunningfist.checked=has_stunningfist;
  document.form1.investigator.checked=has_investigator;
  document.form1.ironwill.checked=has_ironwill;
  document.form1.leadership.checked=has_leadership;
  document.form1.lightningreflexes.checked=has_lightningreflexes;
  document.form1.magicalaptitude.checked=has_magicalaptitude;
  document.form1.martialweaponproficiency.checked=has_martialweaponproficiency;
  document.form1.mountedcombat.checked=has_mountedcombat;
  document.form1.mountedarchery.checked=has_mountedarchery;
  document.form1.ridebyattack.checked=has_ridebyattack;
  document.form1.spiritedcharge.checked=has_spiritedcharge;
  document.form1.trample.checked=has_trample;
  document.form1.naturalspell.checked=has_naturalspell;
  document.form1.negotiator.checked=has_negotiator;
  document.form1.nimblefingers.checked=has_nimblefingers;
  document.form1.persuasive.checked=has_persuasive;
  document.form1.pointblankshot.checked=has_pointblankshot;
  document.form1.farshot.checked=has_farshot;
  document.form1.preciseshot.checked=has_preciseshot;
  document.form1.rapidshot.checked=has_rapidshot;
  document.form1.manyshot.checked=has_manyshot;
  document.form1.shotontherun.checked=has_shotontherun;
  document.form1.improvedpreciseshot.checked=has_improvedpreciseshot;
  document.form1.powerattack.checked=has_powerattack;
  document.form1.cleave.checked=has_cleave;
  document.form1.greatcleave.checked=has_greatcleave;
  document.form1.improvedbullrush.checked=has_improvedbullrush;
  document.form1.improvedoverrun.checked=has_improvedoverrun;
  document.form1.improvedsunder.checked=has_improvedsunder;
  document.form1.quickdraw.checked=has_quickdraw;
  document.form1.rapidreload.checked=has_rapidreload;
  document.form1.run.checked=has_run;
  document.form1.selfsufficient.checked=has_selfsufficient;
  document.form1.shieldproficiency.checked=has_shieldproficiency;
  document.form1.improvedshieldbash.checked=has_improvedshieldbash;
  document.form1.towershieldproficiency.checked=has_towershieldproficiency;
  document.form1.simpleweaponproficiency.checked=has_simpleweaponproficiency;
  document.form1.skillfocusappraise.checked=has_skillfocusappraise;
  document.form1.skillfocusbalance.checked=has_skillfocusbalance;
  document.form1.skillfocusbluff.checked=has_skillfocusbluff;
  document.form1.skillfocusclimb.checked=has_skillfocusclimb;
  document.form1.skillfocusconcentration.checked=has_skillfocusconcentration;
  document.form1.skillfocuscraft_1.checked=has_skillfocuscraft_1;
  document.form1.skillfocuscraft_2.checked=has_skillfocuscraft_2;
  document.form1.skillfocuscraft_3.checked=has_skillfocuscraft_3;
  document.form1.skillfocusdecipherscript.checked=has_skillfocusdecipherscript;
  document.form1.skillfocusdiplomacy.checked=has_skillfocusdiplomacy;
  document.form1.skillfocusdisabledevice.checked=has_skillfocusdisabledevice;
  document.form1.skillfocusdisguise.checked=has_skillfocusdisguise;
  document.form1.skillfocusescapeartist.checked=has_skillfocusescapeartist;
  document.form1.skillfocusforgery.checked=has_skillfocusforgery;
  document.form1.skillfocusgatherinformation.checked=has_skillfocusgatherinformation;
  document.form1.skillfocushandleanimal.checked=has_skillfocushandleanimal;
  document.form1.skillfocusheal.checked=has_skillfocusheal;
  document.form1.skillfocushide.checked=has_skillfocushide;
  document.form1.skillfocusintimidate.checked=has_skillfocusintimidate;
  document.form1.skillfocusjump.checked=has_skillfocusjump;
  document.form1.skillfocusknowledgearcana.checked=has_skillfocusknowledgearcana;
  document.form1.skillfocusknowledgearchitecture.checked=has_skillfocusknowledgearchitecture;
  document.form1.skillfocusknowledgedungeoneering.checked=has_skillfocusknowledgedungeoneering;
  document.form1.skillfocusknowledgegeography.checked=has_skillfocusknowledgegeography;
  document.form1.skillfocusknowledgehistory.checked=has_skillfocusknowledgehistory;
  document.form1.skillfocusknowledgelocal.checked=has_skillfocusknowledgelocal;
  document.form1.skillfocusknowledgenature.checked=has_skillfocusknowledgenature;
  document.form1.skillfocusknowledgenobility.checked=has_skillfocusknowledgenobility;
  document.form1.skillfocusknowledgereligion.checked=has_skillfocusknowledgereligion;
  document.form1.skillfocusknowledgeplanes.checked=has_skillfocusknowledgeplanes;
  document.form1.skillfocuslisten.checked=has_skillfocuslisten;
  document.form1.skillfocusmovesilently.checked=has_skillfocusmovesilently;
  document.form1.skillfocusopenlock.checked=has_skillfocusopenlock;
  document.form1.skillfocusperform_1.checked=has_skillfocusperform_1;
  document.form1.skillfocusperform_2.checked=has_skillfocusperform_2;
  document.form1.skillfocusperform_3.checked=has_skillfocusperform_3;
  document.form1.skillfocusperform_4.checked=has_skillfocusperform_4;
  document.form1.skillfocusperform_5.checked=has_skillfocusperform_5;
  document.form1.skillfocusprofession.checked=has_skillfocusprofession;
  document.form1.skillfocusride.checked=has_skillfocusride;
  document.form1.skillfocussearch.checked=has_skillfocussearch;
  document.form1.skillfocussensemotive.checked=has_skillfocussensemotive;
  document.form1.skillfocussleightofhand.checked=has_skillfocussleightofhand;
  document.form1.skillfocusspellcraft.checked=has_skillfocusspellcraft;
  document.form1.skillfocusspot.checked=has_skillfocusspot;
  document.form1.skillfocussurvival.checked=has_skillfocussurvival;
  document.form1.skillfocusswim.checked=has_skillfocusswim;
  document.form1.skillfocustumble.checked=has_skillfocustumble;
  document.form1.skillfocususemagicdevice.checked=has_skillfocususemagicdevice;
  document.form1.skillfocususerope.checked=has_skillfocususerope;
  document.form1.skillfocusautohypnosis.checked=has_skillfocusautohypnosis;
  document.form1.skillfocusknowpsi.checked=has_skillfocusknowpsi;
  document.form1.skillfocuspsicraft.checked=has_skillfocuspsicraft;
//  document.form1.skillfocusremoteview.checked=has_skillfocusremoteview;
//  document.form1.skillfocusstabilizeself.checked=has_skillfocusstabilizeself;
  document.form1.skillfocususepsionicdevice.checked=has_skillfocususepsionicdevice;
  document.form1.improvedtoughness.checked=has_improvedtoughness;
  document.form1.spellcastingprodigyintelligence.checked=has_spellcastingprodigyintelligence;
  document.form1.spellcastingprodigywisdom.checked=has_spellcastingprodigywisdom;
  document.form1.spellcastingprodigycharisma.checked=has_spellcastingprodigycharisma;
  document.form1.zenarchery.checked=has_zenarchery;
  document.form1.suddenempower.checked=has_suddenempower;
  document.form1.suddenenlarge.checked=has_suddenenlarge;
  document.form1.suddenextend.checked=has_suddenextend;
  document.form1.suddenmaximize.checked=has_suddenmaximize;
  document.form1.suddensilent.checked=has_suddensilent;
  document.form1.suddenstill.checked=has_suddenstill;
  document.form1.suddenwiden.checked=has_suddenwiden;
  document.form1.energysubstitutionacid.checked=has_energysubstitutionacid;
  document.form1.energysubstitutioncold.checked=has_energysubstitutioncold;
  document.form1.energysubstitutionelectricity.checked=has_energysubstitutionelectricity;
  document.form1.energysubstitutionfire.checked=has_energysubstitutionfire;
  document.form1.energysubstitutionsonic.checked=has_energysubstitutionsonic;
  document.form1.subdualsubstitution.checked=has_subdualsubstitution;
  document.form1.enduringlife.checked=has_enduringlife;
  document.form1.lastinglife.checked=has_lastinglife;
  document.form1.empowerturning.checked=has_empowerturning;
  document.form1.ghostscarred.checked=has_ghostscarred;
  document.form1.heightenturning.checked=has_heightenturning;
  document.form1.quickenturning.checked=has_quickenturning;
  document.form1.requiem.checked=has_requiem;
  document.form1.vampirehunter.checked=has_vampirehunter;
  document.form1.sacredvitality.checked=has_sacredvitality;
  document.form1.spurndeathstouch.checked=has_spurndeathstouch;

  document.form1.multiattack.checked=has_multiattack;
  document.form1.multidexterity.checked=has_multidexterity;
  document.form1.multiweaponfighting.checked=has_multiweaponfighting;
  document.form1.cripplingstrike.checked=has_cripplingstrike;
  document.form1.defensiveroll.checked=has_defensiveroll;
  document.form1.improvedevasion.checked=has_improvedevasion;
  document.form1.opportunist.checked=has_opportunist;
  document.form1.skillmastery.checked=has_skillmastery;
  document.form1.slipperymind.checked=has_slipperymind;
  document.form1.roguewildernessstride.checked=has_roguewildernessstride;
  document.form1.roguecamouflage.checked=has_roguecamouflage;
  document.form1.roguehideinplainsight.checked=has_roguehideinplainsight;
  document.form1.feeble.checked=has_feeble;
  document.form1.frail.checked=has_frail;
  document.form1.inattentive.checked=has_inattentive;
  document.form1.meagerfortitude.checked=has_meagerfortitude;
  document.form1.weakwill.checked=has_weakwill;
  document.form1.otherflaw1.checked=has_otherflaw1;
  document.form1.otherflaw2.checked=has_otherflaw2;
  document.form1.noncombatant.checked=has_noncombatant;
  document.form1.poorreflexes.checked=has_poorreflexes;
  document.form1.shaky.checked=has_shaky;
  document.form1.slowpoke.checked=has_slowpoke;
  document.form1.unreactive.checked=has_unreactive;
  document.form1.vulnerable.checked=has_vulnerable;
  document.form1.murkyeyed.checked=has_murkyeyed;

  document.form1.spellfocusabjuration.checked=has_spellfocusabjuration;
  document.form1.spellfocusconjuration.checked=has_spellfocusconjuration;
  document.form1.spellfocusdivination.checked=has_spellfocusdivination;
  document.form1.spellfocusenchantment.checked=has_spellfocusenchantment;
  document.form1.spellfocusevocation.checked=has_spellfocusevocation;
  document.form1.spellfocusillusion.checked=has_spellfocusillusion;
  document.form1.spellfocusnecromancy.checked=has_spellfocusnecromancy;
  document.form1.spellfocustransmutation.checked=has_spellfocustransmutation;

  document.form1.greaterspellfocusabjuration.checked=has_greaterspellfocusabjuration;
  document.form1.greaterspellfocusconjuration.checked=has_greaterspellfocusconjuration;
  document.form1.greaterspellfocusdivination.checked=has_greaterspellfocusdivination;
  document.form1.greaterspellfocusenchantment.checked=has_greaterspellfocusenchantment;
  document.form1.greaterspellfocusevocation.checked=has_greaterspellfocusevocation;
  document.form1.greaterspellfocusillusion.checked=has_greaterspellfocusillusion;
  document.form1.greaterspellfocusnecromancy.checked=has_greaterspellfocusnecromancy;
  document.form1.greaterspellfocustransmutation.checked=has_greaterspellfocustransmutation;
  document.form1.spellmastery_list.selectedIndex=has_spellmastery;
  document.form1.spellpenetration.checked=has_spellpenetration;
  document.form1.greaterspellpenetration.checked=has_greaterspellpenetration;
  document.form1.stealthy.checked=has_stealthy;

  document.form1.toughness_list.selectedIndex=has_toughness;
  document.form1.track.checked=has_track;
  document.form1.twoweaponfighting.checked=has_twoweaponfighting;
  document.form1.twoweapondefense.checked=has_twoweapondefense;
  document.form1.improvedtwoweaponfighting.checked=has_improvedtwoweaponfighting;
  document.form1.greatertwoweaponfighting.checked=has_greatertwoweaponfighting;
  document.form1.weaponfinesse_list.checked=has_weaponfinesse;
  document.form1.urbantracking.checked=has_urbantracking;
  document.form1.otherfeat1.checked=has_otherfeat1;
  document.form1.otherfeat2.checked=has_otherfeat2;
  document.form1.otherfeat3.checked=has_otherfeat3;
  document.form1.otherfeat4.checked=has_otherfeat4;
  document.form1.otherfeat5.checked=has_otherfeat5;
  document.form1.otherfeat6.checked=has_otherfeat6;
  document.form1.otherfeat7.checked=has_otherfeat7;
  document.form1.otherfeat8.checked=has_otherfeat8;
  document.form1.otherfeat9.checked=has_otherfeat9;
  document.form1.otherfeat10.checked=has_otherfeat10;
  document.form1.weaponfocus_list.selectedIndex=has_weaponfocus;
  document.form1.weaponspecialization_list.selectedIndex=has_weaponspecialization;
  document.form1.greaterweaponfocus_list.selectedIndex=has_greaterweaponfocus;
  document.form1.greaterweaponspecialization_list.selectedIndex=has_greaterweaponspecialization;
  document.form1.necropotent_list.selectedIndex=has_necropotent;
  document.form1.brewpotion.checked=has_brewpotion;
  document.form1.craftmaa.checked=has_craftmaa;
  document.form1.craftrod.checked=has_craftrod;
  document.form1.craftstaff.checked=has_craftstaff;
  document.form1.craftwand.checked=has_craftwand;
  document.form1.craftwondrousitem.checked=has_craftwondrousitem;
  document.form1.craftconstruct.checked=has_craftconstruct;
  document.form1.forgering.checked=has_forgering;
  document.form1.scribescroll.checked=has_scribescroll;
  document.form1.empowerspell.checked=has_empowerspell;
  document.form1.enlargespell.checked=has_enlargespell;
  document.form1.extendspell.checked=has_extendspell;
  document.form1.heightenspell.checked=has_heightenspell;
  document.form1.maximizespell.checked=has_maximizespell;
  document.form1.quickenspell.checked=has_quickenspell;
  document.form1.silentspell.checked=has_silentspell;
  document.form1.stillspell.checked=has_stillspell;
  document.form1.widenspell.checked=has_widenspell;

  document.form1.antipsionicmagic.checked=has_antipsionicmagic;
  document.form1.autonomous.checked=has_autonomous;
  document.form1.chaoticmind.checked=has_chaoticmind;
  document.form1.cloakdance.checked=has_cloakdance;
  document.form1.closedmind.checked=has_closedmind;
  document.form1.deadlyprecision.checked=has_deadlyprecision;
  document.form1.forceofwill.checked=has_forceofwill;
  document.form1.greatermanyshot.checked=has_greatermanyshot;
  document.form1.hostilemind.checked=has_hostilemind;
  document.form1.mentalresistance.checked=has_mentalresistance;
  document.form1.mindoverbody.checked=has_mindoverbody;
  document.form1.psionicaffinity.checked=has_psionicaffinity;
  document.form1.psionichole.checked=has_psionichole;
  document.form1.rapidmetabolism.checked=has_rapidmetabolism;
  document.form1.recklessoffense.checked=has_recklessoffense;
  document.form1.sidestepcharge.checked=has_sidestepcharge;
  document.form1.standstill.checked=has_standstill;
  document.form1.wildtalent.checked=has_wildtalent;
  document.form1.alignedattack.checked=has_alignedattack;
  document.form1.boostconstruct.checked=has_boostconstruct;
  document.form1.combatmanifestation.checked=has_combatmanifestation;
  document.form1.focusedsunder.checked=has_focusedsunder;
  document.form1.ghostattack.checked=has_ghostattack;
  document.form1.inquisitor.checked=has_inquisitor;
  document.form1.mentalleap.checked=has_mentalleap;
  document.form1.narrowmind.checked=has_narrowmind;
  document.form1.overchannel.checked=has_overchannel;
  document.form1.talented.checked=has_talented;
  document.form1.bodyfuel.checked=has_bodyfuel;
  document.form1.powerpenetration.checked=has_powerpenetration;
  document.form1.greaterpowerpenetration.checked=has_greaterpowerpenetration;
  document.form1.powerspecialization.checked=has_powerspecialization;
  document.form1.greaterpowerspecialization.checked=has_greaterpowerspecialization;
  document.form1.psicrystalaffinity.checked=has_psicrystalaffinity;
  document.form1.improvedpsicrystal.checked=has_improvedpsicrystal;
  document.form1.psicrystalcontainment.checked=has_psicrystalcontainment;
  document.form1.psionicbody.checked=has_psionicbody;
  document.form1.psionicdodge.checked=has_psionicdodge;
  document.form1.psionicendowment.checked=has_psionicendowment;
  document.form1.greaterpsionicendowment.checked=has_greaterpsionicendowment;
  document.form1.psionicfist.checked=has_psionicfist;
  document.form1.greaterpsionicfist.checked=has_greaterpsionicfist;
  document.form1.unavoidablestrike.checked=has_unavoidablestrike;
  document.form1.psionicmeditation.checked=has_psionicmeditation;
  document.form1.psionicshot.checked=has_psionicshot;
  document.form1.greaterpsionicshot.checked=has_greaterpsionicshot;
  document.form1.fellshot.checked=has_fellshot;
  document.form1.returnshot.checked=has_returnshot;
  document.form1.psionicweapon.checked=has_psionicweapon;
  document.form1.greaterpsionicweapon.checked=has_greaterpsionicweapon;
  document.form1.deepimpact.checked=has_deepimpact;
  document.form1.speedofthought.checked=has_speedofthought;
  document.form1.psioniccharge.checked=has_psioniccharge;
  document.form1.upthewalls.checked=has_upthewalls;
  document.form1.woundingattack.checked=has_woundingattack;
  document.form1.burrowingpower.checked=has_burrowingpower;
  document.form1.chainpower.checked=has_chainpower;
  document.form1.delaypower.checked=has_delaypower;
  document.form1.empowerpower.checked=has_empowerpower;
  document.form1.enlargepower.checked=has_enlargepower;
  document.form1.extendpower.checked=has_extendpower;
  document.form1.maximizepower.checked=has_maximizepower;
  document.form1.opportunitypower.checked=has_opportunitypower;
  document.form1.quickenpower.checked=has_quickenpower;
  document.form1.splitpsionicray.checked=has_splitpsionicray;
  document.form1.twinpower.checked=has_twinpower;
  document.form1.unconditionalpower.checked=has_unconditionalpower;
  document.form1.widenpower.checked=has_widenpower;
  document.form1.craftcognizancecrystal.checked=has_craftcognizancecrystal;
  document.form1.craftdorje.checked=has_craftdorje;
  document.form1.craftpsicrown.checked=has_craftpsicrown;
  document.form1.craftpsionicarmsandarmor.checked=has_craftpsionicarmsandarmor;
  document.form1.craftpsionicconstruct.checked=has_craftpsionicconstruct;
  document.form1.craftuniversalitem.checked=has_craftuniversalitem;
  document.form1.imprintstone.checked=has_imprintstone;
  document.form1.scribetattoo.checked=has_scribetattoo;
 document.form1.acheronflurry.checked=has_acheronflurry;
 document.form1.celestialsummoningspecialist.checked=has_celestialsummoningspecialist;
 document.form1.elementalspellcastingair.checked=has_elementalspellcastingair;
 document.form1.elementalspellcastingearth.checked=has_elementalspellcastingearth;
 document.form1.elementalspellcastingfire.checked=has_elementalspellcastingfire;
 document.form1.elementalspellcastingwater.checked=has_elementalspellcastingwater;
 document.form1.fiendishsummoningspecialist.checked=has_fiendishsummoningspecialist;
 document.form1.neraphcharge.checked=has_neraphcharge;
 document.form1.neraphthrow.checked=has_neraphthrow;
 document.form1.nonverbalspell.checked=has_nonverbalspell;
 document.form1.planarfamiliar.checked=has_planarfamiliar;
 document.form1.stalwartplanarally.checked=has_stalwartplanarally;
 document.form1.airheritage.checked=has_airheritage;
 document.form1.anarchicheritage.checked=has_anarchicheritage;
 document.form1.axiomaticheritage.checked=has_axiomaticheritage;
 document.form1.celestialheritage.checked=has_celestialheritage;
 document.form1.earthheritage.checked=has_earthheritage;
 document.form1.fiendishheritage.checked=has_fiendishheritage;
 document.form1.fireheritage.checked=has_fireheritage;
 document.form1.improvedelementalheritage.checked=has_improvedelementalheritage;
 document.form1.improvedouterplanarheritage.checked=has_improvedouterplanarheritage;
 document.form1.naturalheavyweight.checked=has_naturalheavyweight;
 document.form1.shadowheritage.checked=has_shadowheritage;
 document.form1.waterheritage.checked=has_waterheritage;
document.form1.cleverwrestling.checked=has_cleverwrestling;
document.form1.cunningsidestep.checked=has_cunningsidestep;
document.form1.closequartersfighting.checked=has_closequartersfighting;
document.form1.overheadthrust.checked=has_overheadthrust;
document.form1.deftstrike.checked=has_deftstrike;
document.form1.dragoncohort.checked=has_dragoncohort;
document.form1.dragonfamiliar.checked=has_dragonfamiliar;
document.form1.dragonhunter.checked=has_dragonhunter;
document.form1.dragonhunterbravery.checked=has_dragonhunterbravery;
document.form1.dragonhunterdefense.checked=has_dragonhunterdefense;
document.form1.dragonsteed.checked=has_dragonsteed;
document.form1.dragonwildshape.checked=has_dragonwildshape;
document.form1.dragoncrafter.checked=has_dragoncrafter;
document.form1.dragonfoe.checked=has_dragonfoe;
document.form1.dragonbane.checked=has_dragonbane;
document.form1.dragondoom.checked=has_dragondoom;
document.form1.subduingstrike.checked=has_subduingstrike;
document.form1.exaltedsmite.checked=has_exaltedsmite;
document.form1.exaltedturning.checked=has_exaltedturning;
document.form1.exaltedwildshape.checked=has_exaltedwildshape;
document.form1.holysubdual.checked=has_holysubdual;
document.form1.rangedsmiteevil.checked=has_rangedsmiteevil;
document.form1.righteouswrath.checked=has_righteouswrath;
document.form1.sacredstrike.checked=has_sacredstrike;
document.form1.consecratespell.checked=has_consecratespell;
document.form1.nonlethalsubstitution.checked=has_nonlethalsubstitution;
document.form1.purifyspell.checked=has_purifyspell;
document.form1.improvedelementalwildshape.checked=has_improvedelementalwildshape;
document.form1.lastinginspiration.checked=has_lastinginspiration;
document.form1.planarturning.checked=has_planarturning;
document.form1.terrifyingrage.checked=has_terrifyingrage;
document.form1.brachiation.checked=has_brachiation;
document.form1.dangersense.checked=has_dangersense;
document.form1.heartheunseen.checked=has_heartheunseen;
document.form1.improvedswimming.checked=has_improvedswimming;
document.form1.quickreconnoiter.checked=has_quickreconnoiter;
document.form1.dragonfriend.checked=has_dragonfriend;
document.form1.dragonsong.checked=has_dragonsong;
document.form1.dragonthrall.checked=has_dragonthrall;
document.form1.frightfulpresence.checked=has_frightfulpresence;
document.form1.senseweakness.checked=has_senseweakness;
 }

function RecordFeats() {
 NegateFeats();
 if (document.form1.acrobatic.checked==true) { has_acrobatic=true; }
 if (document.form1.agile.checked==true) { has_agile=true; }
 if (document.form1.alertness.checked==true) { has_alertness=true; }
 if (document.form1.animalaffinity.checked==true) { has_animalaffinity=true; }
 if (document.form1.armorproficiencylight.checked==true) { has_armorproficiencylight=true; }
 if (document.form1.armorproficiencymedium.checked==true) { has_armorproficiencymedium=true; }
 if (document.form1.armorproficiencyheavy.checked==true) { has_armorproficiencyheavy=true; }
 if (document.form1.athletic.checked==true) { has_athletic=true; }
 if (document.form1.augmentsummoning.checked==true) { has_augmentsummoning=true; }
 if (document.form1.blindfight.checked==true) { has_blindfight=true; }
 if (document.form1.combatcasting.checked==true) { has_combatcasting=true; }
 if (document.form1.combatexpertise.checked==true) { has_combatexpertise=true; }
 if (document.form1.improveddisarm.checked==true) { has_improveddisarm=true; }
 if (document.form1.improvedfeint.checked==true) { has_improvedfeint=true; }
 if (document.form1.improvedtrip.checked==true) { has_improvedtrip=true; }
 if (document.form1.whirlwindattack.checked==true) { has_whirlwindattack=true; }
 if (document.form1.combatreflexes.checked==true) { has_combatreflexes=true; }
 if (document.form1.deceitful.checked==true) { has_deceitful=true; }
 if (document.form1.defthands.checked==true) { has_defthands=true; }
 if (document.form1.diligent.checked==true) { has_diligent=true; }
 if (document.form1.dodge.checked==true) { has_dodge=true; }
 if (document.form1.mobility.checked==true) { has_mobility=true; }
 if (document.form1.springattack.checked==true) { has_springattack=true; }
 if (document.form1.endurance.checked==true) { has_endurance=true; }
 if (document.form1.diehard.checked==true) { has_diehard=true; }
 if (document.form1.eschewmaterials.checked==true) { has_eschewmaterials=true; }
 if (document.form1.exoticweaponproficiency.checked==true) { has_exoticweaponproficiency=true; }
 has_extraturning=document.form1.extraturning_list.selectedIndex;
 has_planartouchstone=document.form1.planartouchstone_list.selectedIndex;
 has_personaltouchstone=document.form1.personaltouchstone_list.selectedIndex;
 has_openminded=document.form1.openminded_list.selectedIndex;
 has_expandedknowledge=document.form1.expandedknowledge_list.selectedIndex;
 has_metamorphictransfer=document.form1.metamorphictransfer_list.selectedIndex;
 has_psionictalent=document.form1.psionictalent_list.selectedIndex;
 has_familiarspell=document.form1.familiarspell_list.selectedIndex;
 has_greatsmiting=document.form1.greatsmiting_list.selectedIndex;
 has_improvedfavoredenemy=document.form1.improvedfavoredenemy_list.selectedIndex;
 has_improvedmetamagic=document.form1.improvedmetamagic_list.selectedIndex;
 has_improvedsneakattack=document.form1.improvedsneakattack_list.selectedIndex;
 has_improvedspellcapacity=document.form1.improvedspellcapacity_list.selectedIndex;
 has_improvedstunningfist=document.form1.improvedstunningfist_list.selectedIndex;
 has_overwhelmingcritical=document.form1.overwhelmingcritical_list.selectedIndex;
 has_spellknowledge=document.form1.spellknowledge_list.selectedIndex;
 has_epicexpandedknowledge=document.form1.epicexpandedknowledge_list.selectedIndex;
 has_epicpsionicfocus=document.form1.epicpsionicfocus_list.selectedIndex;
 has_improvedmanifestation=document.form1.improvedmanifestation_list.selectedIndex;
 has_improvedmetapsionics=document.form1.improvedmetapsionics_list.selectedIndex;
 has_powerknowledge=document.form1.powerknowledge_list.selectedIndex;
 has_psicrystalpower=document.form1.psicrystalpower_list.selectedIndex;
 if (document.form1.greatfortitude.checked==true) { has_greatfortitude=true; }
 if (document.form1.improvedcounterspell.checked==true) { has_improvedcounterspell=true; }
 has_improvedcritical=document.form1.improvedcritical_list.selectedIndex;
 if (document.form1.improvedinitiative.checked==true) { has_improvedinitiative=true; }
 if (document.form1.improvedturning.checked==true) { has_improvedturning=true; }
 if (document.form1.improvedunarmedstrike.checked==true) { has_improvedunarmedstrike=true; }
 if (document.form1.improvedgrapple.checked==true) { has_improvedgrapple=true; }
 if (document.form1.deflectarrows.checked==true) { has_deflectarrows=true; }
 if (document.form1.snatcharrows.checked==true) { has_snatcharrows=true; }
 if (document.form1.stunningfist.checked==true) { has_stunningfist=true; }
 if (document.form1.investigator.checked==true) { has_investigator=true; }
 if (document.form1.ironwill.checked==true) { has_ironwill=true; }
 if (document.form1.leadership.checked==true) { has_leadership=true; }
 if (document.form1.lightningreflexes.checked==true) { has_lightningreflexes=true; }
 if (document.form1.magicalaptitude.checked==true) { has_magicalaptitude=true; }
 if (document.form1.martialweaponproficiency.checked==true) { has_martialweaponproficiency=true; }
 if (document.form1.mountedcombat.checked==true) { has_mountedcombat=true; }
 if (document.form1.mountedarchery.checked==true) { has_mountedarchery=true; }
 if (document.form1.ridebyattack.checked==true) { has_ridebyattack=true; }
 if (document.form1.spiritedcharge.checked==true) { has_spiritedcharge=true; }
 if (document.form1.trample.checked==true) { has_trample=true; }
 if (document.form1.naturalspell.checked==true) { has_naturalspell=true; }
 if (document.form1.negotiator.checked==true) { has_negotiator=true; }
 if (document.form1.nimblefingers.checked==true) { has_nimblefingers=true; }
 if (document.form1.persuasive.checked==true) { has_persuasive=true; }
 if (document.form1.pointblankshot.checked==true) { has_pointblankshot=true; }
 if (document.form1.farshot.checked==true) { has_farshot=true; }
 if (document.form1.preciseshot.checked==true) { has_preciseshot=true; }
 if (document.form1.rapidshot.checked==true) { has_rapidshot=true; }
 if (document.form1.manyshot.checked==true) { has_manyshot=true; }
 if (document.form1.shotontherun.checked==true) { has_shotontherun=true; }
 if (document.form1.improvedpreciseshot.checked==true) { has_improvedpreciseshot=true; }
 if (document.form1.powerattack.checked==true) { has_powerattack=true; }
 if (document.form1.cleave.checked==true) { has_cleave=true; }
 if (document.form1.greatcleave.checked==true) { has_greatcleave=true; }
 if (document.form1.improvedbullrush.checked==true) { has_improvedbullrush=true; }
 if (document.form1.improvedoverrun.checked==true) { has_improvedoverrun=true; }
 if (document.form1.improvedsunder.checked==true) { has_improvedsunder=true; }
 if (document.form1.quickdraw.checked==true) { has_quickdraw=true; }
 if (document.form1.rapidreload.checked==true) { has_rapidreload=true; }
 if (document.form1.run.checked==true) { has_run=true; }
 if (document.form1.selfsufficient.checked==true) { has_selfsufficient=true; }
 if (document.form1.shieldproficiency.checked==true) { has_shieldproficiency=true; }
 if (document.form1.improvedshieldbash.checked==true) { has_improvedshieldbash=true; }
 if (document.form1.towershieldproficiency.checked==true) { has_towershieldproficiency=true; }
 if (document.form1.simpleweaponproficiency.checked==true) { has_simpleweaponproficiency=true; }
 if (document.form1.skillfocusappraise.checked==true) { has_skillfocusappraise=true; }
 if (document.form1.skillfocusbalance.checked==true) { has_skillfocusbalance=true; }
 if (document.form1.skillfocusbluff.checked==true) { has_skillfocusbluff=true; }
 if (document.form1.skillfocusclimb.checked==true) { has_skillfocusclimb=true; }
 if (document.form1.skillfocusconcentration.checked==true) { has_skillfocusconcentration=true; }
 if (document.form1.skillfocuscraft_1.checked==true) { has_skillfocuscraft_1=true; }
 if (document.form1.skillfocuscraft_2.checked==true) { has_skillfocuscraft_2=true; }
 if (document.form1.skillfocuscraft_3.checked==true) { has_skillfocuscraft_3=true; }
 if (document.form1.skillfocusdecipherscript.checked==true) { has_skillfocusdecipherscript=true; }
 if (document.form1.skillfocusdiplomacy.checked==true) { has_skillfocusdiplomacy=true; }
 if (document.form1.skillfocusdisabledevice.checked==true) { has_skillfocusdisabledevice=true; }
 if (document.form1.skillfocusdisguise.checked==true) { has_skillfocusdisguise=true; }
 if (document.form1.skillfocusescapeartist.checked==true) { has_skillfocusescapeartist=true; }
 if (document.form1.skillfocusforgery.checked==true) { has_skillfocusforgery=true; }
 if (document.form1.skillfocusgatherinformation.checked==true) { has_skillfocusgatherinformation=true; }
 if (document.form1.skillfocushandleanimal.checked==true) { has_skillfocushandleanimal=true; }
 if (document.form1.skillfocusheal.checked==true) { has_skillfocusheal=true; }
 if (document.form1.skillfocushide.checked==true) { has_skillfocushide=true; }
 if (document.form1.skillfocusintimidate.checked==true) { has_skillfocusintimidate=true; }
 if (document.form1.skillfocusjump.checked==true) { has_skillfocusjump=true; }
 if (document.form1.skillfocusknowledgearcana.checked==true) { has_skillfocusknowledgearcana=true; }
 if (document.form1.skillfocusknowledgearchitecture.checked==true) { has_skillfocusknowledgearchitecture=true; }
 if (document.form1.skillfocusknowledgedungeoneering.checked==true) { has_skillfocusknowledgedungeoneering=true; }
 if (document.form1.skillfocusknowledgegeography.checked==true) { has_skillfocusknowledgegeography=true; }
 if (document.form1.skillfocusknowledgehistory.checked==true) { has_skillfocusknowledgehistory=true; }
 if (document.form1.skillfocusknowledgelocal.checked==true) { has_skillfocusknowledgelocal=true; }
 if (document.form1.skillfocusknowledgenature.checked==true) { has_skillfocusknowledgenature=true; }
 if (document.form1.skillfocusknowledgenobility.checked==true) { has_skillfocusknowledgenobility=true; }
 if (document.form1.skillfocusknowledgereligion.checked==true) { has_skillfocusknowledgereligion=true; }
 if (document.form1.skillfocusknowledgeplanes.checked==true) { has_skillfocusknowledgeplanes=true; }
 if (document.form1.skillfocuslisten.checked==true) { has_skillfocuslisten=true; }
 if (document.form1.skillfocusmovesilently.checked==true) { has_skillfocusmovesilently=true; }
 if (document.form1.skillfocusopenlock.checked==true) { has_skillfocusopenlock=true; }
 if (document.form1.skillfocusperform_1.checked==true) { has_skillfocusperfrom=true; }
 if (document.form1.skillfocusperform_2.checked==true) { has_skillfocusperfrom=true; }
 if (document.form1.skillfocusperform_3.checked==true) { has_skillfocusperfrom=true; }
 if (document.form1.skillfocusperform_4.checked==true) { has_skillfocusperfrom=true; }
 if (document.form1.skillfocusperform_5.checked==true) { has_skillfocusperfrom=true; }
 if (document.form1.skillfocusprofession.checked==true) { has_skillfocusprofession=true; }
 if (document.form1.skillfocusride.checked==true) { has_skillfocusride=true; }
 if (document.form1.skillfocussearch.checked==true) { has_skillfocussearch=true; }
 if (document.form1.skillfocussensemotive.checked==true) { has_skillfocussensemotive=true; }
 if (document.form1.skillfocussleightofhand.checked==true) { has_skillfocussleightofhand=true; }
 if (document.form1.skillfocusspellcraft.checked==true) { has_skillfocusspellcraft=true; }
 if (document.form1.skillfocusspot.checked==true) { has_skillfocusspot=true; }
 if (document.form1.skillfocussurvival.checked==true) { has_skillfocussurvival=true; }
 if (document.form1.skillfocusswim.checked==true) { has_skillfocusswim=true; }
 if (document.form1.skillfocustumble.checked==true) { has_skillfocustumble=true; }
 if (document.form1.skillfocususemagicdevice.checked==true) { has_skillfocususemagicdevice=true; }
 if (document.form1.skillfocususerope.checked==true) { has_skillfocususerope=true; }
 if (document.form1.skillfocusautohypnosis.checked==true) { has_skillfocusautohypnosis=true; }
 if (document.form1.skillfocusknowpsi.checked==true) { has_skillfocusknowpsi=true; }
 if (document.form1.skillfocuspsicraft.checked==true) { has_skillfocuspsicraft=true; }
// if (document.form1.skillfocusremoteview.checked==true) { has_skillfocusremoteview=true; }
// if (document.form1.skillfocusstabilizeself.checked==true) { has_skillfocusstabilizeself=true; }
 if (document.form1.skillfocususepsionicdevice.checked==true) { has_skillfocususepsionicdevice=true; }
 if (document.form1.improvedtoughness.checked==true) { has_improvedtoughness=true; }
 if (document.form1.spellcastingprodigyintelligence.checked==true) { has_spellcastingprodigyintelligence=true; }
 if (document.form1.spellcastingprodigywisdom.checked==true) { has_spellcastingprodigywisdom=true; }
 if (document.form1.spellcastingprodigycharisma.checked==true) { has_spellcastingprodigycharisma=true; }
 if (document.form1.zenarchery.checked==true) { has_zenarchery=true; }
 if (document.form1.suddenempower.checked==true) { has_suddenempower=true; }
 if (document.form1.suddenenlarge.checked==true) { has_suddenenlarge=true; }
 if (document.form1.suddenextend.checked==true) { has_suddenextend=true; }
 if (document.form1.suddenmaximize.checked==true) { has_suddenmaximize=true; }
 if (document.form1.suddensilent.checked==true) { has_suddensilent=true; }
 if (document.form1.suddenstill.checked==true) { has_suddenstill=true; }
 if (document.form1.suddenwiden.checked==true) { has_suddenwiden=true; }
 if (document.form1.energysubstitutionacid.checked==true) { has_energysubstitutionacid=true; }
 if (document.form1.energysubstitutioncold.checked==true) { has_energysubstitutioncold=true; }
 if (document.form1.energysubstitutionelectricity.checked==true) { has_energysubstitutionelectricity=true; }
 if (document.form1.energysubstitutionfire.checked==true) { has_energysubstitutionfire=true; }
 if (document.form1.energysubstitutionsonic.checked==true) { has_energysubstitutionsonic=true; }
 if (document.form1.subdualsubstitution.checked==true) { has_subdualsubstitution=true; }
 if (document.form1.enduringlife.checked==true) { has_enduringlife=true; }
 if (document.form1.lastinglife.checked==true) { has_lastinglife=true; }
 if (document.form1.empowerturning.checked==true) { has_empowerturning=true; }
 if (document.form1.ghostscarred.checked==true) { has_ghostscarred=true; }
 if (document.form1.heightenturning.checked==true) { has_heightenturning=true; }
 if (document.form1.quickenturning.checked==true) { has_quickenturning=true; }
 if (document.form1.requiem.checked==true) { has_requiem=true; }
 if (document.form1.vampirehunter.checked==true) { has_vampirehunter=true; }
 if (document.form1.sacredvitality.checked==true) { has_sacredvitality=true; }
 if (document.form1.spurndeathstouch.checked==true) { has_spurndeathstouch=true; }

 if (document.form1.multiattack.checked==true) { has_multiattack=true; }
 if (document.form1.multidexterity.checked==true) { has_multidexterity=true; }
 if (document.form1.multiweaponfighting.checked==true) { has_multiweaponfighting=true; }
 if (document.form1.cripplingstrike.checked==true) { has_cripplingstrike=true; }
 if (document.form1.defensiveroll.checked==true) { has_defensiveroll=true; }
 if (document.form1.improvedevasion.checked==true) { has_improvedevasion=true; }
 if (document.form1.opportunist.checked==true) { has_opportunist=true; }
 if (document.form1.skillmastery.checked==true) { has_skillmastery=true; }
 if (document.form1.slipperymind.checked==true) { has_slipperymind=true; }
 if (document.form1.roguewildernessstride.checked==true) { has_roguewildernessstride=true; }
 if (document.form1.roguecamouflage.checked==true) { has_roguecamouflage=true; }
 if (document.form1.roguehideinplainsight.checked==true) { has_roguehideinplainsight=true; }
 if (document.form1.feeble.checked==true) { has_feeble=true; }
 if (document.form1.frail.checked==true) { has_frail=true; }
 if (document.form1.inattentive.checked==true) { has_inattentive=true; }
 if (document.form1.meagerfortitude.checked==true) { has_meagerfortitude=true; }
 if (document.form1.weakwill.checked==true) { has_weakwill=true; }
 if (document.form1.otherflaw1.checked==true) { has_otherflaw1=true; }
 if (document.form1.otherflaw2.checked==true) { has_otherflaw2=true; }
 if (document.form1.noncombatant.checked==true) { has_noncombatant=true; }
 if (document.form1.poorreflexes.checked==true) { has_poorreflexes=true; }
 if (document.form1.murkyeyed.checked==true) { has_murkyeyed=true; }
 if (document.form1.vulnerable.checked==true) { has_vulnerable=true; }
 if (document.form1.unreactive.checked==true) { has_unreactive=true; }
 if (document.form1.slowpoke.checked==true) { has_slowpoke=true; }
 if (document.form1.shaky.checked==true) { has_shaky=true; }


 if (document.form1.spellfocusabjuration.checked==true) { has_spellfocusabjuration=true; }
 if (document.form1.spellfocusconjuration.checked==true) { has_spellfocusconjuration=true; }
 if (document.form1.spellfocusdivination.checked==true) { has_spellfocusdivination=true; }
 if (document.form1.spellfocusenchantment.checked==true) { has_spellfocusenchantment=true; }
 if (document.form1.spellfocusevocation.checked==true) { has_spellfocusevocation=true; }
 if (document.form1.spellfocusillusion.checked==true) { has_spellfocusillusion=true; }
 if (document.form1.spellfocusnecromancy.checked==true) { has_spellfocusnecromancy=true; }
 if (document.form1.spellfocustransmutation.checked==true) { has_spellfocustransmutation=true; }
 if (document.form1.greaterspellfocusabjuration.checked==true) { has_greaterspellfocusabjuration=true; }
 if (document.form1.greaterspellfocusconjuration.checked==true) { has_greaterspellfocusconjuration=true; }
 if (document.form1.greaterspellfocusdivination.checked==true) { has_greaterspellfocusdivination=true; }
 if (document.form1.greaterspellfocusenchantment.checked==true) { has_greaterspellfocusenchantment=true; }
 if (document.form1.greaterspellfocusevocation.checked==true) { has_greaterspellfocusevocation=true; }
 if (document.form1.greaterspellfocusillusion.checked==true) { has_greaterspellfocusillusion=true; }
 if (document.form1.greaterspellfocusnecromancy.checked==true) { has_greaterspellfocusnecromancy=true; }
 if (document.form1.greaterspellfocustransmutation.checked==true) { has_greaterspellfocustransmutation=true; }
 has_spellmastery=document.form1.spellmastery_list.selectedIndex;
 if (document.form1.spellpenetration.checked==true) { has_spellpenetration=true; }
 if (document.form1.greaterspellpenetration.checked==true) { has_greaterspellpenetration=true; }
 if (document.form1.stealthy.checked==true) { has_stealthy=true; }
 has_toughness=document.form1.toughness_list.selectedIndex;
 if (document.form1.track.checked==true) { has_track=true; }
 if (document.form1.twoweaponfighting.checked==true) { has_twoweaponfighting=true; }
 if (document.form1.twoweapondefense.checked==true) { has_twoweapondefense=true; }
 if (document.form1.improvedtwoweaponfighting.checked==true) { has_improvedtwoweaponfighting=true; }
 if (document.form1.greatertwoweaponfighting.checked==true) { has_greatertwoweaponfighting=true; }
 if (document.form1.weaponfinesse_list.checked==true) { has_weaponfinesse=true; }
 if (document.form1.urbantracking.checked==true) { has_urbantracking=true; }
 if (document.form1.otherfeat1.checked==true) { has_otherfeat1=true; }
 if (document.form1.otherfeat2.checked==true) { has_otherfeat2=true; }
 if (document.form1.otherfeat3.checked==true) { has_otherfeat3=true; }
 if (document.form1.otherfeat4.checked==true) { has_otherfeat4=true; }
 if (document.form1.otherfeat5.checked==true) { has_otherfeat5=true; }
 if (document.form1.otherfeat6.checked==true) { has_otherfeat6=true; }
 if (document.form1.otherfeat7.checked==true) { has_otherfeat7=true; }
 if (document.form1.otherfeat8.checked==true) { has_otherfeat8=true; }
 if (document.form1.otherfeat9.checked==true) { has_otherfeat9=true; }
 if (document.form1.otherfeat10.checked==true) { has_otherfeat10=true; }
 has_weaponfocus=document.form1.weaponfocus_list.selectedIndex;
 has_weaponspecialization=document.form1.weaponspecialization_list.selectedIndex;
 has_greaterweaponfocus=document.form1.greaterweaponfocus_list.selectedIndex;
 has_greaterweaponspecialization=document.form1.greaterweaponspecialization_list.selectedIndex;
 has_necropotent=document.form1.necropotent_list.selectedIndex;
 if (document.form1.brewpotion.checked==true) { has_brewpotion=true; }
 if (document.form1.craftmaa.checked==true) { has_craftmaa=true; }
 if (document.form1.craftrod.checked==true) { has_craftrod=true; }
 if (document.form1.craftstaff.checked==true) { has_craftstaff=true; }
 if (document.form1.craftwand.checked==true) { has_craftwand=true; }
 if (document.form1.craftwondrousitem.checked==true) { has_craftwondrousitem=true; }
 if (document.form1.craftconstruct.checked==true) { has_craftconstruct=true; }
 if (document.form1.forgering.checked==true) { has_forgering=true; }
 if (document.form1.scribescroll.checked==true) { has_scribescroll=true; }
 if (document.form1.empowerspell.checked==true) { has_empowerspell=true; }
 if (document.form1.enlargespell.checked==true) { has_enlargespell=true; }
 if (document.form1.extendspell.checked==true) { has_extendspell=true; }
 if (document.form1.heightenspell.checked==true) { has_heightenspell=true; }
 if (document.form1.maximizespell.checked==true) { has_maximizespell=true; }
 if (document.form1.quickenspell.checked==true) { has_quickenspell=true; }
 if (document.form1.silentspell.checked==true) { has_silentspell=true; }
 if (document.form1.stillspell.checked==true) { has_stillspell=true; }
 if (document.form1.widenspell.checked==true) { has_widenspell=true; }
if (document.form1.antipsionicmagic.checked==true) { has_antipsionicmagic=true; }
if (document.form1.autonomous.checked==true) { has_autonomous=true; }
if (document.form1.chaoticmind.checked==true) { has_chaoticmind=true; }
if (document.form1.cloakdance.checked==true) { has_cloakdance=true; }
if (document.form1.closedmind.checked==true) { has_closedmind=true; }
if (document.form1.deadlyprecision.checked==true) { has_deadlyprecision=true; }
if (document.form1.forceofwill.checked==true) { has_forceofwill=true; }
if (document.form1.greatermanyshot.checked==true) { has_greatermanyshot=true; }
if (document.form1.hostilemind.checked==true) { has_hostilemind=true; }
if (document.form1.mentalresistance.checked==true) { has_mentalresistance=true; }
if (document.form1.mindoverbody.checked==true) { has_mindoverbody=true; }
if (document.form1.psionicaffinity.checked==true) { has_psionicaffinity=true; }
if (document.form1.psionichole.checked==true) { has_psionichole=true; }
if (document.form1.rapidmetabolism.checked==true) { has_rapidmetabolism=true; }
if (document.form1.recklessoffense.checked==true) { has_recklessoffense=true; }
if (document.form1.sidestepcharge.checked==true) { has_sidestepcharge=true; }
if (document.form1.standstill.checked==true) { has_standstill=true; }
if (document.form1.wildtalent.checked==true) { has_wildtalent=true; }
if (document.form1.alignedattack.checked==true) { has_alignedattack=true; }
if (document.form1.boostconstruct.checked==true) { has_boostconstruct=true; }
if (document.form1.combatmanifestation.checked==true) { has_combatmanifestation=true; }
if (document.form1.focusedsunder.checked==true) { has_focusedsunder=true; }
if (document.form1.ghostattack.checked==true) { has_ghostattack=true; }
if (document.form1.inquisitor.checked==true) { has_inquisitor=true; }
if (document.form1.mentalleap.checked==true) { has_mentalleap=true; }
if (document.form1.narrowmind.checked==true) { has_narrowmind=true; }
if (document.form1.overchannel.checked==true) { has_overchannel=true; }
if (document.form1.talented.checked==true) { has_talented=true; }
if (document.form1.bodyfuel.checked==true) { has_bodyfuel=true; }
if (document.form1.powerpenetration.checked==true) { has_powerpenetration=true; }
if (document.form1.greaterpowerpenetration.checked==true) { has_greaterpowerpenetration=true; }
if (document.form1.powerspecialization.checked==true) { has_powerspecialization=true; }
if (document.form1.greaterpowerspecialization.checked==true) { has_greaterpowerspecialization=true; }
if (document.form1.psicrystalaffinity.checked==true) { has_psicrystalaffinity=true; }
if (document.form1.improvedpsicrystal.checked==true) { has_improvedpsicrystal=true; }
if (document.form1.psicrystalcontainment.checked==true) { has_psicrystalcontainment=true; }
if (document.form1.psionicbody.checked==true) { has_psionicbody=true; }
if (document.form1.psionicdodge.checked==true) { has_psionicdodge=true; }
if (document.form1.psionicendowment.checked==true) { has_psionicendowment=true; }
if (document.form1.greaterpsionicendowment.checked==true) { has_greaterpsionicendowment=true; }
if (document.form1.psionicfist.checked==true) { has_psionicfist=true; }
if (document.form1.greaterpsionicfist.checked==true) { has_greaterpsionicfist=true; }
if (document.form1.unavoidablestrike.checked==true) { has_unavoidablestrike=true; }
if (document.form1.psionicmeditation.checked==true) { has_psionicmeditation=true; }
if (document.form1.psionicshot.checked==true) { has_psionicshot=true; }
if (document.form1.greaterpsionicshot.checked==true) { has_greaterpsionicshot=true; }
if (document.form1.fellshot.checked==true) { has_fellshot=true; }
if (document.form1.returnshot.checked==true) { has_returnshot=true; }
if (document.form1.psionicweapon.checked==true) { has_psionicweapon=true; }
if (document.form1.greaterpsionicweapon.checked==true) { has_greaterpsionicweapon=true; }
if (document.form1.deepimpact.checked==true) { has_deepimpact=true; }
if (document.form1.speedofthought.checked==true) { has_speedofthought=true; }
if (document.form1.psioniccharge.checked==true) { has_psioniccharge=true; }
if (document.form1.upthewalls.checked==true) { has_upthewalls=true; }
if (document.form1.woundingattack.checked==true) { has_woundingattack=true; }
if (document.form1.burrowingpower.checked==true) { has_burrowingpower=true; }
if (document.form1.chainpower.checked==true) { has_chainpower=true; }
if (document.form1.delaypower.checked==true) { has_delaypower=true; }
if (document.form1.empowerpower.checked==true) { has_empowerpower=true; }
if (document.form1.enlargepower.checked==true) { has_enlargepower=true; }
if (document.form1.extendpower.checked==true) { has_extendpower=true; }
if (document.form1.maximizepower.checked==true) { has_maximizepower=true; }
if (document.form1.opportunitypower.checked==true) { has_opportunitypower=true; }
if (document.form1.quickenpower.checked==true) { has_quickenpower=true; }
if (document.form1.splitpsionicray.checked==true) { has_splitpsionicray=true; }
if (document.form1.twinpower.checked==true) { has_twinpower=true; }
if (document.form1.unconditionalpower.checked==true) { has_unconditionalpower=true; }
if (document.form1.widenpower.checked==true) { has_widenpower=true; }
if (document.form1.craftcognizancecrystal.checked==true) { has_craftcognizancecrystal=true; }
if (document.form1.craftdorje.checked==true) { has_craftdorje=true; }
if (document.form1.craftpsicrown.checked==true) { has_craftpsicrown=true; }
if (document.form1.craftpsionicarmsandarmor.checked==true) { has_craftpsionicarmsandarmor=true; }
if (document.form1.craftpsionicconstruct.checked==true) { has_craftpsionicconstruct=true; }
if (document.form1.craftuniversalitem.checked==true) { has_craftuniversalitem=true; }
if (document.form1.imprintstone.checked==true) { has_imprintstone=true; }
if (document.form1.scribetattoo.checked==true) { has_scribetattoo=true; }
 if (document.form1.acheronflurry.checked==true) { has_acheronflurry=true; }
 if (document.form1.celestialsummoningspecialist.checked==true) { has_celestialsummoningspecialist=true; }
 if (document.form1.elementalspellcastingair.checked==true) { has_elementalspellcastingair=true; }
 if (document.form1.elementalspellcastingearth.checked==true) { has_elementalspellcastingearth=true; }
 if (document.form1.elementalspellcastingfire.checked==true) { has_elementalspellcastingfire=true; }
 if (document.form1.elementalspellcastingwater.checked==true) { has_elementalspellcastingwater=true; }
 if (document.form1.fiendishsummoningspecialist.checked==true) { has_fiendishsummoningspecialist=true; }
 if (document.form1.neraphcharge.checked==true) { has_neraphcharge=true; }
 if (document.form1.neraphthrow.checked==true) { has_neraphthrow=true; }
 if (document.form1.nonverbalspell.checked==true) { has_nonverbalspell=true; }
 if (document.form1.planarfamiliar.checked==true) { has_planarfamiliar=true; }
 if (document.form1.stalwartplanarally.checked==true) { has_stalwartplanarally=true; }
 if (document.form1.airheritage.checked==true) { has_airheritage=true; }
 if (document.form1.anarchicheritage.checked==true) { has_anarchicheritage=true; }
 if (document.form1.axiomaticheritage.checked==true) { has_axiomaticheritage=true; }
 if (document.form1.celestialheritage.checked==true) { has_celestialheritage=true; }
 if (document.form1.earthheritage.checked==true) { has_earthheritage=true; }
 if (document.form1.fiendishheritage.checked==true) { has_fiendishheritage=true; }
 if (document.form1.fireheritage.checked==true) { has_fireheritage=true; }
 if (document.form1.improvedelementalheritage.checked==true) { has_improvedelementalheritage=true; }
 if (document.form1.improvedouterplanarheritage.checked==true) { has_improvedouterplanarheritage=true; }
 if (document.form1.naturalheavyweight.checked==true) { has_naturalheavyweight=true; }
 if (document.form1.shadowheritage.checked==true) { has_shadowheritage=true; }
 if (document.form1.waterheritage.checked==true) { has_waterheritage=true; }
if (document.form1.cleverwrestling.checked==true) { has_cleverwrestling=true; }
if (document.form1.cunningsidestep.checked==true) { has_cunningsidestep=true; }
if (document.form1.closequartersfighting.checked==true) { has_closequartersfighting=true; }
if (document.form1.overheadthrust.checked==true) { has_overheadthrust=true; }
if (document.form1.deftstrike.checked==true) { has_deftstrike=true; }
if (document.form1.dragoncohort.checked==true) { has_dragoncohort=true; }
if (document.form1.dragonfamiliar.checked==true) { has_dragonfamiliar=true; }
if (document.form1.dragonhunter.checked==true) { has_dragonhunter=true; }
if (document.form1.dragonhunterbravery.checked==true) { has_dragonhunterbravery=true; }
if (document.form1.dragonhunterdefense.checked==true) { has_dragonhunterdefense=true; }
if (document.form1.dragonsteed.checked==true) { has_dragonsteed=true; }
if (document.form1.dragonwildshape.checked==true) { has_dragonwildshape=true; }
if (document.form1.dragoncrafter.checked==true) { has_dragoncrafter=true; }
if (document.form1.dragonfoe.checked==true) { has_dragonfoe=true; }
if (document.form1.dragonbane.checked==true) { has_dragonbane=true; }
if (document.form1.dragondoom.checked==true) { has_dragondoom=true; }
if (document.form1.subduingstrike.checked==true) { has_subduingstrike=true; }
if (document.form1.exaltedsmite.checked==true) { has_exaltedsmite=true; }
if (document.form1.exaltedturning.checked==true) { has_exaltedturning=true; }
if (document.form1.exaltedwildshape.checked==true) { has_exaltedwildshape=true; }
if (document.form1.holysubdual.checked==true) { has_holysubdual=true; }
if (document.form1.rangedsmiteevil.checked==true) { has_rangedsmiteevil=true; }
if (document.form1.righteouswrath.checked==true) { has_righteouswrath=true; }
if (document.form1.sacredstrike.checked==true) { has_sacredstrike=true; }
if (document.form1.consecratespell.checked==true) { has_consecratespell=true; }
if (document.form1.nonlethalsubstitution.checked==true) { has_nonlethalsubstitution=true; }
if (document.form1.purifyspell.checked==true) { has_purifyspell=true; }
if (document.form1.improvedelementalwildshape.checked==true) { has_improvedelementalwildshape=true; }
if (document.form1.lastinginspiration.checked==true) { has_lastinginspiration=true; }
if (document.form1.planarturning.checked==true) { has_planarturning=true; }
if (document.form1.terrifyingrage.checked==true) { has_terrifyingrage=true; }
if (document.form1.brachiation.checked==true) { has_brachiation=true; }
if (document.form1.dangersense.checked==true) { has_dangersense=true; }
if (document.form1.heartheunseen.checked==true) { has_heartheunseen=true; }
if (document.form1.improvedswimming.checked==true) { has_improvedswimming=true; }
if (document.form1.quickreconnoiter.checked==true) { has_quickreconnoiter=true; }
if (document.form1.dragonfriend.checked==true) { has_dragonfriend=true; }
if (document.form1.dragonsong.checked==true) { has_dragonsong=true; }
if (document.form1.dragonthrall.checked==true) { has_dragonthrall=true; }
if (document.form1.frightfulpresence.checked==true) { has_frightfulpresence=true; }
if (document.form1.senseweakness.checked==true) { has_senseweakness=true; }

}

function NegateFeats() {
  has_acrobatic=false;
  has_agile=false;
  has_alertness=false;
  has_animalaffinity=false;
  has_armorproficiencylight=false;
  has_armorproficiencymedium=false;
  has_armorproficiencyheavy=false;
  has_athletic=false;
  has_augmentsummoning=false;
  has_blindfight=false;
  has_combatcasting=false;
  has_combatexpertise=false;
  has_improveddisarm=false;
  has_improvedfeint=false;
  has_improvedtrip=false;
  has_whirlwindattack=false;
  has_combatreflexes=false;
  has_deceitful=false;
  has_defthands=false;
  has_diligent=false;
  has_dodge=false;
  has_mobility=false;
  has_springattack=false;
  has_endurance=false;
  has_diehard=false;
  has_eschewmaterials=false;
  has_exoticweaponproficiency=false;
  has_extraturning=0;
  has_planartouchstone=0;
  has_personaltouchstone=0;
  has_greatfortitude=false;
  has_improvedcounterspell=false;
  has_improvedcritical=0
  has_improvedinitiative=false;
  has_improvedturning=false;
  has_improvedunarmedstrike=false;
  has_improvedgrapple=false;
  has_deflectarrows=false;
  has_snatcharrows=false;
  has_stunningfist=false;
  has_investigator=false;
  has_ironwill=false;
  has_leadership=false;
  has_lightningreflexes=false;
  has_magicalaptitude=false;
  has_martialweaponproficiency=false;
  has_mountedcombat=false;
  has_mountedarchery=false;
  has_ridebyattack=false;
  has_spiritedcharge=false;
  has_trample=false;
  has_naturalspell=false;
  has_negotiator=false;
  has_nimblefingers=false;
  has_persuasive=false;
  has_pointblankshot=false;
  has_farshot=false;
  has_preciseshot=false;
  has_rapidshot=false;
  has_manyshot=false;
  has_shotontherun=false;
  has_improvedpreciseshot=false;
  has_powerattack=false;
  has_cleave=false;
  has_greatcleave=false;
  has_improvedbullrush=false;
  has_improvedoverrun=false;
  has_improvedsunder=false;
  has_quickdraw=false;
  has_rapidreload=false;
  has_run=false;
  has_selfsufficient=false;
  has_shieldproficiency=false;
  has_improvedshieldbash=false;
  has_towershieldproficiency=false;
  has_simpleweaponproficiency=false;

  has_skillfocusappraise=false;
  has_skillfocusbalance=false;
  has_skillfocusbluff=false;
  has_skillfocusclimb=false;
  has_skillfocusconcentration=false;
  has_skillfocuscraft_1=false;
  has_skillfocuscraft_2=false;
  has_skillfocuscraft_3=false;
  has_skillfocusdecipherscript=false;
  has_skillfocusdiplomacy=false;
  has_skillfocusdisabledevice=false;
  has_skillfocusdisguise=false;
  has_skillfocusescapeartist=false;
  has_skillfocusforgery=false;
  has_skillfocusgatherinformation=false;
  has_skillfocushandleanimal=false;
  has_skillfocusheal=false;
  has_skillfocushide=false;
  has_skillfocusintimidate=false;
  has_skillfocusjump=false;
  has_skillfocusknowledgearcana=false;
  has_skillfocusknowledgearchitecture=false;
  has_skillfocusknowledgedungeoneering=false;
  has_skillfocusknowledgegeography=false;
  has_skillfocusknowledgehistory=false;
  has_skillfocusknowledgelocal=false;
  has_skillfocusknowledgenature=false;
  has_skillfocusknowledgenobility=false;
  has_skillfocusknowledgereligion=false;
  has_skillfocusknowledgeplanes=false;
  has_skillfocuslisten=false;
  has_skillfocusmovesilently=false;
  has_skillfocusopenlock=false;
  has_skillfocusperform_1=false;
  has_skillfocusperform_2=false;
  has_skillfocusperform_3=false;
  has_skillfocusperform_4=false;
  has_skillfocusperform_5=false;
  has_skillfocusprofession=false;
  has_skillfocusride=false;
  has_skillfocussearch=false;
  has_skillfocussensemotive=false;
  has_skillfocussleightofhand=false;
  has_skillfocusspellcraft=false;
  has_skillfocusspot=false;
  has_skillfocussurvival=false;
  has_skillfocusswim=false;
  has_skillfocustumble=false;
  has_skillfocususemagicdevice=false;
  has_skillfocususerope=false;
  has_skillfocusautohypnosis=false;
  has_skillfocusknowpsi=false;
  has_skillfocuspsicraft=false;
  has_skillfocusreomteview=false;
  has_skillfocususepsionicdevice=false;

  has_multiattack=false;
  has_multidexterity=false;
  has_multiweaponfighting=false;
  has_cripplingstrike=false;
  has_defensiveroll=false;
  has_improvedevasion=false;
  has_opportunist=false;
  has_skillmastery=false;
  has_slipperymind=false;
  has_roguewildernessstride=false;
  has_roguecamouflage=false;
  has_roguehideinplainsight=false;

  has_feeble=false;
  has_frail=false;
  has_improvedtoughness=false;
  has_spellcastingprodigyintelligence=false;
  has_spellcastingprodigywisdom=false;
  has_spellcastingprodigycharisma=false;
  has_zenarchery=false;
  has_suddenempower=false;
  has_suddenenlarge=false;
  has_suddenextend=false;
  has_suddenmaximize=false;
  has_suddensilent=false;
  has_suddenstill=false;
  has_suddenwiden=false;
  has_energysubstitutionacid=false;
  has_energysubstitutioncold=false;
  has_energysubstitutionelectricity=false;
  has_energysubstitutionfire=false;
  has_energysubstitutionsonic=false;
  has_subdualsubstitution=false;
  has_enduringlife=false;
  has_lastinglife=false;
  has_empowerturning=false;
  has_ghostscarred=false;
  has_heightenturning=false;
  has_quickenturning=false;
  has_requiem=false;
  has_vampirehunter=false;
  has_sacredvitality=false;
  has_spurndeathstouch=false;
  has_inattentive=false;
  has_meagerfortitude=false;
  has_weakwill=false;
  has_otherflaw1=false;
  has_otherflaw2=false;
  has_murkyeyed=false;
  has_noncombatant=false;
  has_poorreflexes=false;
  has_shaky=false;
  has_slowpoke=false;
  has_unreactive=false;
  has_vulnerable=false;

  has_spellfocusabjuration=false;
  has_spellfocusconjuration=false;
  has_spellfocusdivination=false;
  has_spellfocusenchantment=false;
  has_spellfocusevocation=false;
  has_spellfocusillusion=false;
  has_spellfocusnecromancy=false;
  has_spellfocustransmutation=false;
  has_greaterspellfocusabjuration=false;
  has_greaterspellfocusconjuration=false;
  has_greaterspellfocusdivination=false;
  has_greaterspellfocusenchantment=false;
  has_greaterspellfocusevocation=false;
  has_greaterspellfocusillusion=false;
  has_greaterspellfocusnecromancy=false;
  has_greaterspellfocusconjuration=false;
  has_spellmastery=0;
  has_spellpenetration=false;
  has_greaterspellpenetration=false;
  has_stealthy=false;
  has_toughness=0;
  has_track=false;
  has_twoweaponfighting=false;
  has_twoweapondefense=false;
  has_improvedtwoweaponfighting=false;
  has_greatertwoweaponfighting=false;
  has_weaponfinesse=false;
  has_urbantracking=false;
  has_otherfeat1=false;
  has_otherfeat2=false;
  has_otherfeat3=false;
  has_otherfeat4=false;
  has_otherfeat5=false;
  has_otherfeat6=false;
  has_otherfeat7=false;
  has_otherfeat8=false;
  has_otherfeat9=false;
  has_otherfeat10=false;
  has_weaponfocus=0;
  has_weaponspecialization=0;
  has_greaterweaponfocus=0;
  has_greaterweaponspecialization=0;
  has_necropotent=0;
  has_brewpotion=false;
  has_craftmaa=false;
  has_craftrod=false;
  has_craftstaff=false;
  has_craftwand=false;
  has_craftwondrousitem=false;
  has_craftconstruct=false;
  has_forgering=false;
  has_scribescroll=false;
  has_empowerspell=false;
  has_enlargespell=false;
  has_extendspell=false;
  has_heightenspell=false;
  has_maximizespell=false;
  has_quickenspell=false;
  has_silentspell=false;
  has_stillspell=false;
  has_widenspell=false;

  has_antipsionicmagic=false;
  has_autonomous=false;
  has_chaoticmind=false;
  has_cloakdance=false;
  has_closedmind=false;
  has_deadlyprecision=false;
  has_forceofwill=false;
  has_greatermanyshot=false;
  has_hostilemind=false;
  has_mentalresistance=false;
  has_mindoverbody=false;
  has_openminded=0;
  has_psionicaffinity=false;
  has_psionichole=false;
  has_rapidmetabolism=false;
  has_recklessoffense=false;
  has_sidestepcharge=false;
  has_standstill=false;
  has_wildtalent=false;
  has_alignedattack=false;
  has_boostconstruct=false;
  has_combatmanifestation=false;
  has_expandedknowledge=0;
  has_focusedsunder=false;
  has_ghostattack=false;
  has_inquisitor=false;
  has_mentalleap=false;
  has_metamorphictransfer=0;
  has_narrowmind=false;
  has_overchannel=false;
  has_talented=false;
  has_bodyfuel=false;
  has_powerpenetration=false;
  has_greaterpowerpenetration=false;
  has_powerspecialization=false;
  has_greaterpowerspecialization=false;
  has_psicrystalaffinity=false;
  has_improvedpsicrystal=false;
  has_psicrystalcontainment=false;
  has_psionicbody=false;
  has_psionicdodge=false;
  has_psionicendowment=false;
  has_greaterpsionicendowment=false;
  has_psionicfist=false;
  has_greaterpsionicfist=false;
  has_unavoidablestrike=false;
  has_psionicmeditation=false;
  has_psionicshot=false;
  has_greaterpsionicshot=false;
  has_fellshot=false;
  has_returnshot=false;
  has_psionictalent=0;
  has_familiarspell=0;
  has_greatsmiting=0;
  has_improvedfavoredenemy=0;
  has_improvedmetamagic=0;
  has_improvedsneakattack=0;
  has_improvedspellcapacity=0;
  has_improvedstunningfist=0;
  has_overwhelmingcritical=0;
  has_spellknowledge=0;
  has_epicexpandedknowledge=0;
  has_epicpsionicfocus=0;
  has_improvedmanifestation=0;
  has_improvedmetapsionics=0;
  has_powerknowledge=0;
  has_psicrystalpower=0;
  has_psionicweapon=false;
  has_greaterpsionicweapon=false;
  has_deepimpact=false;
  has_speedofthought=false;
  has_psioniccharge=false;
  has_upthewalls=false;
  has_woundingattack=false;
  has_burrowingpower=false;
  has_chainpower=false;
  has_delaypower=false;
  has_empowerpower=false;
  has_enlargepower=false;
  has_extendpower=false;
  has_maximizepower=false;
  has_opportunitypower=false;
  has_quickenpower=false;
  has_splitpsionicray=false;
  has_twinpower=false;
  has_unconditionalpower=false;
  has_widenpower=false;
  has_craftcognizancecrystal=false;
  has_craftdorje=false;
  has_craftpsicrown=false;
  has_craftpsionicarmsandarmor=false;
  has_craftpsionicconstruct=false;
  has_craftuniversalitem=false;
  has_imprintstone=false;
  has_scribetattoo=false;
has_acheronflurry=false;
has_celestialsummoningspecialist=false;
has_elementalspellcastingair=false;
has_elementalspellcastingearth=false;
has_elementalspellcastingfire=false;
has_elementalspellcastingwater=false;
has_fiendishsummoningspecialist=false;
has_neraphcharge=false;
has_neraphthrow=false;
has_nonverbalspell=false;
has_planarfamiliar=false;
has_stalwartplanarally=false;
has_airheritage=false;
has_anarchicheritage=false;
has_axiomaticheritage=false;
has_celestialheritage=false;
has_earthheritage=false;
has_fiendishheritage=false;
has_fireheritage=false;
has_improvedelementalheritage=false;
has_improvedouterplanarheritage=false;
has_naturalheavyweight=false;
has_shadowheritage=false;
has_waterheritage=false;
has_cleverwrestling=false;
has_cunningsidestep=false;
has_closequartersfighting=false;
has_overheadthrust=false;
has_deftstrike=false;
has_dragoncohort=false;
has_dragonfamiliar=false;
has_dragonhunter=false;
has_dragonhunterbravery=false;
has_dragonhunterdefense=false;
has_dragonsteed=false;
has_dragonwildshape=false;
has_dragoncrafter=false;
has_dragonfoe=false;
has_dragonbane=false;
has_dragondoom=false;
has_subduingstrike=false;
has_exaltedsmite=false;
has_exaltedturning=false;
has_exaltedwildshape=false;
has_holysubdual=false;
has_rangedsmiteevil=false;
has_righteouswrath=false;
has_sacredstrike=false;
has_consecratespell=false;
has_nonlethalsubstitution=false;
has_purifyspell=false;
has_improvedelementalwildshape=false;
has_lastinginspiration=false;
has_planarturning=false;
has_terrifyingrage=false;
has_brachiation=false;
has_dangersense=false;
has_heartheunseen=false;
has_improvedswimming=false;
has_quickreconnoiter=false;
has_dragonfriend=false;
has_dragonsong=false;
has_dragonthrall=false;
has_frightfulpresence=false;
has_senseweakness=false;
}

function quickslowmodifier() {
 if (has_frail==true) { return 1; }
 if (document.form1.quick_trait.checked==true) { return 1; }
 if (document.form1.slow_trait.checked==true) { return -1; }
 if (document.form1.improvedtoughness.checked==true) { return -1; }
 return 0;
 }

function modifyforquickslowtrait() {
 if (document.form1.slow_trait.checked==true) { x++; return; }
 if (document.form1.improvedtoughness.checked==true) { x++; return; }
 if ((document.form1.quick_trait.checked==true) || (has_frail==true)) { x--; if (x<0) { x=0; }}
  else {if (x<1) { x=1; }}
 }

function CalculateHitPoints() {
 if ((vampire_template==true) || (lich_template==true) || (mummy_template==true) || (spectral_template==true) || (umbral_template==true) || (wight_template==true) || (wraith_template==true) || (ghost_template==true) || (deathknight_template==true) || (deathless_template==true)) {constitution=10; }
 x=newHP01+modifier_number(constitution);
 modifyforquickslowtrait(); if (x<1) { x=1; }
 total_hit_points=x;
 if (total_levels>=2) { x=newHP02+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=3) { x=newHP03+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=4) { x=newHP04+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=5) { x=newHP05+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=6) { x=newHP06+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=7) { x=newHP07+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=8) { x=newHP08+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=9) { x=newHP09+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=10) { x=newHP10+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=11) { x=newHP11+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=12) { x=newHP12+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=13) { x=newHP13+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=14) { x=newHP14+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=15) { x=newHP15+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=16) { x=newHP16+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=17) { x=newHP17+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=18) { x=newHP18+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=19) { x=newHP19+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (total_levels>=20) { x=newHP20+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=1) { x=newHP21+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=2) { x=newHP22+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=3) { x=newHP23+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=4) { x=newHP24+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=5) { x=newHP25+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=6) { x=newHP26+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=7) { x=newHP27+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=8) { x=newHP28+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=9) { x=newHP29+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=10) { x=newHP30+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=11) { x=newHP31+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=12) { x=newHP32+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=13) { x=newHP33+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=14) { x=newHP34+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=15) { x=newHP35+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=16) { x=newHP36+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=17) { x=newHP37+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=18) { x=newHP38+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=19) { x=newHP39+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=20) { x=newHP40+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=21) { x=newHP41+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=22) { x=newHP42+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=23) { x=newHP43+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=24) { x=newHP44+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=25) { x=newHP45+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=26) { x=newHP46+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=27) { x=newHP47+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=28) { x=newHP48+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=29) { x=newHP49+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=30) { x=newHP50+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=31) { x=newHP51+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=32) { x=newHP52+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=33) { x=newHP53+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=34) { x=newHP54+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=35) { x=newHP55+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=36) { x=newHP56+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=37) { x=newHP57+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=38) { x=newHP58+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=39) { x=newHP59+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=40) { x=newHP60+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=41) { x=newHP61+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=42) { x=newHP62+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=43) { x=newHP63+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=44) { x=newHP64+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=45) { x=newHP65+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=46) { x=newHP66+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=47) { x=newHP67+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=48) { x=newHP68+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=49) { x=newHP69+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=50) { x=newHP70+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=51) { x=newHP71+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=52) { x=newHP72+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=53) { x=newHP73+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=54) { x=newHP74+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=55) { x=newHP75+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=56) { x=newHP76+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=57) { x=newHP77+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=58) { x=newHP78+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=59) { x=newHP79+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=60) { x=newHP80+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=61) { x=newHP81+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=62) { x=newHP82+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=63) { x=newHP83+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=64) { x=newHP84+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=65) { x=newHP85+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=66) { x=newHP86+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=67) { x=newHP87+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=68) { x=newHP88+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=69) { x=newHP89+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=70) { x=newHP90+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=71) { x=newHP91+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=72) { x=newHP92+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=73) { x=newHP93+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=74) { x=newHP94+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=75) { x=newHP95+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=76) { x=newHP96+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=77) { x=newHP97+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=78) { x=newHP98+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=79) { x=newHP99+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (epic_total_levels>=80) { x=newHP100+modifier_number(constitution); modifyforquickslowtrait(); total_hit_points+=x; }
 if (has_toughness>0) {total_hit_points+=3*has_toughness; }
 if (barbarian_totem==2) {total_hit_points+=3; }
 if (monk_totem==8) {total_hit_points+=3; }
 if (toad_familiar==true) {total_hit_points+=3; }
 if (has_psionicbody==true) {total_hit_points+=2*total_psion_feats; }
 CalculateLycanthropeHitPoints();
 }

function CalculateLycanthropeHitPoints() {
 if (werebear_template==true)
  {
   lycanthrope_hit_points=6+Math.floor(8*Math.random())+Math.floor(8*Math.random())+Math.floor(8*Math.random())+Math.floor(8*Math.random())+Math.floor(8*Math.random())+Math.floor(8*Math.random())+6*modifier_number(constitution+8);
  }
 if (wereboar_template==true)
  {
   lycanthrope_hit_points=3+Math.floor(8*Math.random())+Math.floor(8*Math.random())+Math.floor(8*Math.random())+3*modifier_number(constitution+6);
  }
 if (wererat_template==true)
  {
   lycanthrope_hit_points=1+Math.floor(8*Math.random())+1*modifier_number(constitution+2);
  }
 if (weretiger_template==true)
  {
   lycanthrope_hit_points=6+Math.floor(8*Math.random())+Math.floor(8*Math.random())+Math.floor(8*Math.random())+Math.floor(8*Math.random())+Math.floor(8*Math.random())+Math.floor(8*Math.random())+6*modifier_number(constitution+6);
  }
 if (werewolf_template==true)
  {
   lycanthrope_hit_points=2+Math.floor(8*Math.random())+Math.floor(8*Math.random())+2*modifier_number(constitution+4);
  }
 }

function CalculateArmorClass() {
  has_uncanny_dodge=false;
  if (((barbarian_levels + epic_barbarian_levels>1) && (barbarian_totem!=1) && (barbarian_totem!=2) && (barbarian_totem!=3) && (barbarian_totem!=4) && (barbarian_totem!=6) && (barbarian_totem!=8) && (barbarian_totem!=9) && (barbarian_totem!=10)) || (rogue_levels + epic_rogue_levels>3)) { has_uncanny_dodge=true; }
  total_armor_class=10;
  touch_armor_class=10;
  flatfooted_armor_class=10;
  armor_class_string="";
  armor_string="";
  damage_reduction_string="";
  shield_string="";
  dexterity_bonus_in_this_armor=modifier_number(dexterity)
  unarmored=true;
  if (document.form1.armor_radio[1].checked==true)
   {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string=" +1 [padded] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      armor_class_string=" +1 [padded] "
      damage_reduction_string="Damage Reduction 0/- [padded]";
     }
    if (dexterity_bonus_in_this_armor>8) {dexterity_bonus_in_this_armor=8; }
    armor_string="Padded armor [light; +1 AC; max dex +8; check penalty 0; "
    if ((small==false) && (large==false)) {armor_string+=" 10 lb."; wt+=10; }
    if (small==true) {armor_string+=" 5 lb."; wt+=5; }
    if (large==true) {armor_string+=" 20 lb."; wt+=20; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 5%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[2].checked==true)
   {
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=1;
      flatfooted_armor_class+=1;
      armor_class_string=" +1 [leather] ";
      damage_reduction_string="Damage Reduction 1/- [leather]";
     }
    else
     {
      total_armor_class+=2;
      flatfooted_armor_class+=2;
      armor_class_string=" +2 [leather] "
     }
    if (dexterity_bonus_in_this_armor>6) { dexterity_bonus_in_this_armor=6; }
    armor_string="Leather armor [light; +2 AC; max dex +6; check penalty 0; ";
    if ((small==false) && (large==false)) {
    	armor_string+=" 15 lb."; 
    	wt+=15; }
    if (small==true) {
    	armor_string+=" 7.5 lb."; 
    	wt+=7.5; }
    if (large==true) {
    	armor_string+=" 30 lb."; 
    	wt+=30; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 10%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[3].checked==true)
   {
	check_penalty+=1;
	check_penalty_string=" -1 [studded] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=2;
      flatfooted_armor_class+=2;
      armor_class_string=" +2 [studded] ";
      damage_reduction_string="Damage Reduction 1/- [studded]"
     }
    else
     {
       total_armor_class+=3;
       flatfooted_armor_class+=3;
       armor_class_string=" +3 [studded] ";
     }
    if (dexterity_bonus_in_this_armor>5) {dexterity_bonus_in_this_armor=5; }
    armor_string="Studded armor [light; +3 AC; max dex +5; check penalty -1; ";
    if ((small==false) && (large==false)) {
    	armor_string+=" 20 lb."; 
    	wt+=20; }
    if (small==true) {
    	armor_string+=" 10 lb."; 
    	wt+=10; }
    if (large==true) {
    	armor_string+=" 40 lb."; 
    	wt+=40; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 15%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[4].checked==true)
   {
	check_penalty+=2;
	check_penalty_string=" -2 [chain shirt] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=2;
      flatfooted_armor_class+=2;
      armor_class_string=" +2 [chain shirt] ";
      damage_reduction_string="Damage Reduction 2/- [chain shirt]"
     }
    else
     {
       total_armor_class+=4;
       flatfooted_armor_class+=4;
       armor_class_string=" +4 [chain shirt] ";
     }
    if (dexterity_bonus_in_this_armor>4) {dexterity_bonus_in_this_armor=4; }
    armor_string="Chain shirt [light; +4 AC; max dex +4; check penalty -2; ";
    if ((small==false) && (large==false)) {armor_string+=" 25 lb."; wt+=25; }
    if (small==true) {armor_string+=" 12.5 lb."; wt+=12.5; }
    if (large==true) {armor_string+=" 50 lb."; wt+=50; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 20%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[5].checked==true)
   {
	check_penalty+=3;
	check_penalty_string=" -3 [hide] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=2;
      flatfooted_armor_class+=2;
      armor_class_string=" +2 [hide] ";
      damage_reduction_string="Damage Reduction 1/- [hide]";
     }
    else
     {
      total_armor_class+=3;
      flatfooted_armor_class+=3;
      armor_class_string=" +3 [hide] "
     }
    if (dexterity_bonus_in_this_armor>4) {dexterity_bonus_in_this_armor=4; }
    armor_string="Hide armor [medium; +3 AC; max dex +4; check penalty -3; ";
    if ((small==false) && (large==false)) {armor_string+=" 25 lb."; wt+=25; }
    if (small==true) {armor_string+=" 12.5 lb."; wt+=12.5; }
    if (large==true) {armor_string+=" 50 lb."; wt+=50; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 20%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[6].checked==true)
   {
	check_penalty+=4;
	check_penalty_string=" -4 [scale] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=2;
      flatfooted_armor_class+=2;
      armor_class_string=" +2 [scale] ";
      damage_reduction_string="Damage Reduction 2/- [scale]";
     }
    else
     {
      total_armor_class+=4;
      flatfooted_armor_class+=4;
      armor_class_string=" +4 [scale] ";
     }
    if (dexterity_bonus_in_this_armor>3) {dexterity_bonus_in_this_armor=3; }
    armor_string="Scale mail [medium; +4 AC; max dex +3; check penalty -4; ";
    if ((small==false) && (large==false)) {
    	armor_string+=" 30 lb."; 
    	wt+=30; }
    if (small==true) {
    	armor_string+=" 15 lb."; 
    	wt+=15; }
    if (large==true) {
    	armor_string+=" 60 lb."; 
    	wt+=60; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 25%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[7].checked==true)
   {
	check_penalty+=5;
	check_penalty_string=" -5 [chainmail] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=3;
      flatfooted_armor_class+=3;
      armor_class_string=" +3 [chainmail] ";
      damage_reduction_string="Damage Reduction 2/- [chainmail]";
     }
    else
     {
      total_armor_class+=5;
      flatfooted_armor_class+=5;
      armor_class_string=" +5 [chainmail] ";
     }
    if (dexterity_bonus_in_this_armor>2) {dexterity_bonus_in_this_armor=2; }
    armor_string="Chain mail [medium; +5 AC; max dex +2; check penalty -5; ";
    if ((small==false) && (large==false)) {armor_string+=" 40 lb."; wt+=40; }
    if (small==true) {armor_string+=" 20 lb."; wt+=20; }
    if (large==true) {armor_string+=" 80 lb."; wt+=80; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 30%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[8].checked==true) {
	check_penalty+=4;
	check_penalty_string=" -4 [breastplate] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=3;
      flatfooted_armor_class+=3;
      armor_class_string=" +3 [breastplate] ";
      damage_reduction_string="Damage Reduction 2/- [breastplate]";
     }
    else
     {
      total_armor_class+=5;
      flatfooted_armor_class+=5;
      armor_class_string=" +5 [breastplate] ";
     }
    if (dexterity_bonus_in_this_armor>3) {dexterity_bonus_in_this_armor=3; }
    armor_string="Breast plate [medium; +5 AC; max dex +3; check penalty -4; "
    if ((small==false) && (large==false)) {armor_string+=" 30 lb."; wt+=30; }
    if (small==true) {armor_string+=" 15 lb."; wt+=15; }
    if (large==true) {armor_string+=" 60 lb."; wt+=60; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 25%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[9].checked==true)
   {
	check_penalty+=7;
	check_penalty_string=" -7 [splint] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=3;
      flatfooted_armor_class+=3;
      armor_class_string=" +3 [splint] ";
      damage_reduction_string="Damage Reduction 3/- [splint]";
     }
    else
     {
      total_armor_class+=6;
      flatfooted_armor_class+=6;
      armor_class_string=" +6 [splint] ";
     }
    if (dexterity_bonus_in_this_armor>0) {dexterity_bonus_in_this_armor=0; }
    armor_string="Splint mail [heavy; +6 AC; max dex +0; check penalty -7; ";
    if ((small==false) && (large==false)) {
    	armor_string+=" 45 lb."; 
    	wt+=45; }
    if (small==true) {
    	armor_string+=" 22.5 lb."; 
    	wt+=22.5; }
    if (large==true) {
    	armor_string+=" 90 lb."; 
    	wt+=90; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 40%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[10].checked==true)
   {
	check_penalty+=6;
	check_penalty_string=" -6 [banded] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=3;
      flatfooted_armor_class+=3;
      armor_class_string=" +3 [banded] ";
      damage_reduction_string="Damage Reduction 3/- [banded]";
     }
    else
     {
      total_armor_class+=6;
      flatfooted_armor_class+=6;
      armor_class_string=" +6 [banded] ";
     }
    if (dexterity_bonus_in_this_armor>1) {dexterity_bonus_in_this_armor=1; }
    armor_string="Banded mail [heavy; +6 AC; max dex +1; check penalty -6; ";
    if ((small==false) && (large==false)) {armor_string+=" 35 lb."; wt+=35; }
    if (small==true) {armor_string+=" 17.5 lb."; wt+=17.5; }
    if (large==true) {armor_string+=" 70 lb."; wt+=70; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 35%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[11].checked==true)
   {
	check_penalty+=7;
	check_penalty_string=" -7 [half-plate] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=4;
      flatfooted_armor_class+=4;
      armor_class_string=" +4 [half-plate] ";
      damage_reduction_string="Damage Reduction 3/- [half-plate]";
     }
    else
     {
      total_armor_class+=7;
      flatfooted_armor_class+=7;
      armor_class_string=" +7 [half-plate] ";
     }
    if (dexterity_bonus_in_this_armor>0) {dexterity_bonus_in_this_armor=0; }
    armor_string="Half-plate armor [heavy; +7 AC; max dex +0; check penalty -7; ";
    if ((small==false) && (large==false)) {armor_string+=" 50 lb."; wt+=50; }
    if (small==true) {armor_string+=" 25 lb."; wt+=25; }
    if (large==true) {armor_string+=" 100 lb."; wt+=100; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 40%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.armor_radio[12].checked==true)
   {
	check_penalty+=6;
	check_penalty_string=" -6 [full plate] ";
    if (document.form1.armorasdamagereduction_option.checked==true)
     {
      total_armor_class+=4;
      flatfooted_armor_class+=4;
      armor_class_string=" +4 [full plate] ";
      damage_reduction_string="Damage Reduction 4/- [full plate]";
     }
    else
     {
      total_armor_class+=8;
      flatfooted_armor_class+=8;
      armor_class_string=" +8 [full plate] ";
     }
    if (dexterity_bonus_in_this_armor>1) {dexterity_bonus_in_this_armor=1; }
    armor_string="Full plate armor [heavy; +8 AC; max dex +1; check penalty -6; ";
    if ((small==false) && (large==false)) {armor_string+=" 50 lb."; wt+=50; }
    if (small==true) {armor_string+=" 25 lb."; wt+=25; }
    if (large==true) {armor_string+=" 100 lb."; wt+=100; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 35%"; }
    armor_string+="] ";
    unarmored=false;
   }
  if (document.form1.shield_radio[1].checked==true) {
	check_penalty+=1;
	check_penalty_string+=" -1 [buckler] ";
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [buckler] ";
    shield_string="Buckler [+1 AC; check penalty -1; hardness 10; hp 5; ";
    if ((small==false) && (large==false)) {shield_string+=" 5 lb."; wt+=5; }
    if (small==true) {shield_string+=" 2.5 lb."; wt+=2.5; }
    if (large==true) {shield_string+=" 10 lb."; wt+=10; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 5%"; }
    shield_string+="] ";
    unarmored=false;
   }
  if (document.form1.shield_radio[2].checked==true) {
	check_penalty+=1;
	check_penalty_string+=" -1 [lt. wooden shield] ";
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [light wooden] ";
    shield_string="Light Wooden Shield [+1 AC; check penalty -1; hardness 5; hp 7; ";
    if ((small==false) && (large==false)) {shield_string+=" 5 lb."; wt+=5; }
    if (small==true) {shield_string+=" 2.5 lb."; wt+=2.5; }
    if (large==true) {shield_string+=" 10 lb."; wt+=10; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 5%"; }
    shield_string+="] ";
    unarmored=false;
   }
  if (document.form1.shield_radio[3].checked==true) {
	check_penalty+=1;
	check_penalty_string+=" -1 [lt. steel shield] ";
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [lt. steel shield] ";
    shield_string="Light Steel Shield [+1 AC; check penalty -1; hardness 10; hp 10; ";
    if ((small==false) && (large==false)) {shield_string+=" 6 lb."; wt+=6; }
    if (small==true) {shield_string+=" 3 lb."; wt+=3; }
    if (large==true) {shield_string+=" 12 lb."; wt+=12; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 5%"; }
    shield_string+="] ";
    unarmored=false;
   }
  if (document.form1.shield_radio[4].checked==true) {
	check_penalty+=1;
	check_penalty_string+=" -1 [hvy. wooden shield] ";
    total_armor_class+=2;
    flatfooted_armor_class+=2;
    armor_class_string+=" +2 [heavy wooden] ";
    shield_string="Heavy Wooden Shield [+2 AC; check penalty -1; hardness 5; hp 15; ";
    if ((small==false) && (large==false)) {shield_string+=" 10 lb."; wt+=10; }
    if (small==true) {shield_string+=" 5 lb."; wt+=5; }
    if (large==true) {shield_string+=" 20 lb."; wt+=20; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 15%"; }
    shield_string+="] ";
    unarmored=false;
   }
  if (document.form1.shield_radio[5].checked==true) {
	check_penalty+=1;
	check_penalty_string+=" -1 [hvy. steel shield] ";
    total_armor_class+=2;
    flatfooted_armor_class+=2;
    armor_class_string+=" +2 [heavy steel] ";
    shield_string="Heavy Steel Shield [+2 AC; check penalty -1; hardness 10; hp 20; ";
    if ((small==false) && (large==false)) {shield_string+=" 15 lb."; wt+=15; }
    if (small==true) {shield_string+=" 7.5 lb."; wt+=7.5; }
    if (large==true) {shield_string+=" 30 lb."; wt+=30; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 15%"; }
    shield_string+="] ";
    unarmored=false;
   }
  if (document.form1.shield_radio[6].checked==true) {
	check_penalty+=10;
	check_penalty_string+=" -10 [tower shield] ";
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [tower shield] ";
    if (dexterity_bonus_in_this_armor>2) {dexterity_bonus_in_this_armor=2; }
    shield_string="Tower Shield [+4 AC; max dex=+2; check penalty -10; hardness 5; hp 20; ";
    if ((small==false) && (large==false)) {shield_string+=" 45 lb."; wt+=45; }
    if (small==true) {shield_string+=" 22.5 lb."; wt+=22.5; }
    if (large==true) {shield_string+=" 90 lb."; wt+=90; }
    if ((sorcerer_levels + epic_sorcerer_levels>0) || (bard_levels + epic_bard_levels>0) || (wizard_levels + epic_wizard_levels>0))
     {armor_string+="; arcane spell failure 50%"; }
    shield_string+="] ";
    unarmored=false;
   }
  total_armor_class+=dexterity_bonus_in_this_armor;
  touch_armor_class+=dexterity_bonus_in_this_armor;
  z=monk_levels + epic_monk_levels;
  if (npcother_class_name=="Ninja") {z+=npcother_levels + epic_npcother_levels; }
  if ((z>0) && (wisdom>11) && (unarmored==true))
   {
    total_armor_class+=modifier_number(wisdom);
    touch_armor_class+=modifier_number(wisdom);
    flatfooted_armor_class+=modifier_number(wisdom);
   }
  if (z>=5)
   {
    total_armor_class+=1;
    touch_armor_class+=1;
    flatfooted_armor_class+=1;
   }
  if (z>=10)
   {
    total_armor_class+=1;
    touch_armor_class+=1;
    flatfooted_armor_class+=1;
   }
  if (z>=15)
   {
    total_armor_class+=1;
    touch_armor_class+=1;
    flatfooted_armor_class+=1;
   }
  if (z>=20)
   {
    total_armor_class+=1;
    touch_armor_class+=1;
    flatfooted_armor_class+=1;
   }
  dexterity_A_string=modifier_number(dexterity)+" [dexterity] ";
  dexterity_0_string=modifier_number(dexterity)+" [dexterity] ";
  wisdom_0_string=modifier_number(wisdom)+" [wisdom] ";
  if (dexterity_bonus_in_this_armor<modifier_number(dexterity))
   {dexterity_A_string=dexterity_bonus_in_this_armor+" [dexterity in armor] "; }
  if ((dexterity_bonus_in_this_armor>0) && (has_uncanny_dodge==true)) {flatfooted_armor_class+=dexterity_bonus_in_this_armor; }
  if ((dexterity_bonus_in_this_armor<0)) {flatfooted_armor_class+=dexterity_bonus_in_this_armor; }
  if (dexterity_bonus_in_this_armor>0) {armor_class_string+=" +" + dexterity_A_string}
  if (dexterity_bonus_in_this_armor<0) {armor_class_string+=" " + dexterity_A_string}
  if ( ((monk_levels + epic_monk_levels > 0) && (wisdom > 11) && (unarmored==true)) || ((npcother_class_name=="Ninja") && (wisdom > 11) && (unarmored==true)) )
   {
    armor_class_string+=modifier_string(wisdom)+" [wisdom] "
   }
  if ((monk_levels + epic_monk_levels>=5) && (unarmored==true)) {
     if (monk_levels + epic_monk_levels>=20) {armor_class_string+=" +4 [monk level] "; } else
     if (monk_levels + epic_monk_levels>=15) {armor_class_string+=" +3 [monk level] "; } else
     if (monk_levels + epic_monk_levels>=10) {armor_class_string+=" +2 [monk level] "; } else
     if (monk_levels + epic_monk_levels>=5) {armor_class_string+=" +1 [monk level] "; }
   }
  if (small==true) {
    total_armor_class+=1;
    touch_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [small] ";
   }
  if (large==true) {
    total_armor_class-=1;
    touch_armor_class-=1;
    flatfooted_armor_class-=1;
    armor_class_string+=" -1 [large] ";
   }
  if (has_vulnerable==true) {
    total_armor_class-=1;
    touch_armor_class-=1;
    flatfooted_armor_class-=1;
    armor_class_string+=" -1 [vulnerable] ";
   }
  if (document.form1.aggressive_trait.checked==true) {
    total_armor_class-=1;
    touch_armor_class-=1;
    flatfooted_armor_class-=1;
    armor_class_string+=" -1 [aggressive] ";
   }
//racialstuff
  if (rayce==16) {
    total_armor_class+=4;
    touch_armor_class+=4;
    armor_class_string+=" +4 [deep gnome dodge] ";
   }
  if (rayce==20) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [lizardfolk] ";
   }
  if (rayce==27) {
    total_armor_class+=6;
    flatfooted_armor_class+=6;
    armor_class_string+=" +6 [troglodyte] ";
   }
  if (rayce==172) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [sharakim] ";
   }
  if (mummy_template==true) {
    total_armor_class+=8;
    flatfooted_armor_class+=8;
    armor_class_string+=" +8 [mummy] ";
   }
   else
  if ((lich_template==true) && (rayce!=27)) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [lich] ";
   }
   else
  if ((wight_template==true) && (rayce!=27)) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [wight] ";
   }
   else
  if ((deathknight_template==true) && (rayce!=27)) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [death knight] ";
   }
   else
  if (wraith_template==true) {
    x=modifier_number(charisma);
    if (x<1) { x=1; }
    total_armor_class+=x;
    flatfooted_armor_class+=x;
    armor_class_string+=" +"+x+" [wraith charisma] ";
   }
   else
  if (spectral_template==true) {
    x=modifier_number(charisma);
    if (x<1) { x=1; }
    total_armor_class+=x;
    flatfooted_armor_class+=x;
    armor_class_string+=" +"+x+" [spectral charisma] ";
   }
  if (umbral_template==true) {
    x=modifier_number(charisma);
    if (x<1) { x=1; }
    total_armor_class+=x;
    flatfooted_armor_class+=x;
    armor_class_string+=" +"+x+" [umbral charisma] ";
   }
   else
  {
  if (rayce==34) {
    total_armor_class+=3;
    flatfooted_armor_class+=3;
    armor_class_string+=" +3 [thri-kreen] ";
   }
  if (rayce==80) {
    total_armor_class+=2;
    flatfooted_armor_class+=2;
    armor_class_string+=" +2 [armor plating] ";
   }
  if (rayce==23) {
    total_armor_class+=3;
    flatfooted_armor_class+=3;
    armor_class_string+=" +3 [bugbear] ";
   }
  if (rayce==86) {
    total_armor_class+=2;
    flatfooted_armor_class+=2;
    armor_class_string+=" +2 [baaz] ";
   }
  if (rayce==87) {
    total_armor_class+=2;
    flatfooted_armor_class+=2;
    armor_class_string+=" +2 [kapak] ";
   }
  if (rayce==88) {
    total_armor_class+=6;
    flatfooted_armor_class+=6;
    armor_class_string+=" +6 [aurak] ";
   }
  if (rayce==89) {
    total_armor_class+=8;
    flatfooted_armor_class+=8;
    armor_class_string+=" +8 [bozak] ";
   }
  if (rayce==90) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [sivak] ";
   }
  if ((rayce==82) || (halfdragon_template==true)) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [half-dragon] ";
   }
  if (halfair_template==true) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [half-air elemental] ";
   }
  if (halffire_template==true) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [half-fire elemental] ";
   }
  if (halfearth_template==true) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [half-earth elemental] ";
   }
  if (halfwater_template==true) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [half-water elemental] ";
   }
  if (halfcelestial_template==true) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [half-celestial] ";
   }
  if (halffiend_template==true) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [half-fiend] ";
   }
  if ((rayce==25) || (rayce==72) || (rayce==63) || (rayce==54) || (rayce==45)) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [kobold] ";
   }
  if (rayce==121) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [bladeback] ";
   }
  if (rayce==122) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [finhead] ";
   }
  if (rayce==123) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [flyer] ";
   }
  if (rayce==124) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [hornhead] ";
   }
  if (rayce==24) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [gnoll] ";
   }
  if (rayce==152) {
    total_armor_class+=9;
    flatfooted_armor_class+=9;
    armor_class_string+=" +1 [rakshasa] ";
   }
  if (rayce==178) {
    total_armor_class+=15;
    flatfooted_armor_class+=15;
    armor_class_string+=" +15 [astral deva] ";
   }
  if (rayce==163) {
    total_armor_class+=2;
    flatfooted_armor_class+=2;
    armor_class_string+=" +1 [deep orc] ";
   }
  if (vampire_template==true)
   {
    total_armor_class+=6;
    flatfooted_armor_class+=6;
    armor_class_string+=" +6 [vampire] ";
   }
  if (ghost_template==true) {
    x=1;
    if (x<modifier_number(charisma)) { x=modifier_number(charisma); }
    total_armor_class+=x;
    flatfooted_armor_class+=x;
    armor_class_string+=" +"+x+" [ghost deflection bonus] ";
   }
  if (saint_template==true)
   {
    x=0;
    if (x<modifier_number(wisdom)) { x=modifier_number(wisdom); }
    total_armor_class+=x;
    flatfooted_armor_class+=x;
    if (x>0) {armor_class_string+=" +"+x+" [saintly wisdom] "; }
   }
  if (rayce==141) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [doppelganger] ";
   }
  if (rayce==142) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [gargoyle] ";
   }
  if (rayce==143) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [grimlock] ";
   }
  if (rayce==144) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +4 [yuanti pureblood] ";
   }
  if (rayce==145) {
    total_armor_class+=3;
    flatfooted_armor_class+=3;
    armor_class_string+=" +3 [mind flayer] ";
   }
  if (rayce==146) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [ogre mage] ";
   }
  if (rayce==147) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [troll] ";
   }
  if (rayce==153) {
    total_armor_class+=9;
    flatfooted_armor_class+=9;
    armor_class_string+=" +9 [hound archon] ";
   }
  if (rayce==154) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [jann] ";
   }
  if (rayce==148) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [pixie] ";
   }
  if (rayce==149) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [satyr] ";
   }
  if (rayce==117) {
    total_armor_class+=2;
    flatfooted_armor_class+=2;
    armor_class_string+=" +2 [neraph] ";
   }
  if (rayce==131) {
    total_armor_class+=2;
    flatfooted_armor_class+=2;
    armor_class_string+=" +2 [feral gargun] ";
   }
  if (rayce==119) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [spiker] ";
   }
  if (rayce==101) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [aarakocra] ";
   }
  if (rayce==106) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [pterran] ";
   }
  if (rayce==107) {
    total_armor_class+=3;
    flatfooted_armor_class+=3;
    armor_class_string+=" +3 [locathah] ";
   }
  if (rayce==108) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [sahuagin] ";
   }
  if (rayce==99) {
    total_armor_class+=3;
    flatfooted_armor_class+=3;
    armor_class_string+=" +3 [dromite] ";
   }
  if (rayce==74) {
    total_armor_class+=3;
    flatfooted_armor_class+=3;
    armor_class_string+=" +3 [centaur] ";
   }
  if (rayce==168) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [alaghi] ";
   }
  if (rayce==169) {
    total_armor_class+=6;
    flatfooted_armor_class+=6;
    armor_class_string+=" +6 [kuo-toa] ";
   }
  if (rayce==167) {
    total_armor_class+=2;
    flatfooted_armor_class+=2;
    armor_class_string+=" +2 [hybsil] ";
   }
  if (rayce==166) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [wemic] ";
   }
  if (rayce==132) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [stonechild] ";
   }
  if (rayce==75) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [ogre] ";
   }
  if (rayce==177) {
    total_armor_class+=4;
    flatfooted_armor_class+=4;
    armor_class_string+=" +4 [loxo] ";
   }
  if (rayce==176) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [desmodu] ";
   }
  if (rayce==76) {
    total_armor_class+=1;
    flatfooted_armor_class+=1;
    armor_class_string+=" +1 [half-ogre] ";
   }
  if (rayce==77) {
    total_armor_class+=5;
    flatfooted_armor_class+=5;
    armor_class_string+=" +5 [minotaur] ";
   }
   }
  x=30
  
//racialstuff
twenty_foot_mover_dwarf=false;
twenty_foot_mover_nondwarf=false;

//dwarves
  if ((rayce==4) || (rayce==162)  || (rayce==14) || (rayce==15) || (rayce==38) || (rayce==47) || (rayce==56) || (rayce==65) || (rayce==91) || (rayce==130) || (rayce==155) || (rayce==156) || (rayce==157) || (rayce==92) || (rayce==120)) { x=20; twenty_foot_mover_dwarf=true; }
//gnomes halflings and humanoids
  if (
      (rayce==5) || (rayce==98) || (rayce==6) || (rayce==123) || (rayce==16) || (rayce==17) || (rayce==18) || (rayce==19) || (rayce==25) || (rayce==37) || (rayce==39) || (rayce==43) || (rayce==49) || (rayce==45) || (rayce==53) || (rayce==54) || (rayce==58)
 || (rayce==62) || (rayce==63) || (rayce==67) || (rayce==71) || (rayce==72) || (rayce==81) || (rayce==92) || (rayce==134) || (rayce==140) || (rayce==99) || (rayce==129) || (rayce==165)
      ) { 
      	x=20; 
      	twenty_foot_mover_nondwarf=true; 
      	}
      	
// centaurs and bariaurs and gray orcs and so forth
  if ((rayce==74) || (rayce==167)) { x=50; }
  if (rayce==78) { x=40; }
  if (rayce==166) { x=40; }
  if (rayce==152) { x=40; }
  if (rayce==178) { x=50; }
  if (rayce==153) { x=40; }
  if (rayce==118) { x=40; }
  if (rayce==127) { x=40; }
  if (rayce==135) { x=40; }
  if (rayce==142) { x=40; }
  if (rayce==146) { x=40; }
  if (rayce==149) { x=40; }

  if ((document.form1.armor_radio[5].checked==true) || 
     (document.form1.armor_radio[6].checked==true) || 
     (document.form1.armor_radio[7].checked==true) || 
     (document.form1.armor_radio[8].checked==true) || 
     (document.form1.armor_radio[9].checked==true) || 
     (document.form1.armor_radio[10].checked==true) || 
     (document.form1.armor_radio[11].checked==true) || 
     (document.form1.armor_radio[12].checked==true))
     {
     	
//racialstuff  slowed by armor
     if ((x<=30) && (twenty_foot_mover_dwarf=false))
      {
       if (twenty_foot_mover_nondwarf==true) { x=15; }
         else { x=20; }
      }
     }
   speed_string="";

   if (npcother_class_name=="Scout")
   {
    if (npcother_levels + epic_npcother_levels >=11)
     { x=x+20; speed_string+=" [scout] "; } else
    if (npcother_levels + epic_npcother_levels >=3)
     { x=x+20; speed_string+=" [scout] "; };
   }

   if ((barbarian_levels + epic_barbarian_levels>0) &&
     (barbarian_totem!=1) &&
     (barbarian_totem!=2) &&
     (barbarian_totem!=3) &&
     (barbarian_totem!=4) &&
     (barbarian_totem!=5) &&
     (barbarian_totem!=8) &&
     (barbarian_totem!=9) &&
     (document.form1.armor_radio[9].checked==false) &&
     (document.form1.armor_radio[10].checked==false) &&
     (document.form1.armor_radio[11].checked==false) &&
     (document.form1.armor_radio[12].checked==false))
      { x=x+10; speed_string+=" [barbarian] "; }

   else
   if ((ranger_levels + epic_ranger_levels>0) && (ranger_totem==3) &&
     (document.form1.armor_radio[9].checked==false) &&
     (document.form1.armor_radio[10].checked==false) &&
     (document.form1.armor_radio[11].checked==false) &&
     (document.form1.armor_radio[12].checked==false))
      { x=x+10; speed_string+=" [wildshaping ranger] "; }
   else
   if ((druid_levels + epic_druid_levels>0) && (druid_totem==1) &&
     (document.form1.armor_radio[9].checked==false) &&
     (document.form1.armor_radio[10].checked==false) &&
     (document.form1.armor_radio[11].checked==false) &&
     (document.form1.armor_radio[12].checked==false))
      { x=x+10; speed_string+=" [druidic avenger] "; };


   if (document.form1.quick_trait.checked==true)
    {
      speed_string+=" [quick] ";
      x=x+10;
    }
   if ((monk_levels + epic_monk_levels>2) &&
     (document.form1.armor_radio[1].checked==false) &&
     (document.form1.armor_radio[2].checked==false) &&
     (document.form1.armor_radio[3].checked==false) &&
     (document.form1.armor_radio[4].checked==false) &&
     (document.form1.armor_radio[5].checked==false) &&
     (document.form1.armor_radio[6].checked==false) &&
     (document.form1.armor_radio[7].checked==false) &&
     (document.form1.armor_radio[8].checked==false) &&
     (document.form1.armor_radio[9].checked==false) &&
     (document.form1.armor_radio[10].checked==false) &&
     (document.form1.armor_radio[11].checked==false) &&
     (document.form1.armor_radio[12].checked==false))
      {
       speed_string+=" [monk] ";
       x=x+10;
       if (monk_levels + epic_monk_levels>5) { x=x+10; }
       if (monk_levels + epic_monk_levels>8) { x=x+10; }
       if (monk_levels + epic_monk_levels>11) { x=x+10; }
       if (monk_levels + epic_monk_levels>14) { x=x+10; }
       if (monk_levels + epic_monk_levels>17) { x=x+10; }
      }

// LAST IS ABOVE HERE
   if ((document.form1.slow_trait.checked==true) || (has_slowpoke==true))
    {
      if (document.form1.slow_trait.checked==true) {speed_string+=" [slow trait] "; }
      if (has_slowpoke==true) {speed_string+=" [slowpoke flaw] "; }
      switch (x) {
       case 5:{ x=3; break; }
       case 10:{ x=5; break; }
       case 15:{ x=8; break; }
       case 20:{ x=10; break; }
       case 25:{ x=13; break; }
       case 30:{ x=15; break; }
       case 35:{ x=18; break; }
       case 40:{ x=20; break; }
       case 45:{ x=23; break; }
       case 50:{ x=25; break; }
       case 55:{ x=28; break; }
       case 60:{ x=30; break; }
       case 65:{ x=33; break; }
       case 70:{ x=35; break; }
       case 75:{ x=38; break; }
       case 80:{ x=40; break; }
       case 85:{ x=43; break; }
       case 90:{ x=45; break; }
       case 95:{ x=48; break; }
       case 100:{ x=50; break; }
       case 105:{ x=53; break; }
       case 110:{ x=55; break; }
       }
    }


   speed_string=x+" feet"+speed_string;
   final_speed=x;

  initiative_modifier=modifier_number(dexterity);

  initiative_string_1="";
  initiative_string_2="";
  if (modifier_number(dexterity)>=0) {initiative_string_2="+" + dexterity_0_string}
  if (modifier_number(dexterity)<0) {initiative_string_2=dexterity_0_string}
  if ((has_improvedinitiative==true) || ((monk_totem==7) && (monk_levels + epic_monk_levels>=2)) || ((barbarian_levels + epic_barbarian_levels>=5) && (barbarian_totem==9)))
   {
    initiative_modifier+=4;
    initiative_string_2+=" +4 [improved initiative] "
   }

  if (npcother_class_name=="Scout")
  {
   if (npcother_levels+epic_npcother_levels>=20)
    {
      initiative_modifier+=3;
      initiative_string_2+=" +3 [scout] ";
    } else
   if (npcother_levels+epic_npcother_levels>=11)
    {
      initiative_modifier+=2;
      initiative_string_2+=" +2 [scout] ";
    } else
   if (npcother_levels+epic_npcother_levels>=2)
    {
      initiative_modifier+=1;
      initiative_string_2+=" +1 [scout] ";
    }
  }

  if (has_quickreconnoiter==true)
   {
    initiative_modifier+=2;
    initiative_string_2+=" +2 [quick reconnoiter] ";
   }
  if (has_fireheritage==true)
   {
    initiative_modifier+=1;
    initiative_string_2+=" +1 [fire heritage] ";
   }
  if (rayce==118)
   {
    initiative_modifier+=2;
    initiative_string_2+=" +2 [shadowswyft] ";
   }
  if (has_unreactive==true)
   {
    initiative_modifier-=6;
    initiative_string_2+=" -6 [unreactive] ";
   }
  if (document.form1.aggressive_trait.checked==true)
   {
    initiative_modifier+=2;
    initiative_string_2+=" +2 [aggressive] ";
   }
  if (document.form1.torpid_trait.checked==true)
   {
    initiative_modifier-=2;
    initiative_string_2+=" -2 [torpid] ";
   }
  if (initiative_string_2!="") {initiative_string_2=" = "+initiative_string_2; }
  initiative_string_1=initiative_modifier;
  if (initiative_modifier>=0) {initiative_string_1="+"+initiative_string_1; }


  fortitude_save=base_fortitude_bonus+modifier_number(constitution);
  fortitude_string_2=base_fortitude_bonus+" [base] ";
  if (modifier_number(constitution)>0) {fortitude_string_2+="+"+modifier_number(constitution)+" [constitution] "; }
  if (modifier_number(constitution)<0) {fortitude_string_2+=modifier_number(constitution)+" [constitution] "; }
  if (has_greatfortitude==true)
   {
    fortitude_save+=2;
    fortitude_string_2+=" +2 [great fortitude] ";
   }

  if (npcother_class_name=="Scout")
  {
   if (npcother_levels+epic_npcother_levels>=20)
    {
      fortitude_save+=3;
      fortitude_string_2+=" +3 [scout] ";
    } else
   if (npcother_levels+epic_npcother_levels>=11)
    {
      fortitude_save+=2;
      fortitude_string_2+=" +2 [scout] ";
    } else
   if (npcother_levels+epic_npcother_levels>=2)
    {
      fortitude_save+=1;
      fortitude_string_2+=" +1 [scout] ";
    }
  }
  if (has_meagerfortitude==true)
   {
    fortitude_save-=3;
    fortitude_string_2+=" -3 [meager fortitude] ";
   }
  if (rat_familiar==true)
   {
    fortitude_save+=2;
    fortitude_string_2+=" +2 [rat] ";
   }
  if ((paladin_levels + epic_paladin_levels>1) && (modifier_number(charisma)>0))
   {
    fortitude_save+=modifier_number(charisma);
    fortitude_string_2+=" +"+modifier_number(charisma)+" [paladin] "
   }
  if ((npcother_levels + epic_npcother_levels>1) && (npcother_class_name=="Champion_of_Freedom") && (modifier_number(charisma)>0))
   {
    fortitude_save+=modifier_number(charisma);
    fortitude_string_2+=" +"+modifier_number(charisma)+" [paladin of freedom] "
   }
//racialstuff
  if (((rayce==6) || (rayce==62) || (rayce==53) || (rayce==43)) || (rayce==17) || (rayce==18))
   {
    fortitude_save+=1;
    fortitude_string_2+=" +1 [halfling] ";
   }
  if (rayce==81)
   {
    fortitude_save+=1;
    fortitude_string_2+=" +1 [kender] ";
   }
  if (document.form1.hardy_trait.checked==true)
   {
    fortitude_save++;
    fortitude_string_2+=" +1 [hardy] ";
   }
  if (document.form1.passionate_trait.checked==true)
   {
    fortitude_save++;
    fortitude_string_2+=" +1 [passionate] ";
   }
  if (document.form1.plucky_trait.checked==true)
   {
    fortitude_save--;
    fortitude_string_2+=" -1 [plucky] ";
   }
  if (rayce==16)
   {
    fortitude_save+=2;
    fortitude_string_2+=" +2 [deep gnome] ";
   }

  if (fortitude_string_2!="") {fortitude_string_2=" = "+fortitude_string_2; }

  fortitude_string_1=fortitude_save;

  if (fortitude_save>=0) {fortitude_string_1="+"+fortitude_string_1; }

  reflex_save=base_reflex_bonus+modifier_number(dexterity);
  reflex_string_2=base_reflex_bonus+" [base] ";
  if (modifier_number(dexterity)>0) {reflex_string_2+="+" + dexterity_0_string}
  if (modifier_number(dexterity)<0) {reflex_string_2+=dexterity_0_string}
  if ((has_lightningreflexes==true) || ((monk_levels + epic_monk_levels>=2) && (monk_totem==4)))
   {
    reflex_save+=2;
    reflex_string_2+=" +2 [lightning reflexes] ";
   }
  if (has_poorreflexes==true)
   {
    reflex_save-=3;
    reflex_string_2+=" -3 [poor reflexes] ";
   }
  if ((npcother_levels + epic_npcother_levels>1) && (npcother_class_name=="Swashbuckler"))
   {
    reflex_save+=3;
    reflex_string_2+=" +1 [swashbuckler] ";
   }
  if (weasel_familiar==true)
   {
    reflex_save+=2;
    reflex_string_2+=" +2 [weasel] ";
   }
  if (document.form1.detached_trait.checked==true)
   {
    reflex_save-=1;
    reflex_string_2+=" -1 [detached] ";
   }
  if (document.form1.hardy_trait.checked==true)
   {
    reflex_save-=1;
    reflex_string_2+=" -1 [hardy] ";
   }

  if ((paladin_levels + epic_paladin_levels>1) && (modifier_number(charisma)>0))
   {
    reflex_save+=modifier_number(charisma);
    reflex_string_2+=" +"+modifier_number(charisma)+" [paladin] ";
   }
  if ((npcother_levels + epic_npcother_levels>1) && (npcother_class_name=="Champion_of_Freedom") && (modifier_number(charisma)>0))
   {
    reflex_save+=modifier_number(charisma);
    reflex_string_2+=" +"+modifier_number(charisma)+" [paladin of freedom] ";
   }
   
//racialstuff
  if ( (rayce==6) || (rayce==62) || (rayce==53) || (rayce==43) || (rayce==17) || (rayce==18) )
   {
    reflex_save+=1;
    reflex_string_2+=" +1 [halfling] ";
   }
  if (rayce==81)
   {
    reflex_save+=1;
    reflex_string_2+=" +1 [kender] ";
   }
  if (rayce==16)
   {
    reflex_save+=2;
    reflex_string_2+=" +2 [deep gnome] ";
   }
  if (reflex_string_2!="") {reflex_string_2=" = "+reflex_string_2; }
  reflex_string_1=reflex_save;
  if (reflex_save>=0) {reflex_string_1="+"+reflex_string_1; }


  will_save=base_will_bonus+modifier_number(wisdom);
  will_string_2=base_will_bonus+" [base] ";
  if (modifier_number(wisdom)>0) {will_string_2+="+"+modifier_number(wisdom)+" [wisdom] "; }
  if (modifier_number(wisdom)<0) {will_string_2+=modifier_number(wisdom)+" [wisdom] "; }
  if (has_ironwill==true)
   {
    will_save+=2;
    will_string_2+=" +2 [iron will] ";
   }
  if (npcother_class_name=="Ninja")
   {
    will_save+=2;
    will_string_2+=" +2 [if ki powers available] ";
   }
//racialstuff
  if (((rayce==6) || (rayce==62) || (rayce==53) || (rayce==43)) || (rayce==17) || (rayce==18))
   {
    will_save+=1;
    will_string_2+=" +1 [halfling] ";
   }
  if (rayce==81)
   {
    will_save+=1;
    will_string_2+=" +1 [kender] ";
   }
  if (rayce==98)
   {
    will_save+=2
    will_string_2+=" +2 [tinker gnome] ";
   }
  if (rayce==16)
   {
    will_save+=2;
    will_string_2+=" +2 [deep gnome] ";
   }
  if (document.form1.detached_trait.checked==true)
   {
    will_save++;
    will_string_2+=" +1 [detached] ";
   }
  if (document.form1.passionate_trait.checked==true)
   {
    will_save--;
    will_string_2+=" -1 [passionate] ";
   }
  if (document.form1.plucky_trait.checked==true)
   {
    will_save++;
    will_string_2+=" +1 [plucky] ";
   }
  if (has_weakwill==true)
   {
    will_save-=3;
    will_string_2+=" -3 [weak will] ";
   }

  if ((paladin_levels + epic_paladin_levels>1) && (modifier_number(charisma)>0))
   {
    will_save+=modifier_number(charisma);
    will_string_2+=" +"+modifier_number(charisma)+" [paladin] ";
   }
  if ((npcother_levels + epic_npcother_levels>1) && (npcother_class_name=="Champion_of_Freedom") && (modifier_number(charisma)>0))
   {
    will_save+=modifier_number(charisma);
    will_string_2+=" +"+modifier_number(charisma)+" [paladin of freedom] ";
   }
  if (will_string_2!="") {will_string_2=" = "+will_string_2; }
  will_string_1=will_save;
  if (will_save>=0) {will_string_1="+"+will_string_1; }


  handheld_attack=base_attack_bonus+modifier_number(strength);
  if (small==true) {handheld_attack++; }
  if (large==true) {handheld_attack--; }
  if (document.form1.brawler_trait.checked==true) {handheld_attack--; }
  if (has_noncombatant==true) {handheld_attack-=2; }
  if (document.form1.reckless_trait.checked==true) {handheld_attack--; }
  handheld_attack_string_1=handheld_attack;
  if (base_attack_bonus>5) {handheld_attack_string_1+="/+"+(handheld_attack-5); }
  if (base_attack_bonus>10) {handheld_attack_string_1+="/+"+(handheld_attack-10); }
  if (base_attack_bonus>15) {handheld_attack_string_1+="/+"+(handheld_attack-15); }
  handheld_attack_string_2=""
  handheld_attack_string_2+=" = "+base_attack_bonus+" [base] ";
  if (modifier_number(strength)>0) {handheld_attack_string_2+="+"+modifier_number(strength)+" [strength] "; }
  if (modifier_number(strength)<0) {handheld_attack_string_2+=modifier_number(strength)+" [strength] "; }
  if (small==true) {handheld_attack_string_2+="+1 [small] "; }
  if (large==true) {handheld_attack_string_2+="-1 [large] "; }
  if (document.form1.brawler_trait.checked==true) {handheld_attack_string_2+=" -1 [brawler] "; }
  if (has_noncombatant==true) {handheld_attack_string_2+=" -2 [noncombatant] "; }
  if (document.form1.reckless_trait.checked==true) {handheld_attack_string_2+=" -1 [reckless] "; }
  if (handheld_attack>=0) {handheld_attack_string_1="+"+handheld_attack_string_1; }


  unarmed_attack=base_attack_bonus+modifier_number(strength);
  if (small==true) {unarmed_attack++; }
  if (large==true) {unarmed_attack--; }
  if (document.form1.brawler_trait.checked==true) {unarmed_attack++; }
  if (document.form1.reckless_trait.checked==true) {unarmed_attack--; }
  if (has_noncombatant==true) {unarmed_attack-=2; }
  unarmed_attack_string_1=unarmed_attack;
  if (base_attack_bonus>5) {unarmed_attack_string_1+="/+"+(unarmed_attack-5); }
  if (base_attack_bonus>10) {unarmed_attack_string_1+="/+"+(unarmed_attack-10); }
  if (base_attack_bonus>15) {unarmed_attack_string_1+="/+"+(unarmed_attack-15); }
  unarmed_attack_string_2=""
  unarmed_attack_string_2+=" = "+base_attack_bonus+" [base] ";
  if (modifier_number(strength)>0) {unarmed_attack_string_2+="+"+modifier_number(strength)+" [strength] "; }
  if (modifier_number(strength)<0) {unarmed_attack_string_2+=modifier_number(strength)+" [strength] "; }
  if (small==true) {unarmed_attack_string_2+="+1 [small] "; }
  if (large==true) {unarmed_attack_string_2+="-1 [large] "; }
  if (document.form1.brawler_trait.checked==true) {unarmed_attack_string_2+="+1 [brawler] "; }
  if (has_noncombatant==true) {unarmed_attack_string_2+="-2 [noncombatant] "; }
  if (document.form1.reckless_trait.checked==true) {unarmed_attack_string_2+="-1 [reckless] "; }
  if (unarmed_attack>=0) {unarmed_attack_string_1="+"+unarmed_attack_string_1; }


  x=unarmed_attack;
  if (monk_levels + epic_monk_levels<5) { x=x-2; }
  if (monk_levels + epic_monk_levels<9) { x=x-1; }
  flurry_of_blows_string=""
  if (x>0) {flurry_of_blows_string+="+"; }
  flurry_of_blows_string+=x+"/";
  if (x>0) {flurry_of_blows_string+="+"; }
  flurry_of_blows_string+=x;
  if (monk_levels + epic_monk_levels>=8) {flurry_of_blows_string+="/";
  if (x-5>0) {flurry_of_blows_string+="+"; }
  flurry_of_blows_string+=(x-5); }
  if (monk_levels + epic_monk_levels>=11) {flurry_of_blows_string="+"+unarmed_attack+"/"+flurry_of_blows_string; }
  if (monk_levels + epic_monk_levels>=15) {flurry_of_blows_string+="/";
  if (x-10>0) {flurry_of_blows_string+="+"; }
  flurry_of_blows_string+=(x-10); }


  grapple_attack=base_attack_bonus+modifier_number(strength);
  if (small==true) {grapple_attack=grapple_attack-4; }
  if (large==true) {grapple_attack=grapple_attack+4; }
  if (document.form1.brawler_trait.checked==true) {grapple_attack++; }
  if (has_noncombatant==true) {grapple_attack-=4; }
  if (rayce==176) {grapple_attack+=2; }
  if (document.form1.slippery_trait.checked==true) {grapple_attack--; }
  if ((has_improvedgrapple==true) || (monk_totem==2)) {grapple_attack=grapple_attack+4; }
  grapple_attack_string_1=grapple_attack;
  if (base_attack_bonus>5) {grapple_attack_string_1+="/+"+(grapple_attack-5); }
  if (base_attack_bonus>10) {grapple_attack_string_1+="/+"+(grapple_attack-10); }
  if (base_attack_bonus>15) {grapple_attack_string_1+="/+"+(grapple_attack-15); }
  grapple_attack_string_2="";
  grapple_attack_string_2+=" = "+base_attack_bonus+" [base] ";
  if (modifier_number(strength)>0) {grapple_attack_string_2+="+"+modifier_number(strength)+" [strength] "; }
  if (modifier_number(strength)<0) {grapple_attack_string_2+=modifier_number(strength)+" [strength] "; }
  if (small==true) {grapple_attack_string_2+="-4 [small] "; }
  if (large==true) {grapple_attack_string_2+="+4 [large] "; }
  if (has_noncombatant==true) {grapple_attack_string_2+="-4 [noncombatant] "; }
  if (rayce==176) {grapple_attack_string_2+="+2 [desmodu] "; }
  if ((has_improvedgrapple==true) || (monk_totem==2)) {grapple_attack_string_2+="+4 [improved grapple] "; }
  if (document.form1.brawler_trait.checked==true) {grapple_attack_string_2+="+1 [brawler] "; }
  if (document.form1.slippery_trait.checked==true) {grapple_attack_string_2+="-1 [slippery] "; }
  if (grapple_attack>=0) {grapple_attack_string_1="+"+grapple_attack_string_1; }


  missile_attack=base_attack_bonus+modifier_number(dexterity);
  if (has_zenarchery==true) {missile_attack=base_attack_bonus+modifier_number(wisdom); }
  if (small==true) {missile_attack++; }
  if (large==true) {missile_attack--; }
  if (has_shaky==true) {missile_attack-=4; }
  if (document.form1.brawler_trait.checked==true) {missile_attack--; }
  missile_attack_string_1=missile_attack;
  if (base_attack_bonus>5) {missile_attack_string_1+="/+"+(missile_attack-5); }
  if (base_attack_bonus>10) {missile_attack_string_1+="/+"+(missile_attack-10); }
  if (base_attack_bonus>15) {missile_attack_string_1+="/+"+(missile_attack-15); }
  missile_attack_string_2=""
  missile_attack_string_2+=" = "+base_attack_bonus+" [base] ";
  if (has_zenarchery==true)
   {
    if (modifier_number(wisdom)>0) {missile_attack_string_2+="+" + wisdom_0_string}
    if (modifier_number(wisdom)<0) {missile_attack_string_2+=wisdom_0_string}
   }
  else
   {
    if (modifier_number(dexterity)>0) {missile_attack_string_2+="+" + dexterity_0_string}
    if (modifier_number(dexterity)<0) {missile_attack_string_2+=dexterity_0_string}
   }
  if (small==true) {missile_attack_string_2+="+1 [small] "; }
  if (large==true) {missile_attack_string_2+="-1 [large] "; }
  if (has_shaky==true) {missile_attack_string_2+="-4 [shaky] "; }
  if (document.form1.brawler_trait.checked==true) {missile_attack_string_2+="-1 [brawler] "; }
  if (missile_attack>=0) {missile_attack_string_1="+"+missile_attack_string_1; }


}

function bspd(spell_level) {
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==0) { return -100; } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==1)
  {
   if (spell_level==0) { return 2; }
   if (spell_level==1) { return -100; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==2)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 0; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==3)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==4)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 0; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==5)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==6)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==7)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 0; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==8)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==9)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==10)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return 0; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==11)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 1; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==12)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==13)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return 0; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==14)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 1; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==15)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 2; }
   if (spell_level==6) { return -100; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==16)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 2; }
   if (spell_level==6) { return 0; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==17)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return 1; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==18)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return 2; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels==19)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 3; }
  } else
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels>=20)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 4; }
  } else { return 0; }
 }

function cspd(spell_level,character_level) {
 if (character_level==0) { return -100; } else
 if (character_level==1)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==2)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==3)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==4)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==5)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==6)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==7)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return 1; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==8)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==9)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return 1; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==10)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 2; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==11)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 2; }
   if (spell_level==6) { return 1; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==12)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return 2; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==13)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return 2; }
   if (spell_level==7) { return 1; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==14)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return 3; }
   if (spell_level==7) { return 2; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==15)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 3; }
   if (spell_level==7) { return 2; }
   if (spell_level==8) { return 1; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==16)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 3; }
   if (spell_level==7) { return 3; }
   if (spell_level==8) { return 2; }
   if (spell_level==9) { return -100; }
  } else
 if (character_level==17)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 3; }
   if (spell_level==8) { return 3; }
   if (spell_level==9) { return 2; }
  } else
 if (character_level==18)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 3; }
   if (spell_level==8) { return 3; }
   if (spell_level==9) { return 2; }
  } else
 if (character_level==19)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 5; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 4; }
   if (spell_level==8) { return 3; }
   if (spell_level==9) { return 3; }
  } else
 if (character_level>=20)
  {
   if (spell_level==0) { return 6; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 5; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 4; }
   if (spell_level==8) { return 4; }
   if (spell_level==9) { return 4; }
  } else { return 0; }
 }

function artspd(spell_level,character_level) {
 if (character_level==0) { return -100; }
 if (spell_level==0) { return -100; }
 if (spell_level==1)
  {
   if (character_level<=1) { return 2; }
   if (character_level<=13) { return 3; }
   return 4;
  }
 if (spell_level==2)
  {
   if (character_level<=2) { return -100; }
   if (character_level<=3) { return 1; }
   if (character_level<=4) { return 2; }
   if (character_level<=14) { return 3; }
   return 4;
  }
 if (spell_level==3)
  {
   if (character_level<=4) { return -100; }
   if (character_level<=5) { return 1; }
   if (character_level<=7) { return 2; }
   if (character_level<=16) { return 3; }
   return 4;
  }
 if (spell_level==4)
  {
   if (character_level<=7) { return -100; }
   if (character_level<=8) { return 1; }
   if (character_level<=12) { return 2; }
   if (character_level<=17) { return 3; }
   return 4;
  }
 if (spell_level==5)
  {
   if (character_level<=10) { return -100; }
   if (character_level<=11) { return 1; }
   if (character_level<=13) { return 2; }
   if (character_level<=18) { return 3; }
   return 4;
  }
 if (spell_level==6)
  {
   if (character_level<=13) { return -100; }
   if (character_level<=14) { return 1; }
   if (character_level<=16) { return 2; }
   if (character_level<=18) { return 3; }
   return 4;
  }
  return -100;
 }

function aspd(spell_level,character_level) {
 if (character_level==0) { return -100; } else
 if (spell_level==0) { return 3; } else
 if (character_level==1)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==2)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==3)
  {
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==4)
  {
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 0; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==5)
  {
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==6)
  {
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==7)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==8)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 0; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==9)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==10)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==11)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==12)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return 0; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==13)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 1; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==14)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return 1; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==15)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return -100; }
  } else
 if (character_level==16)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return 0; }
  } else
 if (character_level==17)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return 1; }
  } else
 if (character_level==18)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return 1; }
  } else
 if (character_level==19)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 2; }
  } else
 if (character_level>=20)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 2; }
  } else { return 0; }
 }

function pspd(spell_level,character_level) {
 if (character_level<4) { return -100; } else
 if (character_level==4)
  {
   if (spell_level==1) { return 0; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==5)
  {
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==6)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==7)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==8)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return 0; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==9)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return 0; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==10)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==11)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return 0; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==12)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==13)
  {
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return -100; }
  } else
 if (character_level==14)
  {
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return 0; }
  } else
 if (character_level==15)
  {
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return 1; }
  } else
 if (character_level==16)
  {
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return 1; }
  } else
 if (character_level==17)
  {
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return 1; }
  } else
 if (character_level==18)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return 1; }
  } else
 if (character_level==19)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
  } else
 if (character_level>=20)
  {
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 3; }
  } else { return 0; }
 }

function sspd(spell_level,class_levels) {
 q=0;
 if (sorcerer_totem==1) {q=-1; }
 if (class_levels==0) { return -100; } else
 if (class_levels==1)
  {
   if (spell_level==0) { return q+5; }
   if (spell_level==1) { return q+3; }
   if (spell_level==2) { return q-10; }
   if (spell_level==3) { return q-10; }
   if (spell_level==4) { return q-10; }
   if (spell_level==5) { return q-10; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==2)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+4; }
   if (spell_level==2) { return q-10; }
   if (spell_level==3) { return q-10; }
   if (spell_level==4) { return q-10; }
   if (spell_level==5) { return q-10; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==3)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+5; }
   if (spell_level==2) { return q-10; }
   if (spell_level==3) { return q-10; }
   if (spell_level==4) { return q-10; }
   if (spell_level==5) { return q-10; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==4)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+3; }
   if (spell_level==3) { return q-10; }
   if (spell_level==4) { return q-10; }
   if (spell_level==5) { return q-10; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==5)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+4; }
   if (spell_level==3) { return q-10; }
   if (spell_level==4) { return q-10; }
   if (spell_level==5) { return q-10; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==6)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+5; }
   if (spell_level==3) { return q+3; }
   if (spell_level==4) { return q-10; }
   if (spell_level==5) { return q-10; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==7)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+4; }
   if (spell_level==4) { return q-10; }
   if (spell_level==5) { return q-10; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==8)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+5; }
   if (spell_level==4) { return q+3; }
   if (spell_level==5) { return q-10; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==9)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+4; }
   if (spell_level==5) { return q-10; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==10)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+5; }
   if (spell_level==5) { return q+3; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==11)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+4; }
   if (spell_level==6) { return q-10; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==12)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+5; }
   if (spell_level==6) { return q+3; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==13)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+6; }
   if (spell_level==6) { return q+4; }
   if (spell_level==7) { return q-10; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==14)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+6; }
   if (spell_level==6) { return q+5; }
   if (spell_level==7) { return q+3; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==15)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+6; }
   if (spell_level==6) { return q+6; }
   if (spell_level==7) { return q+4; }
   if (spell_level==8) { return q-10; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==16)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+6; }
   if (spell_level==6) { return q+6; }
   if (spell_level==7) { return q+5; }
   if (spell_level==8) { return q+3; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==17)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+6; }
   if (spell_level==6) { return q+6; }
   if (spell_level==7) { return q+6; }
   if (spell_level==8) { return q+4; }
   if (spell_level==9) { return q-10; }
  } else
 if (class_levels==18)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+6; }
   if (spell_level==6) { return q+6; }
   if (spell_level==7) { return q+6; }
   if (spell_level==8) { return q+5; }
   if (spell_level==9) { return q+3; }
  } else
 if (class_levels==19)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+6; }
   if (spell_level==6) { return q+6; }
   if (spell_level==7) { return q+6; }
   if (spell_level==8) { return q+6; }
   if (spell_level==9) { return q+4; }
  } else
 if (class_levels>=20)
  {
   if (spell_level==0) { return q+6; }
   if (spell_level==1) { return q+6; }
   if (spell_level==2) { return q+6; }
   if (spell_level==3) { return q+6; }
   if (spell_level==4) { return q+6; }
   if (spell_level==5) { return q+6; }
   if (spell_level==6) { return q+6; }
   if (spell_level==7) { return q+6; }
   if (spell_level==8) { return q+6; }
   if (spell_level==9) { return q+6; }
  } else { return 0; }
 }

function shspd(spell_level,class_levels) {
 q=0;
 if (class_levels==0) { return -100; }
 if (spell_level==0)
  {
   if (class_levels<1) { return -100; }
   if (class_levels==1) { return 3; }
   if (class_levels==2) { return 4; }
   if (class_levels==3) { return 5; }
   return 6;
  }
 if (spell_level==1)
  {
   if (class_levels<1) { return -100; }
   if (class_levels==1) { return 2; }
   if (class_levels==2) { return 3; }
   if (class_levels==3) { return 4; }
   if (class_levels==4) { return 5; }
   return 6;
  }
 if (spell_level==2)
  {
   if (class_levels<3) { return -100; }
   if (class_levels==3) { return 2; }
   if (class_levels==4) { return 3; }
   if (class_levels==5) { return 4; }
   if (class_levels==6) { return 5; }
   return 6;
  }
 if (spell_level==3)
  {
   if (class_levels<5) { return -100; }
   if (class_levels==5) { return 2; }
   if (class_levels==6) { return 3; }
   if (class_levels==7) { return 4; }
   if (class_levels==8) { return 5; }
   return 6;
  }
 if (spell_level==4)
  {
   if (class_levels<7) { return -100; }
   if (class_levels==7) { return 2; }
   if (class_levels==8) { return 3; }
   if (class_levels==9) { return 4; }
   if (class_levels==10) { return 5; }
   return 6;
  }
 if (spell_level==5)
  {
   if (class_levels<9) { return -100; }
   if (class_levels==9) { return 2; }
   if (class_levels==10) { return 3; }
   if (class_levels==11) { return 4; }
   if (class_levels==12) { return 5; }
   return 6;
  }
 if (spell_level==6)
  {
   if (class_levels<11) { return -100; }
   if (class_levels==11) { return 2; }
   if (class_levels==12) { return 3; }
   if (class_levels==13) { return 4; }
   if (class_levels==14) { return 5; }
   return 6;
  }
 if (spell_level==7)
  {
   if (class_levels<13) { return -100; }
   if (class_levels==13) { return 2; }
   if (class_levels==14) { return 3; }
   if (class_levels==15) { return 4; }
   if (class_levels==16) { return 5; }
   return 6;
  }
 if (spell_level==8)
  {
   if (class_levels<15) { return -100; }
   if (class_levels==15) { return 2; }
   if (class_levels==16) { return 3; }
   if (class_levels==17) { return 4; }
   if (class_levels==18) { return 5; }
   return 6;
  }
 if (spell_level==9)
  {
   if (class_levels<17) { return -100; }
   if (class_levels==17) { return 2; }
   if (class_levels==18) { return 3; }
   if (class_levels==19) { return 4; }
   if (class_levels>=20) { return 5; }
  }
 return -100;
 }

function wspd(spell_level) {
 z=wizard_levels + epic_wizard_levels + prestige_wizard_spell_levels;
 if (npcother_class_name=="Wu Jen") {z+=npcother_levels + epic_npcother_levels; }
 if (z==0) { return -100; } else
 if (z==1)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 1; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==2)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==3)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==4)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==5)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 2; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==6)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==7)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 2; }
   if (spell_level==4) { return 1; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==8)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==9)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 2; }
   if (spell_level==5) { return 1; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==10)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 2; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==11)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 2; }
   if (spell_level==6) { return 1; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==12)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return 2; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==13)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return 2; }
   if (spell_level==7) { return 1; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==14)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return 3; }
   if (spell_level==7) { return 2; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==15)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 3; }
   if (spell_level==7) { return 2; }
   if (spell_level==8) { return 1; }
   if (spell_level==9) { return -100; }
  } else
 if (z==16)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 3; }
   if (spell_level==7) { return 3; }
   if (spell_level==8) { return 2; }
   if (spell_level==9) { return -100; }
  } else
 if (z==17)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 3; }
   if (spell_level==8) { return 2; }
   if (spell_level==9) { return 1; }
  } else
 if (z==18)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 3; }
   if (spell_level==8) { return 3; }
   if (spell_level==9) { return 2; }
  } else
 if (z==19)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 4; }
   if (spell_level==8) { return 3; }
   if (spell_level==9) { return 3; }
  } else
 if (z>=20)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 4; }
   if (spell_level==8) { return 4; }
   if (spell_level==9) { return 4; }
  } else { return 0; }
 }

function shairspd(spell_level) {
 z=npcother_levels + epic_npcother_levels;
 if (z==0) { return -100; } else
 if (z==1)
  {
   if (spell_level==0) { return 4; }
   if (spell_level==1) { return 2; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==2)
  {
   if (spell_level==0) { return 3; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return -100; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==3)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 3; }
   if (spell_level==2) { return 1; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==4)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return -100; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==5)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 3; }
   if (spell_level==3) { return 1; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==6)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 4; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return -100; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==7)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 3; }
   if (spell_level==4) { return 1; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==8)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 4; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return -100; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==9)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 3; }
   if (spell_level==5) { return 1; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==10)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 4; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return -100; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==11)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 3; }
   if (spell_level==6) { return 1; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==12)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 4; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 3; }
   if (spell_level==7) { return -100; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==13)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 3; }
   if (spell_level==7) { return 1; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==14)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 4; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 3; }
   if (spell_level==8) { return -100; }
   if (spell_level==9) { return -100; }
  } else
 if (z==15)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 5; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 3; }
   if (spell_level==8) { return 1; }
   if (spell_level==9) { return -100; }
  } else
 if (z==16)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 5; }
   if (spell_level==6) { return 4; }
   if (spell_level==7) { return 4; }
   if (spell_level==8) { return 3; }
   if (spell_level==9) { return -100; }
  } else
 if (z==17)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 5; }
   if (spell_level==6) { return 5; }
   if (spell_level==7) { return 4; }
   if (spell_level==8) { return 3; }
   if (spell_level==9) { return 1; }
  } else
 if (z==18)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 5; }
   if (spell_level==6) { return 5; }
   if (spell_level==7) { return 4; }
   if (spell_level==8) { return 4; }
   if (spell_level==9) { return 3; }
  } else
 if (z==19)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 5; }
   if (spell_level==6) { return 5; }
   if (spell_level==7) { return 5; }
   if (spell_level==8) { return 4; }
   if (spell_level==9) { return 4; }
  } else
 if (z>=20)
  {
   if (spell_level==0) { return 5; }
   if (spell_level==1) { return 5; }
   if (spell_level==2) { return 5; }
   if (spell_level==3) { return 5; }
   if (spell_level==4) { return 5; }
   if (spell_level==5) { return 5; }
   if (spell_level==6) { return 5; }
   if (spell_level==7) { return 5; }
   if (spell_level==8) { return 5; }
   if (spell_level==9) { return 5; }
  } else { return 0; }
 }

function psippd(power_level) {
 if (psion_levels + epic_psion_levels==0) { return -100; } else
 if (psion_levels + epic_psion_levels==1)
  {
   if (power_level==0) { return 4; }
   if (power_level==1) { return 1; }
   if (power_level==2) { return 0; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==2)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 2; }
   if (power_level==2) { return 0; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==3)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 0; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==4)
  {
   if (power_level==0) { return 4; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 1; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==5)
  {
   if (power_level==0) { return 4; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 2; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==6)
  {
   if (power_level==0) { return 5; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 2; }
   if (power_level==3) { return 1; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==7)
  {
   if (power_level==0) { return 5; }
   if (power_level==1) { return 4; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 2; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==8)
  {
   if (power_level==0) { return 6; }
   if (power_level==1) { return 4; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 2; }
   if (power_level==4) { return 1; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==9)
  {
   if (power_level==0) { return 6; }
   if (power_level==1) { return 4; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 2; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==10)
  {
   if (power_level==0) { return 7; }
   if (power_level==1) { return 4; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 2; }
   if (power_level==5) { return 1; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==11)
  {
   if (power_level==0) { return 7; }
   if (power_level==1) { return 4; }
   if (power_level==2) { return 4; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 2; }
   if (power_level==5) { return 2; }
   if (power_level==6) { return 0; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==12)
  {
   if (power_level==0) { return 8; }
   if (power_level==1) { return 4; }
   if (power_level==2) { return 4; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 2; }
   if (power_level==6) { return 1; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==13)
  {
   if (power_level==0) { return 8; }
   if (power_level==1) { return 5; }
   if (power_level==2) { return 4; }
   if (power_level==3) { return 4; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 3; }
   if (power_level==6) { return 2; }
   if (power_level==7) { return 0; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==14)
  {
   if (power_level==0) { return 8; }
   if (power_level==1) { return 5; }
   if (power_level==2) { return 4; }
   if (power_level==3) { return 4; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 3; }
   if (power_level==6) { return 2; }
   if (power_level==7) { return 1; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==15)
  {
   if (power_level==0) { return 8; }
   if (power_level==1) { return 5; }
   if (power_level==2) { return 4; }
   if (power_level==3) { return 4; }
   if (power_level==4) { return 4; }
   if (power_level==5) { return 3; }
   if (power_level==6) { return 3; }
   if (power_level==7) { return 2; }
   if (power_level==8) { return 0; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==16)
  {
   if (power_level==0) { return 8; }
   if (power_level==1) { return 5; }
   if (power_level==2) { return 5; }
   if (power_level==3) { return 4; }
   if (power_level==4) { return 4; }
   if (power_level==5) { return 3; }
   if (power_level==6) { return 3; }
   if (power_level==7) { return 2; }
   if (power_level==8) { return 1; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==17)
  {
   if (power_level==0) { return 8; }
   if (power_level==1) { return 5; }
   if (power_level==2) { return 5; }
   if (power_level==3) { return 4; }
   if (power_level==4) { return 4; }
   if (power_level==5) { return 4; }
   if (power_level==6) { return 3; }
   if (power_level==7) { return 3; }
   if (power_level==8) { return 2; }
   if (power_level==9) { return 0; }
  } else
 if (psion_levels + epic_psion_levels==18)
  {
   if (power_level==0) { return 8; }
   if (power_level==1) { return 5; }
   if (power_level==2) { return 5; }
   if (power_level==3) { return 5; }
   if (power_level==4) { return 4; }
   if (power_level==5) { return 4; }
   if (power_level==6) { return 3; }
   if (power_level==7) { return 3; }
   if (power_level==8) { return 2; }
   if (power_level==9) { return 1; }
  } else
 if (psion_levels + epic_psion_levels==19)
  {
   if (power_level==0) { return 8; }
   if (power_level==1) { return 5; }
   if (power_level==2) { return 5; }
   if (power_level==3) { return 5; }
   if (power_level==4) { return 4; }
   if (power_level==5) { return 4; }
   if (power_level==6) { return 4; }
   if (power_level==7) { return 3; }
   if (power_level==8) { return 2; }
   if (power_level==9) { return 2; }
  } else
 if (psion_levels + epic_psion_levels>=20)
  {
   if (power_level==0) { return 8; }
   if (power_level==1) { return 5; }
   if (power_level==2) { return 5; }
   if (power_level==3) { return 5; }
   if (power_level==4) { return 5; }
   if (power_level==5) { return 4; }
   if (power_level==6) { return 4; }
   if (power_level==7) { return 3; }
   if (power_level==8) { return 3; }
   if (power_level==9) { return 2; }
  } else { return 0; }
 }

function pwppd(power_level) {
 if (psiwarrior_levels + epic_psiwarrior_levels==0) { return -100; } else
 if (psiwarrior_levels + epic_psiwarrior_levels==1)
  {
   if (power_level==0) { return 2; }
   if (power_level==1) { return 0; }
   if (power_level==2) { return 0; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==2)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 0; }
   if (power_level==2) { return 0; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==3)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 1; }
   if (power_level==2) { return 0; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==4)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 2; }
   if (power_level==2) { return 0; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==5)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 1; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==6)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 2; }
   if (power_level==3) { return 0; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
  if (psiwarrior_levels + epic_psiwarrior_levels==7)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 2; }
   if (power_level==3) { return 1; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==8)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 1; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==9)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 2; }
   if (power_level==4) { return 0; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==10)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 2; }
   if (power_level==4) { return 1; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==11)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 1; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==12)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 2; }
   if (power_level==5) { return 0; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==13)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 2; }
   if (power_level==5) { return 1; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==14)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 1; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==15)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 2; }
   if (power_level==6) { return 0; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==16)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 2; }
   if (power_level==6) { return 1; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==17)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 3; }
   if (power_level==6) { return 1; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==18)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 3; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 3; }
   if (power_level==6) { return 2; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels==19)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 4; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 3; }
   if (power_level==6) { return 2; }
  } else
 if (psiwarrior_levels + epic_psiwarrior_levels>=20)
  {
   if (power_level==0) { return 3; }
   if (power_level==1) { return 4; }
   if (power_level==2) { return 3; }
   if (power_level==3) { return 3; }
   if (power_level==4) { return 3; }
   if (power_level==5) { return 3; }
   if (power_level==6) { return 3; }
  }
  return 0;
}

function bonus_spell(spell_level,ability_score) {
 if (ability_score-spell_level<10) { return -100; } else
 if (spell_level==0) { return 0; } else
 if (ability_score<12) { return 0; } else
 if (ability_score<14)
  {
   if (spell_level==1) { return 1; } else
   { return 0; }
  } else
 if (ability_score<16)
  {
   if (spell_level==1) { return 1; } else
   if (spell_level==2) { return 1; } else
   { return 0; }
  }  else
 if (ability_score<18)
  {
   if (spell_level==1) { return 1; } else
   if (spell_level==2) { return 1; } else
   if (spell_level==3) { return 1; } else
   { return 0; }
  }  else
 if (ability_score<20)
  {
   if (spell_level==1) { return 1; } else
   if (spell_level==2) { return 1; } else
   if (spell_level==3) { return 1; } else
   if (spell_level==4) { return 1; } else
   { return 0; }
  }  else
 if (ability_score<22)
  {
   if (spell_level==1) { return 2; } else
   if (spell_level==2) { return 1; } else
   if (spell_level==3) { return 1; } else
   if (spell_level==4) { return 1; } else
   if (spell_level==5) { return 1; } else
   { return 0; }
  }  else
 if (ability_score<24)
  {
   if (spell_level==1) { return 2; } else
   if (spell_level==2) { return 2; } else
   if (spell_level==3) { return 1; } else
   if (spell_level==4) { return 1; } else
   if (spell_level==5) { return 1; } else
   if (spell_level==6) { return 1; } else
   { return 0; }
  }  else
 if (ability_score<26)
  {
   if (spell_level==1) { return 2; } else
   if (spell_level==2) { return 2; } else
   if (spell_level==3) { return 2; } else
   if (spell_level==4) { return 1; } else
   if (spell_level==5) { return 1; } else
   if (spell_level==6) { return 1; } else
   if (spell_level==7) { return 1; } else
   if (spell_level==8) { return 0; } else
   if (spell_level==9) { return 0; } else
   { return 69; }
  }  else
  {
   if (spell_level==1) { return Math.floor((ability_score-4)/8); } else
   if (spell_level==2) { return Math.floor((ability_score-6)/8); } else
   if (spell_level==3) { return Math.floor((ability_score-8)/8); } else
   if (spell_level==4) { return Math.floor((ability_score-10)/8); } else
   if (spell_level==5) { return Math.floor((ability_score-12)/8); } else
   if (spell_level==6) { return Math.floor((ability_score-14)/8); } else
   if (spell_level==7) { return Math.floor((ability_score-16)/8); } else
   if (spell_level==8) { return Math.floor((ability_score-18)/8); } else
   if (spell_level==9) { return Math.floor((ability_score-20)/8); }
  }
 }

function PrepareBardSpellArrays() {
   BardSpells0="";
   BardSpells1="";
   BardSpells2="";
   BardSpells3="";
   BardSpells4="";
   BardSpells5="";
   BardSpells6="";
 if (bard_levels + epic_bard_levels + prestige_bard_spell_levels>0)
  {
   if (((bard_totem!=1) || (intelligence>=10)) && ((bard_totem!=2) || (wisdom>=10))) {
   x=bspd(0)+bonus_spell(0,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(0,charisma_for_bonus_spells)>0) { stringy=" ("+bspd(0)+"+"+bonus_spell(0,charisma_for_bonus_spells)+") "; }
   if (x>0) {BardSpells0="<p>Zero-level Bard spells: "+x  + stringy+" per day"; }}
   if (((bard_totem!=1) || (intelligence>=11)) && ((bard_totem!=2) || (wisdom>=11))) {
   x=bspd(1)+bonus_spell(1,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(1,charisma_for_bonus_spells)>0) { stringy=" ("+bspd(1)+"+"+bonus_spell(1,charisma_for_bonus_spells)+") "; }
   if (x>0) {BardSpells1="First-level Bard spells: "+x  + stringy+" per day"; }}
   if (((bard_totem!=1) || (intelligence>=12)) && ((bard_totem!=2) || (wisdom>=12))) {
   x=bspd(2)+bonus_spell(2,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(2,charisma_for_bonus_spells)>0) { stringy=" ("+bspd(2)+"+"+bonus_spell(2,charisma_for_bonus_spells)+") "; }
   if (x>0) {BardSpells2="Second-level Bard spells: "+x  + stringy+" per day"; }}
   if (((bard_totem!=1) || (intelligence>=13)) && ((bard_totem!=2) || (wisdom>=13))) {
   x=bspd(3)+bonus_spell(3,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(3,charisma_for_bonus_spells)>0) { stringy=" ("+bspd(3)+"+"+bonus_spell(3,charisma_for_bonus_spells)+") "; }
   if (x>0) {BardSpells3="Third-level Bard spells: "+x  + stringy+" per day"; }}
   if (((bard_totem!=1) || (intelligence>=14)) && ((bard_totem!=2) || (wisdom>=14))) {
   x=bspd(4)+bonus_spell(4,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(4,charisma_for_bonus_spells)>0) { stringy=" ("+bspd(4)+"+"+bonus_spell(4,charisma_for_bonus_spells)+") "; }
   if (x>0) {BardSpells4="Fourth-level Bard spells: "+x  + stringy+" per day"; }}
   if (((bard_totem!=1) || (intelligence>=15)) && ((bard_totem!=2) || (wisdom>=15))) {
   x=bspd(5)+bonus_spell(5,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(5,charisma_for_bonus_spells)>0) { stringy=" ("+bspd(5)+"+"+bonus_spell(5,charisma_for_bonus_spells)+") "; }
   if (x>0) {BardSpells5="Fifth-level Bard spells: "+x  + stringy+" per day"; }}
   if (((bard_totem!=1) || (intelligence>=16)) && ((bard_totem!=2) || (wisdom>=16))) {
   x=bspd(6)+bonus_spell(6,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(6,charisma_for_bonus_spells)>0) { stringy=" ("+bspd(6)+"+"+bonus_spell(6,charisma_for_bonus_spells)+") "; }
   if (x>0) {BardSpells6="Sixth-level Bard spells: "+x  + stringy+" per day"; }}

  if (bard_totem==1) {
   if (intelligence<10) {BardSpells1="Your intelligence is too low to use bardic sage magic."; return; }
   x=bspd(1);
   if ((intelligence<11) && (bspd(1)>0) && (intelligence>=10)) {BardSpells1="Use your "+x+" first-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(2);
   if ((intelligence<12) && (bspd(2)>0) && (intelligence>=10)) {BardSpells2="Use your "+x+" second-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(3);
   if ((intelligence<13) && (bspd(3)>0) && (intelligence>=10)) {BardSpells3="Use your "+x+" third-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(4);
   if ((intelligence<14) && (bspd(4)>0) && (intelligence>=10)) {BardSpells4="Use your "+x+" fourth-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(5);
   if ((intelligence<15) && (bspd(5)>0) && (intelligence>=10)) {BardSpells5="Use your "+x+" fifth-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(6);
   if ((intelligence<16) && (bspd(6)>0) && (intelligence>=10)) {BardSpells6="Use your "+x+" sixth-level bard spell "+slottage(x)+" to cast lower-level spells:"; }}

  else if (bard_totem==2) {
   if (wisdom<10) {BardSpells1="Your wisdom is too low to use divine bard magic."; return; }
   x=bspd(1);
   if ((wisdom<11) && (bspd(1)>0) && (wisdom>=10)) {BardSpells1="Use your "+x+" first-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(2);
   if ((wisdom<12) && (bspd(2)>0) && (wisdom>=10)) {BardSpells2="Use your "+x+" second-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(3);
   if ((wisdom<13) && (bspd(3)>0) && (wisdom>=10)) {BardSpells3="Use your "+x+" third-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(4);
   if ((wisdom<14) && (bspd(4)>0) && (wisdom>=10)) {BardSpells4="Use your "+x+" fourth-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(5);
   if ((wisdom<15) && (bspd(5)>0) && (wisdom>=10)) {BardSpells5="Use your "+x+" fifth-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(6);
   if ((wisdom<16) && (bspd(6)>0) && (wisdom>=10)) {BardSpells6="Use your "+x+" sixth-level bard spell "+slottage(x)+" to cast lower-level spells:"; }}

  else {
   if (charisma<10) {BardSpells1="Your charisma is too low to use bard magic."; return; }
   x=bspd(1);
   if ((charisma<11) && (bspd(1)>0) && (charisma>=10)) {BardSpells1="Use your "+x+" first-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(2);
   if ((charisma<12) && (bspd(2)>0) && (charisma>=10)) {BardSpells2="Use your "+x+" second-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(3);
   if ((charisma<13) && (bspd(3)>0) && (charisma>=10)) {BardSpells3="Use your "+x+" third-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(4);
   if ((charisma<14) && (bspd(4)>0) && (charisma>=10)) {BardSpells4="Use your "+x+" fourth-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(5);
   if ((charisma<15) && (bspd(5)>0) && (charisma>=10)) {BardSpells5="Use your "+x+" fifth-level bard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=bspd(6);
   if ((charisma<16) && (bspd(6)>0) && (charisma>=10)) {BardSpells6="Use your "+x+" sixth-level bard spell "+slottage(x)+" to cast lower-level spells:"; }}
  }
}

function PrepareClericSpellArrays() {

   ClericSpells0="";
   ClericSpells1="";
   ClericSpells2="";
   ClericSpells3="";
   ClericSpells4="";
   ClericSpells5="";
   ClericSpells6="";
   ClericSpells7="";
   ClericSpells8="";
   ClericSpells9="";

 if (cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels>0)
  {
   x=cspd(0,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(0,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(0,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(0,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(0,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells0="<p>Zero-level Cleric spells: "+x  + stringy+" per day"; }
   x=cspd(1,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(1,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(1,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(1,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(1,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells1="First-level Cleric spells: "+x  + stringy+" per day +1 from a domain:"; }
   x=cspd(2,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(2,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(2,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(2,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(2,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells2="Second-level Cleric spells: "+x  + stringy+" per day +1 from a domain:"; }
   x=cspd(3,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(3,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(3,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(3,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(3,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells3="Third-level Cleric spells: "+x  + stringy+" per day +1 from a domain:"; }
   x=cspd(4,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(4,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(4,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(4,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(4,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells4="Fourth-level Cleric spells: "+x  + stringy+" per day +1 from a domain:"; }
   x=cspd(5,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(5,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(5,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(5,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(5,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells5="Fifth-level Cleric spells: "+x  + stringy+" per day +1 from a domain:"; }
   x=cspd(6,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(6,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(6,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(6,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(6,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells6="Sixth-level Cleric spells: "+x  + stringy+" per day +1 from a domain:"; }
   x=cspd(7,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(7,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(7,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(7,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(7,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells7="Seventh-level Cleric spells: "+x  + stringy+" per day +1 from a domain:"; }
   x=cspd(8,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(8,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(8,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(8,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(8,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells8="Eighth-level Cleric spells: "+x  + stringy+" per day +1 from a domain:"; }
   x=cspd(9,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+bonus_spell(9,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(9,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(9,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels)+"+"+bonus_spell(9,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ClericSpells9="Ninth-level Cleric spells: "+x  + stringy+" per day +1 from a domain:"; }

   if (wisdom<10) {ClericSpells1="Your wisdom is too low to use clerical magic."; return; }


   x=cspd(1,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels);
   if ((wisdom<11) && (x>0) && (wisdom>=10)) {ClericSpells1="Use your "+x+"+1 first-level cleric spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(2,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels);
   if ((wisdom<12) && (x>0) && (wisdom>=10)) {ClericSpells2="Use your "+x+"+1 second-level cleric spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(3,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels);
   if ((wisdom<13) && (x>0) && (wisdom>=10)) {ClericSpells3="Use your "+x+"+1 third-level cleric spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(4,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels);
   if ((wisdom<14) && (x>0) && (wisdom>=10)) {ClericSpells4="Use your "+x+"+1 fourth-level cleric spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(5,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels);
   if ((wisdom<15) && (x>0) && (wisdom>=10)) {ClericSpells5="Use your "+x+"+1 fifth-level cleric spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(6,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels);
   if ((wisdom<16) && (x>0) && (wisdom>=10)) {ClericSpells6="Use your "+x+"+1 sixth-level cleric spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(7,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels);
   if ((wisdom<17) && (x>0) && (wisdom>=10)) {ClericSpells7="Use your "+x+"+1 seventh-level cleric spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(8,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels);
   if ((wisdom<18) && (x>0) && (wisdom>=10)) {ClericSpells8="Use your "+x+"+1 eighth-level cleric spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(9,cleric_levels + epic_cleric_levels + prestige_cleric_spell_levels);
   if ((wisdom<19) && (x>0) && (wisdom>=10)) {ClericSpells9="Use your "+x+"+1 ninth-level cleric spell "+slottage(x)+" to cast lower-level spells:"; }
  }
}

function PrepareAdeptSpellArrays() {


   AdeptSpells0="";
   AdeptSpells1="";
   AdeptSpells2="";
   AdeptSpells3="";
   AdeptSpells4="";
   AdeptSpells5="";

 if ((npcother_class_name=="Adept") && (npcother_levels + epic_npcother_levels>0))
  {
   x=aspd(0,npcother_levels + epic_npcother_levels)+bonus_spell(0,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(0,wisdom_for_bonus_spells)>0) { stringy=" ("+aspd(0,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(0,wisdom_for_bonus_spells)+") "; }
   if (x>0) {AdeptSpells0="<p>Zero-level Adept spells: "+x  + stringy+" per day:"; }
   x=aspd(1,npcother_levels + epic_npcother_levels)+bonus_spell(1,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(1,wisdom_for_bonus_spells)>0) { stringy=" ("+aspd(1,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(1,wisdom_for_bonus_spells)+") "; }
   if (x>0) {AdeptSpells1="First-level Adept spells: "+x  + stringy+" per day:"; }
   x=aspd(2,npcother_levels + epic_npcother_levels)+bonus_spell(2,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(2,wisdom_for_bonus_spells)>0) { stringy=" ("+aspd(2,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(2,wisdom_for_bonus_spells)+") "; }
   if (x>0) {AdeptSpells2="Second-level Adept spells: "+x  + stringy+" per day:"; }
   x=aspd(3,npcother_levels + epic_npcother_levels)+bonus_spell(3,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(3,wisdom_for_bonus_spells)>0) { stringy=" ("+aspd(3,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(3,wisdom_for_bonus_spells)+") "; }
   if (x>0) {AdeptSpells3="Third-level Adept spells: "+x  + stringy+" per day:"; }
   x=aspd(4,npcother_levels + epic_npcother_levels)+bonus_spell(4,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(4,wisdom_for_bonus_spells)>0) { stringy=" ("+aspd(4,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(4,wisdom_for_bonus_spells)+") "; }
   if (x>0) {AdeptSpells4="Fourth-level Adept spells: "+x  + stringy+" per day:"; }
   x=aspd(5,npcother_levels + epic_npcother_levels)+bonus_spell(5,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(5,wisdom_for_bonus_spells)>0) { stringy=" ("+aspd(5,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(5,wisdom_for_bonus_spells)+") "; }
   if (x>0) {AdeptSpells5="Fifth-level Adept spells: "+x  + stringy+" per day:"; }

   if (wisdom<10) {AdeptSpells1="Your wisdom is too low to use adept magic."; return; }

   x=aspd(1,npcother_levels + epic_npcother_levels);
   if ((wisdom<11) && (x>0) && (wisdom>=10)) {AdeptSpells1="Use your "+x+" first-level adept spell "+slottage(x)+" to cast lower-level spells:"; }
   x=aspd(2,npcother_levels + epic_npcother_levels);
   if ((wisdom<12) && (x>0) && (wisdom>=10)) {AdeptSpells2="Use your "+x+" second-level adept spell "+slottage(x)+" to cast lower-level spells:"; }
   x=aspd(3,npcother_levels + epic_npcother_levels);
   if ((wisdom<13) && (x>0) && (wisdom>=10)) {AdeptSpells3="Use your "+x+" third-level adept spell "+slottage(x)+" to cast lower-level spells:"; }
   x=aspd(4,npcother_levels + epic_npcother_levels);
   if ((wisdom<14) && (x>0) && (wisdom>=10)) {AdeptSpells4="Use your "+x+" fourth-level adept spell "+slottage(x)+" to cast lower-level spells:"; }
   x=aspd(5,npcother_levels + epic_npcother_levels);
   if ((wisdom<15) && (x>0) && (wisdom>=10)) {AdeptSpells5="Use your "+x+" fifth-level adept spell "+slottage(x)+" to cast lower-level spells:"; }
  }
}

function PrepareArtificerSpellArrays() {
   ArtificerSpells1="";
   ArtificerSpells2="";
   ArtificerSpells3="";
   ArtificerSpells4="";
   ArtificerSpells5="";
   ArtificerSpells6="";

 if ((artificer_levels + epic_artificer_levels>0))
  {
   x=artspd(1,artificer_levels + epic_artificer_levels)+bonus_spell(1,intelligence_for_bonus_spells);
   stringy=""; if (bonus_spell(1,intelligence_for_bonus_spells)>0) { stringy=" ("+artspd(1,artificer_levels + epic_artificer_levels)+"+"+bonus_spell(1,intelligence_for_bonus_spells)+") "; }
   if (x>0) {ArtificerSpells1="<p>First-level Artificer spells: "+x  + stringy+" per day"; }
   x=artspd(2,artificer_levels + epic_artificer_levels)+bonus_spell(2,intelligence_for_bonus_spells);
   stringy=""; if (bonus_spell(2,intelligence_for_bonus_spells)>0) { stringy=" ("+artspd(2,artificer_levels + epic_artificer_levels)+"+"+bonus_spell(2,intelligence_for_bonus_spells)+") "; }
   if (x>0) {ArtificerSpells2="Second-level Artificer spells: "+x  + stringy+" per day:"; }
   x=artspd(3,artificer_levels + epic_artificer_levels)+bonus_spell(3,intelligence_for_bonus_spells);
   stringy=""; if (bonus_spell(3,intelligence_for_bonus_spells)>0) { stringy=" ("+artspd(3,artificer_levels + epic_artificer_levels)+"+"+bonus_spell(3,intelligence_for_bonus_spells)+") "; }
   if (x>0) {ArtificerSpells3="Third-level Artificer spells: "+x  + stringy+" per day:"; }
   x=artspd(4,artificer_levels + epic_artificer_levels)+bonus_spell(4,intelligence_for_bonus_spells);
   stringy=""; if (bonus_spell(4,intelligence_for_bonus_spells)>0) { stringy=" ("+artspd(4,artificer_levels + epic_artificer_levels)+"+"+bonus_spell(4,intelligence_for_bonus_spells)+") "; }
   if (x>0) {ArtificerSpells4="Fourth-level Artificer spells: "+x  + stringy+" per day:"; }
   x=artspd(5,artificer_levels + epic_artificer_levels)+bonus_spell(5,intelligence_for_bonus_spells);
   stringy=""; if (bonus_spell(5,intelligence_for_bonus_spells)>0) { stringy=" ("+artspd(5,artificer_levels + epic_artificer_levels)+"+"+bonus_spell(5,intelligence_for_bonus_spells)+") "; }
   if (x>0) {ArtificerSpells5="Fifth-level Artificer spells: "+x  + stringy+" per day:"; }
   x=artspd(6,artificer_levels + epic_artificer_levels)+bonus_spell(6,intelligence_for_bonus_spells);
   stringy=""; if (bonus_spell(6,intelligence_for_bonus_spells)>0) { stringy=" ("+artspd(6,artificer_levels + epic_artificer_levels)+"+"+bonus_spell(6,intelligence_for_bonus_spells)+") "; }
   if (x>0) {ArtificerSpells6="Sixth-level Artificer spells: "+x  + stringy+" per day:"; }

   if (intelligence<10) {ArtificerSpells1="Your intelligence is too low to use Artificer magic."; return; }

   x=artspd(2,artificer_levels + epic_artificer_levels);
   if ((intelligence<12) && (x>0) && (intelligence>=10)) {ArtificerSpells2="Use your "+x+" first-level Artificer infusion "+slottage(x)+" to cast lower-level infusions:"; }
   x=artspd(3,artificer_levels + epic_artificer_levels);
   if ((intelligence<13) && (x>0) && (intelligence>=10)) {ArtificerSpells3="Use your "+x+" second-level Artificer infusion "+slottage(x)+" to cast lower-level infusions:"; }
   x=artspd(4,artificer_levels + epic_artificer_levels);
   if ((intelligence<14) && (x>0) && (intelligence>=10)) {ArtificerSpells4="Use your "+x+" third-level Artificer infusion "+slottage(x)+" to cast lower-level infusions:"; }
   x=artspd(5,artificer_levels + epic_artificer_levels);
   if ((intelligence<15) && (x>0) && (intelligence>=10)) {ArtificerSpells5="Use your "+x+" fourth-level Artificer infusion "+slottage(x)+" to cast lower-level infusions:"; }
   x=artspd(6,artificer_levels + epic_artificer_levels);
   if ((intelligence<16) && (x>0) && (intelligence>=10)) {ArtificerSpells6="Use your "+x+" fifth-level Artificer infusion "+slottage(x)+" to cast lower-level infusions:"; }
  }
}

function PrepareDruidSpellArrays() {
   DruidSpells0="";
   DruidSpells1="";
   DruidSpells2="";
   DruidSpells3="";
   DruidSpells4="";
   DruidSpells5="";
   DruidSpells6="";
   DruidSpells7="";
   DruidSpells8="";
   DruidSpells9="";
 if (druid_levels + epic_druid_levels + prestige_druid_spell_levels>0)
  {
   x=cspd(0,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(0,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(0,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(0,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(0,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells0="<p>Zero-level Druid spells: "+x  + stringy+" per day"; }
   x=cspd(1,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(1,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(1,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(1,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(1,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells1="First-level Druid spells: "+x  + stringy+" per day"; }
   x=cspd(2,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(2,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(2,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(2,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(2,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells2="Second-level Druid spells: "+x  + stringy+" per day"; }
   x=cspd(3,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(3,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(3,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(3,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(3,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells3="Third-level Druid spells: "+x  + stringy+" per day"; }
   x=cspd(4,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(4,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(4,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(4,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(4,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells4="Fourth-level Druid spells: "+x  + stringy+" per day"; }
   x=cspd(5,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(5,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(5,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(5,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(5,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells5="Fifth-level Druid spells: "+x  + stringy+" per day"; }
   x=cspd(6,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(6,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(6,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(6,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(6,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells6="Sixth-level Druid spells: "+x  + stringy+" per day"; }
   x=cspd(7,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(7,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(7,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(7,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(7,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells7="Seventh-level Druid spells: "+x  + stringy+" per day"; }
   x=cspd(8,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(8,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(8,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(8,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(8,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells8="Eighth-level Druid spells: "+x  + stringy+" per day"; }
   x=cspd(9,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+bonus_spell(9,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(9,wisdom_for_bonus_spells)>0) { stringy=" ("+cspd(9,druid_levels + epic_druid_levels + prestige_druid_spell_levels)+"+"+bonus_spell(9,wisdom_for_bonus_spells)+") "; }
   if (x>0) {DruidSpells9="Ninth-level Druid spells: "+x  + stringy+" per day"; }
   if (wisdom<10) {DruidSpells1="Your wisdom is too low to use druid magic."; return; }

   x=cspd(1,druid_levels + epic_druid_levels + prestige_druid_spell_levels);
   if ((wisdom<11) && (x>0) && (wisdom>=10)) {DruidSpells1="Use your "+x+" first-level druid spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(2,druid_levels + epic_druid_levels + prestige_druid_spell_levels);
   if ((wisdom<12) && (x>0) && (wisdom>=10)) {DruidSpells2="Use your "+x+" second-level druid spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(3,druid_levels + epic_druid_levels + prestige_druid_spell_levels);
   if ((wisdom<13) && (x>0) && (wisdom>=10)) {DruidSpells3="Use your "+x+" third-level druid spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(4,druid_levels + epic_druid_levels + prestige_druid_spell_levels);
   if ((wisdom<14) && (x>0) && (wisdom>=10)) {DruidSpells4="Use your "+x+" fourth-level druid spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(5,druid_levels + epic_druid_levels + prestige_druid_spell_levels);
   if ((wisdom<15) && (x>0) && (wisdom>=10)) {DruidSpells5="Use your "+x+" fifth-level druid spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(6,druid_levels + epic_druid_levels + prestige_druid_spell_levels);
   if ((wisdom<16) && (x>0) && (wisdom>=10)) {DruidSpells6="Use your "+x+" sixth-level druid spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(7,druid_levels + epic_druid_levels + prestige_druid_spell_levels);
   if ((wisdom<17) && (x>0) && (wisdom>=10)) {DruidSpells7="Use your "+x+" seventh-level druid spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(8,druid_levels + epic_druid_levels + prestige_druid_spell_levels);
   if ((wisdom<18) && (x>0) && (wisdom>=10)) {DruidSpells8="Use your "+x+" eighth-level druid spell "+slottage(x)+" to cast lower-level spells:"; }
   x=cspd(9,druid_levels + epic_druid_levels + prestige_druid_spell_levels);
   if ((wisdom<19) && (x>0) && (wisdom>=10)) {DruidSpells9="Use your "+x+" ninth-level druid spell "+slottage(x)+" to cast lower-level spells:"; }
  }
}

function PreparePaladinSpellArrays() {
   PaladinSpells0="";
   PaladinSpells1="";
   PaladinSpells2="";
   PaladinSpells3="";
   PaladinSpells4="";
   PaladinSpells5="";
   PaladinSpells6="";
   PaladinSpells7="";
   PaladinSpells8="";
   PaladinSpells9="";
   quasi_paladin_levels=0;
   if ((npcother_class_name=="Sohei") || (npcother_class_name=="Paladin of Freedom"))
    {quasi_paladin_levels=npcother_levels + epic_npcother_levels; }
 if ((paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels>0) || (npcother_class_name=="Sohei") || (npcother_class_name=="Paladin of Freedom"))
  {
   x=pspd(1,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels + quasi_paladin_levels)+bonus_spell(1,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(1,wisdom_for_bonus_spells)>0) { stringy=" ("+pspd(1,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels + quasi_paladin_levels)+"+"+bonus_spell(1,wisdom_for_bonus_spells)+") "; }
   if (x>0) {PaladinSpells1="<p>First-level "+paladin_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=pspd(2,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels + quasi_paladin_levels)+bonus_spell(2,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(2,wisdom_for_bonus_spells)>0) { stringy=" ("+pspd(2,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels + quasi_paladin_levels)+"+"+bonus_spell(2,wisdom_for_bonus_spells)+") "; }
   if (x>0) {PaladinSpells2="Second-level "+paladin_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=pspd(3,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels + quasi_paladin_levels)+bonus_spell(3,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(3,wisdom_for_bonus_spells)>0) { stringy=" ("+pspd(3,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels + quasi_paladin_levels)+"+"+bonus_spell(3,wisdom_for_bonus_spells)+") "; }
   if (x>0) {PaladinSpells3="Third-level "+paladin_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=pspd(4,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels + quasi_paladin_levels)+bonus_spell(4,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(4,wisdom_for_bonus_spells)>0) { stringy=" ("+pspd(4,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels + quasi_paladin_levels)+"+"+bonus_spell(4,wisdom_for_bonus_spells)+") "; }
   if (x>0) {PaladinSpells4="Fourth-level "+paladin_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   if (wisdom<11) {PaladinSpells1="Your wisdom is too low to use paladin magic."; return; }

   x=pspd(1,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels);
   if ((wisdom<11) && (x>0) && (wisdom>=10)) {PaladinSpells1="Use your "+x+" first-level "+paladin_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=pspd(2,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels);
   if ((wisdom<12) && (x>0) && (wisdom>=10)) {PaladinSpells2="Use your "+x+" second-level "+paladin_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=pspd(3,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels);
   if ((wisdom<13) && (x>0) && (wisdom>=10)) {PaladinSpells3="Use your "+x+" third-level "+paladin_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=pspd(4,paladin_levels + epic_paladin_levels + prestige_paladin_spell_levels);
   if ((wisdom<14) && (x>0) && (wisdom>=10)) {PaladinSpells4="Use your "+x+" fourth-level "+paladin_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
  }
}

function PrepareSpellthiefSpellArrays() {
   SpellthiefSpells0="";
   SpellthiefSpells1="";
   SpellthiefSpells2="";
   SpellthiefSpells3="";
   SpellthiefSpells4="";
   SpellthiefSpells5="";
   SpellthiefSpells6="";
   SpellthiefSpells7="";
   SpellthiefSpells8="";
   SpellthiefSpells9="";
 if ((npcother_levels + epic_npcother_levels >0) && (npcother_class_name=="Spellthief")) {
   x=pspd(1,npcother_levels + epic_npcother_levels  + npcother_levels + epic_npcother_levels)+bonus_spell(1,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(1,charisma_for_bonus_spells)>0) { stringy=" ("+pspd(1,npcother_levels + epic_npcother_levels  + npcother_levels + epic_npcother_levels)+"+"+bonus_spell(1,charisma_for_bonus_spells)+") "; }
   if (x>0) {SpellthiefSpells1="<p>First-level "+npcother_class_name+" spells: "+x  + stringy+" per day"; }
   x=pspd(2,npcother_levels + epic_npcother_levels  + npcother_levels + epic_npcother_levels)+bonus_spell(2,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(2,charisma_for_bonus_spells)>0) { stringy=" ("+pspd(2,npcother_levels + epic_npcother_levels  + npcother_levels + epic_npcother_levels)+"+"+bonus_spell(2,charisma_for_bonus_spells)+") "; }
   if (x>0) {SpellthiefSpells2="Second-level "+npcother_class_name+" spells: "+x  + stringy+" per day"; }
   x=pspd(3,npcother_levels + epic_npcother_levels  + npcother_levels + epic_npcother_levels)+bonus_spell(3,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(3,charisma_for_bonus_spells)>0) { stringy=" ("+pspd(3,npcother_levels + epic_npcother_levels  + npcother_levels + epic_npcother_levels)+"+"+bonus_spell(3,charisma_for_bonus_spells)+") "; }
   if (x>0) {SpellthiefSpells3="Third-level "+npcother_class_name+" spells: "+x  + stringy+" per day"; }
   x=pspd(4,npcother_levels + epic_npcother_levels  + npcother_levels + epic_npcother_levels)+bonus_spell(4,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(4,charisma_for_bonus_spells)>0) { stringy=" ("+pspd(4,npcother_levels + epic_npcother_levels  + npcother_levels + epic_npcother_levels)+"+"+bonus_spell(4,charisma_for_bonus_spells)+") "; }
   if (x>0) {SpellthiefSpells4="Fourth-level "+npcother_class_name+" spells: "+x  + stringy+" per day"; }
   if (charisma<11) {SpellthiefSpells1="Your charisma is too low to use spellthief magic."; return; }

   x=pspd(1,npcother_levels + epic_npcother_levels );
   if ((charisma<11) && (x>0) && (charisma>=10)) {SpellthiefSpells1="Use your "+x+" first-level "+npcother_class_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=pspd(2,npcother_levels + epic_npcother_levels );
   if ((charisma<12) && (x>0) && (charisma>=10)) {SpellthiefSpells2="Use your "+x+" second-level "+npcother_class_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=pspd(3,npcother_levels + epic_npcother_levels );
   if ((charisma<13) && (x>0) && (charisma>=10)) {SpellthiefSpells3="Use your "+x+" third-level "+npcother_class_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=pspd(4,npcother_levels + epic_npcother_levels );
   if ((charisma<14) && (x>0) && (charisma>=10)) {SpellthiefSpells4="Use your "+x+" fourth-level "+npcother_class_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
  }
}

function PrepareRangerSpellArrays() {
   RangerSpells0="";
   RangerSpells1="";
   RangerSpells2="";
   RangerSpells3="";
   RangerSpells4="";
   RangerSpells5="";
   RangerSpells6="";
   RangerSpells7="";
   RangerSpells8="";
   RangerSpells9="";
 if (ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels>0)
  {
   x=pspd(1,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels)+bonus_spell(1,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(1,wisdom_for_bonus_spells)>0) { stringy=" ("+pspd(1,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels)+"+"+bonus_spell(1,wisdom_for_bonus_spells)+") "; }
   if (x>0) {RangerSpells1="<p>First-level Ranger spells: "+x  + stringy+" per day"; }
   x=pspd(2,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels)+bonus_spell(2,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(2,wisdom_for_bonus_spells)>0) { stringy=" ("+pspd(2,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels)+"+"+bonus_spell(2,wisdom_for_bonus_spells)+") "; }
   if (x>0) {RangerSpells2="Second-level Ranger spells: "+x  + stringy+" per day"; }
   x=pspd(3,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels)+bonus_spell(3,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(3,wisdom_for_bonus_spells)>0) { stringy=" ("+pspd(3,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels)+"+"+bonus_spell(3,wisdom_for_bonus_spells)+") "; }
   if (x>0) {RangerSpells3="Third-level Ranger spells: "+x  + stringy+" per day"; }
   x=pspd(4,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels)+bonus_spell(4,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(4,wisdom_for_bonus_spells)>0) { stringy=" ("+pspd(4,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels)+"+"+bonus_spell(4,wisdom_for_bonus_spells)+") "; }
   if (x>0) {RangerSpells4="Fourth-level Ranger spells: "+x  + stringy+" per day"; }

   if (wisdom<11) {RangerSpells1="Your wisdom is too low to use ranger magic."; return; }

   x=pspd(1,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels);
   if ((wisdom<11) && (x>0) && (wisdom>=10)) {RangerSpells1="Use your "+x+" first-level ranger spell "+slottage(x)+" to cast lower-level spells:"; }
   x=pspd(2,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels);
   if ((wisdom<12) && (x>0) && (wisdom>=10)) {RangerSpells2="Use your "+x+" second-level ranger spell "+slottage(x)+" to cast lower-level spells:"; }
   x=pspd(3,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels);
   if ((wisdom<13) && (x>0) && (wisdom>=10)) {RangerSpells3="Use your "+x+" third-level ranger spell "+slottage(x)+" to cast lower-level spells:"; }
   x=pspd(4,ranger_levels + epic_ranger_levels + prestige_ranger_spell_levels);
   if ((wisdom<14) && (x>0) && (wisdom>=10)) {RangerSpells4="Use your "+x+" fourth-level ranger spell "+slottage(x)+" to cast lower-level spells:"; }
  }
 }

function PrepareSorcererSpellArrays() {
   SorcererSpells0="";
   SorcererSpells1="";
   SorcererSpells2="";
   SorcererSpells3="";
   SorcererSpells4="";
   SorcererSpells5="";
   SorcererSpells6="";
   SorcererSpells7="";
   SorcererSpells8="";
   SorcererSpells9="";
   sorcerer_spellcaster_name="Sorcerer";
   if ((rayce==88) || (rayce==89)) {sorcerous_monster_levels=humanoid_levels; } else {sorcerous_monster_levels=0; }
   y=sorcerer_levels + epic_sorcerer_levels + prestige_sorcerer_spell_levels + sorcerous_monster_levels;
   if (npcother_class_name=="Warmage") {y+=npcother_levels + epic_npcother_levels;sorcerer_spellcaster_name="Warmage"; }
 if (y>0)
  {
   x=sspd(0,y)+bonus_spell(0,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(0,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(0,y)+"+"+bonus_spell(0,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells0="<p>Zero-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=sspd(1,y)+bonus_spell(1,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(1,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(1,y)+"+"+bonus_spell(1,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells1="First-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=sspd(2,y)+bonus_spell(2,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(2,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(2,y)+"+"+bonus_spell(2,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells2="Second-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=sspd(3,y)+bonus_spell(3,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(3,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(3,y)+"+"+bonus_spell(3,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells3="Third-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=sspd(4,y)+bonus_spell(4,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(4,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(4,y)+"+"+bonus_spell(4,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells4="Fourth-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=sspd(5,y)+bonus_spell(5,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(5,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(5,y)+"+"+bonus_spell(5,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells5="Fifth-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=sspd(6,y)+bonus_spell(6,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(6,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(6,y)+"+"+bonus_spell(6,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells6="Sixth-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=sspd(7,y)+bonus_spell(7,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(7,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(7,y)+"+"+bonus_spell(7,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells7="Seventh-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=sspd(8,y)+bonus_spell(8,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(8,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(8,y)+"+"+bonus_spell(8,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells8="Eighth-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }
   x=sspd(9,y)+bonus_spell(9,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(9,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(9,y)+"+"+bonus_spell(9,charisma_for_bonus_spells)+") "; }
   if (x>0) {SorcererSpells9="Ninth-level "+sorcerer_spellcaster_name+" spells: "+x  + stringy+" per day"; }

   if (charisma<10) {SorcererSpells1="Your charisma is too low to use sorcerer magic."; return; }

   x=sspd(1,y);
   if ((charisma<11) && (x>0) && (charisma>=10)) {SorcererSpells1="Use your "+x+" first-level "+sorcerer_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(2,y);
   if ((charisma<12) && (x>0) && (charisma>=10)) {SorcererSpells2="Use your "+x+" second-level "+sorcerer_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(3,y);
   if ((charisma<13) && (x>0) && (charisma>=10)) {SorcererSpells3="Use your "+x+" third-level "+sorcerer_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(4,y);
   if ((charisma<14) && (x>0) && (charisma>=10)) {SorcererSpells4="Use your "+x+" fourth-level "+sorcerer_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(5,y);
   if ((charisma<15) && (x>0) && (charisma>=10)) {SorcererSpells5="Use your "+x+" fifth-level "+sorcerer_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(6,y);
   if ((charisma<16) && (x>0) && (charisma>=10)) {SorcererSpells6="Use your "+x+" sixth-level "+sorcerer_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(7,y);
   if ((charisma<17) && (x>0) && (charisma>=10)) {SorcererSpells7="Use your "+x+" seventh-level "+sorcerer_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(8,y);
   if ((charisma<18) && (x>0) && (charisma>=10)) {SorcererSpells8="Use your "+x+" eighth-level "+sorcerer_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(9,y);
   if ((charisma<19) && (x>0) && (charisma>=10)) {SorcererSpells9="Use your "+x+" ninth-level "+sorcerer_spellcaster_name+" spell "+slottage(x)+" to cast lower-level spells:"; }
  }
}

function PrepareShamanSpellArrays() {
   ShamanSpells0="";
   ShamanSpells1="";
   ShamanSpells2="";
   ShamanSpells3="";
   ShamanSpells4="";
   ShamanSpells5="";
   ShamanSpells6="";
   ShamanSpells7="";
   ShamanSpells8="";
   ShamanSpells9="";
   if ((npcother_levels + epic_npcother_levels==0) || (npcother_class_name!="Spirit Shaman")) { return; }
   y=npcother_levels + epic_npcother_levels;
 if (y>0)
  {
   x=shspd(0,y)+bonus_spell(0,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(0,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(0,y)+"+"+bonus_spell(0,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells0="<p>Zero-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   x=shspd(1,y)+bonus_spell(1,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(1,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(1,y)+"+"+bonus_spell(1,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells1="First-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   x=shspd(2,y)+bonus_spell(2,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(2,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(2,y)+"+"+bonus_spell(2,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells2="Second-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   x=shspd(3,y)+bonus_spell(3,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(3,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(3,y)+"+"+bonus_spell(3,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells3="Third-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   x=shspd(4,y)+bonus_spell(4,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(4,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(4,y)+"+"+bonus_spell(4,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells4="Fourth-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   x=shspd(5,y)+bonus_spell(5,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(5,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(5,y)+"+"+bonus_spell(5,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells5="Fifth-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   x=shspd(6,y)+bonus_spell(6,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(6,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(6,y)+"+"+bonus_spell(6,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells6="Sixth-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   x=shspd(7,y)+bonus_spell(7,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(7,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(7,y)+"+"+bonus_spell(7,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells7="Seventh-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   x=shspd(8,y)+bonus_spell(8,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(8,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(8,y)+"+"+bonus_spell(8,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells8="Eighth-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   x=shspd(9,y)+bonus_spell(9,wisdom_for_bonus_spells);
   stringy=""; if (bonus_spell(9,wisdom_for_bonus_spells)>0) { stringy=" ("+shspd(9,y)+"+"+bonus_spell(9,wisdom_for_bonus_spells)+") "; }
   if (x>0) {ShamanSpells9="Ninth-level Spirit Shaman spells: "+x  + stringy+" per day"; }
   if (wisdom<10) {ShamanSpells1="Your wisdom is too low to use Spirit Shaman magic."; return; }

   x=shspd(1,y);
   if ((wisdom<11) && (x>0) && (wisdom>=10)) {ShamanSpells1="Use your "+x+" first-level Spirit Shaman spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shspd(2,y);
   if ((wisdom<12) && (x>0) && (wisdom>=10)) {ShamanSpells2="Use your "+x+" second-level Spirit Shaman spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shspd(3,y);
   if ((wisdom<13) && (x>0) && (wisdom>=10)) {ShamanSpells3="Use your "+x+" third-level Spirit Shaman spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shspd(4,y);
   if ((wisdom<14) && (x>0) && (wisdom>=10)) {ShamanSpells4="Use your "+x+" fourth-level Spirit Shaman spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shspd(5,y);
   if ((wisdom<15) && (x>0) && (wisdom>=10)) {ShamanSpells5="Use your "+x+" fifth-level Spirit Shaman spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shspd(6,y);
   if ((wisdom<16) && (x>0) && (wisdom>=10)) {ShamanSpells6="Use your "+x+" sixth-level Spirit Shaman spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shspd(7,y);
   if ((wisdom<17) && (x>0) && (wisdom>=10)) {ShamanSpells7="Use your "+x+" seventh-level Spirit Shaman spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shspd(8,y);
   if ((wisdom<18) && (x>0) && (wisdom>=10)) {ShamanSpells8="Use your "+x+" eighth-level Spirit Shaman spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shspd(9,y);
   if ((wisdom<19) && (x>0) && (wisdom>=10)) {ShamanSpells9="Use your "+x+" ninth-level Spirit Shaman spell "+slottage(x)+" to cast lower-level spells:"; }
  }
}

function PrepareFSSpellArrays() {
   FSSpells0="";
   FSSpells1="";
   FSSpells2="";
   FSSpells3="";
   FSSpells4="";
   FSSpells5="";
   FSSpells6="";
   FSSpells7="";
   FSSpells8="";
   FSSpells9="";
 if ((npcother_levels + epic_npcother_levels>0) && ((npcother_class_name=="Shugenja") || (npcother_class_name=="Favored Soul")))
  {
   x=sspd(0,npcother_levels + epic_npcother_levels)+bonus_spell(0,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(0,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(0,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(0,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells0="<p>Zero-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }
   x=sspd(1,npcother_levels + epic_npcother_levels)+bonus_spell(1,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(1,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(1,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(1,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells1="First-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }
   x=sspd(2,npcother_levels + epic_npcother_levels)+bonus_spell(2,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(2,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(2,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(2,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells2="Second-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }
   x=sspd(3,npcother_levels + epic_npcother_levels)+bonus_spell(3,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(3,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(3,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(3,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells3="Third-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }
   x=sspd(4,npcother_levels + epic_npcother_levels)+bonus_spell(4,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(4,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(4,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(4,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells4="Fourth-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }
   x=sspd(5,npcother_levels + epic_npcother_levels)+bonus_spell(5,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(5,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(5,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(5,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells5="Fifth-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }
   x=sspd(6,npcother_levels + epic_npcother_levels)+bonus_spell(6,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(6,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(6,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(6,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells6="Sixth-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }
   x=sspd(7,npcother_levels + epic_npcother_levels)+bonus_spell(7,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(7,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(7,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(7,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells7="Seventh-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }
   x=sspd(8,npcother_levels + epic_npcother_levels)+bonus_spell(8,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(8,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(8,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(8,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells8="Eighth-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }
   x=sspd(9,npcother_levels + epic_npcother_levels)+bonus_spell(9,charisma_for_bonus_spells);
   stringy=""; if (bonus_spell(9,charisma_for_bonus_spells)>0) { stringy=" ("+sspd(9,npcother_levels + epic_npcother_levels)+"+"+bonus_spell(9,charisma_for_bonus_spells)+") "; }
   if (x>0) {FSSpells9="Ninth-level " + npcother_class_name +" spells: "+x  + stringy+" per day"; }

   if (charisma<10) {FSSpells1="Your charisma is too low to use" + npcother_class_name +"magic."; return; }


   x=sspd(1,npcother_levels + epic_npcother_levels);
   if ((charisma<11) && (x>0) && (charisma>=10)) {FSSpells1="Use your "+x+" first-level" + npcother_class_name +"spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(2,npcother_levels + epic_npcother_levels);
   if ((charisma<12) && (x>0) && (charisma>=10)) {FSSpells2="Use your "+x+" second-level" + npcother_class_name +"spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(3,npcother_levels + epic_npcother_levels);
   if ((charisma<13) && (x>0) && (charisma>=10)) {FSSpells3="Use your "+x+" third-level" + npcother_class_name +"spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(4,npcother_levels + epic_npcother_levels);
   if ((charisma<14) && (x>0) && (charisma>=10)) {FSSpells4="Use your "+x+" fourth-level" + npcother_class_name +"spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(5,npcother_levels + epic_npcother_levels);
   if ((charisma<15) && (x>0) && (charisma>=10)) {FSSpells5="Use your "+x+" fifth-level" + npcother_class_name +"spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(6,npcother_levels + epic_npcother_levels);
   if ((charisma<16) && (x>0) && (charisma>=10)) {FSSpells6="Use your "+x+" sixth-level" + npcother_class_name +"spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(7,npcother_levels + epic_npcother_levels);
   if ((charisma<17) && (x>0) && (charisma>=10)) {FSSpells7="Use your "+x+" seventh-level" + npcother_class_name +"spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(8,npcother_levels + epic_npcother_levels);
   if ((charisma<18) && (x>0) && (charisma>=10)) {FSSpells8="Use your "+x+" eighth-level" + npcother_class_name +"spell "+slottage(x)+" to cast lower-level spells:"; }
   x=sspd(9,npcother_levels + epic_npcother_levels);
   if ((charisma<19) && (x>0) && (charisma>=10)) {FSSpells9="Use your "+x+" ninth-level" + npcother_class_name +"spell "+slottage(x)+" to cast lower-level spells:"; }
  }
 }

function PrepareWizardSpellArrays() {
   WizardSpells0="";
   WizardSpells1="";
   WizardSpells2="";
   WizardSpells3="";
   WizardSpells4="";
   WizardSpells5="";
   WizardSpells6="";
   WizardSpells7="";
   WizardSpells8="";
   WizardSpells9="";
 if (npcother_class_name=="Wu Jen") {wizard_specialty_name="Wu Jen";no_specialist=true; }
 if ((wizard_levels + epic_wizard_levels + prestige_wizard_spell_levels>0) || (npcother_class_name=="Wu Jen"))
  {
   x=wspd(0)+bonus_spell(0,intelligence_for_bonus_spells); if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(0,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(0);
       if (bonus_spell(0,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(0,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells0="<p>Zero-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }

   x=wspd(1)+bonus_spell(1,intelligence_for_bonus_spells);
   if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(1,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(1);
       if (bonus_spell(1,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(1,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells1="First-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }
   x=wspd(2)+bonus_spell(2,intelligence_for_bonus_spells); if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(2,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(2);
       if (bonus_spell(2,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(2,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells2="Second-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }
   x=wspd(3)+bonus_spell(3,intelligence_for_bonus_spells); if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(3,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(3);
       if (bonus_spell(3,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(3,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells3="Third-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }
   x=wspd(4)+bonus_spell(4,intelligence_for_bonus_spells); if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(4,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(4);
       if (bonus_spell(4,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(4,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells4="Fourth-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }
   x=wspd(5)+bonus_spell(5,intelligence_for_bonus_spells); if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(5,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(5);
       if (bonus_spell(5,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(5,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells5="Fifth-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }
   x=wspd(6)+bonus_spell(6,intelligence_for_bonus_spells); if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(6,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(6);
       if (bonus_spell(6,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(6,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells6="Sixth-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }
   x=wspd(7)+bonus_spell(7,intelligence_for_bonus_spells); if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(7,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(7);
       if (bonus_spell(7,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(7,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells7="Seventh-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }
   x=wspd(8)+bonus_spell(8,intelligence_for_bonus_spells); if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(8,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(8);
       if (bonus_spell(8,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(8,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells8="Eighth-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }
   x=wspd(9)+bonus_spell(9,intelligence_for_bonus_spells); if (no_specialist==false) { x++; }
   stringy="";
     if ((bonus_spell(9,intelligence_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+wspd(9);
       if (bonus_spell(9,intelligence_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(9,intelligence_for_bonus_spells); }
       if (no_specialist==false)
        { stringy+="+1"; }
       stringy+=") "
      }
   if (x>0) {WizardSpells9="Ninth-level "+wizard_specialty_name+"  spells: "+x  + stringy+" per day"; }

   if (intelligence<10) {WizardSpells1="Your intelligence is too low to use wizard magic."; return; }

   x=wspd(1);
   if (no_specialist==false) { x++; }
   if ((intelligence<11) && (wspd(1)>0) && (intelligence>=10)) {WizardSpells1="Use your "+x+" first-level wizard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=wspd(2); if (no_specialist==false) { x++; }
   if ((intelligence<12) && (wspd(2)>0) && (intelligence>=10)) {WizardSpells2="Use your "+x+" second-level wizard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=wspd(3); if (no_specialist==false) { x++; }
   if ((intelligence<13) && (wspd(3)>0) && (intelligence>=10)) {WizardSpells3="Use your "+x+" third-level wizard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=wspd(4); if (no_specialist==false) { x++; }
   if ((intelligence<14) && (wspd(4)>0) && (intelligence>=10)) {WizardSpells4="Use your "+x+" fourth-level wizard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=wspd(5); if (no_specialist==false) { x++; }
   if ((intelligence<15) && (wspd(5)>0) && (intelligence>=10)) {WizardSpells5="Use your "+x+" fifth-level wizard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=wspd(6); if (no_specialist==false) { x++; }
   if ((intelligence<16) && (wspd(6)>0) && (intelligence>=10)) {WizardSpells6="Use your "+x+" sixth-level wizard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=wspd(7); if (no_specialist==false) { x++; }
   if ((intelligence<17) && (wspd(7)>0) && (intelligence>=10)) {WizardSpells7="Use your "+x+" seventh-level wizard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=wspd(8); if (no_specialist==false) { x++; }
   if ((intelligence<18) && (wspd(8)>0) && (intelligence>=10)) {WizardSpells8="Use your "+x+" eighth-level wizard spell "+slottage(x)+" to cast lower-level spells:"; }
   x=wspd(9); if (no_specialist==false) { x++; }
   if ((intelligence<19) && (wspd(9)>0) && (intelligence>=10)) {WizardSpells9="Use your "+x+" ninth-level wizard spell "+slottage(x)+" to cast lower-level spells:"; }
  }
 }

function PrepareShairSpellArrays() {
   ShairSpells0="";
   ShairSpells1="";
   ShairSpells2="";
   ShairSpells3="";
   ShairSpells4="";
   ShairSpells5="";
   ShairSpells6="";
   ShairSpells7="";
   ShairSpells8="";
   ShairSpells9="";
 if ((npcother_levels >0) && (npcother_class_name=="Sha_ir"))
  {
   x=shairspd(0)+bonus_spell(0,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(0,charisma_for_bonus_spells)>0))
      {
       stringy=" ("+shairspd(0);
       if (bonus_spell(0,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(0,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells0="<p>Zero-level Sha_ir  spells: "+x  + stringy+" per day"; }

   x=shairspd(1)+bonus_spell(1,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(1,charisma_for_bonus_spells)>0) || (no_specialist==false))
      {
       stringy=" ("+shairspd(1);
       if (bonus_spell(1,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(1,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells1="First-level Sha_ir  spells: "+x  + stringy+" per day"; }
   x=shairspd(2)+bonus_spell(2,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(2,charisma_for_bonus_spells)>0))
      {
       stringy=" ("+shairspd(2);
       if (bonus_spell(2,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(2,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells2="Second-level Sha_ir  spells: "+x  + stringy+" per day"; }
   x=shairspd(3)+bonus_spell(3,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(3,charisma_for_bonus_spells)>0))
      {
       stringy=" ("+shairspd(3);
       if (bonus_spell(3,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(3,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells3="Third-level Sha_ir  spells: "+x  + stringy+" per day"; }
   x=shairspd(4)+bonus_spell(4,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(4,charisma_for_bonus_spells)>0))
      {
       stringy=" ("+shairspd(4);
       if (bonus_spell(4,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(4,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells4="Fourth-level Sha_ir  spells: "+x  + stringy+" per day"; }
   x=shairspd(5)+bonus_spell(5,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(5,charisma_for_bonus_spells)>0))
      {
       stringy=" ("+shairspd(5);
       if (bonus_spell(5,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(5,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells5="Fifth-level Sha_ir  spells: "+x  + stringy+" per day"; }
   x=shairspd(6)+bonus_spell(6,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(6,charisma_for_bonus_spells)>0))
      {
       stringy=" ("+shairspd(6);
       if (bonus_spell(6,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(6,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells6="Sixth-level Sha_ir  spells: "+x  + stringy+" per day"; }
   x=shairspd(7)+bonus_spell(7,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(7,charisma_for_bonus_spells)>0))
      {
       stringy=" ("+shairspd(7);
       if (bonus_spell(7,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(7,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells7="Seventh-level Sha_ir  spells: "+x  + stringy+" per day"; }
   x=shairspd(8)+bonus_spell(8,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(8,charisma_for_bonus_spells)>0))
      {
       stringy=" ("+shairspd(8);
       if (bonus_spell(8,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(8,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells8="Eighth-level Sha_ir  spells: "+x  + stringy+" per day"; }
   x=shairspd(9)+bonus_spell(9,charisma_for_bonus_spells);
   stringy="";
     if ((bonus_spell(9,charisma_for_bonus_spells)>0))
      {
       stringy=" ("+shairspd(9);
       if (bonus_spell(9,charisma_for_bonus_spells)>0)
        { stringy+="+"+bonus_spell(9,charisma_for_bonus_spells); }
       stringy+=") "
      }
   if (x>0) {ShairSpells9="Ninth-level Sha_ir  spells: "+x  + stringy+" per day"; }

   if (charisma<10) {ShairSpells1="Your charisma is too low to use Shair magic."; return; }

   x=shairspd(1);
   if ((charisma<11) && (shairspd(1)>0) && (charisma>=10)) {ShairSpells1="Use your "+x+" first-level Shair spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shairspd(2);
   if ((charisma<12) && (shairspd(2)>0) && (charisma>=10)) {ShairSpells2="Use your "+x+" second-level Shair spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shairspd(3);
   if ((charisma<13) && (shairspd(3)>0) && (charisma>=10)) {ShairSpells3="Use your "+x+" third-level Shair spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shairspd(4);
   if ((charisma<14) && (shairspd(4)>0) && (charisma>=10)) {ShairSpells4="Use your "+x+" fourth-level Shair spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shairspd(5);
   if ((charisma<15) && (shairspd(5)>0) && (charisma>=10)) {ShairSpells5="Use your "+x+" fifth-level Shair spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shairspd(6);
   if ((charisma<16) && (shairspd(6)>0) && (charisma>=10)) {ShairSpells6="Use your "+x+" sixth-level Shair spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shairspd(7);
   if ((charisma<17) && (shairspd(7)>0) && (charisma>=10)) {ShairSpells7="Use your "+x+" seventh-level Shair spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shairspd(8);
   if ((charisma<18) && (shairspd(8)>0) && (charisma>=10)) {ShairSpells8="Use your "+x+" eighth-level Shair spell "+slottage(x)+" to cast lower-level spells:"; }
   x=shairspd(9);
   if ((charisma<19) && (shairspd(9)>0) && (charisma>=10)) {ShairSpells9="Use your "+x+" ninth-level Shair spell "+slottage(x)+" to cast lower-level spells:"; }
  }
 }

function slottage(i) {
 if (i==1) { return "slot"; }
 return "slots";
 }

function FinalSuggestions() {
  Languages();
  WhoIsHandy();
  if (speaklanguage/speaklanguage_class>=1) { document.form1.sixth_comment_box.value+="Choose your languages.\r"; }
  if ((every_language_friendly==true) && (intelligence>11))
   { document.form1.sixth_comment_box.value+="You are entitled to "+total_bonus_language_entitlement+" bonus language";
   if (total_bonus_language_entitlement>1) { document.form1.sixth_comment_box.value+="s"; };
   document.form1.sixth_comment_box.value+="."; }
  else
   {
    if (intelligence>11)
     {
      if (abyssal_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Abyssal?"; }
      if (aquan_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Aquan?"; }
      if (auran_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Auran?"; }
      if (celestial_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Celestial?"; }
      if (draconic_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Draconic?"; }
      if (dwarven_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Dwarven?"; }
      if (elven_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Elven?"; }
      if (darkelfsilent_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Dark Elf Silent?"; }
      if (giant_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Giant?"; }
      if (gith_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Gith?"; }
      if (gnoll_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Gnoll?"; }
      if (gnome_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Gnome?"; }
      if (goblin_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Goblin?"; }
      if (goliath_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Goliath?"; }
      if (halfling_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Halfling?"; }
      if (ignan_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Ignan?"; }
      if (infernal_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Infernal?"; }
      if (maenad_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Maenad?"; }
      if (mongrelfolk_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Mongrelfolk?"; }
      if (orc_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Orc?"; }
      if (sylvan_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Sylvan?"; }
      if (terran_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Terran?"; }
      if (thrikreen_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Thri Kreen?"; }
      if (aarakocra_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Aarakocra?"; }
      if (buomman_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Buomman?"; }
      if (neraphim_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Neraph?"; }
      if (shadowswyft_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Shadowswyft?"; }
      if (pterran_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Pterran?"; }
      if (raptoran_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Raptoran?"; }
      if (catfolk_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Catfolk?"; }
      if (slaad_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Slaad?"; }
      if (undercommon_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Undercommon?"; }
      if (xeph_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Xeph?"; }
      if (yuanti_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn YuanTi?"; }
      if (illithid_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Mind Flayer?"; }
      if (illumian_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Mind Flayer?"; }
      if (tasloi_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Tasloi?"; }
      if (sahuagin_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Sahuagin?"; }
      if (lupin_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Lupin?"; }
      if (hengeyokai_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Hengeyokai?"; }
      if (spiritfolk_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Spiritfolk?"; }
      if (ratling_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Ratling?"; }
      if (vanara_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Vanara?"; }
      if (grippli_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Grippli?"; }
      if (beholder_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Beholder?"; }
      if (kuotoa_friendly==true) { document.form1.sixth_comment_box.value+="\rLearn Kuo-Toa?"; }
     }
   }

 if ((already_knows_martial_weapons==false) && (has_martialweaponproficiency==false)) {
    if (shortspear_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a shortspear?"; }
    if (longspear_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a longspear?"; }
    if (quarterstaff_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a quarterstaff?"; }
    if (dagger_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a dagger?"; }
    if (club_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a club?"; }
    if (spear_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a spear?"; }
    if (heavycrossbow_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a heavy crossbow?"; }
    if (lightcrossbow_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a light crossbow?"; }
    if (javelin_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a javelin?"; }
    if (sling_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a sling?"; }
    if (throwingaxe_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a throwing axe?"; }
    if (handaxe_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a hand axe?"; }
    if (greataxe_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a greataxe?"; }
    if (sap_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a sap?"; }
    if (shortsword_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a short sword?"; }
    if (longsword_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a long sword?"; }
    if (rapier_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a rapier?"; }
    if (scimitar_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a scimitar?"; }
    if (trident_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a trident?"; }
    if (longbow_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a longbow?"; }
    if (compositelongbow_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a composite longbow?"; }
    if (shortbow_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a shortbow?"; }
    if (battleaxe_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a battleaxe?"; }
    if (compositeshortbow_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a composite shortbow?"; }
    if (kama_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a kama?"; }
    if (nunchaku_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a nunchaku?"; }
    if (sai_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a sai?"; }
    if (siangham_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a siangham?"; }
    if (dwarvenwaraxe_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a dwarven war axe?"; }
    if (whip_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a whip?"; }
    if (orcdoubleaxe_handy==true) { document.form1.sixth_comment_box.value+="\rChoose an orc double axe?"; }
    if (gnomehookedhammer_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a gnome hooked hammer?"; }
    if (dwarvenurgrosh_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a dwarven urgrosh?"; }
    if (handcrossbow_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a hand crossbow?"; }
    if (net_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a net?"; }
    if (shuriken_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a shuriken?"; }
    if (kusari_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a kusari-gama?"; }
    if (blowgun_handy==true) { document.form1.sixth_comment_box.value+="\rChoose a blowgun?"; }
  }
}

 function lock_feats() {

 if (Feats()==true) {
  document.form1.sixth_comment_box.value="Feats are assigned.\r";
  AnimalCompanion();
  Warhorse();
  FinalSuggestions();
  BasicEyeColor();
  BasicSkinColor();
  BasicHairColor();
  pigmentation();
  ClassNeeds();
  Arms();
  FeatsAreLocked=true;
  AdjustHeight(); 
  AdjustWeight();

  Languages(); }
  else { document.form1.sixth_comment_box.value="Work on your feats\r"; }
  ArrowShow();
 }

function pointbuy(numbur) {
 if (numbur<9) { return 0; } else
 if (numbur==9) { return 1; } else
 if (numbur==10) { return 2; } else
 if (numbur==11) { return 3; } else
 if (numbur==12) { return 4; } else
 if (numbur==13) { return 5; } else
 if (numbur==14) { return 6; } else
 if (numbur==15) { return 8; } else
 if (numbur==16) { return 10; } else
 if (numbur==17) { return 13; } else
 if (numbur==18) { return 16; }
 else return 69;
 }

function ChangeDiceMethod() {
  RollSomeDice();
 }

function TotalPointBuy() {
 return (pointbuy(stat1)+pointbuy(stat2)+pointbuy(stat3)+pointbuy(stat4)+pointbuy(stat5)+pointbuy(stat6));
 }

function TellAboutPointBuy() {
 if ((document.form1.methods_list.selectedIndex!=3) && (document.form1.methods_list.selectedIndex!=6)) { return;}

  if (AbilitiesAreProperlyAssigned==true)
    {
     document.form1.first_comment_box.value="You can accept these. ";
    } else { document.form1.first_comment_box.value="Adjust and assign. "; }

     if (document.form1.methods_list.selectedIndex==3)
      {
       x=TotalPointBuy();
       document.form1.first_comment_box.value+=x+" points spent.\r Low-powered=15, more challenging=22, standard=25,\r tougher=28, high-powered=32";
      }
     if (document.form1.methods_list.selectedIndex==6)
      {
       x=stat1+stat2+stat3+stat4+stat5+stat6;
       document.form1.first_comment_box.value+=x+" points total.\r Some campaigns recommend 75 for adventurers.";
      }
  }

function WizardSpecialtyA() {
 WizardSpecialty();
 ArrowShow();
 }

function DomainsA() {
 Domains();
 ArrowShow();
 }

function PsionSpecialtyA() {
 PsionSpecialty();
 ArrowShow();
 }

function NpcOtherClassA() {
 NpcOtherClass();
 ArrowShow();
 }

function PrestigeClassA() {
 PrestigeClass();
 ArrowShow();
 }

function DomainCount() {
 x=0;
 Domains();
 return x;
 }